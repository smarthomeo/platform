function tR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Xj={exports:{}},yp={},Qj={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu=Symbol.for("react.element"),nR=Symbol.for("react.portal"),sR=Symbol.for("react.fragment"),oR=Symbol.for("react.strict_mode"),iR=Symbol.for("react.profiler"),aR=Symbol.for("react.provider"),lR=Symbol.for("react.context"),cR=Symbol.for("react.forward_ref"),uR=Symbol.for("react.suspense"),dR=Symbol.for("react.memo"),fR=Symbol.for("react.lazy"),Uw=Symbol.iterator;function hR(e){return e===null||typeof e!="object"?null:(e=Uw&&e[Uw]||e["@@iterator"],typeof e=="function"?e:null)}var Jj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eE=Object.assign,tE={};function xl(e,t,r){this.props=e,this.context=t,this.refs=tE,this.updater=r||Jj}xl.prototype.isReactComponent={};xl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rE(){}rE.prototype=xl.prototype;function Ox(e,t,r){this.props=e,this.context=t,this.refs=tE,this.updater=r||Jj}var Ax=Ox.prototype=new rE;Ax.constructor=Ox;eE(Ax,xl.prototype);Ax.isPureReactComponent=!0;var zw=Array.isArray,nE=Object.prototype.hasOwnProperty,Rx={current:null},sE={key:!0,ref:!0,__self:!0,__source:!0};function oE(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)nE.call(t,n)&&!sE.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Hu,type:e,key:o,ref:i,props:s,_owner:Rx.current}}function pR(e,t){return{$$typeof:Hu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ix(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hu}function mR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ww=/\/+/g;function Xm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mR(""+e.key):t.toString(36)}function wf(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Hu:case nR:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Xm(i,0):n,zw(s)?(r="",e!=null&&(r=e.replace(Ww,"$&/")+"/"),wf(s,t,r,"",function(d){return d})):s!=null&&(Ix(s)&&(s=pR(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Ww,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",zw(e))for(var a=0;a<e.length;a++){o=e[a];var c=n+Xm(o,a);i+=wf(o,t,r,c,s)}else if(c=hR(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=n+Xm(o,a++),i+=wf(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Md(e,t,r){if(e==null)return e;var n=[],s=0;return wf(e,n,"","",function(o){return t.call(r,o,s++)}),n}function gR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ar={current:null},Sf={transition:null},vR={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:Sf,ReactCurrentOwner:Rx};function iE(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Md,forEach:function(e,t,r){Md(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Md(e,function(){t++}),t},toArray:function(e){return Md(e,function(t){return t})||[]},only:function(e){if(!Ix(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};He.Component=xl;He.Fragment=sR;He.Profiler=iR;He.PureComponent=Ox;He.StrictMode=oR;He.Suspense=uR;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vR;He.act=iE;He.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=eE({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Rx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)nE.call(t,c)&&!sE.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:Hu,type:e.type,key:s,ref:o,props:n,_owner:i}};He.createContext=function(e){return e={$$typeof:lR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:aR,_context:e},e.Consumer=e};He.createElement=oE;He.createFactory=function(e){var t=oE.bind(null,e);return t.type=e,t};He.createRef=function(){return{current:null}};He.forwardRef=function(e){return{$$typeof:cR,render:e}};He.isValidElement=Ix;He.lazy=function(e){return{$$typeof:fR,_payload:{_status:-1,_result:e},_init:gR}};He.memo=function(e,t){return{$$typeof:dR,type:e,compare:t===void 0?null:t}};He.startTransition=function(e){var t=Sf.transition;Sf.transition={};try{e()}finally{Sf.transition=t}};He.unstable_act=iE;He.useCallback=function(e,t){return Ar.current.useCallback(e,t)};He.useContext=function(e){return Ar.current.useContext(e)};He.useDebugValue=function(){};He.useDeferredValue=function(e){return Ar.current.useDeferredValue(e)};He.useEffect=function(e,t){return Ar.current.useEffect(e,t)};He.useId=function(){return Ar.current.useId()};He.useImperativeHandle=function(e,t,r){return Ar.current.useImperativeHandle(e,t,r)};He.useInsertionEffect=function(e,t){return Ar.current.useInsertionEffect(e,t)};He.useLayoutEffect=function(e,t){return Ar.current.useLayoutEffect(e,t)};He.useMemo=function(e,t){return Ar.current.useMemo(e,t)};He.useReducer=function(e,t,r){return Ar.current.useReducer(e,t,r)};He.useRef=function(e){return Ar.current.useRef(e)};He.useState=function(e){return Ar.current.useState(e)};He.useSyncExternalStore=function(e,t,r){return Ar.current.useSyncExternalStore(e,t,r)};He.useTransition=function(){return Ar.current.useTransition()};He.version="18.3.1";Qj.exports=He;var p=Qj.exports;const Z=Tx(p),$x=tR({__proto__:null,default:Z},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR=p,xR=Symbol.for("react.element"),bR=Symbol.for("react.fragment"),wR=Object.prototype.hasOwnProperty,SR=yR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CR={key:!0,ref:!0,__self:!0,__source:!0};function aE(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)wR.call(t,n)&&!CR.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:xR,type:e,key:o,ref:i,props:s,_owner:SR.current}}yp.Fragment=bR;yp.jsx=aE;yp.jsxs=aE;Xj.exports=yp;var l=Xj.exports,lE={exports:{}},gn={},cE={exports:{}},uE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,R){var B=O.length;O.push(R);e:for(;0<B;){var V=B-1>>>1,F=O[V];if(0<s(F,R))O[V]=R,O[B]=F,B=V;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var R=O[0],B=O.pop();if(B!==R){O[0]=B;e:for(var V=0,F=O.length,z=F>>>1;V<z;){var W=2*(V+1)-1,I=O[W],q=W+1,X=O[q];if(0>s(I,B))q<F&&0>s(X,I)?(O[V]=X,O[q]=B,V=q):(O[V]=I,O[W]=B,V=W);else if(q<F&&0>s(X,B))O[V]=X,O[q]=B,V=q;else break e}}return R}function s(O,R){var B=O.sortIndex-R.sortIndex;return B!==0?B:O.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],d=[],u=1,f=null,h=3,m=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var R=r(d);R!==null;){if(R.callback===null)n(d);else if(R.startTime<=O)n(d),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(d)}}function S(O){if(v=!1,w(O),!g)if(r(c)!==null)g=!0,T(j);else{var R=r(d);R!==null&&N(S,R.startTime-O)}}function j(O,R){g=!1,v&&(v=!1,y(k),k=-1),m=!0;var B=h;try{for(w(R),f=r(c);f!==null&&(!(f.expirationTime>R)||O&&!P());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var F=V(f.expirationTime<=R);R=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),w(R)}else n(c);f=r(c)}if(f!==null)var z=!0;else{var W=r(d);W!==null&&N(S,W.startTime-R),z=!1}return z}finally{f=null,h=B,m=!1}}var C=!1,M=null,k=-1,E=5,_=-1;function P(){return!(e.unstable_now()-_<E)}function D(){if(M!==null){var O=e.unstable_now();_=O;var R=!0;try{R=M(!0,O)}finally{R?L():(C=!1,M=null)}}else C=!1}var L;if(typeof x=="function")L=function(){x(D)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,$=A.port2;A.port1.onmessage=D,L=function(){$.postMessage(null)}}else L=function(){b(D,0)};function T(O){M=O,C||(C=!0,L())}function N(O,R){k=b(function(){O(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,T(j))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var B=h;h=R;try{return O()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,R){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=h;h=O;try{return R()}finally{h=B}},e.unstable_scheduleCallback=function(O,R,B){var V=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?V+B:V):B=V,O){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=B+F,O={id:u++,callback:R,priorityLevel:O,startTime:B,expirationTime:F,sortIndex:-1},B>V?(O.sortIndex=B,t(d,O),r(c)===null&&O===r(d)&&(v?(y(k),k=-1):v=!0,N(S,B-V))):(O.sortIndex=F,t(c,O),g||m||(g=!0,T(j))),O},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(O){var R=h;return function(){var B=h;h=R;try{return O.apply(this,arguments)}finally{h=B}}}})(uE);cE.exports=uE;var _R=cE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jR=p,pn=_R;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dE=new Set,Hc={};function Zi(e,t){Ka(e,t),Ka(e+"Capture",t)}function Ka(e,t){for(Hc[e]=t,e=0;e<t.length;e++)dE.add(t[e])}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tv=Object.prototype.hasOwnProperty,ER=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vw={},Hw={};function kR(e){return Tv.call(Hw,e)?!0:Tv.call(Vw,e)?!1:ER.test(e)?Hw[e]=!0:(Vw[e]=!0,!1)}function NR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function PR(e,t,r,n){if(t===null||typeof t>"u"||NR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rr(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xr[e]=new Rr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xr[t]=new Rr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xr[e]=new Rr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xr[e]=new Rr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xr[e]=new Rr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xr[e]=new Rr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xr[e]=new Rr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xr[e]=new Rr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xr[e]=new Rr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fx=/[\-:]([a-z])/g;function Bx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fx,Bx);xr[t]=new Rr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fx,Bx);xr[t]=new Rr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fx,Bx);xr[t]=new Rr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xr[e]=new Rr(e,1,!1,e.toLowerCase(),null,!1,!1)});xr.xlinkHref=new Rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xr[e]=new Rr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ux(e,t,r,n){var s=xr.hasOwnProperty(t)?xr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(PR(t,r,s,n)&&(r=null),n||s===null?kR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var no=jR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ld=Symbol.for("react.element"),Sa=Symbol.for("react.portal"),Ca=Symbol.for("react.fragment"),zx=Symbol.for("react.strict_mode"),Ov=Symbol.for("react.profiler"),fE=Symbol.for("react.provider"),hE=Symbol.for("react.context"),Wx=Symbol.for("react.forward_ref"),Av=Symbol.for("react.suspense"),Rv=Symbol.for("react.suspense_list"),Vx=Symbol.for("react.memo"),vo=Symbol.for("react.lazy"),pE=Symbol.for("react.offscreen"),Gw=Symbol.iterator;function Vl(e){return e===null||typeof e!="object"?null:(e=Gw&&e[Gw]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Object.assign,Qm;function hc(e){if(Qm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Qm=t&&t[1]||""}return`
`+Qm+e}var Jm=!1;function eg(e,t){if(!e||Jm)return"";Jm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{Jm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?hc(e):""}function MR(e){switch(e.tag){case 5:return hc(e.type);case 16:return hc("Lazy");case 13:return hc("Suspense");case 19:return hc("SuspenseList");case 0:case 2:case 15:return e=eg(e.type,!1),e;case 11:return e=eg(e.type.render,!1),e;case 1:return e=eg(e.type,!0),e;default:return""}}function Iv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ca:return"Fragment";case Sa:return"Portal";case Ov:return"Profiler";case zx:return"StrictMode";case Av:return"Suspense";case Rv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hE:return(e.displayName||"Context")+".Consumer";case fE:return(e._context.displayName||"Context")+".Provider";case Wx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vx:return t=e.displayName||null,t!==null?t:Iv(e.type)||"Memo";case vo:t=e._payload,e=e._init;try{return Iv(e(t))}catch{}}return null}function LR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iv(t);case 8:return t===zx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function DR(e){var t=mE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dd(e){e._valueTracker||(e._valueTracker=DR(e))}function gE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=mE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $v(e,t){var r=t.checked;return Dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Vo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vE(e,t){t=t.checked,t!=null&&Ux(e,"checked",t,!1)}function Fv(e,t){vE(e,t);var r=Vo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bv(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bv(e,t.type,Vo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bv(e,t,r){(t!=="number"||Gf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var pc=Array.isArray;function Ra(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Vo(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Uv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ae(92));if(pc(r)){if(1<r.length)throw Error(ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Vo(r)}}function yE(e,t){var r=Vo(t.value),n=Vo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Zw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Td,bE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Td=Td||document.createElement("div"),Td.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Td.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TR=["Webkit","ms","Moz","O"];Object.keys(Sc).forEach(function(e){TR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sc[t]=Sc[e]})});function wE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sc.hasOwnProperty(e)&&Sc[e]?(""+t).trim():t+"px"}function SE(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=wE(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var OR=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wv(e,t){if(t){if(OR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function Vv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hv=null;function Hx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gv=null,Ia=null,$a=null;function Xw(e){if(e=Yu(e)){if(typeof Gv!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=Cp(t),Gv(e.stateNode,e.type,t))}}function CE(e){Ia?$a?$a.push(e):$a=[e]:Ia=e}function _E(){if(Ia){var e=Ia,t=$a;if($a=Ia=null,Xw(e),t)for(e=0;e<t.length;e++)Xw(t[e])}}function jE(e,t){return e(t)}function EE(){}var tg=!1;function kE(e,t,r){if(tg)return e(t,r);tg=!0;try{return jE(e,t,r)}finally{tg=!1,(Ia!==null||$a!==null)&&(EE(),_E())}}function qc(e,t){var r=e.stateNode;if(r===null)return null;var n=Cp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ae(231,t,typeof r));return r}var qv=!1;if(Zs)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){qv=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{qv=!1}function AR(e,t,r,n,s,o,i,a,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Cc=!1,qf=null,Yf=!1,Yv=null,RR={onError:function(e){Cc=!0,qf=e}};function IR(e,t,r,n,s,o,i,a,c){Cc=!1,qf=null,AR.apply(RR,arguments)}function $R(e,t,r,n,s,o,i,a,c){if(IR.apply(this,arguments),Cc){if(Cc){var d=qf;Cc=!1,qf=null}else throw Error(ae(198));Yf||(Yf=!0,Yv=d)}}function Xi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function NE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qw(e){if(Xi(e)!==e)throw Error(ae(188))}function FR(e){var t=e.alternate;if(!t){if(t=Xi(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Qw(s),e;if(o===n)return Qw(s),t;o=o.sibling}throw Error(ae(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?e:t}function PE(e){return e=FR(e),e!==null?ME(e):null}function ME(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ME(e);if(t!==null)return t;e=e.sibling}return null}var LE=pn.unstable_scheduleCallback,Jw=pn.unstable_cancelCallback,BR=pn.unstable_shouldYield,UR=pn.unstable_requestPaint,zt=pn.unstable_now,zR=pn.unstable_getCurrentPriorityLevel,Gx=pn.unstable_ImmediatePriority,DE=pn.unstable_UserBlockingPriority,Kf=pn.unstable_NormalPriority,WR=pn.unstable_LowPriority,TE=pn.unstable_IdlePriority,xp=null,bs=null;function VR(e){if(bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(xp,e,void 0,(e.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:qR,HR=Math.log,GR=Math.LN2;function qR(e){return e>>>=0,e===0?32:31-(HR(e)/GR|0)|0}var Od=64,Ad=4194304;function mc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=mc(a):(o&=i,o!==0&&(n=mc(o)))}else i=r&~s,i!==0?n=mc(i):o!==0&&(n=mc(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Kn(t),s=1<<r,n|=e[r],t&=~s;return n}function YR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Kn(o),a=1<<i,c=s[i];c===-1?(!(a&r)||a&n)&&(s[i]=YR(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Kv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function OE(){var e=Od;return Od<<=1,!(Od&4194240)&&(Od=64),e}function rg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kn(t),e[t]=r}function ZR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Kn(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function qx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Kn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var dt=0;function AE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var RE,Yx,IE,$E,FE,Zv=!1,Rd=[],Po=null,Mo=null,Lo=null,Yc=new Map,Kc=new Map,wo=[],XR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e1(e,t){switch(e){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Mo=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Yc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(t.pointerId)}}function Gl(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Yu(t),t!==null&&Yx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function QR(e,t,r,n,s){switch(t){case"focusin":return Po=Gl(Po,e,t,r,n,s),!0;case"dragenter":return Mo=Gl(Mo,e,t,r,n,s),!0;case"mouseover":return Lo=Gl(Lo,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return Yc.set(o,Gl(Yc.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Kc.set(o,Gl(Kc.get(o)||null,e,t,r,n,s)),!0}return!1}function BE(e){var t=ji(e.target);if(t!==null){var r=Xi(t);if(r!==null){if(t=r.tag,t===13){if(t=NE(r),t!==null){e.blockedOn=t,FE(e.priority,function(){IE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Hv=n,r.target.dispatchEvent(n),Hv=null}else return t=Yu(r),t!==null&&Yx(t),e.blockedOn=r,!1;t.shift()}return!0}function t1(e,t,r){Cf(e)&&r.delete(t)}function JR(){Zv=!1,Po!==null&&Cf(Po)&&(Po=null),Mo!==null&&Cf(Mo)&&(Mo=null),Lo!==null&&Cf(Lo)&&(Lo=null),Yc.forEach(t1),Kc.forEach(t1)}function ql(e,t){e.blockedOn===t&&(e.blockedOn=null,Zv||(Zv=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,JR)))}function Zc(e){function t(s){return ql(s,e)}if(0<Rd.length){ql(Rd[0],e);for(var r=1;r<Rd.length;r++){var n=Rd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Po!==null&&ql(Po,e),Mo!==null&&ql(Mo,e),Lo!==null&&ql(Lo,e),Yc.forEach(t),Kc.forEach(t),r=0;r<wo.length;r++)n=wo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<wo.length&&(r=wo[0],r.blockedOn===null);)BE(r),r.blockedOn===null&&wo.shift()}var Fa=no.ReactCurrentBatchConfig,Xf=!0;function eI(e,t,r,n){var s=dt,o=Fa.transition;Fa.transition=null;try{dt=1,Kx(e,t,r,n)}finally{dt=s,Fa.transition=o}}function tI(e,t,r,n){var s=dt,o=Fa.transition;Fa.transition=null;try{dt=4,Kx(e,t,r,n)}finally{dt=s,Fa.transition=o}}function Kx(e,t,r,n){if(Xf){var s=Xv(e,t,r,n);if(s===null)fg(e,t,n,Qf,r),e1(e,n);else if(QR(s,e,t,r,n))n.stopPropagation();else if(e1(e,n),t&4&&-1<XR.indexOf(e)){for(;s!==null;){var o=Yu(s);if(o!==null&&RE(o),o=Xv(e,t,r,n),o===null&&fg(e,t,n,Qf,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else fg(e,t,n,null,r)}}var Qf=null;function Xv(e,t,r,n){if(Qf=null,e=Hx(n),e=ji(e),e!==null)if(t=Xi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=NE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qf=e,null}function UE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zR()){case Gx:return 1;case DE:return 4;case Kf:case WR:return 16;case TE:return 536870912;default:return 16}default:return 16}}var Eo=null,Zx=null,_f=null;function zE(){if(_f)return _f;var e,t=Zx,r=t.length,n,s="value"in Eo?Eo.value:Eo.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return _f=s.slice(e,1<n?1-n:void 0)}function jf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Id(){return!0}function r1(){return!1}function vn(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Id:r1,this.isPropagationStopped=r1,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Id)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Id)},persist:function(){},isPersistent:Id}),t}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xx=vn(bl),qu=Dt({},bl,{view:0,detail:0}),rI=vn(qu),ng,sg,Yl,bp=Dt({},qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yl&&(Yl&&e.type==="mousemove"?(ng=e.screenX-Yl.screenX,sg=e.screenY-Yl.screenY):sg=ng=0,Yl=e),ng)},movementY:function(e){return"movementY"in e?e.movementY:sg}}),n1=vn(bp),nI=Dt({},bp,{dataTransfer:0}),sI=vn(nI),oI=Dt({},qu,{relatedTarget:0}),og=vn(oI),iI=Dt({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),aI=vn(iI),lI=Dt({},bl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cI=vn(lI),uI=Dt({},bl,{data:0}),s1=vn(uI),dI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hI[e])?!!t[e]:!1}function Qx(){return pI}var mI=Dt({},qu,{key:function(e){if(e.key){var t=dI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qx,charCode:function(e){return e.type==="keypress"?jf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gI=vn(mI),vI=Dt({},bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o1=vn(vI),yI=Dt({},qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qx}),xI=vn(yI),bI=Dt({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),wI=vn(bI),SI=Dt({},bp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CI=vn(SI),_I=[9,13,27,32],Jx=Zs&&"CompositionEvent"in window,_c=null;Zs&&"documentMode"in document&&(_c=document.documentMode);var jI=Zs&&"TextEvent"in window&&!_c,WE=Zs&&(!Jx||_c&&8<_c&&11>=_c),i1=" ",a1=!1;function VE(e,t){switch(e){case"keyup":return _I.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function EI(e,t){switch(e){case"compositionend":return HE(t);case"keypress":return t.which!==32?null:(a1=!0,i1);case"textInput":return e=t.data,e===i1&&a1?null:e;default:return null}}function kI(e,t){if(_a)return e==="compositionend"||!Jx&&VE(e,t)?(e=zE(),_f=Zx=Eo=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return WE&&t.locale!=="ko"?null:t.data;default:return null}}var NI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NI[e.type]:t==="textarea"}function GE(e,t,r,n){CE(n),t=Jf(t,"onChange"),0<t.length&&(r=new Xx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var jc=null,Xc=null;function PI(e){nk(e,0)}function wp(e){var t=ka(e);if(gE(t))return e}function MI(e,t){if(e==="change")return t}var qE=!1;if(Zs){var ig;if(Zs){var ag="oninput"in document;if(!ag){var c1=document.createElement("div");c1.setAttribute("oninput","return;"),ag=typeof c1.oninput=="function"}ig=ag}else ig=!1;qE=ig&&(!document.documentMode||9<document.documentMode)}function u1(){jc&&(jc.detachEvent("onpropertychange",YE),Xc=jc=null)}function YE(e){if(e.propertyName==="value"&&wp(Xc)){var t=[];GE(t,Xc,e,Hx(e)),kE(PI,t)}}function LI(e,t,r){e==="focusin"?(u1(),jc=t,Xc=r,jc.attachEvent("onpropertychange",YE)):e==="focusout"&&u1()}function DI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wp(Xc)}function TI(e,t){if(e==="click")return wp(t)}function OI(e,t){if(e==="input"||e==="change")return wp(t)}function AI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qn=typeof Object.is=="function"?Object.is:AI;function Qc(e,t){if(Qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Tv.call(t,s)||!Qn(e[s],t[s]))return!1}return!0}function d1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f1(e,t){var r=d1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=d1(r)}}function KE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?KE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ZE(){for(var e=window,t=Gf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gf(e.document)}return t}function e0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function RI(e){var t=ZE(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&KE(r.ownerDocument.documentElement,r)){if(n!==null&&e0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=f1(r,o);var i=f1(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var II=Zs&&"documentMode"in document&&11>=document.documentMode,ja=null,Qv=null,Ec=null,Jv=!1;function h1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jv||ja==null||ja!==Gf(n)||(n=ja,"selectionStart"in n&&e0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ec&&Qc(Ec,n)||(Ec=n,n=Jf(Qv,"onSelect"),0<n.length&&(t=new Xx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ja)))}function $d(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ea={animationend:$d("Animation","AnimationEnd"),animationiteration:$d("Animation","AnimationIteration"),animationstart:$d("Animation","AnimationStart"),transitionend:$d("Transition","TransitionEnd")},lg={},XE={};Zs&&(XE=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Sp(e){if(lg[e])return lg[e];if(!Ea[e])return e;var t=Ea[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in XE)return lg[e]=t[r];return e}var QE=Sp("animationend"),JE=Sp("animationiteration"),ek=Sp("animationstart"),tk=Sp("transitionend"),rk=new Map,p1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(e,t){rk.set(e,t),Zi(t,[e])}for(var cg=0;cg<p1.length;cg++){var ug=p1[cg],$I=ug.toLowerCase(),FI=ug[0].toUpperCase()+ug.slice(1);ri($I,"on"+FI)}ri(QE,"onAnimationEnd");ri(JE,"onAnimationIteration");ri(ek,"onAnimationStart");ri("dblclick","onDoubleClick");ri("focusin","onFocus");ri("focusout","onBlur");ri(tk,"onTransitionEnd");Ka("onMouseEnter",["mouseout","mouseover"]);Ka("onMouseLeave",["mouseout","mouseover"]);Ka("onPointerEnter",["pointerout","pointerover"]);Ka("onPointerLeave",["pointerout","pointerover"]);Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BI=new Set("cancel close invalid load scroll toggle".split(" ").concat(gc));function m1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,$R(n,t,void 0,e),e.currentTarget=null}function nk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;m1(s,a,d),o=c}else for(i=0;i<n.length;i++){if(a=n[i],c=a.instance,d=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;m1(s,a,d),o=c}}}if(Yf)throw e=Yv,Yf=!1,Yv=null,e}function _t(e,t){var r=t[sy];r===void 0&&(r=t[sy]=new Set);var n=e+"__bubble";r.has(n)||(sk(t,e,2,!1),r.add(n))}function dg(e,t,r){var n=0;t&&(n|=4),sk(r,e,n,t)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function Jc(e){if(!e[Fd]){e[Fd]=!0,dE.forEach(function(r){r!=="selectionchange"&&(BI.has(r)||dg(r,!1,e),dg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fd]||(t[Fd]=!0,dg("selectionchange",!1,t))}}function sk(e,t,r,n){switch(UE(t)){case 1:var s=eI;break;case 4:s=tI;break;default:s=Kx}r=s.bind(null,t,r,e),s=void 0,!qv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function fg(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=ji(a),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}a=a.parentNode}}n=n.return}kE(function(){var d=o,u=Hx(r),f=[];e:{var h=rk.get(e);if(h!==void 0){var m=Xx,g=e;switch(e){case"keypress":if(jf(r)===0)break e;case"keydown":case"keyup":m=gI;break;case"focusin":g="focus",m=og;break;case"focusout":g="blur",m=og;break;case"beforeblur":case"afterblur":m=og;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=n1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=sI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xI;break;case QE:case JE:case ek:m=aI;break;case tk:m=wI;break;case"scroll":m=rI;break;case"wheel":m=CI;break;case"copy":case"cut":case"paste":m=cI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=o1}var v=(t&4)!==0,b=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var x=d,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=qc(x,y),S!=null&&v.push(eu(x,S,w)))),b)break;x=x.return}0<v.length&&(h=new m(h,g,null,r,u),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Hv&&(g=r.relatedTarget||r.fromElement)&&(ji(g)||g[Xs]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=d,g=g?ji(g):null,g!==null&&(b=Xi(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=d),m!==g)){if(v=n1,S="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=o1,S="onPointerLeave",y="onPointerEnter",x="pointer"),b=m==null?h:ka(m),w=g==null?h:ka(g),h=new v(S,x+"leave",m,r,u),h.target=b,h.relatedTarget=w,S=null,ji(u)===d&&(v=new v(y,x+"enter",g,r,u),v.target=w,v.relatedTarget=b,S=v),b=S,m&&g)t:{for(v=m,y=g,x=0,w=v;w;w=sa(w))x++;for(w=0,S=y;S;S=sa(S))w++;for(;0<x-w;)v=sa(v),x--;for(;0<w-x;)y=sa(y),w--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=sa(v),y=sa(y)}v=null}else v=null;m!==null&&g1(f,h,m,v,!1),g!==null&&b!==null&&g1(f,b,g,v,!0)}}e:{if(h=d?ka(d):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=MI;else if(l1(h))if(qE)j=OI;else{j=DI;var C=LI}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=TI);if(j&&(j=j(e,d))){GE(f,j,r,u);break e}C&&C(e,h,d),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Bv(h,"number",h.value)}switch(C=d?ka(d):window,e){case"focusin":(l1(C)||C.contentEditable==="true")&&(ja=C,Qv=d,Ec=null);break;case"focusout":Ec=Qv=ja=null;break;case"mousedown":Jv=!0;break;case"contextmenu":case"mouseup":case"dragend":Jv=!1,h1(f,r,u);break;case"selectionchange":if(II)break;case"keydown":case"keyup":h1(f,r,u)}var M;if(Jx)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else _a?VE(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(WE&&r.locale!=="ko"&&(_a||k!=="onCompositionStart"?k==="onCompositionEnd"&&_a&&(M=zE()):(Eo=u,Zx="value"in Eo?Eo.value:Eo.textContent,_a=!0)),C=Jf(d,k),0<C.length&&(k=new s1(k,e,null,r,u),f.push({event:k,listeners:C}),M?k.data=M:(M=HE(r),M!==null&&(k.data=M)))),(M=jI?EI(e,r):kI(e,r))&&(d=Jf(d,"onBeforeInput"),0<d.length&&(u=new s1("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=M))}nk(f,t)})}function eu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Jf(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=qc(e,r),o!=null&&n.unshift(eu(e,o,s)),o=qc(e,t),o!=null&&n.push(eu(e,o,s))),e=e.return}return n}function sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function g1(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,c=a.alternate,d=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&d!==null&&(a=d,s?(c=qc(r,o),c!=null&&i.unshift(eu(r,c,a))):s||(c=qc(r,o),c!=null&&i.push(eu(r,c,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var UI=/\r\n?/g,zI=/\u0000|\uFFFD/g;function v1(e){return(typeof e=="string"?e:""+e).replace(UI,`
`).replace(zI,"")}function Bd(e,t,r){if(t=v1(t),v1(e)!==t&&r)throw Error(ae(425))}function eh(){}var ey=null,ty=null;function ry(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ny=typeof setTimeout=="function"?setTimeout:void 0,WI=typeof clearTimeout=="function"?clearTimeout:void 0,y1=typeof Promise=="function"?Promise:void 0,VI=typeof queueMicrotask=="function"?queueMicrotask:typeof y1<"u"?function(e){return y1.resolve(null).then(e).catch(HI)}:ny;function HI(e){setTimeout(function(){throw e})}function hg(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Zc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Zc(t)}function Do(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function x1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wl=Math.random().toString(36).slice(2),vs="__reactFiber$"+wl,tu="__reactProps$"+wl,Xs="__reactContainer$"+wl,sy="__reactEvents$"+wl,GI="__reactListeners$"+wl,qI="__reactHandles$"+wl;function ji(e){var t=e[vs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Xs]||r[vs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=x1(e);e!==null;){if(r=e[vs])return r;e=x1(e)}return t}e=r,r=e.parentNode}return null}function Yu(e){return e=e[vs]||e[Xs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ka(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function Cp(e){return e[tu]||null}var oy=[],Na=-1;function ni(e){return{current:e}}function jt(e){0>Na||(e.current=oy[Na],oy[Na]=null,Na--)}function yt(e,t){Na++,oy[Na]=e.current,e.current=t}var Ho={},_r=ni(Ho),Yr=ni(!1),Oi=Ho;function Za(e,t){var r=e.type.contextTypes;if(!r)return Ho;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Kr(e){return e=e.childContextTypes,e!=null}function th(){jt(Yr),jt(_r)}function b1(e,t,r){if(_r.current!==Ho)throw Error(ae(168));yt(_r,t),yt(Yr,r)}function ok(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ae(108,LR(e)||"Unknown",s));return Dt({},r,n)}function rh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ho,Oi=_r.current,yt(_r,e),yt(Yr,Yr.current),!0}function w1(e,t,r){var n=e.stateNode;if(!n)throw Error(ae(169));r?(e=ok(e,t,Oi),n.__reactInternalMemoizedMergedChildContext=e,jt(Yr),jt(_r),yt(_r,e)):jt(Yr),yt(Yr,r)}var Bs=null,_p=!1,pg=!1;function ik(e){Bs===null?Bs=[e]:Bs.push(e)}function YI(e){_p=!0,ik(e)}function si(){if(!pg&&Bs!==null){pg=!0;var e=0,t=dt;try{var r=Bs;for(dt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Bs=null,_p=!1}catch(s){throw Bs!==null&&(Bs=Bs.slice(e+1)),LE(Gx,si),s}finally{dt=t,pg=!1}}return null}var Pa=[],Ma=0,nh=null,sh=0,_n=[],jn=0,Ai=null,Us=1,zs="";function yi(e,t){Pa[Ma++]=sh,Pa[Ma++]=nh,nh=e,sh=t}function ak(e,t,r){_n[jn++]=Us,_n[jn++]=zs,_n[jn++]=Ai,Ai=e;var n=Us;e=zs;var s=32-Kn(n)-1;n&=~(1<<s),r+=1;var o=32-Kn(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Us=1<<32-Kn(t)+s|r<<s|n,zs=o+e}else Us=1<<o|r<<s|n,zs=e}function t0(e){e.return!==null&&(yi(e,1),ak(e,1,0))}function r0(e){for(;e===nh;)nh=Pa[--Ma],Pa[Ma]=null,sh=Pa[--Ma],Pa[Ma]=null;for(;e===Ai;)Ai=_n[--jn],_n[jn]=null,zs=_n[--jn],_n[jn]=null,Us=_n[--jn],_n[jn]=null}var cn=null,an=null,Et=!1,Vn=null;function lk(e,t){var r=En(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function S1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cn=e,an=Do(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cn=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ai!==null?{id:Us,overflow:zs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=En(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,cn=e,an=null,!0):!1;default:return!1}}function iy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ay(e){if(Et){var t=an;if(t){var r=t;if(!S1(e,t)){if(iy(e))throw Error(ae(418));t=Do(r.nextSibling);var n=cn;t&&S1(e,t)?lk(n,r):(e.flags=e.flags&-4097|2,Et=!1,cn=e)}}else{if(iy(e))throw Error(ae(418));e.flags=e.flags&-4097|2,Et=!1,cn=e}}}function C1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cn=e}function Ud(e){if(e!==cn)return!1;if(!Et)return C1(e),Et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ry(e.type,e.memoizedProps)),t&&(t=an)){if(iy(e))throw ck(),Error(ae(418));for(;t;)lk(e,t),t=Do(t.nextSibling)}if(C1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){an=Do(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}an=null}}else an=cn?Do(e.stateNode.nextSibling):null;return!0}function ck(){for(var e=an;e;)e=Do(e.nextSibling)}function Xa(){an=cn=null,Et=!1}function n0(e){Vn===null?Vn=[e]:Vn.push(e)}var KI=no.ReactCurrentBatchConfig;function Kl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,e))}return e}function zd(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _1(e){var t=e._init;return t(e._payload)}function uk(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=Ro(y,x),y.index=0,y.sibling=null,y}function o(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,x,w,S){return x===null||x.tag!==6?(x=wg(w,y.mode,S),x.return=y,x):(x=s(x,w),x.return=y,x)}function c(y,x,w,S){var j=w.type;return j===Ca?u(y,x,w.props.children,S,w.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===vo&&_1(j)===x.type)?(S=s(x,w.props),S.ref=Kl(y,x,w),S.return=y,S):(S=Df(w.type,w.key,w.props,null,y.mode,S),S.ref=Kl(y,x,w),S.return=y,S)}function d(y,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Sg(w,y.mode,S),x.return=y,x):(x=s(x,w.children||[]),x.return=y,x)}function u(y,x,w,S,j){return x===null||x.tag!==7?(x=Di(w,y.mode,S,j),x.return=y,x):(x=s(x,w),x.return=y,x)}function f(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=wg(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ld:return w=Df(x.type,x.key,x.props,null,y.mode,w),w.ref=Kl(y,null,x),w.return=y,w;case Sa:return x=Sg(x,y.mode,w),x.return=y,x;case vo:var S=x._init;return f(y,S(x._payload),w)}if(pc(x)||Vl(x))return x=Di(x,y.mode,w,null),x.return=y,x;zd(y,x)}return null}function h(y,x,w,S){var j=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:a(y,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ld:return w.key===j?c(y,x,w,S):null;case Sa:return w.key===j?d(y,x,w,S):null;case vo:return j=w._init,h(y,x,j(w._payload),S)}if(pc(w)||Vl(w))return j!==null?null:u(y,x,w,S,null);zd(y,w)}return null}function m(y,x,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,a(x,y,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ld:return y=y.get(S.key===null?w:S.key)||null,c(x,y,S,j);case Sa:return y=y.get(S.key===null?w:S.key)||null,d(x,y,S,j);case vo:var C=S._init;return m(y,x,w,C(S._payload),j)}if(pc(S)||Vl(S))return y=y.get(w)||null,u(x,y,S,j,null);zd(x,S)}return null}function g(y,x,w,S){for(var j=null,C=null,M=x,k=x=0,E=null;M!==null&&k<w.length;k++){M.index>k?(E=M,M=null):E=M.sibling;var _=h(y,M,w[k],S);if(_===null){M===null&&(M=E);break}e&&M&&_.alternate===null&&t(y,M),x=o(_,x,k),C===null?j=_:C.sibling=_,C=_,M=E}if(k===w.length)return r(y,M),Et&&yi(y,k),j;if(M===null){for(;k<w.length;k++)M=f(y,w[k],S),M!==null&&(x=o(M,x,k),C===null?j=M:C.sibling=M,C=M);return Et&&yi(y,k),j}for(M=n(y,M);k<w.length;k++)E=m(M,y,k,w[k],S),E!==null&&(e&&E.alternate!==null&&M.delete(E.key===null?k:E.key),x=o(E,x,k),C===null?j=E:C.sibling=E,C=E);return e&&M.forEach(function(P){return t(y,P)}),Et&&yi(y,k),j}function v(y,x,w,S){var j=Vl(w);if(typeof j!="function")throw Error(ae(150));if(w=j.call(w),w==null)throw Error(ae(151));for(var C=j=null,M=x,k=x=0,E=null,_=w.next();M!==null&&!_.done;k++,_=w.next()){M.index>k?(E=M,M=null):E=M.sibling;var P=h(y,M,_.value,S);if(P===null){M===null&&(M=E);break}e&&M&&P.alternate===null&&t(y,M),x=o(P,x,k),C===null?j=P:C.sibling=P,C=P,M=E}if(_.done)return r(y,M),Et&&yi(y,k),j;if(M===null){for(;!_.done;k++,_=w.next())_=f(y,_.value,S),_!==null&&(x=o(_,x,k),C===null?j=_:C.sibling=_,C=_);return Et&&yi(y,k),j}for(M=n(y,M);!_.done;k++,_=w.next())_=m(M,y,k,_.value,S),_!==null&&(e&&_.alternate!==null&&M.delete(_.key===null?k:_.key),x=o(_,x,k),C===null?j=_:C.sibling=_,C=_);return e&&M.forEach(function(D){return t(y,D)}),Et&&yi(y,k),j}function b(y,x,w,S){if(typeof w=="object"&&w!==null&&w.type===Ca&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ld:e:{for(var j=w.key,C=x;C!==null;){if(C.key===j){if(j=w.type,j===Ca){if(C.tag===7){r(y,C.sibling),x=s(C,w.props.children),x.return=y,y=x;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===vo&&_1(j)===C.type){r(y,C.sibling),x=s(C,w.props),x.ref=Kl(y,C,w),x.return=y,y=x;break e}r(y,C);break}else t(y,C);C=C.sibling}w.type===Ca?(x=Di(w.props.children,y.mode,S,w.key),x.return=y,y=x):(S=Df(w.type,w.key,w.props,null,y.mode,S),S.ref=Kl(y,x,w),S.return=y,y=S)}return i(y);case Sa:e:{for(C=w.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(y,x.sibling),x=s(x,w.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=Sg(w,y.mode,S),x.return=y,y=x}return i(y);case vo:return C=w._init,b(y,x,C(w._payload),S)}if(pc(w))return g(y,x,w,S);if(Vl(w))return v(y,x,w,S);zd(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,w),x.return=y,y=x):(r(y,x),x=wg(w,y.mode,S),x.return=y,y=x),i(y)):r(y,x)}return b}var Qa=uk(!0),dk=uk(!1),oh=ni(null),ih=null,La=null,s0=null;function o0(){s0=La=ih=null}function i0(e){var t=oh.current;jt(oh),e._currentValue=t}function ly(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ba(e,t){ih=e,s0=La=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gr=!0),e.firstContext=null)}function Dn(e){var t=e._currentValue;if(s0!==e)if(e={context:e,memoizedValue:t,next:null},La===null){if(ih===null)throw Error(ae(308));La=e,ih.dependencies={lanes:0,firstContext:e}}else La=La.next=e;return t}var Ei=null;function a0(e){Ei===null?Ei=[e]:Ei.push(e)}function fk(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,a0(t)):(r.next=s.next,s.next=r),t.interleaved=r,Qs(e,n)}function Qs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var yo=!1;function l0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function To(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Je&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Qs(e,r)}return s=n.interleaved,s===null?(t.next=t,a0(n)):(t.next=s.next,s.next=t),n.interleaved=t,Qs(e,r)}function Ef(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qx(e,r)}}function j1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ah(e,t,r,n){var s=e.updateQueue;yo=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=d:a.next=d,u.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,u=d=c=null,a=o;do{var h=a.lane,m=a.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(h=t,m=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Dt({},f,h);break e;case 2:yo=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(d=u=m,c=f):u=u.next=m,i|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ii|=i,e.lanes=i,e.memoizedState=f}}function E1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ae(191,s));s.call(n)}}}var Ku={},ws=ni(Ku),ru=ni(Ku),nu=ni(Ku);function ki(e){if(e===Ku)throw Error(ae(174));return e}function c0(e,t){switch(yt(nu,t),yt(ru,e),yt(ws,Ku),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zv(t,e)}jt(ws),yt(ws,t)}function Ja(){jt(ws),jt(ru),jt(nu)}function pk(e){ki(nu.current);var t=ki(ws.current),r=zv(t,e.type);t!==r&&(yt(ru,e),yt(ws,r))}function u0(e){ru.current===e&&(jt(ws),jt(ru))}var Mt=ni(0);function lh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mg=[];function d0(){for(var e=0;e<mg.length;e++)mg[e]._workInProgressVersionPrimary=null;mg.length=0}var kf=no.ReactCurrentDispatcher,gg=no.ReactCurrentBatchConfig,Ri=0,Lt=null,Xt=null,sr=null,ch=!1,kc=!1,su=0,ZI=0;function br(){throw Error(ae(321))}function f0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Qn(e[r],t[r]))return!1;return!0}function h0(e,t,r,n,s,o){if(Ri=o,Lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kf.current=e===null||e.memoizedState===null?e4:t4,e=r(n,s),kc){o=0;do{if(kc=!1,su=0,25<=o)throw Error(ae(301));o+=1,sr=Xt=null,t.updateQueue=null,kf.current=r4,e=r(n,s)}while(kc)}if(kf.current=uh,t=Xt!==null&&Xt.next!==null,Ri=0,sr=Xt=Lt=null,ch=!1,t)throw Error(ae(300));return e}function p0(){var e=su!==0;return su=0,e}function ps(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Lt.memoizedState=sr=e:sr=sr.next=e,sr}function Tn(){if(Xt===null){var e=Lt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var t=sr===null?Lt.memoizedState:sr.next;if(t!==null)sr=t,Xt=e;else{if(e===null)throw Error(ae(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},sr===null?Lt.memoizedState=sr=e:sr=sr.next=e}return sr}function ou(e,t){return typeof t=="function"?t(e):t}function vg(e){var t=Tn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=Xt,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,c=null,d=o;do{var u=d.lane;if((Ri&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=f,i=n):c=c.next=f,Lt.lanes|=u,Ii|=u}d=d.next}while(d!==null&&d!==o);c===null?i=n:c.next=a,Qn(n,t.memoizedState)||(Gr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Lt.lanes|=o,Ii|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yg(e){var t=Tn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Qn(o,t.memoizedState)||(Gr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function mk(){}function gk(e,t){var r=Lt,n=Tn(),s=t(),o=!Qn(n.memoizedState,s);if(o&&(n.memoizedState=s,Gr=!0),n=n.queue,m0(xk.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||sr!==null&&sr.memoizedState.tag&1){if(r.flags|=2048,iu(9,yk.bind(null,r,n,s,t),void 0,null),lr===null)throw Error(ae(349));Ri&30||vk(r,t,s)}return s}function vk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Lt.updateQueue,t===null?(t={lastEffect:null,stores:null},Lt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yk(e,t,r,n){t.value=r,t.getSnapshot=n,bk(t)&&wk(e)}function xk(e,t,r){return r(function(){bk(t)&&wk(e)})}function bk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Qn(e,r)}catch{return!0}}function wk(e){var t=Qs(e,1);t!==null&&Zn(t,e,1,-1)}function k1(e){var t=ps();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:e},t.queue=e,e=e.dispatch=JI.bind(null,Lt,e),[t.memoizedState,e]}function iu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Lt.updateQueue,t===null?(t={lastEffect:null,stores:null},Lt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Sk(){return Tn().memoizedState}function Nf(e,t,r,n){var s=ps();Lt.flags|=e,s.memoizedState=iu(1|t,r,void 0,n===void 0?null:n)}function jp(e,t,r,n){var s=Tn();n=n===void 0?null:n;var o=void 0;if(Xt!==null){var i=Xt.memoizedState;if(o=i.destroy,n!==null&&f0(n,i.deps)){s.memoizedState=iu(t,r,o,n);return}}Lt.flags|=e,s.memoizedState=iu(1|t,r,o,n)}function N1(e,t){return Nf(8390656,8,e,t)}function m0(e,t){return jp(2048,8,e,t)}function Ck(e,t){return jp(4,2,e,t)}function _k(e,t){return jp(4,4,e,t)}function jk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ek(e,t,r){return r=r!=null?r.concat([e]):null,jp(4,4,jk.bind(null,t,e),r)}function g0(){}function kk(e,t){var r=Tn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&f0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Nk(e,t){var r=Tn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&f0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Pk(e,t,r){return Ri&21?(Qn(r,t)||(r=OE(),Lt.lanes|=r,Ii|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gr=!0),e.memoizedState=r)}function XI(e,t){var r=dt;dt=r!==0&&4>r?r:4,e(!0);var n=gg.transition;gg.transition={};try{e(!1),t()}finally{dt=r,gg.transition=n}}function Mk(){return Tn().memoizedState}function QI(e,t,r){var n=Ao(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Lk(e))Dk(t,r);else if(r=fk(e,t,r,n),r!==null){var s=Tr();Zn(r,e,n,s),Tk(r,t,n)}}function JI(e,t,r){var n=Ao(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Lk(e))Dk(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,Qn(a,i)){var c=t.interleaved;c===null?(s.next=s,a0(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=fk(e,t,s,n),r!==null&&(s=Tr(),Zn(r,e,n,s),Tk(r,t,n))}}function Lk(e){var t=e.alternate;return e===Lt||t!==null&&t===Lt}function Dk(e,t){kc=ch=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Tk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qx(e,r)}}var uh={readContext:Dn,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},e4={readContext:Dn,useCallback:function(e,t){return ps().memoizedState=[e,t===void 0?null:t],e},useContext:Dn,useEffect:N1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Nf(4194308,4,jk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Nf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nf(4,2,e,t)},useMemo:function(e,t){var r=ps();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ps();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=QI.bind(null,Lt,e),[n.memoizedState,e]},useRef:function(e){var t=ps();return e={current:e},t.memoizedState=e},useState:k1,useDebugValue:g0,useDeferredValue:function(e){return ps().memoizedState=e},useTransition:function(){var e=k1(!1),t=e[0];return e=XI.bind(null,e[1]),ps().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Lt,s=ps();if(Et){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=t(),lr===null)throw Error(ae(349));Ri&30||vk(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,N1(xk.bind(null,n,o,e),[e]),n.flags|=2048,iu(9,yk.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=ps(),t=lr.identifierPrefix;if(Et){var r=zs,n=Us;r=(n&~(1<<32-Kn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=su++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ZI++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},t4={readContext:Dn,useCallback:kk,useContext:Dn,useEffect:m0,useImperativeHandle:Ek,useInsertionEffect:Ck,useLayoutEffect:_k,useMemo:Nk,useReducer:vg,useRef:Sk,useState:function(){return vg(ou)},useDebugValue:g0,useDeferredValue:function(e){var t=Tn();return Pk(t,Xt.memoizedState,e)},useTransition:function(){var e=vg(ou)[0],t=Tn().memoizedState;return[e,t]},useMutableSource:mk,useSyncExternalStore:gk,useId:Mk,unstable_isNewReconciler:!1},r4={readContext:Dn,useCallback:kk,useContext:Dn,useEffect:m0,useImperativeHandle:Ek,useInsertionEffect:Ck,useLayoutEffect:_k,useMemo:Nk,useReducer:yg,useRef:Sk,useState:function(){return yg(ou)},useDebugValue:g0,useDeferredValue:function(e){var t=Tn();return Xt===null?t.memoizedState=e:Pk(t,Xt.memoizedState,e)},useTransition:function(){var e=yg(ou)[0],t=Tn().memoizedState;return[e,t]},useMutableSource:mk,useSyncExternalStore:gk,useId:Mk,unstable_isNewReconciler:!1};function Un(e,t){if(e&&e.defaultProps){t=Dt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function cy(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Dt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ep={isMounted:function(e){return(e=e._reactInternals)?Xi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Tr(),s=Ao(e),o=Hs(n,s);o.payload=t,r!=null&&(o.callback=r),t=To(e,o,s),t!==null&&(Zn(t,e,s,n),Ef(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Tr(),s=Ao(e),o=Hs(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=To(e,o,s),t!==null&&(Zn(t,e,s,n),Ef(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tr(),n=Ao(e),s=Hs(r,n);s.tag=2,t!=null&&(s.callback=t),t=To(e,s,n),t!==null&&(Zn(t,e,n,r),Ef(t,e,n))}};function P1(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Qc(r,n)||!Qc(s,o):!0}function Ok(e,t,r){var n=!1,s=Ho,o=t.contextType;return typeof o=="object"&&o!==null?o=Dn(o):(s=Kr(t)?Oi:_r.current,n=t.contextTypes,o=(n=n!=null)?Za(e,s):Ho),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ep,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function M1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ep.enqueueReplaceState(t,t.state,null)}function uy(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},l0(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Dn(o):(o=Kr(t)?Oi:_r.current,s.context=Za(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(cy(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ep.enqueueReplaceState(s,s.state,null),ah(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function el(e,t){try{var r="",n=t;do r+=MR(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function xg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function dy(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var n4=typeof WeakMap=="function"?WeakMap:Map;function Ak(e,t,r){r=Hs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){fh||(fh=!0,wy=n),dy(e,t)},r}function Rk(e,t,r){r=Hs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){dy(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){dy(e,t),typeof n!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function L1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new n4;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=v4.bind(null,e,t,r),t.then(e,e))}function D1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function T1(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Hs(-1,1),t.tag=2,To(r,t,1))),r.lanes|=1),e)}var s4=no.ReactCurrentOwner,Gr=!1;function Lr(e,t,r,n){t.child=e===null?dk(t,null,r,n):Qa(t,e.child,r,n)}function O1(e,t,r,n,s){r=r.render;var o=t.ref;return Ba(t,s),n=h0(e,t,r,n,o,s),r=p0(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Js(e,t,s)):(Et&&r&&t0(t),t.flags|=1,Lr(e,t,n,s),t.child)}function A1(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!_0(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Ik(e,t,o,n,s)):(e=Df(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Qc,r(i,n)&&e.ref===t.ref)return Js(e,t,s)}return t.flags|=1,e=Ro(o,n),e.ref=t.ref,e.return=t,t.child=e}function Ik(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Qc(o,n)&&e.ref===t.ref)if(Gr=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Gr=!0);else return t.lanes=e.lanes,Js(e,t,s)}return fy(e,t,r,n,s)}function $k(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Ta,nn),nn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,yt(Ta,nn),nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,yt(Ta,nn),nn|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,yt(Ta,nn),nn|=n;return Lr(e,t,s,r),t.child}function Fk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function fy(e,t,r,n,s){var o=Kr(r)?Oi:_r.current;return o=Za(t,o),Ba(t,s),r=h0(e,t,r,n,o,s),n=p0(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Js(e,t,s)):(Et&&n&&t0(t),t.flags|=1,Lr(e,t,r,s),t.child)}function R1(e,t,r,n,s){if(Kr(r)){var o=!0;rh(t)}else o=!1;if(Ba(t,s),t.stateNode===null)Pf(e,t),Ok(t,r,n),uy(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=Dn(d):(d=Kr(r)?Oi:_r.current,d=Za(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||c!==d)&&M1(t,i,n,d),yo=!1;var h=t.memoizedState;i.state=h,ah(t,n,i,s),c=t.memoizedState,a!==n||h!==c||Yr.current||yo?(typeof u=="function"&&(cy(t,r,u,n),c=t.memoizedState),(a=yo||P1(t,r,a,n,h,c,d))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=d,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,hk(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:Un(t.type,a),i.props=d,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Dn(c):(c=Kr(r)?Oi:_r.current,c=Za(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||h!==c)&&M1(t,i,n,c),yo=!1,h=t.memoizedState,i.state=h,ah(t,n,i,s);var g=t.memoizedState;a!==f||h!==g||Yr.current||yo?(typeof m=="function"&&(cy(t,r,m,n),g=t.memoizedState),(d=yo||P1(t,r,d,n,h,g,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return hy(e,t,r,n,o,s)}function hy(e,t,r,n,s,o){Fk(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&w1(t,r,!1),Js(e,t,o);n=t.stateNode,s4.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Qa(t,e.child,null,o),t.child=Qa(t,null,a,o)):Lr(e,t,a,o),t.memoizedState=n.state,s&&w1(t,r,!0),t.child}function Bk(e){var t=e.stateNode;t.pendingContext?b1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b1(e,t.context,!1),c0(e,t.containerInfo)}function I1(e,t,r,n,s){return Xa(),n0(s),t.flags|=256,Lr(e,t,r,n),t.child}var py={dehydrated:null,treeContext:null,retryLane:0};function my(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uk(e,t,r){var n=t.pendingProps,s=Mt.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),yt(Mt,s&1),e===null)return ay(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Pp(i,n,0,null),e=Di(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=my(r),t.memoizedState=py,e):v0(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return o4(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ro(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Ro(a,o):(o=Di(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?my(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=py,n}return o=e.child,e=o.sibling,n=Ro(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function v0(e,t){return t=Pp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wd(e,t,r,n){return n!==null&&n0(n),Qa(t,e.child,null,r),e=v0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function o4(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=xg(Error(ae(422))),Wd(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Pp({mode:"visible",children:n.children},s,0,null),o=Di(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Qa(t,e.child,null,i),t.child.memoizedState=my(i),t.memoizedState=py,o);if(!(t.mode&1))return Wd(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(ae(419)),n=xg(o,n,void 0),Wd(e,t,i,n)}if(a=(i&e.childLanes)!==0,Gr||a){if(n=lr,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Qs(e,s),Zn(n,e,s,-1))}return C0(),n=xg(Error(ae(421))),Wd(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=y4.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,an=Do(s.nextSibling),cn=t,Et=!0,Vn=null,e!==null&&(_n[jn++]=Us,_n[jn++]=zs,_n[jn++]=Ai,Us=e.id,zs=e.overflow,Ai=t),t=v0(t,n.children),t.flags|=4096,t)}function $1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ly(e.return,t,r)}function bg(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function zk(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Lr(e,t,n.children,r),n=Mt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$1(e,r,t);else if(e.tag===19)$1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(yt(Mt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&lh(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),bg(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&lh(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}bg(t,!0,r,null,o);break;case"together":bg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Js(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ii|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,r=Ro(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ro(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function i4(e,t,r){switch(t.tag){case 3:Bk(t),Xa();break;case 5:pk(t);break;case 1:Kr(t.type)&&rh(t);break;case 4:c0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;yt(oh,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(yt(Mt,Mt.current&1),t.flags|=128,null):r&t.child.childLanes?Uk(e,t,r):(yt(Mt,Mt.current&1),e=Js(e,t,r),e!==null?e.sibling:null);yt(Mt,Mt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return zk(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),yt(Mt,Mt.current),n)break;return null;case 22:case 23:return t.lanes=0,$k(e,t,r)}return Js(e,t,r)}var Wk,gy,Vk,Hk;Wk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gy=function(){};Vk=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ki(ws.current);var o=null;switch(r){case"input":s=$v(e,s),n=$v(e,n),o=[];break;case"select":s=Dt({},s,{value:void 0}),n=Dt({},n,{value:void 0}),o=[];break;case"textarea":s=Uv(e,s),n=Uv(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=eh)}Wv(r,n);var i;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Hc.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(a=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Hc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&_t("scroll",e),o||a===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};Hk=function(e,t,r,n){r!==n&&(t.flags|=4)};function Zl(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function a4(e,t,r){var n=t.pendingProps;switch(r0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(t),null;case 1:return Kr(t.type)&&th(),wr(t),null;case 3:return n=t.stateNode,Ja(),jt(Yr),jt(_r),d0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ud(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vn!==null&&(_y(Vn),Vn=null))),gy(e,t),wr(t),null;case 5:u0(t);var s=ki(nu.current);if(r=t.type,e!==null&&t.stateNode!=null)Vk(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ae(166));return wr(t),null}if(e=ki(ws.current),Ud(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[vs]=t,n[tu]=o,e=(t.mode&1)!==0,r){case"dialog":_t("cancel",n),_t("close",n);break;case"iframe":case"object":case"embed":_t("load",n);break;case"video":case"audio":for(s=0;s<gc.length;s++)_t(gc[s],n);break;case"source":_t("error",n);break;case"img":case"image":case"link":_t("error",n),_t("load",n);break;case"details":_t("toggle",n);break;case"input":qw(n,o),_t("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},_t("invalid",n);break;case"textarea":Kw(n,o),_t("invalid",n)}Wv(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Bd(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Bd(n.textContent,a,e),s=["children",""+a]):Hc.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&_t("scroll",n)}switch(r){case"input":Dd(n),Yw(n,o,!0);break;case"textarea":Dd(n),Zw(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=eh)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[vs]=t,e[tu]=n,Wk(e,t,!1,!1),t.stateNode=e;e:{switch(i=Vv(r,n),r){case"dialog":_t("cancel",e),_t("close",e),s=n;break;case"iframe":case"object":case"embed":_t("load",e),s=n;break;case"video":case"audio":for(s=0;s<gc.length;s++)_t(gc[s],e);s=n;break;case"source":_t("error",e),s=n;break;case"img":case"image":case"link":_t("error",e),_t("load",e),s=n;break;case"details":_t("toggle",e),s=n;break;case"input":qw(e,n),s=$v(e,n),_t("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Dt({},n,{value:void 0}),_t("invalid",e);break;case"textarea":Kw(e,n),s=Uv(e,n),_t("invalid",e);break;default:s=n}Wv(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?SE(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bE(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Gc(e,c):typeof c=="number"&&Gc(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hc.hasOwnProperty(o)?c!=null&&o==="onScroll"&&_t("scroll",e):c!=null&&Ux(e,o,c,i))}switch(r){case"input":Dd(e),Yw(e,n,!1);break;case"textarea":Dd(e),Zw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Vo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ra(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ra(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=eh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wr(t),null;case 6:if(e&&t.stateNode!=null)Hk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ae(166));if(r=ki(nu.current),ki(ws.current),Ud(t)){if(n=t.stateNode,r=t.memoizedProps,n[vs]=t,(o=n.nodeValue!==r)&&(e=cn,e!==null))switch(e.tag){case 3:Bd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bd(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vs]=t,t.stateNode=n}return wr(t),null;case 13:if(jt(Mt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Et&&an!==null&&t.mode&1&&!(t.flags&128))ck(),Xa(),t.flags|=98560,o=!1;else if(o=Ud(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ae(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[vs]=t}else Xa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wr(t),o=!1}else Vn!==null&&(_y(Vn),Vn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Mt.current&1?Jt===0&&(Jt=3):C0())),t.updateQueue!==null&&(t.flags|=4),wr(t),null);case 4:return Ja(),gy(e,t),e===null&&Jc(t.stateNode.containerInfo),wr(t),null;case 10:return i0(t.type._context),wr(t),null;case 17:return Kr(t.type)&&th(),wr(t),null;case 19:if(jt(Mt),o=t.memoizedState,o===null)return wr(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Zl(o,!1);else{if(Jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=lh(e),i!==null){for(t.flags|=128,Zl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return yt(Mt,Mt.current&1|2),t.child}e=e.sibling}o.tail!==null&&zt()>tl&&(t.flags|=128,n=!0,Zl(o,!1),t.lanes=4194304)}else{if(!n)if(e=lh(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Zl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Et)return wr(t),null}else 2*zt()-o.renderingStartTime>tl&&r!==1073741824&&(t.flags|=128,n=!0,Zl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=zt(),t.sibling=null,r=Mt.current,yt(Mt,n?r&1|2:r&1),t):(wr(t),null);case 22:case 23:return S0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?nn&1073741824&&(wr(t),t.subtreeFlags&6&&(t.flags|=8192)):wr(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function l4(e,t){switch(r0(t),t.tag){case 1:return Kr(t.type)&&th(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ja(),jt(Yr),jt(_r),d0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return u0(t),null;case 13:if(jt(Mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));Xa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jt(Mt),null;case 4:return Ja(),null;case 10:return i0(t.type._context),null;case 22:case 23:return S0(),null;case 24:return null;default:return null}}var Vd=!1,Sr=!1,c4=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Da(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){It(e,t,n)}else r.current=null}function vy(e,t,r){try{r()}catch(n){It(e,t,n)}}var F1=!1;function u4(e,t){if(ey=Xf,e=ZE(),e0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(a=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++d===s&&(a=i),h===o&&++u===n&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ty={focusedElem:e,selectionRange:r},Xf=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Un(t.type,v),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(S){It(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return g=F1,F1=!1,g}function Nc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&vy(t,r,o)}s=s.next}while(s!==n)}}function kp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function yy(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Gk(e){var t=e.alternate;t!==null&&(e.alternate=null,Gk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vs],delete t[tu],delete t[sy],delete t[GI],delete t[qI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qk(e){return e.tag===5||e.tag===3||e.tag===4}function B1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=eh));else if(n!==4&&(e=e.child,e!==null))for(xy(e,t,r),e=e.sibling;e!==null;)xy(e,t,r),e=e.sibling}function by(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(by(e,t,r),e=e.sibling;e!==null;)by(e,t,r),e=e.sibling}var gr=null,zn=!1;function ao(e,t,r){for(r=r.child;r!==null;)Yk(e,t,r),r=r.sibling}function Yk(e,t,r){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(xp,r)}catch{}switch(r.tag){case 5:Sr||Da(r,t);case 6:var n=gr,s=zn;gr=null,ao(e,t,r),gr=n,zn=s,gr!==null&&(zn?(e=gr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):gr.removeChild(r.stateNode));break;case 18:gr!==null&&(zn?(e=gr,r=r.stateNode,e.nodeType===8?hg(e.parentNode,r):e.nodeType===1&&hg(e,r),Zc(e)):hg(gr,r.stateNode));break;case 4:n=gr,s=zn,gr=r.stateNode.containerInfo,zn=!0,ao(e,t,r),gr=n,zn=s;break;case 0:case 11:case 14:case 15:if(!Sr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&vy(r,t,i),s=s.next}while(s!==n)}ao(e,t,r);break;case 1:if(!Sr&&(Da(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){It(r,t,a)}ao(e,t,r);break;case 21:ao(e,t,r);break;case 22:r.mode&1?(Sr=(n=Sr)||r.memoizedState!==null,ao(e,t,r),Sr=n):ao(e,t,r);break;default:ao(e,t,r)}}function U1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new c4),t.forEach(function(n){var s=x4.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function In(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:gr=a.stateNode,zn=!1;break e;case 3:gr=a.stateNode.containerInfo,zn=!0;break e;case 4:gr=a.stateNode.containerInfo,zn=!0;break e}a=a.return}if(gr===null)throw Error(ae(160));Yk(o,i,s),gr=null,zn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){It(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kk(t,e),t=t.sibling}function Kk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(In(t,e),us(e),n&4){try{Nc(3,e,e.return),kp(3,e)}catch(v){It(e,e.return,v)}try{Nc(5,e,e.return)}catch(v){It(e,e.return,v)}}break;case 1:In(t,e),us(e),n&512&&r!==null&&Da(r,r.return);break;case 5:if(In(t,e),us(e),n&512&&r!==null&&Da(r,r.return),e.flags&32){var s=e.stateNode;try{Gc(s,"")}catch(v){It(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&vE(s,o),Vv(a,i);var d=Vv(a,o);for(i=0;i<c.length;i+=2){var u=c[i],f=c[i+1];u==="style"?SE(s,f):u==="dangerouslySetInnerHTML"?bE(s,f):u==="children"?Gc(s,f):Ux(s,u,f,d)}switch(a){case"input":Fv(s,o);break;case"textarea":yE(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ra(s,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ra(s,!!o.multiple,o.defaultValue,!0):Ra(s,!!o.multiple,o.multiple?[]:"",!1))}s[tu]=o}catch(v){It(e,e.return,v)}}break;case 6:if(In(t,e),us(e),n&4){if(e.stateNode===null)throw Error(ae(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){It(e,e.return,v)}}break;case 3:if(In(t,e),us(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zc(t.containerInfo)}catch(v){It(e,e.return,v)}break;case 4:In(t,e),us(e);break;case 13:In(t,e),us(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(b0=zt())),n&4&&U1(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Sr=(d=Sr)||u,In(t,e),Sr=d):In(t,e),us(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ve=e,u=e.child;u!==null;){for(f=ve=u;ve!==null;){switch(h=ve,m=h.child,h.tag){case 0:case 11:case 14:case 15:Nc(4,h,h.return);break;case 1:Da(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){It(n,r,v)}}break;case 5:Da(h,h.return);break;case 22:if(h.memoizedState!==null){W1(f);continue}}m!==null?(m.return=h,ve=m):W1(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=wE("display",i))}catch(v){It(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){It(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:In(t,e),us(e),n&4&&U1(e);break;case 21:break;default:In(t,e),us(e)}}function us(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(qk(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Gc(s,""),n.flags&=-33);var o=B1(e);by(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=B1(e);xy(e,a,i);break;default:throw Error(ae(161))}}catch(c){It(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function d4(e,t,r){ve=e,Zk(e)}function Zk(e,t,r){for(var n=(e.mode&1)!==0;ve!==null;){var s=ve,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Vd;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Sr;a=Vd;var d=Sr;if(Vd=i,(Sr=c)&&!d)for(ve=s;ve!==null;)i=ve,c=i.child,i.tag===22&&i.memoizedState!==null?V1(s):c!==null?(c.return=i,ve=c):V1(s);for(;o!==null;)ve=o,Zk(o),o=o.sibling;ve=s,Vd=a,Sr=d}z1(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ve=o):z1(e)}}function z1(e){for(;ve!==null;){var t=ve;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sr||kp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Sr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Un(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&E1(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}E1(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Zc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Sr||t.flags&512&&yy(t)}catch(h){It(t,t.return,h)}}if(t===e){ve=null;break}if(r=t.sibling,r!==null){r.return=t.return,ve=r;break}ve=t.return}}function W1(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ve=r;break}ve=t.return}}function V1(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kp(4,t)}catch(c){It(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){It(t,s,c)}}var o=t.return;try{yy(t)}catch(c){It(t,o,c)}break;case 5:var i=t.return;try{yy(t)}catch(c){It(t,i,c)}}}catch(c){It(t,t.return,c)}if(t===e){ve=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ve=a;break}ve=t.return}}var f4=Math.ceil,dh=no.ReactCurrentDispatcher,y0=no.ReactCurrentOwner,Nn=no.ReactCurrentBatchConfig,Je=0,lr=null,qt=null,yr=0,nn=0,Ta=ni(0),Jt=0,au=null,Ii=0,Np=0,x0=0,Pc=null,Wr=null,b0=0,tl=1/0,$s=null,fh=!1,wy=null,Oo=null,Hd=!1,ko=null,hh=0,Mc=0,Sy=null,Mf=-1,Lf=0;function Tr(){return Je&6?zt():Mf!==-1?Mf:Mf=zt()}function Ao(e){return e.mode&1?Je&2&&yr!==0?yr&-yr:KI.transition!==null?(Lf===0&&(Lf=OE()),Lf):(e=dt,e!==0||(e=window.event,e=e===void 0?16:UE(e.type)),e):1}function Zn(e,t,r,n){if(50<Mc)throw Mc=0,Sy=null,Error(ae(185));Gu(e,r,n),(!(Je&2)||e!==lr)&&(e===lr&&(!(Je&2)&&(Np|=r),Jt===4&&So(e,yr)),Zr(e,n),r===1&&Je===0&&!(t.mode&1)&&(tl=zt()+500,_p&&si()))}function Zr(e,t){var r=e.callbackNode;KR(e,t);var n=Zf(e,e===lr?yr:0);if(n===0)r!==null&&Jw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Jw(r),t===1)e.tag===0?YI(H1.bind(null,e)):ik(H1.bind(null,e)),VI(function(){!(Je&6)&&si()}),r=null;else{switch(AE(n)){case 1:r=Gx;break;case 4:r=DE;break;case 16:r=Kf;break;case 536870912:r=TE;break;default:r=Kf}r=s2(r,Xk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Xk(e,t){if(Mf=-1,Lf=0,Je&6)throw Error(ae(327));var r=e.callbackNode;if(Ua()&&e.callbackNode!==r)return null;var n=Zf(e,e===lr?yr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ph(e,n);else{t=n;var s=Je;Je|=2;var o=Jk();(lr!==e||yr!==t)&&($s=null,tl=zt()+500,Li(e,t));do try{m4();break}catch(a){Qk(e,a)}while(!0);o0(),dh.current=o,Je=s,qt!==null?t=0:(lr=null,yr=0,t=Jt)}if(t!==0){if(t===2&&(s=Kv(e),s!==0&&(n=s,t=Cy(e,s))),t===1)throw r=au,Li(e,0),So(e,n),Zr(e,zt()),r;if(t===6)So(e,n);else{if(s=e.current.alternate,!(n&30)&&!h4(s)&&(t=ph(e,n),t===2&&(o=Kv(e),o!==0&&(n=o,t=Cy(e,o))),t===1))throw r=au,Li(e,0),So(e,n),Zr(e,zt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ae(345));case 2:xi(e,Wr,$s);break;case 3:if(So(e,n),(n&130023424)===n&&(t=b0+500-zt(),10<t)){if(Zf(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Tr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ny(xi.bind(null,e,Wr,$s),t);break}xi(e,Wr,$s);break;case 4:if(So(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Kn(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=zt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*f4(n/1960))-n,10<n){e.timeoutHandle=ny(xi.bind(null,e,Wr,$s),n);break}xi(e,Wr,$s);break;case 5:xi(e,Wr,$s);break;default:throw Error(ae(329))}}}return Zr(e,zt()),e.callbackNode===r?Xk.bind(null,e):null}function Cy(e,t){var r=Pc;return e.current.memoizedState.isDehydrated&&(Li(e,t).flags|=256),e=ph(e,t),e!==2&&(t=Wr,Wr=r,t!==null&&_y(t)),e}function _y(e){Wr===null?Wr=e:Wr.push.apply(Wr,e)}function h4(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Qn(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function So(e,t){for(t&=~x0,t&=~Np,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Kn(t),n=1<<r;e[r]=-1,t&=~n}}function H1(e){if(Je&6)throw Error(ae(327));Ua();var t=Zf(e,0);if(!(t&1))return Zr(e,zt()),null;var r=ph(e,t);if(e.tag!==0&&r===2){var n=Kv(e);n!==0&&(t=n,r=Cy(e,n))}if(r===1)throw r=au,Li(e,0),So(e,t),Zr(e,zt()),r;if(r===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xi(e,Wr,$s),Zr(e,zt()),null}function w0(e,t){var r=Je;Je|=1;try{return e(t)}finally{Je=r,Je===0&&(tl=zt()+500,_p&&si())}}function $i(e){ko!==null&&ko.tag===0&&!(Je&6)&&Ua();var t=Je;Je|=1;var r=Nn.transition,n=dt;try{if(Nn.transition=null,dt=1,e)return e()}finally{dt=n,Nn.transition=r,Je=t,!(Je&6)&&si()}}function S0(){nn=Ta.current,jt(Ta)}function Li(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,WI(r)),qt!==null)for(r=qt.return;r!==null;){var n=r;switch(r0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&th();break;case 3:Ja(),jt(Yr),jt(_r),d0();break;case 5:u0(n);break;case 4:Ja();break;case 13:jt(Mt);break;case 19:jt(Mt);break;case 10:i0(n.type._context);break;case 22:case 23:S0()}r=r.return}if(lr=e,qt=e=Ro(e.current,null),yr=nn=t,Jt=0,au=null,x0=Np=Ii=0,Wr=Pc=null,Ei!==null){for(t=0;t<Ei.length;t++)if(r=Ei[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Ei=null}return e}function Qk(e,t){do{var r=qt;try{if(o0(),kf.current=uh,ch){for(var n=Lt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ch=!1}if(Ri=0,sr=Xt=Lt=null,kc=!1,su=0,y0.current=null,r===null||r.return===null){Jt=1,au=t,qt=null;break}e:{var o=e,i=r.return,a=r,c=t;if(t=yr,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=D1(i);if(m!==null){m.flags&=-257,T1(m,i,a,o,t),m.mode&1&&L1(o,d,t),t=m,c=d;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){L1(o,d,t),C0();break e}c=Error(ae(426))}}else if(Et&&a.mode&1){var b=D1(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),T1(b,i,a,o,t),n0(el(c,a));break e}}o=c=el(c,a),Jt!==4&&(Jt=2),Pc===null?Pc=[o]:Pc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Ak(o,c,t);j1(o,y);break e;case 1:a=c;var x=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Oo===null||!Oo.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=Rk(o,a,t);j1(o,S);break e}}o=o.return}while(o!==null)}t2(r)}catch(j){t=j,qt===r&&r!==null&&(qt=r=r.return);continue}break}while(!0)}function Jk(){var e=dh.current;return dh.current=uh,e===null?uh:e}function C0(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),lr===null||!(Ii&268435455)&&!(Np&268435455)||So(lr,yr)}function ph(e,t){var r=Je;Je|=2;var n=Jk();(lr!==e||yr!==t)&&($s=null,Li(e,t));do try{p4();break}catch(s){Qk(e,s)}while(!0);if(o0(),Je=r,dh.current=n,qt!==null)throw Error(ae(261));return lr=null,yr=0,Jt}function p4(){for(;qt!==null;)e2(qt)}function m4(){for(;qt!==null&&!BR();)e2(qt)}function e2(e){var t=n2(e.alternate,e,nn);e.memoizedProps=e.pendingProps,t===null?t2(e):qt=t,y0.current=null}function t2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=l4(r,t),r!==null){r.flags&=32767,qt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Jt=6,qt=null;return}}else if(r=a4(r,t,nn),r!==null){qt=r;return}if(t=t.sibling,t!==null){qt=t;return}qt=t=e}while(t!==null);Jt===0&&(Jt=5)}function xi(e,t,r){var n=dt,s=Nn.transition;try{Nn.transition=null,dt=1,g4(e,t,r,n)}finally{Nn.transition=s,dt=n}return null}function g4(e,t,r,n){do Ua();while(ko!==null);if(Je&6)throw Error(ae(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(ZR(e,o),e===lr&&(qt=lr=null,yr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hd||(Hd=!0,s2(Kf,function(){return Ua(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Nn.transition,Nn.transition=null;var i=dt;dt=1;var a=Je;Je|=4,y0.current=null,u4(e,r),Kk(r,e),RI(ty),Xf=!!ey,ty=ey=null,e.current=r,d4(r),UR(),Je=a,dt=i,Nn.transition=o}else e.current=r;if(Hd&&(Hd=!1,ko=e,hh=s),o=e.pendingLanes,o===0&&(Oo=null),VR(r.stateNode),Zr(e,zt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(fh)throw fh=!1,e=wy,wy=null,e;return hh&1&&e.tag!==0&&Ua(),o=e.pendingLanes,o&1?e===Sy?Mc++:(Mc=0,Sy=e):Mc=0,si(),null}function Ua(){if(ko!==null){var e=AE(hh),t=Nn.transition,r=dt;try{if(Nn.transition=null,dt=16>e?16:e,ko===null)var n=!1;else{if(e=ko,ko=null,hh=0,Je&6)throw Error(ae(331));var s=Je;for(Je|=4,ve=e.current;ve!==null;){var o=ve,i=o.child;if(ve.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(ve=d;ve!==null;){var u=ve;switch(u.tag){case 0:case 11:case 15:Nc(8,u,o)}var f=u.child;if(f!==null)f.return=u,ve=f;else for(;ve!==null;){u=ve;var h=u.sibling,m=u.return;if(Gk(u),u===d){ve=null;break}if(h!==null){h.return=m,ve=h;break}ve=m}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}ve=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ve=i;else e:for(;ve!==null;){if(o=ve,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Nc(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,ve=y;break e}ve=o.return}}var x=e.current;for(ve=x;ve!==null;){i=ve;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,ve=w;else e:for(i=x;ve!==null;){if(a=ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kp(9,a)}}catch(j){It(a,a.return,j)}if(a===i){ve=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ve=S;break e}ve=a.return}}if(Je=s,si(),bs&&typeof bs.onPostCommitFiberRoot=="function")try{bs.onPostCommitFiberRoot(xp,e)}catch{}n=!0}return n}finally{dt=r,Nn.transition=t}}return!1}function G1(e,t,r){t=el(r,t),t=Ak(e,t,1),e=To(e,t,1),t=Tr(),e!==null&&(Gu(e,1,t),Zr(e,t))}function It(e,t,r){if(e.tag===3)G1(e,e,r);else for(;t!==null;){if(t.tag===3){G1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Oo===null||!Oo.has(n))){e=el(r,e),e=Rk(t,e,1),t=To(t,e,1),e=Tr(),t!==null&&(Gu(t,1,e),Zr(t,e));break}}t=t.return}}function v4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Tr(),e.pingedLanes|=e.suspendedLanes&r,lr===e&&(yr&r)===r&&(Jt===4||Jt===3&&(yr&130023424)===yr&&500>zt()-b0?Li(e,0):x0|=r),Zr(e,t)}function r2(e,t){t===0&&(e.mode&1?(t=Ad,Ad<<=1,!(Ad&130023424)&&(Ad=4194304)):t=1);var r=Tr();e=Qs(e,t),e!==null&&(Gu(e,t,r),Zr(e,r))}function y4(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),r2(e,r)}function x4(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(t),r2(e,r)}var n2;n2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yr.current)Gr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gr=!1,i4(e,t,r);Gr=!!(e.flags&131072)}else Gr=!1,Et&&t.flags&1048576&&ak(t,sh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Pf(e,t),e=t.pendingProps;var s=Za(t,_r.current);Ba(t,r),s=h0(null,t,n,e,s,r);var o=p0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kr(n)?(o=!0,rh(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,l0(t),s.updater=Ep,t.stateNode=s,s._reactInternals=t,uy(t,n,e,r),t=hy(null,t,n,!0,o,r)):(t.tag=0,Et&&o&&t0(t),Lr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Pf(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=w4(n),e=Un(n,e),s){case 0:t=fy(null,t,n,e,r);break e;case 1:t=R1(null,t,n,e,r);break e;case 11:t=O1(null,t,n,e,r);break e;case 14:t=A1(null,t,n,Un(n.type,e),r);break e}throw Error(ae(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Un(n,s),fy(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Un(n,s),R1(e,t,n,s,r);case 3:e:{if(Bk(t),e===null)throw Error(ae(387));n=t.pendingProps,o=t.memoizedState,s=o.element,hk(e,t),ah(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=el(Error(ae(423)),t),t=I1(e,t,n,r,s);break e}else if(n!==s){s=el(Error(ae(424)),t),t=I1(e,t,n,r,s);break e}else for(an=Do(t.stateNode.containerInfo.firstChild),cn=t,Et=!0,Vn=null,r=dk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xa(),n===s){t=Js(e,t,r);break e}Lr(e,t,n,r)}t=t.child}return t;case 5:return pk(t),e===null&&ay(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,ry(n,s)?i=null:o!==null&&ry(n,o)&&(t.flags|=32),Fk(e,t),Lr(e,t,i,r),t.child;case 6:return e===null&&ay(t),null;case 13:return Uk(e,t,r);case 4:return c0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qa(t,null,n,r):Lr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Un(n,s),O1(e,t,n,s,r);case 7:return Lr(e,t,t.pendingProps,r),t.child;case 8:return Lr(e,t,t.pendingProps.children,r),t.child;case 12:return Lr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,yt(oh,n._currentValue),n._currentValue=i,o!==null)if(Qn(o.value,i)){if(o.children===s.children&&!Yr.current){t=Js(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Hs(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),ly(o.return,r,t),a.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ae(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),ly(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Lr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ba(t,r),s=Dn(s),n=n(s),t.flags|=1,Lr(e,t,n,r),t.child;case 14:return n=t.type,s=Un(n,t.pendingProps),s=Un(n.type,s),A1(e,t,n,s,r);case 15:return Ik(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Un(n,s),Pf(e,t),t.tag=1,Kr(n)?(e=!0,rh(t)):e=!1,Ba(t,r),Ok(t,n,s),uy(t,n,s,r),hy(null,t,n,!0,e,r);case 19:return zk(e,t,r);case 22:return $k(e,t,r)}throw Error(ae(156,t.tag))};function s2(e,t){return LE(e,t)}function b4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,t,r,n){return new b4(e,t,r,n)}function _0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w4(e){if(typeof e=="function")return _0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wx)return 11;if(e===Vx)return 14}return 2}function Ro(e,t){var r=e.alternate;return r===null?(r=En(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Df(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")_0(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ca:return Di(r.children,s,o,t);case zx:i=8,s|=8;break;case Ov:return e=En(12,r,t,s|2),e.elementType=Ov,e.lanes=o,e;case Av:return e=En(13,r,t,s),e.elementType=Av,e.lanes=o,e;case Rv:return e=En(19,r,t,s),e.elementType=Rv,e.lanes=o,e;case pE:return Pp(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fE:i=10;break e;case hE:i=9;break e;case Wx:i=11;break e;case Vx:i=14;break e;case vo:i=16,n=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=En(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Di(e,t,r,n){return e=En(7,e,n,t),e.lanes=r,e}function Pp(e,t,r,n){return e=En(22,e,n,t),e.elementType=pE,e.lanes=r,e.stateNode={isHidden:!1},e}function wg(e,t,r){return e=En(6,e,null,t),e.lanes=r,e}function Sg(e,t,r){return t=En(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function S4(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rg(0),this.expirationTimes=rg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rg(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function j0(e,t,r,n,s,o,i,a,c){return e=new S4(e,t,r,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=En(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},l0(o),e}function C4(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function o2(e){if(!e)return Ho;e=e._reactInternals;e:{if(Xi(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var r=e.type;if(Kr(r))return ok(e,r,t)}return t}function i2(e,t,r,n,s,o,i,a,c){return e=j0(r,n,!0,e,s,o,i,a,c),e.context=o2(null),r=e.current,n=Tr(),s=Ao(r),o=Hs(n,s),o.callback=t??null,To(r,o,s),e.current.lanes=s,Gu(e,s,n),Zr(e,n),e}function Mp(e,t,r,n){var s=t.current,o=Tr(),i=Ao(s);return r=o2(r),t.context===null?t.context=r:t.pendingContext=r,t=Hs(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=To(s,t,i),e!==null&&(Zn(e,s,i,o),Ef(e,s,i)),i}function mh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function q1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function E0(e,t){q1(e,t),(e=e.alternate)&&q1(e,t)}function _4(){return null}var a2=typeof reportError=="function"?reportError:function(e){console.error(e)};function k0(e){this._internalRoot=e}Lp.prototype.render=k0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));Mp(e,t,null,null)};Lp.prototype.unmount=k0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$i(function(){Mp(null,e,null,null)}),t[Xs]=null}};function Lp(e){this._internalRoot=e}Lp.prototype.unstable_scheduleHydration=function(e){if(e){var t=$E();e={blockedOn:null,target:e,priority:t};for(var r=0;r<wo.length&&t!==0&&t<wo[r].priority;r++);wo.splice(r,0,e),r===0&&BE(e)}};function N0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Y1(){}function j4(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var d=mh(i);o.call(d)}}var i=i2(t,n,e,0,null,!1,!1,"",Y1);return e._reactRootContainer=i,e[Xs]=i.current,Jc(e.nodeType===8?e.parentNode:e),$i(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var d=mh(c);a.call(d)}}var c=j0(e,0,!1,null,null,!1,!1,"",Y1);return e._reactRootContainer=c,e[Xs]=c.current,Jc(e.nodeType===8?e.parentNode:e),$i(function(){Mp(t,c,r,n)}),c}function Tp(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=mh(i);a.call(c)}}Mp(t,i,e,s)}else i=j4(r,t,e,s,n);return mh(i)}RE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mc(t.pendingLanes);r!==0&&(qx(t,r|1),Zr(t,zt()),!(Je&6)&&(tl=zt()+500,si()))}break;case 13:$i(function(){var n=Qs(e,1);if(n!==null){var s=Tr();Zn(n,e,1,s)}}),E0(e,1)}};Yx=function(e){if(e.tag===13){var t=Qs(e,134217728);if(t!==null){var r=Tr();Zn(t,e,134217728,r)}E0(e,134217728)}};IE=function(e){if(e.tag===13){var t=Ao(e),r=Qs(e,t);if(r!==null){var n=Tr();Zn(r,e,t,n)}E0(e,t)}};$E=function(){return dt};FE=function(e,t){var r=dt;try{return dt=e,t()}finally{dt=r}};Gv=function(e,t,r){switch(t){case"input":if(Fv(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Cp(n);if(!s)throw Error(ae(90));gE(n),Fv(n,s)}}}break;case"textarea":yE(e,r);break;case"select":t=r.value,t!=null&&Ra(e,!!r.multiple,t,!1)}};jE=w0;EE=$i;var E4={usingClientEntryPoint:!1,Events:[Yu,ka,Cp,CE,_E,w0]},Xl={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k4={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:no.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=PE(e),e===null?null:e.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||_4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{xp=Gd.inject(k4),bs=Gd}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E4;gn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N0(t))throw Error(ae(200));return C4(e,t,null,r)};gn.createRoot=function(e,t){if(!N0(e))throw Error(ae(299));var r=!1,n="",s=a2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=j0(e,1,!1,null,null,r,!1,n,s),e[Xs]=t.current,Jc(e.nodeType===8?e.parentNode:e),new k0(t)};gn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=PE(t),e=e===null?null:e.stateNode,e};gn.flushSync=function(e){return $i(e)};gn.hydrate=function(e,t,r){if(!Dp(t))throw Error(ae(200));return Tp(null,e,t,!0,r)};gn.hydrateRoot=function(e,t,r){if(!N0(e))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=a2;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=i2(t,null,e,1,r??null,s,!1,o,i),e[Xs]=t.current,Jc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Lp(t)};gn.render=function(e,t,r){if(!Dp(t))throw Error(ae(200));return Tp(null,e,t,!1,r)};gn.unmountComponentAtNode=function(e){if(!Dp(e))throw Error(ae(40));return e._reactRootContainer?($i(function(){Tp(null,null,e,!1,function(){e._reactRootContainer=null,e[Xs]=null})}),!0):!1};gn.unstable_batchedUpdates=w0;gn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Dp(r))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return Tp(e,t,r,!1,n)};gn.version="18.3.1-next-f1338f8080-20240426";function l2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l2)}catch(e){console.error(e)}}l2(),lE.exports=gn;var Ir=lE.exports;const Op=Tx(Ir);var c2,K1=Ir;c2=K1.createRoot,K1.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(this,arguments)}var No;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(No||(No={}));const Z1="popstate";function N4(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:a}=n.location;return jy("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:gh(s)}return M4(t,r,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function u2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function P4(){return Math.random().toString(36).substr(2,8)}function X1(e,t){return{usr:e.state,key:e.key,idx:t}}function jy(e,t,r,n){return r===void 0&&(r=null),lu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Sl(t):t,{state:r,key:t&&t.key||n||P4()})}function gh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function M4(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=No.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(lu({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function f(){a=No.Pop;let b=u(),y=b==null?null:b-d;d=b,c&&c({action:a,location:v.location,delta:y})}function h(b,y){a=No.Push;let x=jy(v.location,b,y);d=u()+1;let w=X1(x,d),S=v.createHref(x);try{i.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}o&&c&&c({action:a,location:v.location,delta:1})}function m(b,y){a=No.Replace;let x=jy(v.location,b,y);d=u();let w=X1(x,d),S=v.createHref(x);i.replaceState(w,"",S),o&&c&&c({action:a,location:v.location,delta:0})}function g(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:gh(b);return x=x.replace(/ $/,"%20"),Wt(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return a},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Z1,f),c=b,()=>{s.removeEventListener(Z1,f),c=null}},createHref(b){return t(s,b)},createURL:g,encodeLocation(b){let y=g(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(b){return i.go(b)}};return v}var Q1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Q1||(Q1={}));function L4(e,t,r){return r===void 0&&(r="/"),D4(e,t,r,!1)}function D4(e,t,r,n){let s=typeof t=="string"?Sl(t):t,o=P0(s.pathname||"/",r);if(o==null)return null;let i=d2(e);T4(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let d=V4(o);a=z4(i[c],d,n)}return a}function d2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Wt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Io([n,c.relativePath]),u=r.concat(c);o.children&&o.children.length>0&&(Wt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),d2(o.children,t,u,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:B4(d,o.index),routesMeta:u})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of f2(o.path))s(o,i,c)}),t}function f2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=f2(n.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function T4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:U4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const O4=/^:[\w-]+$/,A4=3,R4=2,I4=1,$4=10,F4=-2,J1=e=>e==="*";function B4(e,t){let r=e.split("/"),n=r.length;return r.some(J1)&&(n+=F4),t&&(n+=R4),r.filter(s=>!J1(s)).reduce((s,o)=>s+(O4.test(o)?A4:o===""?I4:$4),n)}function U4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function z4(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let c=n[a],d=a===n.length-1,u=o==="/"?t:t.slice(o.length)||"/",f=eS({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=eS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Io([o,f.pathname]),pathnameBase:Y4(Io([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Io([o,f.pathnameBase]))}return i}function eS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=W4(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let v=a[f]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[f];return m&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:e}}function W4(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),u2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function V4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return u2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function P0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function H4(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Sl(e):e;return{pathname:r?r.startsWith("/")?r:G4(r,t):t,search:K4(n),hash:Z4(s)}}function G4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Cg(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function M0(e,t){let r=q4(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function L0(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Sl(e):(s=lu({},e),Wt(!s.pathname||!s.pathname.includes("?"),Cg("?","pathname","search",s)),Wt(!s.pathname||!s.pathname.includes("#"),Cg("#","pathname","hash",s)),Wt(!s.search||!s.search.includes("#"),Cg("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let c=H4(s,a),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Io=e=>e.join("/").replace(/\/\/+/g,"/"),Y4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Z4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function X4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const h2=["post","put","patch","delete"];new Set(h2);const Q4=["get",...h2];new Set(Q4);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(this,arguments)}const D0=p.createContext(null),J4=p.createContext(null),oi=p.createContext(null),Ap=p.createContext(null),so=p.createContext({outlet:null,matches:[],isDataRoute:!1}),p2=p.createContext(null);function e3(e,t){let{relative:r}=t===void 0?{}:t;Cl()||Wt(!1);let{basename:n,navigator:s}=p.useContext(oi),{hash:o,pathname:i,search:a}=g2(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Io([n,i])),s.createHref({pathname:c,search:a,hash:o})}function Cl(){return p.useContext(Ap)!=null}function ii(){return Cl()||Wt(!1),p.useContext(Ap).location}function m2(e){p.useContext(oi).static||p.useLayoutEffect(e)}function Tt(){let{isDataRoute:e}=p.useContext(so);return e?h3():t3()}function t3(){Cl()||Wt(!1);let e=p.useContext(D0),{basename:t,future:r,navigator:n}=p.useContext(oi),{matches:s}=p.useContext(so),{pathname:o}=ii(),i=JSON.stringify(M0(s,r.v7_relativeSplatPath)),a=p.useRef(!1);return m2(()=>{a.current=!0}),p.useCallback(function(d,u){if(u===void 0&&(u={}),!a.current)return;if(typeof d=="number"){n.go(d);return}let f=L0(d,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Io([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,i,o,e])}function Zu(){let{matches:e}=p.useContext(so),t=e[e.length-1];return t?t.params:{}}function g2(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(oi),{matches:s}=p.useContext(so),{pathname:o}=ii(),i=JSON.stringify(M0(s,n.v7_relativeSplatPath));return p.useMemo(()=>L0(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function r3(e,t){return n3(e,t)}function n3(e,t,r,n){Cl()||Wt(!1);let{navigator:s}=p.useContext(oi),{matches:o}=p.useContext(so),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=ii(),u;if(t){var f;let b=typeof t=="string"?Sl(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Wt(!1),u=b}else u=d;let h=u.pathname||"/",m=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=L4(e,{pathname:m}),v=l3(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Io([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Io([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return t&&v?p.createElement(Ap.Provider,{value:{location:cu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:No.Pop}},v):v}function s3(){let e=f3(),t=X4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const o3=p.createElement(s3,null);class i3 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(so.Provider,{value:this.props.routeContext},p.createElement(p2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a3(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(D0);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(so.Provider,{value:t},n)}function l3(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||Wt(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,f,h)=>{let m,g=!1,v=null,b=null;r&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||o3,c&&(d<0&&h===0?(g=!0,b=null):d===h&&(g=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),x=()=>{let w;return m?w=v:g?w=b:f.route.Component?w=p.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,p.createElement(a3,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(i3,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var v2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(v2||{}),vh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vh||{});function c3(e){let t=p.useContext(D0);return t||Wt(!1),t}function u3(e){let t=p.useContext(J4);return t||Wt(!1),t}function d3(e){let t=p.useContext(so);return t||Wt(!1),t}function y2(e){let t=d3(),r=t.matches[t.matches.length-1];return r.route.id||Wt(!1),r.route.id}function f3(){var e;let t=p.useContext(p2),r=u3(vh.UseRouteError),n=y2(vh.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function h3(){let{router:e}=c3(v2.UseNavigateStable),t=y2(vh.UseNavigateStable),r=p.useRef(!1);return m2(()=>{r.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,cu({fromRouteId:t},o)))},[e,t])}function p3(e){let{to:t,replace:r,state:n,relative:s}=e;Cl()||Wt(!1);let{future:o,static:i}=p.useContext(oi),{matches:a}=p.useContext(so),{pathname:c}=ii(),d=Tt(),u=L0(t,M0(a,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(u);return p.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:s}),[d,f,s,r,n]),null}function ht(e){Wt(!1)}function m3(e){let{basename:t="/",children:r=null,location:n,navigationType:s=No.Pop,navigator:o,static:i=!1,future:a}=e;Cl()&&Wt(!1);let c=t.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:c,navigator:o,static:i,future:cu({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof n=="string"&&(n=Sl(n));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,v=p.useMemo(()=>{let b=P0(u,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:g},navigationType:s}},[c,u,f,h,m,g,s]);return v==null?null:p.createElement(oi.Provider,{value:d},p.createElement(Ap.Provider,{children:r,value:v}))}function g3(e){let{children:t,location:r}=e;return r3(Ey(t),r)}new Promise(()=>{});function Ey(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let o=[...t,s];if(n.type===p.Fragment){r.push.apply(r,Ey(n.props.children,o));return}n.type!==ht&&Wt(!1),!n.props.index||!n.props.children||Wt(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Ey(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(this,arguments)}function v3(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function y3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function x3(e,t){return e.button===0&&(!t||t==="_self")&&!y3(e)}function Ny(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function b3(e,t){let r=Ny(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const w3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],S3="6";try{window.__reactRouterVersion=S3}catch{}const C3="startTransition",tS=$x[C3];function _3(e){let{basename:t,children:r,future:n,window:s}=e,o=p.useRef();o.current==null&&(o.current=N4({window:s,v5Compat:!0}));let i=o.current,[a,c]=p.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},u=p.useCallback(f=>{d&&tS?tS(()=>c(f)):c(f)},[c,d]);return p.useLayoutEffect(()=>i.listen(u),[i,u]),p.createElement(m3,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}const j3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",E3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:a,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,h=v3(t,w3),{basename:m}=p.useContext(oi),g,v=!1;if(typeof d=="string"&&E3.test(d)&&(g=d,j3))try{let w=new URL(window.location.href),S=d.startsWith("//")?new URL(w.protocol+d):new URL(d),j=P0(S.pathname,m);S.origin===w.origin&&j!=null?d=j+S.search+S.hash:v=!0}catch{}let b=e3(d,{relative:s}),y=k3(d,{replace:i,state:a,target:c,preventScrollReset:u,relative:s,viewTransition:f});function x(w){n&&n(w),w.defaultPrevented||y(w)}return p.createElement("a",ky({},h,{href:g||b,onClick:v||o?n:x,ref:r,target:c}))});var rS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rS||(rS={}));var nS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nS||(nS={}));function k3(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,c=Tt(),d=ii(),u=g2(e,{relative:i});return p.useCallback(f=>{if(x3(f,r)){f.preventDefault();let h=n!==void 0?n:gh(d)===gh(u);c(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[d,c,u,n,s,r,e,o,i,a])}function x2(e){let t=p.useRef(Ny(e)),r=p.useRef(!1),n=ii(),s=p.useMemo(()=>b3(n.search,r.current?null:t.current),[n.search]),o=Tt(),i=p.useCallback((a,c)=>{const d=Ny(typeof a=="function"?a(s):a);r.current=!0,o("?"+d,c)},[o,s]);return[s,i]}function N3(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Rp(...e){return t=>e.forEach(r=>N3(r,t))}function Be(...e){return p.useCallback(Rp(...e),e)}var Cs=p.forwardRef((e,t)=>{const{children:r,...n}=e,s=p.Children.toArray(r),o=s.find(P3);if(o){const i=o.props.children,a=s.map(c=>c===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:c);return l.jsx(Py,{...n,ref:t,children:p.isValidElement(i)?p.cloneElement(i,void 0,a):null})}return l.jsx(Py,{...n,ref:t,children:r})});Cs.displayName="Slot";var Py=p.forwardRef((e,t)=>{const{children:r,...n}=e;if(p.isValidElement(r)){const s=L3(r);return p.cloneElement(r,{...M3(n,r.props),ref:t?Rp(t,s):s})}return p.Children.count(r)>1?p.Children.only(null):null});Py.displayName="SlotClone";var b2=({children:e})=>l.jsx(l.Fragment,{children:e});function P3(e){return p.isValidElement(e)&&e.type===b2}function M3(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{o(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function L3(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function w2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=w2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function S2(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=w2(e))&&(n&&(n+=" "),n+=t);return n}const sS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,oS=S2,Ip=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return oS(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(d=>{const u=r==null?void 0:r[d],f=o==null?void 0:o[d];if(u===null)return null;const h=sS(u)||sS(f);return s[d][h]}),a=r&&Object.entries(r).reduce((d,u)=>{let[f,h]=u;return h===void 0||(d[f]=h),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(g=>{let[v,b]=g;return Array.isArray(b)?b.includes({...o,...a}[v]):{...o,...a}[v]===b})?[...d,f,h]:d},[]);return oS(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},T0="-",D3=e=>{const t=O3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(T0);return a[0]===""&&a.length!==1&&a.shift(),C2(a,t)||T3(i)},getConflictingClassGroupIds:(i,a)=>{const c=r[i]||[];return a&&n[i]?[...c,...n[i]]:c}}},C2=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?C2(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(T0);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},iS=/^\[(.+)\]$/,T3=e=>{if(iS.test(e)){const t=iS.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},O3=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return R3(Object.entries(e.classGroups),r).forEach(([o,i])=>{My(i,n,o,t)}),n},My=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:aS(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(A3(s)){My(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{My(i,aS(t,o),r,n)})})},aS=(e,t)=>{let r=e;return t.split(T0).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},A3=e=>e.isThemeGetter,R3=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,I3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},_2="!",$3=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let d=0,u=0,f;for(let b=0;b<a.length;b++){let y=a[b];if(d===0){if(y===s&&(n||a.slice(b,b+o)===t)){c.push(a.slice(u,b)),u=b+o;continue}if(y==="/"){f=b;continue}}y==="["?d++:y==="]"&&d--}const h=c.length===0?a:a.substring(u),m=h.startsWith(_2),g=m?h.substring(1):h,v=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};return r?a=>r({className:a,parseClassName:i}):i},F3=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},B3=e=>({cache:I3(e.cacheSize),parseClassName:$3(e),...D3(e)}),U3=/\s+/,z3=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(U3);let a="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(d);let g=!!m,v=n(g?h.substring(0,m):h);if(!v){if(!g){a=d+(a.length>0?" "+a:a);continue}if(v=n(h),!v){a=d+(a.length>0?" "+a:a);continue}g=!1}const b=F3(u).join(":"),y=f?b+_2:b,x=y+v;if(o.includes(x))continue;o.push(x);const w=s(v,g);for(let S=0;S<w.length;++S){const j=w[S];o.push(y+j)}a=d+(a.length>0?" "+a:a)}return a};function W3(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=j2(t))&&(n&&(n+=" "),n+=r);return n}const j2=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=j2(e[n]))&&(r&&(r+=" "),r+=t);return r};function V3(e,...t){let r,n,s,o=i;function i(c){const d=t.reduce((u,f)=>f(u),e());return r=B3(d),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const d=n(c);if(d)return d;const u=z3(c,r);return s(c,u),u}return function(){return o(W3.apply(null,arguments))}}const Ct=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},E2=/^\[(?:([a-z-]+):)?(.+)\]$/i,H3=/^\d+\/\d+$/,G3=new Set(["px","full","screen"]),q3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Y3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,K3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Z3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,X3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Os=e=>za(e)||G3.has(e)||H3.test(e),lo=e=>_l(e,"length",o5),za=e=>!!e&&!Number.isNaN(Number(e)),_g=e=>_l(e,"number",za),Ql=e=>!!e&&Number.isInteger(Number(e)),Q3=e=>e.endsWith("%")&&za(e.slice(0,-1)),$e=e=>E2.test(e),co=e=>q3.test(e),J3=new Set(["length","size","percentage"]),e5=e=>_l(e,J3,k2),t5=e=>_l(e,"position",k2),r5=new Set(["image","url"]),n5=e=>_l(e,r5,a5),s5=e=>_l(e,"",i5),Jl=()=>!0,_l=(e,t,r)=>{const n=E2.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},o5=e=>Y3.test(e)&&!K3.test(e),k2=()=>!1,i5=e=>Z3.test(e),a5=e=>X3.test(e),l5=()=>{const e=Ct("colors"),t=Ct("spacing"),r=Ct("blur"),n=Ct("brightness"),s=Ct("borderColor"),o=Ct("borderRadius"),i=Ct("borderSpacing"),a=Ct("borderWidth"),c=Ct("contrast"),d=Ct("grayscale"),u=Ct("hueRotate"),f=Ct("invert"),h=Ct("gap"),m=Ct("gradientColorStops"),g=Ct("gradientColorStopPositions"),v=Ct("inset"),b=Ct("margin"),y=Ct("opacity"),x=Ct("padding"),w=Ct("saturate"),S=Ct("scale"),j=Ct("sepia"),C=Ct("skew"),M=Ct("space"),k=Ct("translate"),E=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",$e,t],D=()=>[$e,t],L=()=>["",Os,lo],A=()=>["auto",za,$e],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],N=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",$e],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[za,$e];return{cacheSize:500,separator:":",theme:{colors:[Jl],spacing:[Os,lo],blur:["none","",co,$e],brightness:V(),borderColor:[e],borderRadius:["none","","full",co,$e],borderSpacing:D(),borderWidth:L(),contrast:V(),grayscale:R(),hueRotate:V(),invert:R(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[Q3,lo],inset:P(),margin:P(),opacity:V(),padding:D(),saturate:V(),scale:V(),sepia:R(),skew:V(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[co]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),$e]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ql,$e]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Ql,$e]}],"grid-cols":[{"grid-cols":[Jl]}],"col-start-end":[{col:["auto",{span:["full",Ql,$e]},$e]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[Jl]}],"row-start-end":[{row:["auto",{span:[Ql,$e]},$e]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,t]}],"min-w":[{"min-w":[$e,t,"min","max","fit"]}],"max-w":[{"max-w":[$e,t,"none","full","min","max","fit","prose",{screen:[co]},co]}],h:[{h:[$e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",co,lo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_g]}],"font-family":[{font:[Jl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",za,_g]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Os,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Os,lo]}],"underline-offset":[{"underline-offset":["auto",Os,$e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),t5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",e5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},n5]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:T()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[Os,$e]}],"outline-w":[{outline:[Os,lo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Os,lo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",co,s5]}],"shadow-color":[{shadow:[Jl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...N(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":N()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",co,$e]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Ql,$e]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Os,lo,_g]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},c5=V3(l5);function me(...e){return c5(S2(e))}const Ly=Ip("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?Cs:"button";return l.jsx(i,{className:me(Ly({variant:t,size:r,className:e})),ref:o,...s})});re.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N2=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},c)=>p.createElement("svg",{ref:c,...d5,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:N2("lucide",s),...a},[...i.map(([d,u])=>p.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(e,t)=>{const r=p.forwardRef(({className:n,...s},o)=>p.createElement(f5,{ref:o,iconNode:t,className:N2(`lucide-${u5(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=ye("Bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=ye("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=ye("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=ye("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=ye("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=ye("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=ye("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=ye("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=ye("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=ye("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=ye("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=ye("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=ye("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=ye("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=ye("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=ye("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=ye("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=ye("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=ye("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=ye("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=ye("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ye("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=ye("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ye("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=ye("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),H5="modulepreload",G5=function(e){return"/"+e},dS={},nl=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=G5(c),c in dS)return;dS[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":H5,d||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},q5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nl(async()=>{const{default:n}=await Promise.resolve().then(()=>El);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class I0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Y5 extends I0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class K5 extends I0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Z5 extends I0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Oy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Oy||(Oy={}));var X5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};class Q5{constructor(t,{headers:r={},customFetch:n,region:s=Oy.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=q5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return X5(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let a={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(a["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(a["Content-Type"]="application/json",d=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(g=>{throw new Y5(g)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new K5(u);if(!u.ok)throw new Z5(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield u.json():h==="application/octet-stream"?m=yield u.blob():h==="text/event-stream"?m=u:h==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Vr={},$0={},Up={},Xu={},zp={},Wp={},J5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sl=J5();const e$=sl.fetch,O2=sl.fetch.bind(sl),A2=sl.Headers,t$=sl.Request,r$=sl.Response,El=Object.freeze(Object.defineProperty({__proto__:null,Headers:A2,Request:t$,Response:r$,default:O2,fetch:e$},Symbol.toStringTag,{value:"Module"})),n$=rR(El);var Vp={};Object.defineProperty(Vp,"__esModule",{value:!0});let s$=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Vp.default=s$;var R2=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wp,"__esModule",{value:!0});const o$=R2(n$),i$=R2(Vp);let a$=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=o$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,c;let d=null,u=null,f=null,h=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const v=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await o.text();try{d=JSON.parse(v),Array.isArray(d)&&o.status===404&&(u=[],d=null,h=200,m="OK")}catch{o.status===404&&v===""?(h=204,m="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,h=200,m="OK"),d&&this.shouldThrowOnError)throw new i$.default(d)}return{error:d,data:u,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Wp.default=a$;var l$=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zp,"__esModule",{value:!0});const c$=l$(Wp);let u$=class extends c$.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};zp.default=u$;var d$=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xu,"__esModule",{value:!0});const f$=d$(zp);let h$=class extends f$.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Xu.default=h$;var p$=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Up,"__esModule",{value:!0});const ec=p$(Xu);let m$=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new ec.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(i.length>0){const a=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new ec.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new ec.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new ec.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ec.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Up.default=m$;var Hp={},Gp={};Object.defineProperty(Gp,"__esModule",{value:!0});Gp.version=void 0;Gp.version="0.0.0-automated";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.DEFAULT_HEADERS=void 0;const g$=Gp;Hp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${g$.version}`};var I2=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($0,"__esModule",{value:!0});const v$=I2(Up),y$=I2(Xu),x$=Hp;let b$=class $2{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},x$.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new v$.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{a.searchParams.append(u,f)})):(i="POST",c=r);const d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new y$.default({method:i,url:a,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};$0.default=b$;var kl=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.PostgrestError=Vr.PostgrestBuilder=Vr.PostgrestTransformBuilder=Vr.PostgrestFilterBuilder=Vr.PostgrestQueryBuilder=Vr.PostgrestClient=void 0;const F2=kl($0);Vr.PostgrestClient=F2.default;const B2=kl(Up);Vr.PostgrestQueryBuilder=B2.default;const U2=kl(Xu);Vr.PostgrestFilterBuilder=U2.default;const z2=kl(zp);Vr.PostgrestTransformBuilder=z2.default;const W2=kl(Wp);Vr.PostgrestBuilder=W2.default;const V2=kl(Vp);Vr.PostgrestError=V2.default;var w$=Vr.default={PostgrestClient:F2.default,PostgrestQueryBuilder:B2.default,PostgrestFilterBuilder:U2.default,PostgrestTransformBuilder:z2.default,PostgrestBuilder:W2.default,PostgrestError:V2.default};const{PostgrestClient:S$,PostgrestQueryBuilder:vse,PostgrestFilterBuilder:yse,PostgrestTransformBuilder:xse,PostgrestBuilder:bse,PostgrestError:wse}=w$,C$="2.11.2",_$={"X-Client-Info":`realtime-js/${C$}`},j$="1.0.0",H2=1e4,E$=1e3;var Wa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wa||(Wa={}));var tn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(tn||(tn={}));var Wn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wn||(Wn={}));var Ay;(function(e){e.websocket="websocket"})(Ay||(Ay={}));var Ci;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ci||(Ci={}));class k${constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const d=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:c,payload:d}}}class G2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(vt||(vt={}));const fS=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=N$(i,e,t,s),o),{})},N$=(e,t,r,n)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?q2(o,i):Ry(i)},q2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return D$(t,r)}switch(e){case vt.bool:return P$(t);case vt.float4:case vt.float8:case vt.int2:case vt.int4:case vt.int8:case vt.numeric:case vt.oid:return M$(t);case vt.json:case vt.jsonb:return L$(t);case vt.timestamp:return T$(t);case vt.abstime:case vt.date:case vt.daterange:case vt.int4range:case vt.int8range:case vt.money:case vt.reltime:case vt.text:case vt.time:case vt.timestamptz:case vt.timetz:case vt.tsrange:case vt.tstzrange:return Ry(t);default:return Ry(t)}},Ry=e=>e,P$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},L$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},D$=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>q2(t,a))}return e},T$=e=>typeof e=="string"?e.replace(" ","T"):e,Y2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Eg{constructor(t,r,n={},s=H2){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hS||(hS={}));class Lc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lc.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Lc.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Lc.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),a={},c={};return this.map(o,(d,u)=>{i[d]||(c[d]=u)}),this.map(i,(d,u)=>{const f=o[d];if(f){const h=u.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),g=u.filter(b=>m.indexOf(b.presence_ref)<0),v=f.filter(b=>h.indexOf(b.presence_ref)<0);g.length>0&&(a[d]=g),v.length>0&&(c[d]=v)}else a[d]=u}),this.syncDiff(o,{joins:a,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var d;const u=(d=t[a])!==null&&d!==void 0?d:[];if(t[a]=this.cloneDeep(c),u.length>0){const f=t[a].map(m=>m.presence_ref),h=u.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...h)}n(a,u,c)}),this.map(i,(a,c)=>{let d=t[a];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=d,s(a,d,c),d.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(pS||(pS={}));var mS;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mS||(mS={}));var Fs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fs||(Fs={}));class F0{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=tn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Eg(this,Wn.join,this.params,this.timeout),this.rejoinTimer=new G2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Lc(this),this.broadcastEndpointURL=Y2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(u=>t==null?void 0:t(Fs.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Fs.CLOSED));const c={},d={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(Fs.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let v=0;v<m;v++){const b=h[v],{filter:{event:y,schema:x,table:w,filter:S}}=b,j=u&&u[v];if(j&&j.event===y&&j.schema===x&&j.table===w&&j.filter===S)g.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),t==null||t(Fs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Fs.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(Fs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Eg(this,Wn.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Eg(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:d,join:u}=Wn;if(n&&[a,c,d,u].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,v,b;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(v=m.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(m=>m.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var g,v,b,y,x,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const S=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return S&&((v=r.ids)===null||v===void 0?void 0:v.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(x=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:v,table:b,commit_timestamp:y,type:x,errors:w}=g;h=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:y,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===tn.closed}_isJoined(){return this.state===tn.joined}_isJoining(){return this.state===tn.joining}_isLeaving(){return this.state===tn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&F0.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wn.close,{},t)}_onError(t){this._on(Wn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=fS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=fS(t.columns,t.old_record)),r}}const O$=()=>{},A$=typeof WebSocket<"u",R$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class I${constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=_$,this.params={},this.timeout=H2,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=O$,this.conn=null,this.sendBuffer=[],this.serializer=new k$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>nl(async()=>{const{default:c}=await Promise.resolve().then(()=>El);return{default:c}},void 0).then(({default:c})=>c(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${Ay.websocket}`,this.httpEndpoint=Y2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new G2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(A$){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new $$(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),nl(async()=>{const{default:t}=await import("./browser-DslNPeMY.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:j$}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wa.connecting:return Ci.Connecting;case Wa.open:return Ci.Open;case Wa.closing:return Ci.Closing;default:return Ci.Closed}}isConnected(){return this.connectionState()===Ci.Open}channel(t,r={config:{}}){const n=new F0(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Wn.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(E$,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([R$],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class $${constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Wa.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class B0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class F$ extends B0{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Iy extends B0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var B$=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};const K2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nl(async()=>{const{default:n}=await Promise.resolve().then(()=>El);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},U$=()=>B$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nl(()=>Promise.resolve().then(()=>El),void 0)).Response:Response}),$y=e=>{if(Array.isArray(e))return e.map(r=>$y(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=$y(n)}),t};var Ji=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};const kg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),z$=(e,t,r)=>Ji(void 0,void 0,void 0,function*(){const n=yield U$();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new F$(kg(s),e.status||500))}).catch(s=>{t(new Iy(kg(s),s))}):t(new Iy(kg(e),e))}),W$=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Qu(e,t,r,n,s,o){return Ji(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,W$(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>z$(c,a,n))})})}function xh(e,t,r,n){return Ji(this,void 0,void 0,function*(){return Qu(e,"GET",t,r,n)})}function xo(e,t,r,n,s){return Ji(this,void 0,void 0,function*(){return Qu(e,"POST",t,n,s,r)})}function V$(e,t,r,n,s){return Ji(this,void 0,void 0,function*(){return Qu(e,"PUT",t,n,s,r)})}function H$(e,t,r,n){return Ji(this,void 0,void 0,function*(){return Qu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Z2(e,t,r,n,s){return Ji(this,void 0,void 0,function*(){return Qu(e,"DELETE",t,n,s,r)})}var Fr=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};const G$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class q${constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=K2(s)}uploadOrUpdate(t,r,n,s){return Fr(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},gS),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:d,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(nr(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Fr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Fr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:gS.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(nr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Fr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield xo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new B0("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(n){if(nr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Fr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Fr(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(nr(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Fr(this,void 0,void 0,function*(){try{return{data:{path:(yield xo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(nr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Fr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield xo(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(nr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Fr(this,void 0,void 0,function*(){try{const s=yield xo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(nr(s))return{data:null,error:s};throw s}})}download(t,r){return Fr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield xh(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(nr(a))return{data:null,error:a};throw a}})}info(t){return Fr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield xh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:$y(n),error:null}}catch(n){if(nr(n))return{data:null,error:n};throw n}})}exists(t){return Fr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield H$(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(nr(n)&&n instanceof Iy){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${d}`)}}}remove(t){return Fr(this,void 0,void 0,function*(){try{return{data:yield Z2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(nr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Fr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},G$),r),{prefix:t||""});return{data:yield xo(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(nr(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Y$="2.7.1",K$={"X-Client-Info":`storage-js/${Y$}`};var aa=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};class Z${constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},K$),r),this.fetch=K2(n)}listBuckets(){return aa(this,void 0,void 0,function*(){try{return{data:yield xh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(nr(t))return{data:null,error:t};throw t}})}getBucket(t){return aa(this,void 0,void 0,function*(){try{return{data:yield xh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(nr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return aa(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(nr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return aa(this,void 0,void 0,function*(){try{return{data:yield V$(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(nr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return aa(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(nr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return aa(this,void 0,void 0,function*(){try{return{data:yield Z2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(nr(r))return{data:null,error:r};throw r}})}}class X$ extends Z${constructor(t,r={},n){super(t,r,n)}from(t){return new q$(this.url,this.headers,t,this.fetch)}}const Q$="2.49.3";let vc="";typeof Deno<"u"?vc="deno":typeof document<"u"?vc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vc="react-native":vc="node";const J$={"X-Client-Info":`supabase-js-${vc}/${Q$}`},e6={headers:J$},t6={schema:"public"},r6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n6={};var s6=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};const o6=e=>{let t;return e?t=e:typeof fetch>"u"?t=O2:t=fetch,(...r)=>t(...r)},i6=()=>typeof Headers>"u"?A2:Headers,a6=(e,t,r)=>{const n=o6(r),s=i6();return(o,i)=>s6(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let d=new s(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:d}))})};var l6=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};function c6(e){return e.replace(/\/$/,"")}function u6(e,t){const{db:r,auth:n,realtime:s,global:o}=e,{db:i,auth:a,realtime:c,global:d}=t,u={db:Object.assign(Object.assign({},i),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},d),o),accessToken:()=>l6(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const X2="2.69.1",ya=30*1e3,Fy=3,Ng=Fy*ya,d6="http://localhost:9999",f6="supabase.auth.token",h6={"X-Client-Info":`gotrue-js/${X2}`},By="X-Supabase-Api-Version",Q2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},p6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,m6=6e5;class U0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class g6 extends U0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function v6(e){return Fe(e)&&e.name==="AuthApiError"}class J2 extends U0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ai extends U0{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class fo extends ai{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function y6(e){return Fe(e)&&e.name==="AuthSessionMissingError"}class Pg extends ai{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yd extends ai{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Kd extends ai{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function x6(e){return Fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class vS extends ai{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uy extends ai{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Mg(e){return Fe(e)&&e.name==="AuthRetryableFetchError"}class yS extends ai{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Dc extends ai{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bS=` 	
\r=`.split(""),b6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bS.length;t+=1)e[bS[t].charCodeAt(0)]=-2;for(let t=0;t<xS.length;t+=1)e[xS[t].charCodeAt(0)]=t;return e})();function eN(e,t,r){const n=b6[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wS(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{C6(i,n,r)};for(let i=0;i<e.length;i+=1)eN(e.charCodeAt(i),s,o);return t.join("")}function w6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function S6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}w6(n,t)}}function C6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function _6(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)eN(e.charCodeAt(s),r,n);return new Uint8Array(t)}function j6(e){const t=[];return S6(e,r=>t.push(r)),new Uint8Array(t)}function E6(e){return Math.round(Date.now()/1e3)+e}function k6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const fs=()=>typeof window<"u"&&typeof document<"u",pi={tested:!1,writable:!1},Tc=()=>{if(!fs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pi.tested)return pi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pi.tested=!0,pi.writable=!0}catch{pi.tested=!0,pi.writable=!1}return pi.writable};function N6(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const tN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nl(async()=>{const{default:n}=await Promise.resolve().then(()=>El);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},P6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rN=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Zd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Xd=async(e,t)=>{await e.removeItem(t)};class qp{constructor(){this.promise=new qp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}qp.promiseConstructor=Promise;function Lg(e){const t=e.split(".");if(t.length!==3)throw new Dc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!p6.test(t[n]))throw new Dc("JWT not in base64url format");return{header:JSON.parse(wS(t[0])),payload:JSON.parse(wS(t[1])),signature:_6(t[2]),raw:{header:t[0],payload:t[1]}}}async function M6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function L6(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function D6(e){return("0"+e.toString(16)).substr(-2)}function T6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,D6).join("")}async function O6(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function A6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await O6(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function la(e,t,r=!1){const n=T6();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await rN(e,`${t}-code-verifier`,s);const o=await A6(n);return[o,n===o?"plain":"s256"]}const R6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function I6(e){const t=e.headers.get(By);if(!t||!t.match(R6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function F6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var B6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const bi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),U6=[502,503,504];async function SS(e){var t;if(!P6(e))throw new Uy(bi(e),0);if(U6.includes(e.status))throw new Uy(bi(e),e.status);let r;try{r=await e.json()}catch(o){throw new J2(bi(o),o)}let n;const s=I6(e);if(s&&s.getTime()>=Q2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yS(bi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new fo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new yS(bi(r),e.status,r.weak_password.reasons);throw new g6(bi(r),e.status||500,n)}const z6=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ge(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[By]||(o[By]=Q2["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await W6(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function W6(e,t,r,n,s,o){const i=z6(t,n,s,o);let a;try{a=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Uy(bi(c),0)}if(a.ok||await SS(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await SS(c)}}function ho(e){var t;let r=null;q6(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=E6(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function CS(e){const t=ho(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Co(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function V6(e){return{data:e,error:null}}function H6(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=B6(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function G6(e){return e}function q6(e){return e.access_token&&e.refresh_token&&e.expires_in}var Y6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class K6{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=tN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Co})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Y6(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:H6,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Co})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,a,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:G6});if(u.error)throw u.error;const f=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);d[`${b}Page`]=v}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Fe(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Co})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Co})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Co})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}}const Z6={getItem:e=>Tc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Tc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Tc()&&globalThis.localStorage.removeItem(e)}};function _S(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function X6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ca={debug:!!(globalThis&&Tc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Q6 extends nN{}async function J6(e,t,r){ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ca.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Q6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ca.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}X6();const eF={url:d6,storageKey:f6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:h6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jS(e,t,r){return await r()}class pu{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pu.nextInstanceID,pu.nextInstanceID+=1,this.instanceID>0&&fs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},eF),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new K6({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=tN(s.fetch),this.lock=s.lock||jS,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:fs()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=J6:this.lock=jS,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Tc()?this.storage=Z6:(this.memoryStorage={},this.storage=_S(this.memoryStorage)):(this.memoryStorage={},this.storage=_S(this.memoryStorage)),fs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${X2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=N6(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),fs()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),x6(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Fe(r)?{error:r}:{error:new J2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ho}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(Fe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:u,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await la(this.storage,this.storageKey)),o=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:ho})}else if("phone"in t){const{phone:u,password:f,options:h}=t;o=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ho})}else throw new Yd("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(Fe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:a}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:CS})}else if("phone"in t){const{phone:o,password:i,options:a}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:CS})}else throw new Yd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Pg}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Zd(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ho});if(await Xd(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Pg}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(Fe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,a=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ho}),{data:c,error:d}=a;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Pg}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await la(this.storage,this.storageKey));const{error:f}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:c}=t,{data:d,error:u}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Yd("You must provide either an email or phone number.")}catch(a){if(Fe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ho});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,d=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await la(this.storage,this.storageKey)),await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:V6})}catch(o){if(Fe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new fo;const{error:s}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Fe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:a}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new Yd("You must provide either an email or phone number and a type")}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Zd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ng:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Co}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fo}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Co})})}catch(r){if(Fe(r))return y6(r)&&(await this._removeSession(),await Xd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new fo;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await la(this.storage,this.storageKey));const{data:d,error:u}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:Co});if(u)throw u;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new fo;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Lg(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Fe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new fo;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!fs())throw new Kd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Kd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vS("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:d}=t;if(!o||!a||!i||!d)throw new Kd("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let h=u+f;c&&(h=parseInt(c));const m=h-u;m*1e3<=ya&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:v,error:b}=await this._getUser(o);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Fe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Zd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(v6(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Xd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=k6(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await la(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Fe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,c,d,u;const{data:f,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return fs()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Fe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await L6(async s=>(s>0&&await M6(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ho})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Mg(o)&&Date.now()+i-n<ya})}catch(n){if(this._debug(r,"error",n),Fe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),fs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Zd(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ng;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ng}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Mg(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new fo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qp;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new fo;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),Fe(o)){const i={session:null,error:o};return Mg(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await rN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Xd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ya);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ya);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ya}ms, refresh threshold is ${Fy} ticks`),s<=Fy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await la(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await Ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:a}=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Lg(s.access_token);let a=null;i.aal&&(a=i.aal);let c=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+m6>Date.now()))return n;const{data:s,error:o}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Dc("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new Dc("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=Lg(n);if($6(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:o,header:s,signature:i},error:null}}const d=F6(s.alg),u=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,j6(`${a}.${c}`)))throw new Dc("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}}pu.nextInstanceID=0;const tF=pu;class rF extends tF{constructor(t){super(t)}}var nF=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};class sF{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=c6(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:t6,realtime:n6,auth:Object.assign(Object.assign({},r6),{storageKey:c}),global:e6},u=u6(n??{},d);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=a6(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new S$(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Q5(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new X$(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return nF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:a,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rF({url:this.authUrl,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new I$(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oF=(e,t,r)=>new sF(e,t,r),iF="https://bbrgntyiwuniovyoryta.supabase.co",aF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJicmdudHlpd3VuaW92eW9yeXRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwMDM5MDYsImV4cCI6MjA1ODU3OTkwNn0.zo6_Cr0CuRcBvX19QDNl0Ai6yA2oJfvarfdDm1-5nP0",Y=oF(iF,aF);var lF=e=>{switch(e){case"success":return dF;case"info":return hF;case"warning":return fF;case"error":return pF;default:return null}},cF=Array(12).fill(0),uF=({visible:e})=>Z.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},Z.createElement("div",{className:"sonner-spinner"},cF.map((t,r)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),dF=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),fF=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hF=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pF=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),mF=()=>{let[e,t]=Z.useState(document.hidden);return Z.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},zy=1,gF=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:zy++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async o=>{if(yF(o)&&!o.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,a=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:i,description:a})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(o):t.success,a=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:i,description:a})}}).catch(async o=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(o):t.error,a=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:i,description:a})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||zy++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},rn=new gF,vF=(e,t)=>{let r=(t==null?void 0:t.id)||zy++;return rn.addToast({title:e,...t,id:r}),r},yF=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",xF=vF,bF=()=>rn.toasts,je=Object.assign(xF,{success:rn.success,info:rn.info,warning:rn.warning,error:rn.error,custom:rn.custom,message:rn.message,promise:rn.promise,dismiss:rn.dismiss,loading:rn.loading},{getHistory:bF});function wF(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}wF(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Qd(e){return e.label!==void 0}var SF=3,CF="32px",_F=4e3,jF=356,EF=14,kF=20,NF=200;function PF(...e){return e.filter(Boolean).join(" ")}var MF=e=>{var t,r,n,s,o,i,a,c,d,u;let{invert:f,toast:h,unstyled:m,interacting:g,setHeights:v,visibleToasts:b,heights:y,index:x,toasts:w,expanded:S,removeToast:j,defaultRichColors:C,closeButton:M,style:k,cancelButtonStyle:E,actionButtonStyle:_,className:P="",descriptionClassName:D="",duration:L,position:A,gap:$,loadingIcon:T,expandByDefault:N,classNames:O,icons:R,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:V,cn:F}=e,[z,W]=Z.useState(!1),[I,q]=Z.useState(!1),[X,Q]=Z.useState(!1),[ne,J]=Z.useState(!1),[G,ie]=Z.useState(0),[_e,Ee]=Z.useState(0),fe=Z.useRef(null),Te=Z.useRef(null),De=x===0,U=x+1<=b,H=h.type,K=h.dismissible!==!1,se=h.className||"",oe=h.descriptionClassName||"",te=Z.useMemo(()=>y.findIndex(Ne=>Ne.toastId===h.id)||0,[y,h.id]),ue=Z.useMemo(()=>{var Ne;return(Ne=h.closeButton)!=null?Ne:M},[h.closeButton,M]),we=Z.useMemo(()=>h.duration||L||_F,[h.duration,L]),Ke=Z.useRef(0),qe=Z.useRef(0),nt=Z.useRef(0),Ut=Z.useRef(null),[St,Ot]=A.split("-"),Ht=Z.useMemo(()=>y.reduce((Ne,Xe,Ye)=>Ye>=te?Ne:Ne+Xe.height,0),[y,te]),Gt=mF(),hr=h.invert||f,Kt=H==="loading";qe.current=Z.useMemo(()=>te*$+Ht,[te,Ht]),Z.useEffect(()=>{W(!0)},[]),Z.useLayoutEffect(()=>{if(!z)return;let Ne=Te.current,Xe=Ne.style.height;Ne.style.height="auto";let Ye=Ne.getBoundingClientRect().height;Ne.style.height=Xe,Ee(Ye),v(kr=>kr.find(At=>At.toastId===h.id)?kr.map(At=>At.toastId===h.id?{...At,height:Ye}:At):[{toastId:h.id,height:Ye,position:h.position},...kr])},[z,h.title,h.description,v,h.id]);let Er=Z.useCallback(()=>{q(!0),ie(qe.current),v(Ne=>Ne.filter(Xe=>Xe.toastId!==h.id)),setTimeout(()=>{j(h)},NF)},[h,j,v,qe]);Z.useEffect(()=>{if(h.promise&&H==="loading"||h.duration===1/0||h.type==="loading")return;let Ne,Xe=we;return S||g||V&&Gt?(()=>{if(nt.current<Ke.current){let Ye=new Date().getTime()-Ke.current;Xe=Xe-Ye}nt.current=new Date().getTime()})():Xe!==1/0&&(Ke.current=new Date().getTime(),Ne=setTimeout(()=>{var Ye;(Ye=h.onAutoClose)==null||Ye.call(h,h),Er()},Xe)),()=>clearTimeout(Ne)},[S,g,N,h,we,Er,h.promise,H,V,Gt]),Z.useEffect(()=>{let Ne=Te.current;if(Ne){let Xe=Ne.getBoundingClientRect().height;return Ee(Xe),v(Ye=>[{toastId:h.id,height:Xe,position:h.position},...Ye]),()=>v(Ye=>Ye.filter(kr=>kr.toastId!==h.id))}},[v,h.id]),Z.useEffect(()=>{h.delete&&Er()},[Er,h.delete]);function io(){return R!=null&&R.loading?Z.createElement("div",{className:"sonner-loader","data-visible":H==="loading"},R.loading):T?Z.createElement("div",{className:"sonner-loader","data-visible":H==="loading"},T):Z.createElement(uF,{visible:H==="loading"})}return Z.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Te,className:F(P,se,O==null?void 0:O.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[H],(r=h==null?void 0:h.classNames)==null?void 0:r[H]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:C,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":z,"data-promise":!!h.promise,"data-removed":I,"data-visible":U,"data-y-position":St,"data-x-position":Ot,"data-index":x,"data-front":De,"data-swiping":X,"data-dismissible":K,"data-type":H,"data-invert":hr,"data-swipe-out":ne,"data-expanded":!!(S||N&&z),style:{"--index":x,"--toasts-before":x,"--z-index":w.length-x,"--offset":`${I?G:qe.current}px`,"--initial-height":N?"auto":`${_e}px`,...k,...h.style},onPointerDown:Ne=>{Kt||!K||(fe.current=new Date,ie(qe.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(Q(!0),Ut.current={x:Ne.clientX,y:Ne.clientY}))},onPointerUp:()=>{var Ne,Xe,Ye,kr;if(ne||!K)return;Ut.current=null;let At=Number(((Ne=Te.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount").replace("px",""))||0),rr=new Date().getTime()-((Xe=fe.current)==null?void 0:Xe.getTime()),Rn=Math.abs(At)/rr;if(Math.abs(At)>=kF||Rn>.11){ie(qe.current),(Ye=h.onDismiss)==null||Ye.call(h,h),Er(),J(!0);return}(kr=Te.current)==null||kr.style.setProperty("--swipe-amount","0px"),Q(!1)},onPointerMove:Ne=>{var Xe;if(!Ut.current||!K)return;let Ye=Ne.clientY-Ut.current.y,kr=Ne.clientX-Ut.current.x,At=(St==="top"?Math.min:Math.max)(0,Ye),rr=Ne.pointerType==="touch"?10:2;Math.abs(At)>rr?(Xe=Te.current)==null||Xe.style.setProperty("--swipe-amount",`${Ye}px`):Math.abs(kr)>rr&&(Ut.current=null)}},ue&&!h.jsx?Z.createElement("button",{"aria-label":B,"data-disabled":Kt,"data-close-button":!0,onClick:Kt||!K?()=>{}:()=>{var Ne;Er(),(Ne=h.onDismiss)==null||Ne.call(h,h)},className:F(O==null?void 0:O.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||Z.isValidElement(h.title)?h.jsx||h.title:Z.createElement(Z.Fragment,null,H||h.icon||h.promise?Z.createElement("div",{"data-icon":"",className:F(O==null?void 0:O.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||io():null,h.type!=="loading"?h.icon||(R==null?void 0:R[H])||lF(H):null):null,Z.createElement("div",{"data-content":"",className:F(O==null?void 0:O.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},Z.createElement("div",{"data-title":"",className:F(O==null?void 0:O.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?Z.createElement("div",{"data-description":"",className:F(D,oe,O==null?void 0:O.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),Z.isValidElement(h.cancel)?h.cancel:h.cancel&&Qd(h.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:Ne=>{var Xe,Ye;Qd(h.cancel)&&K&&((Ye=(Xe=h.cancel).onClick)==null||Ye.call(Xe,Ne),Er())},className:F(O==null?void 0:O.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,Z.isValidElement(h.action)?h.action:h.action&&Qd(h.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||_,onClick:Ne=>{var Xe,Ye;Qd(h.action)&&(Ne.defaultPrevented||((Ye=(Xe=h.action).onClick)==null||Ye.call(Xe,Ne),Er()))},className:F(O==null?void 0:O.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function ES(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var LF=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:a,theme:c="light",richColors:d,duration:u,style:f,visibleToasts:h=SF,toastOptions:m,dir:g=ES(),gap:v=EF,loadingIcon:b,icons:y,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:w,cn:S=PF}=e,[j,C]=Z.useState([]),M=Z.useMemo(()=>Array.from(new Set([r].concat(j.filter(V=>V.position).map(V=>V.position)))),[j,r]),[k,E]=Z.useState([]),[_,P]=Z.useState(!1),[D,L]=Z.useState(!1),[A,$]=Z.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=Z.useRef(null),N=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=Z.useRef(null),R=Z.useRef(!1),B=Z.useCallback(V=>{var F;(F=j.find(z=>z.id===V.id))!=null&&F.delete||rn.dismiss(V.id),C(z=>z.filter(({id:W})=>W!==V.id))},[j]);return Z.useEffect(()=>rn.subscribe(V=>{if(V.dismiss){C(F=>F.map(z=>z.id===V.id?{...z,delete:!0}:z));return}setTimeout(()=>{Op.flushSync(()=>{C(F=>{let z=F.findIndex(W=>W.id===V.id);return z!==-1?[...F.slice(0,z),{...F[z],...V},...F.slice(z+1)]:[V,...F]})})})}),[]),Z.useEffect(()=>{if(c!=="system"){$(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:V})=>{$(V?"dark":"light")})},[c]),Z.useEffect(()=>{j.length<=1&&P(!1)},[j]),Z.useEffect(()=>{let V=F=>{var z,W;n.every(I=>F[I]||F.code===I)&&(P(!0),(z=T.current)==null||z.focus()),F.code==="Escape"&&(document.activeElement===T.current||(W=T.current)!=null&&W.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[n]),Z.useEffect(()=>{if(T.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,R.current=!1)}},[T.current]),j.length?Z.createElement("section",{"aria-label":`${x} ${N}`,tabIndex:-1},M.map((V,F)=>{var z;let[W,I]=V.split("-");return Z.createElement("ol",{key:V,dir:g==="auto"?ES():g,tabIndex:-1,ref:T,className:i,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":W,"data-x-position":I,style:{"--front-toast-height":`${((z=k[0])==null?void 0:z.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||CF,"--width":`${jF}px`,"--gap":`${v}px`,...f},onBlur:q=>{R.current&&!q.currentTarget.contains(q.relatedTarget)&&(R.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||R.current||(R.current=!0,O.current=q.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{D||P(!1)},onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},j.filter(q=>!q.position&&F===0||q.position===V).map((q,X)=>{var Q,ne;return Z.createElement(MF,{key:q.id,icons:y,index:X,toast:q,defaultRichColors:d,duration:(Q=m==null?void 0:m.duration)!=null?Q:u,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:h,closeButton:(ne=m==null?void 0:m.closeButton)!=null?ne:o,interacting:D,position:V,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:B,toasts:j.filter(J=>J.position==q.position),heights:k.filter(J=>J.position==q.position),setHeights:E,expandByDefault:s,gap:v,loadingIcon:b,expanded:_,pauseWhenPageIsHidden:w,cn:S})}))})):null};const DF=1e3,sN=p.createContext(void 0);function TF({children:e}){const[t,r]=p.useState(null),[n,s]=p.useState(null),[o,i]=p.useState(!1),[a,c]=p.useState(!0),d=p.useRef(null),u=p.useRef(!1),f=p.useRef({}),h=()=>{if(n!=null&&n.access_token)return{Authorization:`Bearer ${n.access_token}`}},m=C=>({id:C.id,email:C.email||"",name:C.user_metadata.name||C.user_metadata.full_name||"",picture:C.user_metadata.picture||C.user_metadata.avatar_url,is_host:C.user_metadata.is_host||!1,provider:C.app_metadata.provider==="google"?"google":"email",lastProfileCheck:Date.now(),about:C.user_metadata.about}),g=C=>{d.current&&clearTimeout(d.current),!u.current&&(d.current=setTimeout(()=>{if(u.current=!0,C!=null&&C.user){if(!t||t.id!==C.user.id){const M=m(C.user);r(M),i(!0),s(C)}}else r(null),i(!1),s(null);u.current=!1},DF))};p.useEffect(()=>{let C=!0;const M=async()=>{try{const{data:{session:E}}=await Y.auth.getSession();if(C&&(E!=null&&E.user)){const _=m(E.user);r(_),i(!0),s(E)}}catch(E){console.error("Error initializing auth:",E)}finally{C&&c(!1)}},{data:{subscription:k}}=Y.auth.onAuthStateChange(async(E,_)=>{console.log("Auth state changed:",E),C&&g(_)});return M(),()=>{C=!1,d.current&&clearTimeout(d.current),k.unsubscribe()}},[]);const v=async(C,M)=>{try{const{data:k,error:E}=await Y.auth.signInWithPassword({email:C,password:M});if(E)throw E;je.success("Successfully signed in!")}catch(k){throw console.error("Login error:",k),je.error(k.message||"Failed to login"),k}},b=async(C,M,k)=>{var E;try{console.log("Registering user with name:",C);const{data:_,error:P}=await Y.auth.signUp({email:M,password:k,options:{data:{name:C,full_name:C,is_host:!1}}});if(P)throw P;console.log("User registered with metadata:",(E=_==null?void 0:_.user)==null?void 0:E.user_metadata),je.success("Registration successful!"),_.session||je.info("Please check your email for a confirmation link.")}catch(_){throw console.error("Registration error:",_),je.error(_.message||"Failed to register"),_}},y=async()=>{try{const{error:C}=await Y.auth.signOut();if(C)throw C;r(null),s(null),i(!1),f.current={},je.success("Successfully signed out!")}catch(C){console.error("Logout error:",C),je.error(C.message||"Failed to logout")}},x=async()=>{try{if(!(n!=null&&n.user))return;const C=n.user.id,M=Date.now();console.log("Fetching fresh profile data");const{data:k,error:E}=await Y.from("profiles").select("*").eq("id",C).single();if(!E&&k){const _={...t,is_host:k.is_host,name:k.name,picture:k.avatar_url,lastProfileCheck:M,about:k.about};f.current[C]={profile:k,timestamp:M},r(_)}}catch(C){console.error("Error refreshing user data:",C)}},w=C=>{r(C),i(!!C)},S=async C=>{try{const{error:M}=await Y.auth.resetPasswordForEmail(C,{redirectTo:`${window.location.origin}/reset-password`});if(M)throw M;je.success("Password reset email sent! Check your inbox.")}catch(M){throw console.error("Password reset error:",M),je.error(M.message||"Failed to send reset email"),M}},j=async C=>{try{const{error:M}=await Y.auth.updateUser({password:C});if(M)throw M;je.success("Password updated successfully!")}catch(M){throw console.error("Password update error:",M),je.error(M.message||"Failed to update password"),M}};return l.jsx(sN.Provider,{value:{user:t,isAuthenticated:o,loading:a,setUser:w,loginWithEmail:v,register:b,getAuthHeader:h,logout:y,refreshUser:x,session:n,resetPassword:S,updatePassword:j},children:e})}function Bt(){const e=p.useContext(sN);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function de(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function OF(e,t){const r=p.createContext(t),n=o=>{const{children:i,...a}=o,c=p.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=p.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function yn(e,t=[]){let r=[];function n(o,i){const a=p.createContext(i),c=r.length;r=[...r,i];const d=f=>{var y;const{scope:h,children:m,...g}=f,v=((y=h==null?void 0:h[e])==null?void 0:y[c])||a,b=p.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:b,children:m})};d.displayName=o+"Provider";function u(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[c])||a,g=p.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[d,u]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,AF(s,...t)]}function AF(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:d})=>{const f=c(o)[`__scope${d}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Yt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function mn({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=RF({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,a=Yt(r),c=p.useCallback(d=>{if(o){const f=typeof d=="function"?d(e):d;f!==e&&a(f)}else s(d)},[o,e,s,a]);return[i,c]}function RF({defaultProp:e,onChange:t}){const r=p.useState(e),[n]=r,s=p.useRef(n),o=Yt(t);return p.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var IF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],be=IF.reduce((e,t)=>{const r=p.forwardRef((n,s)=>{const{asChild:o,...i}=n,a=o?Cs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function oN(e,t){e&&Ir.flushSync(()=>e.dispatchEvent(t))}function $F(e,t=[]){let r=[];function n(o,i){const a=p.createContext(i),c=r.length;r=[...r,i];function d(f){const{scope:h,children:m,...g}=f,v=(h==null?void 0:h[e][c])||a,b=p.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:b,children:m})}function u(f,h){const m=(h==null?void 0:h[e][c])||a,g=p.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,FF(s,...t)]}function FF(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:d})=>{const f=c(o)[`__scope${d}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Yp(e){const t=e+"CollectionProvider",[r,n]=$F(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:g,children:v}=m,b=Z.useRef(null),y=Z.useRef(new Map).current;return l.jsx(s,{scope:g,itemMap:y,collectionRef:b,children:v})};i.displayName=t;const a=e+"CollectionSlot",c=Z.forwardRef((m,g)=>{const{scope:v,children:b}=m,y=o(a,v),x=Be(g,y.collectionRef);return l.jsx(Cs,{ref:x,children:b})});c.displayName=a;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=Z.forwardRef((m,g)=>{const{scope:v,children:b,...y}=m,x=Z.useRef(null),w=Be(g,x),S=o(d,v);return Z.useEffect(()=>(S.itemMap.set(x,{ref:x,...y}),()=>void S.itemMap.delete(x))),l.jsx(Cs,{[u]:"",ref:w,children:b})});f.displayName=d;function h(m){const g=o(e+"CollectionConsumer",m);return Z.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((S,j)=>y.indexOf(S.ref.current)-y.indexOf(j.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,n]}var BF=p.createContext(void 0);function Nl(e){const t=p.useContext(BF);return e||t||"ltr"}function UF(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var zF="DismissableLayer",Wy="dismissableLayer.update",WF="dismissableLayer.pointerDownOutside",VF="dismissableLayer.focusOutside",kS,iN=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pl=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,d=p.useContext(iN),[u,f]=p.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),g=Be(t,M=>f(M)),v=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(b),x=u?v.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,j=qF(M=>{const k=M.target,E=[...d.branches].some(_=>_.contains(k));!S||E||(s==null||s(M),i==null||i(M),M.defaultPrevented||a==null||a())},h),C=YF(M=>{const k=M.target;[...d.branches].some(_=>_.contains(k))||(o==null||o(M),i==null||i(M),M.defaultPrevented||a==null||a())},h);return UF(M=>{x===d.layers.size-1&&(n==null||n(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},h),p.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(kS=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),NS(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=kS)}},[u,h,r,d]),p.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),NS())},[u,d]),p.useEffect(()=>{const M=()=>m({});return document.addEventListener(Wy,M),()=>document.removeEventListener(Wy,M)},[]),l.jsx(be.div,{...c,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:de(e.onFocusCapture,C.onFocusCapture),onBlurCapture:de(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:de(e.onPointerDownCapture,j.onPointerDownCapture)})});Pl.displayName=zF;var HF="DismissableLayerBranch",GF=p.forwardRef((e,t)=>{const r=p.useContext(iN),n=p.useRef(null),s=Be(t,n);return p.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),l.jsx(be.div,{...e,ref:s})});GF.displayName=HF;function qF(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){aN(WF,r,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function YF(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!n.current&&aN(VF,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function NS(){const e=new CustomEvent(Wy);document.dispatchEvent(e)}function aN(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?oN(s,o):s.dispatchEvent(o)}var Dg=0;function Kp(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??PS()),document.body.insertAdjacentElement("beforeend",e[1]??PS()),Dg++,()=>{Dg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Dg--}},[])}function PS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tg="focusScope.autoFocusOnMount",Og="focusScope.autoFocusOnUnmount",MS={bubbles:!1,cancelable:!0},KF="FocusScope",Ju=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=p.useState(null),d=Yt(s),u=Yt(o),f=p.useRef(null),h=Be(t,v=>c(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let v=function(w){if(m.paused||!a)return;const S=w.target;a.contains(S)?f.current=S:po(f.current,{select:!0})},b=function(w){if(m.paused||!a)return;const S=w.relatedTarget;S!==null&&(a.contains(S)||po(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&po(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const x=new MutationObserver(y);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),x.disconnect()}}},[n,a,m.paused]),p.useEffect(()=>{if(a){DS.add(m);const v=document.activeElement;if(!a.contains(v)){const y=new CustomEvent(Tg,MS);a.addEventListener(Tg,d),a.dispatchEvent(y),y.defaultPrevented||(ZF(t8(lN(a)),{select:!0}),document.activeElement===v&&po(a))}return()=>{a.removeEventListener(Tg,d),setTimeout(()=>{const y=new CustomEvent(Og,MS);a.addEventListener(Og,u),a.dispatchEvent(y),y.defaultPrevented||po(v??document.body,{select:!0}),a.removeEventListener(Og,u),DS.remove(m)},0)}}},[a,d,u,m]);const g=p.useCallback(v=>{if(!r&&!n||m.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(b&&y){const x=v.currentTarget,[w,S]=XF(x);w&&S?!v.shiftKey&&y===S?(v.preventDefault(),r&&po(w,{select:!0})):v.shiftKey&&y===w&&(v.preventDefault(),r&&po(S,{select:!0})):y===x&&v.preventDefault()}},[r,n,m.paused]);return l.jsx(be.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});Ju.displayName=KF;function ZF(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(po(n,{select:t}),document.activeElement!==r)return}function XF(e){const t=lN(e),r=LS(t,e),n=LS(t.reverse(),e);return[r,n]}function lN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function LS(e,t){for(const r of e)if(!QF(r,{upTo:t}))return r}function QF(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function JF(e){return e instanceof HTMLInputElement&&"select"in e}function po(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&JF(e)&&t&&e.select()}}var DS=e8();function e8(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=TS(e,t),e.unshift(t)},remove(t){var r;e=TS(e,t),(r=e[0])==null||r.resume()}}}function TS(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function t8(e){return e.filter(t=>t.tagName!=="A")}var er=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},r8=$x.useId||(()=>{}),n8=0;function Xr(e){const[t,r]=p.useState(r8());return er(()=>{r(n=>n??String(n8++))},[e]),t?`radix-${t}`:""}const s8=["top","right","bottom","left"],qo=Math.min,sn=Math.max,bh=Math.round,Jd=Math.floor,Yo=e=>({x:e,y:e}),o8={left:"right",right:"left",bottom:"top",top:"bottom"},i8={start:"end",end:"start"};function Vy(e,t,r){return sn(e,qo(t,r))}function eo(e,t){return typeof e=="function"?e(t):e}function to(e){return e.split("-")[0]}function Ml(e){return e.split("-")[1]}function z0(e){return e==="x"?"y":"x"}function W0(e){return e==="y"?"height":"width"}function Ko(e){return["top","bottom"].includes(to(e))?"y":"x"}function V0(e){return z0(Ko(e))}function a8(e,t,r){r===void 0&&(r=!1);const n=Ml(e),s=V0(e),o=W0(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=wh(i)),[i,wh(i)]}function l8(e){const t=wh(e);return[Hy(e),t,Hy(t)]}function Hy(e){return e.replace(/start|end/g,t=>i8[t])}function c8(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function u8(e,t,r,n){const s=Ml(e);let o=c8(to(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Hy)))),o}function wh(e){return e.replace(/left|right|bottom|top/g,t=>o8[t])}function d8(e){return{top:0,right:0,bottom:0,left:0,...e}}function cN(e){return typeof e!="number"?d8(e):{top:e,right:e,bottom:e,left:e}}function Sh(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function OS(e,t,r){let{reference:n,floating:s}=e;const o=Ko(t),i=V0(t),a=W0(i),c=to(t),d=o==="y",u=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[a]/2-s[a]/2;let m;switch(c){case"top":m={x:u,y:n.y-s.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Ml(t)){case"start":m[i]-=h*(r&&d?-1:1);break;case"end":m[i]+=h*(r&&d?-1:1);break}return m}const f8=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=OS(d,n,c),h=n,m={},g=0;for(let v=0;v<a.length;v++){const{name:b,fn:y}=a[v],{x,y:w,data:S,reset:j}=await y({x:u,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:d,platform:i,elements:{reference:e,floating:t}});u=x??u,f=w??f,m={...m,[b]:{...m[b],...S}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(d=j.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:u,y:f}=OS(d,h,c)),v=-1)}return{x:u,y:f,placement:h,strategy:s,middlewareData:m}};async function mu(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=eo(t,e),g=cN(m),b=a[h?f==="floating"?"reference":"floating":f],y=Sh(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:d,rootBoundary:u,strategy:c})),x=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Sh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:w,strategy:c}):x);return{top:(y.top-j.top+g.top)/S.y,bottom:(j.bottom-y.bottom+g.bottom)/S.y,left:(y.left-j.left+g.left)/S.x,right:(j.right-y.right+g.right)/S.x}}const h8=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:d,padding:u=0}=eo(e,t)||{};if(d==null)return{};const f=cN(u),h={x:r,y:n},m=V0(s),g=W0(m),v=await i.getDimensions(d),b=m==="y",y=b?"top":"left",x=b?"bottom":"right",w=b?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[m]-h[m]-o.floating[g],j=h[m]-o.reference[m],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let M=C?C[w]:0;(!M||!await(i.isElement==null?void 0:i.isElement(C)))&&(M=a.floating[w]||o.floating[g]);const k=S/2-j/2,E=M/2-v[g]/2-1,_=qo(f[y],E),P=qo(f[x],E),D=_,L=M-v[g]-P,A=M/2-v[g]/2+k,$=Vy(D,A,L),T=!c.arrow&&Ml(s)!=null&&A!==$&&o.reference[g]/2-(A<D?_:P)-v[g]/2<0,N=T?A<D?A-D:A-L:0;return{[m]:h[m]+N,data:{[m]:$,centerOffset:A-$-N,...T&&{alignmentOffset:N}},reset:T}}}),p8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=eo(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=to(s),x=Ko(a),w=to(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=h||(w||!v?[wh(a)]:l8(a)),C=g!=="none";!h&&C&&j.push(...u8(a,v,g,S));const M=[a,...j],k=await mu(t,b),E=[];let _=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&E.push(k[y]),f){const A=a8(s,i,S);E.push(k[A[0]],k[A[1]])}if(_=[..._,{placement:s,overflows:E}],!E.every(A=>A<=0)){var P,D;const A=(((P=o.flip)==null?void 0:P.index)||0)+1,$=M[A];if($)return{data:{index:A,overflows:_},reset:{placement:$}};let T=(D=_.filter(N=>N.overflows[0]<=0).sort((N,O)=>N.overflows[1]-O.overflows[1])[0])==null?void 0:D.placement;if(!T)switch(m){case"bestFit":{var L;const N=(L=_.filter(O=>{if(C){const R=Ko(O.placement);return R===x||R==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(R=>R>0).reduce((R,B)=>R+B,0)]).sort((O,R)=>O[1]-R[1])[0])==null?void 0:L[0];N&&(T=N);break}case"initialPlacement":T=a;break}if(s!==T)return{reset:{placement:T}}}return{}}}};function AS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function RS(e){return s8.some(t=>e[t]>=0)}const m8=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=eo(e,t);switch(n){case"referenceHidden":{const o=await mu(t,{...s,elementContext:"reference"}),i=AS(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:RS(i)}}}case"escaped":{const o=await mu(t,{...s,altBoundary:!0}),i=AS(o,r.floating);return{data:{escapedOffsets:i,escaped:RS(i)}}}default:return{}}}}};async function g8(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=to(r),a=Ml(r),c=Ko(r)==="y",d=["left","top"].includes(i)?-1:1,u=o&&c?-1:1,f=eo(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),c?{x:m*u,y:h*d}:{x:h*d,y:m*u}}const v8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await g8(t,e);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},y8=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:y,y:x}=b;return{x:y,y:x}}},...c}=eo(e,t),d={x:r,y:n},u=await mu(t,c),f=Ko(to(s)),h=z0(f);let m=d[h],g=d[f];if(o){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=m+u[b],w=m-u[y];m=Vy(x,m,w)}if(i){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=g+u[b],w=g-u[y];g=Vy(x,g,w)}const v=a.fn({...t,[h]:m,[f]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[h]:o,[f]:i}}}}}},x8=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=eo(e,t),u={x:r,y:n},f=Ko(s),h=z0(f);let m=u[h],g=u[f];const v=eo(a,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=h==="y"?"height":"width",S=o.reference[h]-o.floating[w]+b.mainAxis,j=o.reference[h]+o.reference[w]-b.mainAxis;m<S?m=S:m>j&&(m=j)}if(d){var y,x;const w=h==="y"?"width":"height",S=["top","left"].includes(to(s)),j=o.reference[f]-o.floating[w]+(S&&((y=i.offset)==null?void 0:y[f])||0)+(S?0:b.crossAxis),C=o.reference[f]+o.reference[w]+(S?0:((x=i.offset)==null?void 0:x[f])||0)-(S?b.crossAxis:0);g<j?g=j:g>C&&(g=C)}return{[h]:m,[f]:g}}}},b8=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...d}=eo(e,t),u=await mu(t,d),f=to(s),h=Ml(s),m=Ko(s)==="y",{width:g,height:v}=o.floating;let b,y;f==="top"||f==="bottom"?(b=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,b=h==="end"?"top":"bottom");const x=v-u.top-u.bottom,w=g-u.left-u.right,S=qo(v-u[b],x),j=qo(g-u[y],w),C=!t.middlewareData.shift;let M=S,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(M=x),C&&!h){const _=sn(u.left,0),P=sn(u.right,0),D=sn(u.top,0),L=sn(u.bottom,0);m?k=g-2*(_!==0||P!==0?_+P:sn(u.left,u.right)):M=v-2*(D!==0||L!==0?D+L:sn(u.top,u.bottom))}await c({...t,availableWidth:k,availableHeight:M});const E=await i.getDimensions(a.floating);return g!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function Zp(){return typeof window<"u"}function Ll(e){return uN(e)?(e.nodeName||"").toLowerCase():"#document"}function un(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ds(e){var t;return(t=(uN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uN(e){return Zp()?e instanceof Node||e instanceof un(e).Node:!1}function Jn(e){return Zp()?e instanceof Element||e instanceof un(e).Element:!1}function js(e){return Zp()?e instanceof HTMLElement||e instanceof un(e).HTMLElement:!1}function IS(e){return!Zp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof un(e).ShadowRoot}function ed(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=es(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function w8(e){return["table","td","th"].includes(Ll(e))}function Xp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function H0(e){const t=G0(),r=Jn(e)?es(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function S8(e){let t=Zo(e);for(;js(t)&&!ol(t);){if(H0(t))return t;if(Xp(t))return null;t=Zo(t)}return null}function G0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ol(e){return["html","body","#document"].includes(Ll(e))}function es(e){return un(e).getComputedStyle(e)}function Qp(e){return Jn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zo(e){if(Ll(e)==="html")return e;const t=e.assignedSlot||e.parentNode||IS(e)&&e.host||Ds(e);return IS(t)?t.host:t}function dN(e){const t=Zo(e);return ol(t)?e.ownerDocument?e.ownerDocument.body:e.body:js(t)&&ed(t)?t:dN(t)}function gu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=dN(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=un(s);if(o){const a=Gy(i);return t.concat(i,i.visualViewport||[],ed(s)?s:[],a&&r?gu(a):[])}return t.concat(s,gu(s,[],r))}function Gy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function fN(e){const t=es(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=js(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=bh(r)!==o||bh(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function q0(e){return Jn(e)?e:e.contextElement}function Va(e){const t=q0(e);if(!js(t))return Yo(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=fN(t);let i=(o?bh(r.width):r.width)/n,a=(o?bh(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const C8=Yo(0);function hN(e){const t=un(e);return!G0()||!t.visualViewport?C8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _8(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==un(e)?!1:t}function Fi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=q0(e);let i=Yo(1);t&&(n?Jn(n)&&(i=Va(n)):i=Va(e));const a=_8(o,r,n)?hN(o):Yo(0);let c=(s.left+a.x)/i.x,d=(s.top+a.y)/i.y,u=s.width/i.x,f=s.height/i.y;if(o){const h=un(o),m=n&&Jn(n)?un(n):n;let g=h,v=Gy(g);for(;v&&n&&m!==g;){const b=Va(v),y=v.getBoundingClientRect(),x=es(v),w=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*b.x,S=y.top+(v.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,d*=b.y,u*=b.x,f*=b.y,c+=w,d+=S,g=un(v),v=Gy(g)}}return Sh({width:u,height:f,x:c,y:d})}function j8(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Ds(n),a=t?Xp(t.floating):!1;if(n===i||a&&o)return r;let c={scrollLeft:0,scrollTop:0},d=Yo(1);const u=Yo(0),f=js(n);if((f||!f&&!o)&&((Ll(n)!=="body"||ed(i))&&(c=Qp(n)),js(n))){const h=Fi(n);d=Va(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x,y:r.y*d.y-c.scrollTop*d.y+u.y}}function E8(e){return Array.from(e.getClientRects())}function qy(e,t){const r=Qp(e).scrollLeft;return t?t.left+r:Fi(Ds(e)).left+r}function k8(e){const t=Ds(e),r=Qp(e),n=e.ownerDocument.body,s=sn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=sn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+qy(e);const a=-r.scrollTop;return es(n).direction==="rtl"&&(i+=sn(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function N8(e,t){const r=un(e),n=Ds(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const d=G0();(!d||d&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}function P8(e,t){const r=Fi(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=js(e)?Va(e):Yo(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,d=n*o.y;return{width:i,height:a,x:c,y:d}}function $S(e,t,r){let n;if(t==="viewport")n=N8(e,r);else if(t==="document")n=k8(Ds(e));else if(Jn(t))n=P8(t,r);else{const s=hN(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Sh(n)}function pN(e,t){const r=Zo(e);return r===t||!Jn(r)||ol(r)?!1:es(r).position==="fixed"||pN(r,t)}function M8(e,t){const r=t.get(e);if(r)return r;let n=gu(e,[],!1).filter(a=>Jn(a)&&Ll(a)!=="body"),s=null;const o=es(e).position==="fixed";let i=o?Zo(e):e;for(;Jn(i)&&!ol(i);){const a=es(i),c=H0(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ed(i)&&!c&&pN(e,i))?n=n.filter(u=>u!==i):s=a,i=Zo(i)}return t.set(e,n),n}function L8(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Xp(t)?[]:M8(t,this._c):[].concat(r),n],a=i[0],c=i.reduce((d,u)=>{const f=$S(t,u,s);return d.top=sn(f.top,d.top),d.right=qo(f.right,d.right),d.bottom=qo(f.bottom,d.bottom),d.left=sn(f.left,d.left),d},$S(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function D8(e){const{width:t,height:r}=fN(e);return{width:t,height:r}}function T8(e,t,r){const n=js(t),s=Ds(t),o=r==="fixed",i=Fi(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Yo(0);if(n||!n&&!o)if((Ll(t)!=="body"||ed(s))&&(a=Qp(t)),n){const m=Fi(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=qy(s));let d=0,u=0;if(s&&!n&&!o){const m=s.getBoundingClientRect();u=m.top+a.scrollTop,d=m.left+a.scrollLeft-qy(s,m)}const f=i.left+a.scrollLeft-c.x-d,h=i.top+a.scrollTop-c.y-u;return{x:f,y:h,width:i.width,height:i.height}}function Ag(e){return es(e).position==="static"}function FS(e,t){if(!js(e)||es(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ds(e)===r&&(r=r.ownerDocument.body),r}function mN(e,t){const r=un(e);if(Xp(e))return r;if(!js(e)){let s=Zo(e);for(;s&&!ol(s);){if(Jn(s)&&!Ag(s))return s;s=Zo(s)}return r}let n=FS(e,t);for(;n&&w8(n)&&Ag(n);)n=FS(n,t);return n&&ol(n)&&Ag(n)&&!H0(n)?r:n||S8(e)||r}const O8=async function(e){const t=this.getOffsetParent||mN,r=this.getDimensions,n=await r(e.floating);return{reference:T8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function A8(e){return es(e).direction==="rtl"}const R8={convertOffsetParentRelativeRectToViewportRelativeRect:j8,getDocumentElement:Ds,getClippingRect:L8,getOffsetParent:mN,getElementRects:O8,getClientRects:E8,getDimensions:D8,getScale:Va,isElement:Jn,isRTL:A8};function I8(e,t){let r=null,n;const s=Ds(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:d,top:u,width:f,height:h}=e.getBoundingClientRect();if(a||t(),!f||!h)return;const m=Jd(u),g=Jd(s.clientWidth-(d+f)),v=Jd(s.clientHeight-(u+h)),b=Jd(d),x={rootMargin:-m+"px "+-g+"px "+-v+"px "+-b+"px",threshold:sn(0,qo(1,c))||1};let w=!0;function S(j){const C=j[0].intersectionRatio;if(C!==c){if(!w)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(e)}return i(!0),o}function $8(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=q0(e),u=s||o?[...d?gu(d):[],...gu(t)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const f=d&&a?I8(d,r):null;let h=-1,m=null;i&&(m=new ResizeObserver(y=>{let[x]=y;x&&x.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),d&&!c&&m.observe(d),m.observe(t));let g,v=c?Fi(e):null;c&&b();function b(){const y=Fi(e);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&r(),v=y,g=requestAnimationFrame(b)}return r(),()=>{var y;u.forEach(x=>{s&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const F8=v8,B8=y8,U8=p8,z8=b8,W8=m8,BS=h8,V8=x8,H8=(e,t,r)=>{const n=new Map,s={platform:R8,...r},o={...s.platform,_c:n};return f8(e,t,{...s,platform:o})};var Tf=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Ch(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ch(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!Ch(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function gN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function US(e,t){const r=gN(e);return Math.round(t*r)/r}function Rg(e){const t=p.useRef(e);return Tf(()=>{t.current=e}),t}function G8(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:d}=e,[u,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(n);Ch(h,n)||m(n);const[g,v]=p.useState(null),[b,y]=p.useState(null),x=p.useCallback(O=>{O!==C.current&&(C.current=O,v(O))},[]),w=p.useCallback(O=>{O!==M.current&&(M.current=O,y(O))},[]),S=o||g,j=i||b,C=p.useRef(null),M=p.useRef(null),k=p.useRef(u),E=c!=null,_=Rg(c),P=Rg(s),D=Rg(d),L=p.useCallback(()=>{if(!C.current||!M.current)return;const O={placement:t,strategy:r,middleware:h};P.current&&(O.platform=P.current),H8(C.current,M.current,O).then(R=>{const B={...R,isPositioned:D.current!==!1};A.current&&!Ch(k.current,B)&&(k.current=B,Ir.flushSync(()=>{f(B)}))})},[h,t,r,P,D]);Tf(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[d]);const A=p.useRef(!1);Tf(()=>(A.current=!0,()=>{A.current=!1}),[]),Tf(()=>{if(S&&(C.current=S),j&&(M.current=j),S&&j){if(_.current)return _.current(S,j,L);L()}},[S,j,L,_,E]);const $=p.useMemo(()=>({reference:C,floating:M,setReference:x,setFloating:w}),[x,w]),T=p.useMemo(()=>({reference:S,floating:j}),[S,j]),N=p.useMemo(()=>{const O={position:r,left:0,top:0};if(!T.floating)return O;const R=US(T.floating,u.x),B=US(T.floating,u.y);return a?{...O,transform:"translate("+R+"px, "+B+"px)",...gN(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:B}},[r,a,T.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:L,refs:$,elements:T,floatingStyles:N}),[u,L,$,T,N])}const q8=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?BS({element:n.current,padding:s}).fn(r):{}:n?BS({element:n,padding:s}).fn(r):{}}}},Y8=(e,t)=>({...F8(e),options:[e,t]}),K8=(e,t)=>({...B8(e),options:[e,t]}),Z8=(e,t)=>({...V8(e),options:[e,t]}),X8=(e,t)=>({...U8(e),options:[e,t]}),Q8=(e,t)=>({...z8(e),options:[e,t]}),J8=(e,t)=>({...W8(e),options:[e,t]}),eB=(e,t)=>({...q8(e),options:[e,t]});var tB="Arrow",vN=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return l.jsx(be.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});vN.displayName=tB;var rB=vN;function nB(e,t=[]){let r=[];function n(o,i){const a=p.createContext(i),c=r.length;r=[...r,i];function d(f){const{scope:h,children:m,...g}=f,v=(h==null?void 0:h[e][c])||a,b=p.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:b,children:m})}function u(f,h){const m=(h==null?void 0:h[e][c])||a,g=p.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,sB(s,...t)]}function sB(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:d})=>{const f=c(o)[`__scope${d}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Y0(e){const[t,r]=p.useState(void 0);return er(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,a=d.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var K0="Popper",[yN,li]=nB(K0),[oB,xN]=yN(K0),bN=e=>{const{__scopePopper:t,children:r}=e,[n,s]=p.useState(null);return l.jsx(oB,{scope:t,anchor:n,onAnchorChange:s,children:r})};bN.displayName=K0;var wN="PopperAnchor",SN=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=xN(wN,r),i=p.useRef(null),a=Be(t,i);return p.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:l.jsx(be.div,{...s,ref:a})});SN.displayName=wN;var Z0="PopperContent",[iB,aB]=yN(Z0),CN=p.forwardRef((e,t)=>{var X,Q,ne,J,G,ie;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...v}=e,b=xN(Z0,r),[y,x]=p.useState(null),w=Be(t,_e=>x(_e)),[S,j]=p.useState(null),C=Y0(S),M=(C==null?void 0:C.width)??0,k=(C==null?void 0:C.height)??0,E=n+(o!=="center"?"-"+o:""),_=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(d)?d:[d],D=P.length>0,L={padding:_,boundary:P.filter(cB),altBoundary:D},{refs:A,floatingStyles:$,placement:T,isPositioned:N,middlewareData:O}=G8({strategy:"fixed",placement:E,whileElementsMounted:(..._e)=>$8(..._e,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[Y8({mainAxis:s+k,alignmentAxis:i}),c&&K8({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Z8():void 0,...L}),c&&X8({...L}),Q8({...L,apply:({elements:_e,rects:Ee,availableWidth:fe,availableHeight:Te})=>{const{width:De,height:U}=Ee.reference,H=_e.floating.style;H.setProperty("--radix-popper-available-width",`${fe}px`),H.setProperty("--radix-popper-available-height",`${Te}px`),H.setProperty("--radix-popper-anchor-width",`${De}px`),H.setProperty("--radix-popper-anchor-height",`${U}px`)}}),S&&eB({element:S,padding:a}),uB({arrowWidth:M,arrowHeight:k}),h&&J8({strategy:"referenceHidden",...L})]}),[R,B]=EN(T),V=Yt(g);er(()=>{N&&(V==null||V())},[N,V]);const F=(X=O.arrow)==null?void 0:X.x,z=(Q=O.arrow)==null?void 0:Q.y,W=((ne=O.arrow)==null?void 0:ne.centerOffset)!==0,[I,q]=p.useState();return er(()=>{y&&q(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:N?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:I,"--radix-popper-transform-origin":[(J=O.transformOrigin)==null?void 0:J.x,(G=O.transformOrigin)==null?void 0:G.y].join(" "),...((ie=O.hide)==null?void 0:ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(iB,{scope:r,placedSide:R,onArrowChange:j,arrowX:F,arrowY:z,shouldHideArrow:W,children:l.jsx(be.div,{"data-side":R,"data-align":B,...v,ref:w,style:{...v.style,animation:N?void 0:"none"}})})})});CN.displayName=Z0;var _N="PopperArrow",lB={top:"bottom",right:"left",bottom:"top",left:"right"},jN=p.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=aB(_N,n),i=lB[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(rB,{...s,ref:r,style:{...s.style,display:"block"}})})});jN.displayName=_N;function cB(e){return e!==null}var uB=e=>({name:"transformOrigin",options:e,fn(t){var b,y,x;const{placement:r,rects:n,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,u]=EN(r),f={start:"0%",center:"50%",end:"100%"}[u],h=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let g="",v="";return d==="bottom"?(g=i?f:`${h}px`,v=`${-c}px`):d==="top"?(g=i?f:`${h}px`,v=`${n.floating.height+c}px`):d==="right"?(g=`${-c}px`,v=i?f:`${m}px`):d==="left"&&(g=`${n.floating.width+c}px`,v=i?f:`${m}px`),{data:{x:g,y:v}}}});function EN(e){const[t,r="center"]=e.split("-");return[t,r]}var Jp=bN,td=SN,em=CN,tm=jN,dB="Portal",rd=p.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,o]=p.useState(!1);er(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Op.createPortal(l.jsx(be.div,{...n,ref:t}),i):null});rd.displayName=dB;function fB(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var dr=e=>{const{present:t,children:r}=e,n=hB(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),o=Be(n.ref,pB(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:o}):null};dr.displayName="Presence";function hB(e){const[t,r]=p.useState(),n=p.useRef({}),s=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[a,c]=fB(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=ef(n.current);o.current=a==="mounted"?d:"none"},[a]),er(()=>{const d=n.current,u=s.current;if(u!==e){const h=o.current,m=ef(d);e?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),er(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=m=>{const v=ef(n.current).includes(m.animationName);if(m.target===t&&v&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=m=>{m.target===t&&(o.current=ef(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function ef(e){return(e==null?void 0:e.animationName)||"none"}function pB(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function mB(e,t=[]){let r=[];function n(o,i){const a=p.createContext(i),c=r.length;r=[...r,i];function d(f){const{scope:h,children:m,...g}=f,v=(h==null?void 0:h[e][c])||a,b=p.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:b,children:m})}function u(f,h){const m=(h==null?void 0:h[e][c])||a,g=p.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,gB(s,...t)]}function gB(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:d})=>{const f=c(o)[`__scope${d}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Ig="rovingFocusGroup.onEntryFocus",vB={bubbles:!1,cancelable:!0},rm="RovingFocusGroup",[Yy,kN,yB]=Yp(rm),[xB,nm]=mB(rm,[yB]),[bB,wB]=xB(rm),NN=p.forwardRef((e,t)=>l.jsx(Yy.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Yy.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(SB,{...e,ref:t})})}));NN.displayName=rm;var SB=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,h=p.useRef(null),m=Be(t,h),g=Nl(o),[v=null,b]=mn({prop:i,defaultProp:a,onChange:c}),[y,x]=p.useState(!1),w=Yt(d),S=kN(r),j=p.useRef(!1),[C,M]=p.useState(0);return p.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Ig,w),()=>k.removeEventListener(Ig,w)},[w]),l.jsx(bB,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(k=>b(k),[b]),onItemShiftTab:p.useCallback(()=>x(!0),[]),onFocusableItemAdd:p.useCallback(()=>M(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>M(k=>k-1),[]),children:l.jsx(be.div,{tabIndex:y||C===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:de(e.onMouseDown,()=>{j.current=!0}),onFocus:de(e.onFocus,k=>{const E=!j.current;if(k.target===k.currentTarget&&E&&!y){const _=new CustomEvent(Ig,vB);if(k.currentTarget.dispatchEvent(_),!_.defaultPrevented){const P=S().filter(T=>T.focusable),D=P.find(T=>T.active),L=P.find(T=>T.id===v),$=[D,L,...P].filter(Boolean).map(T=>T.ref.current);LN($,u)}}j.current=!1}),onBlur:de(e.onBlur,()=>x(!1))})})}),PN="RovingFocusGroupItem",MN=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...i}=e,a=Xr(),c=o||a,d=wB(PN,r),u=d.currentTabStopId===c,f=kN(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=d;return p.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),l.jsx(Yy.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:l.jsx(be.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:de(e.onMouseDown,g=>{n?d.onItemFocus(c):g.preventDefault()}),onFocus:de(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:de(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=jB(g,d.orientation,d.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let y=f().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const x=y.indexOf(g.currentTarget);y=d.loop?EB(y,x+1):y.slice(x+1)}setTimeout(()=>LN(y))}})})})});MN.displayName=PN;var CB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _B(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function jB(e,t,r){const n=_B(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return CB[n]}function LN(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function EB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var DN=NN,TN=MN,kB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ua=new WeakMap,tf=new WeakMap,rf={},$g=0,ON=function(e){return e&&(e.host||ON(e.parentNode))},NB=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=ON(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},PB=function(e,t,r,n){var s=NB(t,Array.isArray(e)?e:[e]);rf[r]||(rf[r]=new WeakMap);var o=rf[r],i=[],a=new Set,c=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",v=(ua.get(h)||0)+1,b=(o.get(h)||0)+1;ua.set(h,v),o.set(h,b),i.push(h),v===1&&g&&tf.set(h,!0),b===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return u(t),a.clear(),$g++,function(){i.forEach(function(f){var h=ua.get(f)-1,m=o.get(f)-1;ua.set(f,h),o.set(f,m),h||(tf.has(f)||f.removeAttribute(n),tf.delete(f)),m||f.removeAttribute(r)}),$g--,$g||(ua=new WeakMap,ua=new WeakMap,tf=new WeakMap,rf={})}},nd=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=kB(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),PB(n,s,r,"aria-hidden")):function(){return null}},Cr=function(){return Cr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Cr.apply(this,arguments)};function X0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function AN(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Oc="right-scroll-bar-position",Ac="width-before-scroll-bar",MB="with-scroll-bars-hidden",LB="--removed-body-scroll-bar-size";function Fg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function DB(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var TB=typeof window<"u"?p.useLayoutEffect:p.useEffect,zS=new WeakMap;function RN(e,t){var r=DB(null,function(n){return e.forEach(function(s){return Fg(s,n)})});return TB(function(){var n=zS.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||Fg(a,null)}),o.forEach(function(a){s.has(a)||Fg(a,i)})}zS.set(r,e)},[e]),r}function OB(e){return e}function AB(e,t){t===void 0&&(t=OB);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var c=function(){var u=i;i=[],u.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){i.push(u),d()},filter:function(u){return i=i.filter(u),r}}}};return s}function IN(e){e===void 0&&(e={});var t=AB(null);return t.options=Cr({async:!0,ssr:!1},e),t}var $N=function(e){var t=e.sideCar,r=X0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,Cr({},r))};$N.isSideCarExport=!0;function FN(e,t){return e.useMedium(t),$N}var BN=IN(),Bg=function(){},sm=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Bg,onWheelCapture:Bg,onTouchMoveCapture:Bg}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,x=e.gapMode,w=X0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,j=RN([r,t]),C=Cr(Cr({},w),s);return p.createElement(p.Fragment,null,u&&p.createElement(S,{sideCar:BN,removeScrollBar:d,shards:f,noIsolation:m,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:r,gapMode:x}),i?p.cloneElement(p.Children.only(a),Cr(Cr({},C),{ref:j})):p.createElement(y,Cr({},C,{className:c,ref:j}),a))});sm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sm.classNames={fullWidth:Ac,zeroRight:Oc};var RB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=RB();return t&&e.setAttribute("nonce",t),e}function $B(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function FB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var BB=function(){var e=0,t=null;return{add:function(r){e==0&&(t=IB())&&($B(t,r),FB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},UB=function(){var e=BB();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Q0=function(){var e=UB(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},zB={left:0,top:0,right:0,gap:0},Ug=function(e){return parseInt(e||"",10)||0},WB=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ug(r),Ug(n),Ug(s)]},VB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zB;var t=WB(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},HB=Q0(),Ha="data-scroll-locked",GB=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(MB,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Ha,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oc,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Ac,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Oc," .").concat(Oc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ac," .").concat(Ac,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ha,`] {
    `).concat(LB,": ").concat(a,`px;
  }
`)},WS=function(){var e=parseInt(document.body.getAttribute(Ha)||"0",10);return isFinite(e)?e:0},qB=function(){p.useEffect(function(){return document.body.setAttribute(Ha,(WS()+1).toString()),function(){var e=WS()-1;e<=0?document.body.removeAttribute(Ha):document.body.setAttribute(Ha,e.toString())}},[])},UN=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;qB();var o=p.useMemo(function(){return VB(s)},[s]);return p.createElement(HB,{styles:GB(o,!t,s,r?"":"!important")})},Ky=!1;if(typeof window<"u")try{var nf=Object.defineProperty({},"passive",{get:function(){return Ky=!0,!0}});window.addEventListener("test",nf,nf),window.removeEventListener("test",nf,nf)}catch{Ky=!1}var da=Ky?{passive:!1}:!1,YB=function(e){return e.tagName==="TEXTAREA"},zN=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!YB(e)&&r[t]==="visible")},KB=function(e){return zN(e,"overflowY")},ZB=function(e){return zN(e,"overflowX")},VS=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=WN(e,n);if(s){var o=VN(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},XB=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},QB=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},WN=function(e,t){return e==="v"?KB(t):ZB(t)},VN=function(e,t){return e==="v"?XB(t):QB(t)},JB=function(e,t){return e==="h"&&t==="rtl"?-1:1},eU=function(e,t,r,n,s){var o=JB(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,c=t.contains(a),d=!1,u=i>0,f=0,h=0;do{var m=VN(e,a),g=m[0],v=m[1],b=m[2],y=v-b-o*g;(g||y)&&WN(e,a)&&(f+=y,h+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(u&&(Math.abs(f)<1||!s)||!u&&(Math.abs(h)<1||!s))&&(d=!0),d},sf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},HS=function(e){return[e.deltaX,e.deltaY]},GS=function(e){return e&&"current"in e?e.current:e},tU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},rU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},nU=0,fa=[];function sU(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(nU++)[0],o=p.useState(Q0)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=AN([e.lockRef.current],(e.shards||[]).map(GS),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var y=sf(v),x=r.current,w="deltaX"in v?v.deltaX:x[0]-y[0],S="deltaY"in v?v.deltaY:x[1]-y[1],j,C=v.target,M=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in v&&M==="h"&&C.type==="range")return!1;var k=VS(M,C);if(!k)return!0;if(k?j=M:(j=M==="v"?"h":"v",k=VS(M,C)),!k)return!1;if(!n.current&&"changedTouches"in v&&(w||S)&&(n.current=j),!j)return!0;var E=n.current||j;return eU(E,b,v,E==="h"?w:S,!0)},[]),c=p.useCallback(function(v){var b=v;if(!(!fa.length||fa[fa.length-1]!==o)){var y="deltaY"in b?HS(b):sf(b),x=t.current.filter(function(j){return j.name===b.type&&(j.target===b.target||b.target===j.shadowParent)&&tU(j.delta,y)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var w=(i.current.shards||[]).map(GS).filter(Boolean).filter(function(j){return j.contains(b.target)}),S=w.length>0?a(b,w[0]):!i.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),d=p.useCallback(function(v,b,y,x){var w={name:v,delta:b,target:y,should:x,shadowParent:oU(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),u=p.useCallback(function(v){r.current=sf(v),n.current=void 0},[]),f=p.useCallback(function(v){d(v.type,HS(v),v.target,a(v,e.lockRef.current))},[]),h=p.useCallback(function(v){d(v.type,sf(v),v.target,a(v,e.lockRef.current))},[]);p.useEffect(function(){return fa.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,da),document.addEventListener("touchmove",c,da),document.addEventListener("touchstart",u,da),function(){fa=fa.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,da),document.removeEventListener("touchmove",c,da),document.removeEventListener("touchstart",u,da)}},[]);var m=e.removeScrollBar,g=e.inert;return p.createElement(p.Fragment,null,g?p.createElement(o,{styles:rU(s)}):null,m?p.createElement(UN,{gapMode:e.gapMode}):null)}function oU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const iU=FN(BN,sU);var sd=p.forwardRef(function(e,t){return p.createElement(sm,Cr({},e,{ref:t,sideCar:iU}))});sd.classNames=sm.classNames;var Zy=["Enter"," "],aU=["ArrowDown","PageUp","Home"],HN=["ArrowUp","PageDown","End"],lU=[...aU,...HN],cU={ltr:[...Zy,"ArrowRight"],rtl:[...Zy,"ArrowLeft"]},uU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},od="Menu",[vu,dU,fU]=Yp(od),[ea,GN]=yn(od,[fU,li,nm]),om=li(),qN=nm(),[hU,ta]=ea(od),[pU,id]=ea(od),YN=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,a=om(t),[c,d]=p.useState(null),u=p.useRef(!1),f=Yt(o),h=Nl(s);return p.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),l.jsx(Jp,{...a,children:l.jsx(hU,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:l.jsx(pU,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:i,children:n})})})};YN.displayName=od;var mU="MenuAnchor",J0=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=om(r);return l.jsx(td,{...s,...n,ref:t})});J0.displayName=mU;var eb="MenuPortal",[gU,KN]=ea(eb,{forceMount:void 0}),ZN=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=ta(eb,t);return l.jsx(gU,{scope:t,forceMount:r,children:l.jsx(dr,{present:r||o.open,children:l.jsx(rd,{asChild:!0,container:s,children:n})})})};ZN.displayName=eb;var Pn="MenuContent",[vU,tb]=ea(Pn),XN=p.forwardRef((e,t)=>{const r=KN(Pn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=ta(Pn,e.__scopeMenu),i=id(Pn,e.__scopeMenu);return l.jsx(vu.Provider,{scope:e.__scopeMenu,children:l.jsx(dr,{present:n||o.open,children:l.jsx(vu.Slot,{scope:e.__scopeMenu,children:i.modal?l.jsx(yU,{...s,ref:t}):l.jsx(xU,{...s,ref:t})})})})}),yU=p.forwardRef((e,t)=>{const r=ta(Pn,e.__scopeMenu),n=p.useRef(null),s=Be(t,n);return p.useEffect(()=>{const o=n.current;if(o)return nd(o)},[]),l.jsx(rb,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:de(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),xU=p.forwardRef((e,t)=>{const r=ta(Pn,e.__scopeMenu);return l.jsx(rb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),rb=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...v}=e,b=ta(Pn,r),y=id(Pn,r),x=om(r),w=qN(r),S=dU(r),[j,C]=p.useState(null),M=p.useRef(null),k=Be(t,M,b.onContentChange),E=p.useRef(0),_=p.useRef(""),P=p.useRef(0),D=p.useRef(null),L=p.useRef("right"),A=p.useRef(0),$=g?sd:p.Fragment,T=g?{as:Cs,allowPinchZoom:!0}:void 0,N=R=>{var X,Q;const B=_.current+R,V=S().filter(ne=>!ne.disabled),F=document.activeElement,z=(X=V.find(ne=>ne.ref.current===F))==null?void 0:X.textValue,W=V.map(ne=>ne.textValue),I=LU(W,B,z),q=(Q=V.find(ne=>ne.textValue===I))==null?void 0:Q.ref.current;(function ne(J){_.current=J,window.clearTimeout(E.current),J!==""&&(E.current=window.setTimeout(()=>ne(""),1e3))})(B),q&&setTimeout(()=>q.focus())};p.useEffect(()=>()=>window.clearTimeout(E.current),[]),Kp();const O=p.useCallback(R=>{var V,F;return L.current===((V=D.current)==null?void 0:V.side)&&TU(R,(F=D.current)==null?void 0:F.area)},[]);return l.jsx(vU,{scope:r,searchRef:_,onItemEnter:p.useCallback(R=>{O(R)&&R.preventDefault()},[O]),onItemLeave:p.useCallback(R=>{var B;O(R)||((B=M.current)==null||B.focus(),C(null))},[O]),onTriggerLeave:p.useCallback(R=>{O(R)&&R.preventDefault()},[O]),pointerGraceTimerRef:P,onPointerGraceIntentChange:p.useCallback(R=>{D.current=R},[]),children:l.jsx($,{...T,children:l.jsx(Ju,{asChild:!0,trapped:s,onMountAutoFocus:de(o,R=>{var B;R.preventDefault(),(B=M.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:l.jsx(DN,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:C,onEntryFocus:de(c,R=>{y.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(em,{role:"menu","aria-orientation":"vertical","data-state":hP(b.open),"data-radix-menu-content":"",dir:y.dir,...x,...v,ref:k,style:{outline:"none",...v.style},onKeyDown:de(v.onKeyDown,R=>{const V=R.target.closest("[data-radix-menu-content]")===R.currentTarget,F=R.ctrlKey||R.altKey||R.metaKey,z=R.key.length===1;V&&(R.key==="Tab"&&R.preventDefault(),!F&&z&&N(R.key));const W=M.current;if(R.target!==W||!lU.includes(R.key))return;R.preventDefault();const q=S().filter(X=>!X.disabled).map(X=>X.ref.current);HN.includes(R.key)&&q.reverse(),PU(q)}),onBlur:de(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(E.current),_.current="")}),onPointerMove:de(e.onPointerMove,yu(R=>{const B=R.target,V=A.current!==R.clientX;if(R.currentTarget.contains(B)&&V){const F=R.clientX>A.current?"right":"left";L.current=F,A.current=R.clientX}}))})})})})})})});XN.displayName=Pn;var bU="MenuGroup",nb=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(be.div,{role:"group",...n,ref:t})});nb.displayName=bU;var wU="MenuLabel",QN=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(be.div,{...n,ref:t})});QN.displayName=wU;var _h="MenuItem",qS="menu.itemSelect",im=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=p.useRef(null),i=id(_h,e.__scopeMenu),a=tb(_h,e.__scopeMenu),c=Be(t,o),d=p.useRef(!1),u=()=>{const f=o.current;if(!r&&f){const h=new CustomEvent(qS,{bubbles:!0,cancelable:!0});f.addEventListener(qS,m=>n==null?void 0:n(m),{once:!0}),oN(f,h),h.defaultPrevented?d.current=!1:i.onClose()}};return l.jsx(JN,{...s,ref:c,disabled:r,onClick:de(e.onClick,u),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),d.current=!0},onPointerUp:de(e.onPointerUp,f=>{var h;d.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:de(e.onKeyDown,f=>{const h=a.searchRef.current!=="";r||h&&f.key===" "||Zy.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});im.displayName=_h;var JN=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=tb(_h,r),a=qN(r),c=p.useRef(null),d=Be(t,c),[u,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[o.children]),l.jsx(vu.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:l.jsx(TN,{asChild:!0,...a,focusable:!n,children:l.jsx(be.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:d,onPointerMove:de(e.onPointerMove,yu(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:de(e.onPointerLeave,yu(g=>i.onItemLeave(g))),onFocus:de(e.onFocus,()=>f(!0)),onBlur:de(e.onBlur,()=>f(!1))})})})}),SU="MenuCheckboxItem",eP=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return l.jsx(oP,{scope:e.__scopeMenu,checked:r,children:l.jsx(im,{role:"menuitemcheckbox","aria-checked":jh(r)?"mixed":r,...s,ref:t,"data-state":ob(r),onSelect:de(s.onSelect,()=>n==null?void 0:n(jh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});eP.displayName=SU;var tP="MenuRadioGroup",[CU,_U]=ea(tP,{value:void 0,onValueChange:()=>{}}),rP=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=Yt(n);return l.jsx(CU,{scope:e.__scopeMenu,value:r,onValueChange:o,children:l.jsx(nb,{...s,ref:t})})});rP.displayName=tP;var nP="MenuRadioItem",sP=p.forwardRef((e,t)=>{const{value:r,...n}=e,s=_U(nP,e.__scopeMenu),o=r===s.value;return l.jsx(oP,{scope:e.__scopeMenu,checked:o,children:l.jsx(im,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":ob(o),onSelect:de(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});sP.displayName=nP;var sb="MenuItemIndicator",[oP,jU]=ea(sb,{checked:!1}),iP=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=jU(sb,r);return l.jsx(dr,{present:n||jh(o.checked)||o.checked===!0,children:l.jsx(be.span,{...s,ref:t,"data-state":ob(o.checked)})})});iP.displayName=sb;var EU="MenuSeparator",aP=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(be.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});aP.displayName=EU;var kU="MenuArrow",lP=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=om(r);return l.jsx(tm,{...s,...n,ref:t})});lP.displayName=kU;var NU="MenuSub",[Sse,cP]=ea(NU),yc="MenuSubTrigger",uP=p.forwardRef((e,t)=>{const r=ta(yc,e.__scopeMenu),n=id(yc,e.__scopeMenu),s=cP(yc,e.__scopeMenu),o=tb(yc,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,d={__scopeMenu:e.__scopeMenu},u=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>u,[u]),p.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.jsx(J0,{asChild:!0,...d,children:l.jsx(JN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":hP(r.open),...e,ref:Rp(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:de(e.onPointerMove,yu(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:de(e.onPointerLeave,yu(f=>{var m,g;u();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const v=(g=r.content)==null?void 0:g.dataset.side,b=v==="right",y=b?-5:5,x=h[b?"left":"right"],w=h[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:de(e.onKeyDown,f=>{var m;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||cU[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});uP.displayName=yc;var dP="MenuSubContent",fP=p.forwardRef((e,t)=>{const r=KN(Pn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=ta(Pn,e.__scopeMenu),i=id(Pn,e.__scopeMenu),a=cP(dP,e.__scopeMenu),c=p.useRef(null),d=Be(t,c);return l.jsx(vu.Provider,{scope:e.__scopeMenu,children:l.jsx(dr,{present:n||o.open,children:l.jsx(vu.Slot,{scope:e.__scopeMenu,children:l.jsx(rb,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:de(e.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:de(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:de(e.onKeyDown,u=>{var m;const f=u.currentTarget.contains(u.target),h=uU[i.dir].includes(u.key);f&&h&&(o.onOpenChange(!1),(m=a.trigger)==null||m.focus(),u.preventDefault())})})})})})});fP.displayName=dP;function hP(e){return e?"open":"closed"}function jh(e){return e==="indeterminate"}function ob(e){return jh(e)?"indeterminate":e?"checked":"unchecked"}function PU(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function MU(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function LU(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=MU(e,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function DU(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,c=t[o].y,d=t[i].x,u=t[i].y;c>n!=u>n&&r<(d-a)*(n-c)/(u-c)+a&&(s=!s)}return s}function TU(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return DU(r,t)}function yu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var OU=YN,AU=J0,RU=ZN,IU=XN,$U=nb,FU=QN,BU=im,UU=eP,zU=rP,WU=sP,VU=iP,HU=aP,GU=lP,qU=uP,YU=fP,ib="DropdownMenu",[KU,Cse]=yn(ib,[GN]),$r=GN(),[ZU,pP]=KU(ib),mP=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,c=$r(t),d=p.useRef(null),[u=!1,f]=mn({prop:s,defaultProp:o,onChange:i});return l.jsx(ZU,{scope:t,triggerId:Xr(),triggerRef:d,contentId:Xr(),open:u,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:a,children:l.jsx(OU,{...c,open:u,onOpenChange:f,dir:n,modal:a,children:r})})};mP.displayName=ib;var gP="DropdownMenuTrigger",vP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=pP(gP,r),i=$r(r);return l.jsx(AU,{asChild:!0,...i,children:l.jsx(be.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Rp(t,o.triggerRef),onPointerDown:de(e.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:de(e.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});vP.displayName=gP;var XU="DropdownMenuPortal",yP=e=>{const{__scopeDropdownMenu:t,...r}=e,n=$r(t);return l.jsx(RU,{...n,...r})};yP.displayName=XU;var xP="DropdownMenuContent",bP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=pP(xP,r),o=$r(r),i=p.useRef(!1);return l.jsx(IU,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:de(e.onCloseAutoFocus,a=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:de(e.onInteractOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!s.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bP.displayName=xP;var QU="DropdownMenuGroup",JU=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=$r(r);return l.jsx($U,{...s,...n,ref:t})});JU.displayName=QU;var ez="DropdownMenuLabel",wP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=$r(r);return l.jsx(FU,{...s,...n,ref:t})});wP.displayName=ez;var tz="DropdownMenuItem",SP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=$r(r);return l.jsx(BU,{...s,...n,ref:t})});SP.displayName=tz;var rz="DropdownMenuCheckboxItem",CP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=$r(r);return l.jsx(UU,{...s,...n,ref:t})});CP.displayName=rz;var nz="DropdownMenuRadioGroup",sz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=$r(r);return l.jsx(zU,{...s,...n,ref:t})});sz.displayName=nz;var oz="DropdownMenuRadioItem",_P=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=$r(r);return l.jsx(WU,{...s,...n,ref:t})});_P.displayName=oz;var iz="DropdownMenuItemIndicator",jP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=$r(r);return l.jsx(VU,{...s,...n,ref:t})});jP.displayName=iz;var az="DropdownMenuSeparator",EP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=$r(r);return l.jsx(HU,{...s,...n,ref:t})});EP.displayName=az;var lz="DropdownMenuArrow",cz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=$r(r);return l.jsx(GU,{...s,...n,ref:t})});cz.displayName=lz;var uz="DropdownMenuSubTrigger",kP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=$r(r);return l.jsx(qU,{...s,...n,ref:t})});kP.displayName=uz;var dz="DropdownMenuSubContent",NP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=$r(r);return l.jsx(YU,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NP.displayName=dz;var fz=mP,hz=vP,pz=yP,PP=bP,MP=wP,LP=SP,DP=CP,TP=_P,OP=jP,AP=EP,RP=kP,IP=NP;const mz=fz,gz=hz,vz=p.forwardRef(({className:e,inset:t,children:r,...n},s)=>l.jsxs(RP,{ref:s,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,l.jsx(yh,{className:"ml-auto h-4 w-4"})]}));vz.displayName=RP.displayName;const yz=p.forwardRef(({className:e,...t},r)=>l.jsx(IP,{ref:r,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));yz.displayName=IP.displayName;const $P=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(pz,{children:l.jsx(PP,{ref:n,sideOffset:t,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));$P.displayName=PP.displayName;const xa=p.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(LP,{ref:n,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));xa.displayName=LP.displayName;const xz=p.forwardRef(({className:e,children:t,checked:r,...n},s)=>l.jsxs(DP,{ref:s,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(OP,{children:l.jsx(Fp,{className:"h-4 w-4"})})}),t]}));xz.displayName=DP.displayName;const bz=p.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(TP,{ref:n,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(OP,{children:l.jsx(b5,{className:"h-2 w-2 fill-current"})})}),t]}));bz.displayName=TP.displayName;const wz=p.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(MP,{ref:n,className:me("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));wz.displayName=MP.displayName;const Xy=p.forwardRef(({className:e,...t},r)=>l.jsx(AP,{ref:r,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));Xy.displayName=AP.displayName;var ab="Avatar",[Sz,_se]=yn(ab),[Cz,FP]=Sz(ab),BP=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=p.useState("idle");return l.jsx(Cz,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:l.jsx(be.span,{...n,ref:t})})});BP.displayName=ab;var UP="AvatarImage",zP=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,i=FP(UP,r),a=_z(n,o.referrerPolicy),c=Yt(d=>{s(d),i.onImageLoadingStatusChange(d)});return er(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(be.img,{...o,ref:t,src:n}):null});zP.displayName=UP;var WP="AvatarFallback",VP=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=FP(WP,r),[i,a]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?l.jsx(be.span,{...s,ref:t}):null});VP.displayName=WP;function _z(e,t){const[r,n]=p.useState("idle");return er(()=>{if(!e){n("error");return}let s=!0;const o=new window.Image,i=a=>()=>{s&&n(a)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var HP=BP,GP=zP,qP=VP;const Es=p.forwardRef(({className:e,...t},r)=>l.jsx(HP,{ref:r,className:me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Es.displayName=HP.displayName;const ks=p.forwardRef(({className:e,...t},r)=>l.jsx(GP,{ref:r,className:me("aspect-square h-full w-full",e),...t}));ks.displayName=GP.displayName;const Ns=p.forwardRef(({className:e,...t},r)=>l.jsx(qP,{ref:r,className:me("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ns.displayName=qP.displayName;const Re=p.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Re.displayName="Input";function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function jz(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ez(e){var t=jz(e,"string");return xu(t)=="symbol"?t:t+""}function ee(e,t,r){return(t=Ez(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YP(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zg,YS;function kz(){if(YS)return zg;YS=1;var e=function(r,n,s,o,i,a,c,d){if(!r){var u;if(n===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[s,o,i,a,c,d],h=0;u=new Error(n.replace(/%s/g,function(){return f[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return zg=e,zg}var Nz=kz(),tr=YP(Nz),Ue=p.createContext(null);function Pz(){tr(!!p.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=p.useContext(Ue);return tr(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}function Mz(e,t,r){return Object.keys(e).reduce(function(s,o){return t(s,e[o],o)},r)}function Lz(e,t){Object.keys(e).forEach(r=>t(e[r],r))}function Dz(e,t,r,n){var s={},o=(i,a)=>{var c=r[a];c!==t[a]&&(s[a]=c,i(n,c))};return Lz(e,o),s}function Tz(e,t,r){var n=Mz(r,function(o,i,a){return typeof e[a]=="function"&&o.push(google.maps.event.addListener(t,i,e[a])),o},[]);return n}function Oz(e){google.maps.event.removeListener(e)}function Ve(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.forEach(Oz)}function We(e){var{updaterMap:t,eventMap:r,prevProps:n,nextProps:s,instance:o}=e,i=Tz(s,o,r);return Dz(t,n,s,o),i}var KS={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},ZS={extraMapTypes(e,t){t.forEach(function(n,s){e.mapTypes.set(String(s),n)})},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};function Az(e){var{children:t,options:r,id:n,mapContainerStyle:s,mapContainerClassName:o,center:i,onClick:a,onDblClick:c,onDrag:d,onDragEnd:u,onDragStart:f,onMouseMove:h,onMouseOut:m,onMouseOver:g,onMouseDown:v,onMouseUp:b,onRightClick:y,onCenterChanged:x,onLoad:w,onUnmount:S}=e,[j,C]=p.useState(null),M=p.useRef(null),[k,E]=p.useState(null),[_,P]=p.useState(null),[D,L]=p.useState(null),[A,$]=p.useState(null),[T,N]=p.useState(null),[O,R]=p.useState(null),[B,V]=p.useState(null),[F,z]=p.useState(null),[W,I]=p.useState(null),[q,X]=p.useState(null),[Q,ne]=p.useState(null),[J,G]=p.useState(null);return p.useEffect(()=>{r&&j!==null&&j.setOptions(r)},[j,r]),p.useEffect(()=>{j!==null&&typeof i<"u"&&j.setCenter(i)},[j,i]),p.useEffect(()=>{j&&c&&(_!==null&&google.maps.event.removeListener(_),P(google.maps.event.addListener(j,"dblclick",c)))},[c]),p.useEffect(()=>{j&&u&&(D!==null&&google.maps.event.removeListener(D),L(google.maps.event.addListener(j,"dragend",u)))},[u]),p.useEffect(()=>{j&&f&&(A!==null&&google.maps.event.removeListener(A),$(google.maps.event.addListener(j,"dragstart",f)))},[f]),p.useEffect(()=>{j&&v&&(T!==null&&google.maps.event.removeListener(T),N(google.maps.event.addListener(j,"mousedown",v)))},[v]),p.useEffect(()=>{j&&h&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(j,"mousemove",h)))},[h]),p.useEffect(()=>{j&&m&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(j,"mouseout",m)))},[m]),p.useEffect(()=>{j&&g&&(F!==null&&google.maps.event.removeListener(F),z(google.maps.event.addListener(j,"mouseover",g)))},[g]),p.useEffect(()=>{j&&b&&(W!==null&&google.maps.event.removeListener(W),I(google.maps.event.addListener(j,"mouseup",b)))},[b]),p.useEffect(()=>{j&&y&&(q!==null&&google.maps.event.removeListener(q),X(google.maps.event.addListener(j,"rightclick",y)))},[y]),p.useEffect(()=>{j&&a&&(Q!==null&&google.maps.event.removeListener(Q),ne(google.maps.event.addListener(j,"click",a)))},[a]),p.useEffect(()=>{j&&d&&(J!==null&&google.maps.event.removeListener(J),G(google.maps.event.addListener(j,"drag",d)))},[d]),p.useEffect(()=>{j&&x&&(k!==null&&google.maps.event.removeListener(k),E(google.maps.event.addListener(j,"center_changed",x)))},[a]),p.useEffect(()=>{var ie=M.current===null?null:new google.maps.Map(M.current,r);return C(ie),ie!==null&&w&&w(ie),()=>{ie!==null&&S&&S(ie)}},[]),l.jsx("div",{id:n,ref:M,style:s,className:o,children:l.jsx(Ue.Provider,{value:j,children:j!==null?t:null})})}p.memo(Az);class ad extends p.PureComponent{constructor(){super(...arguments),ee(this,"state",{map:null}),ee(this,"registeredEvents",[]),ee(this,"mapRef",null),ee(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),ee(this,"panTo",t=>{var r=this.getInstance();r&&r.panTo(t)}),ee(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),ee(this,"getRef",t=>{this.mapRef=t})}componentDidMount(){var t=this.getInstance();this.registeredEvents=We({updaterMap:ZS,eventMap:KS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{map:t}},this.setMapCallback)}componentDidUpdate(t){this.state.map!==null&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:ZS,eventMap:KS,prevProps:t,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Ve(this.registeredEvents))}render(){return l.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:l.jsx(Ue.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function XS(e,t,r,n,s,o,i){try{var a=e[o](i),c=a.value}catch(d){return void r(d)}a.done?t(c):Promise.resolve(c).then(n,s)}function KP(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var o=e.apply(t,r);function i(c){XS(o,n,s,i,a,"next",c)}function a(c){XS(o,n,s,i,a,"throw",c)}i(void 0)})}}function ZP(e){var{googleMapsApiKey:t,googleMapsClientId:r,version:n="weekly",language:s,region:o,libraries:i,channel:a,mapIds:c,authReferrerPolicy:d}=e,u=[];return tr(t&&r||!(t&&r),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?u.push("key=".concat(t)):r&&u.push("client=".concat(r)),n&&u.push("v=".concat(n)),s&&u.push("language=".concat(s)),o&&u.push("region=".concat(o)),i&&i.length&&u.push("libraries=".concat(i.sort().join(","))),a&&u.push("channel=".concat(a)),c&&c.length&&u.push("map_ids=".concat(c.join(","))),d&&u.push("auth_referrer_policy=".concat(d)),u.push("loading=async"),u.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(u.join("&"))}var Ni=typeof document<"u";function XP(e){var{url:t,id:r,nonce:n}=e;return Ni?new Promise(function(o,i){var a=document.getElementById(r),c=window;if(a){var d=a.getAttribute("data-state");if(a.src===t&&d!=="error"){if(d==="ready")return o(r);var u=c.initMap,f=a.onerror;c.initMap=function(){u&&u(),o(r)},a.onerror=function(m){f&&f(m),i(m)};return}else a.remove()}var h=document.createElement("script");h.type="text/javascript",h.src=t,h.id=r,h.async=!0,h.nonce=n||"",h.onerror=function(g){h.setAttribute("data-state","error"),i(g)},c.initMap=function(){h.setAttribute("data-state","ready"),o(r)},document.head.appendChild(h)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function QS(e){var t=e.href;return t&&(t.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:e.tagName.toLowerCase()==="style"&&e.styleSheet&&e.styleSheet.cssText&&e.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(e.styleSheet.cssText="",!0):e.tagName.toLowerCase()==="style"&&e.innerHTML&&e.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(e.innerHTML="",!0):e.tagName.toLowerCase()==="style"&&!e.styleSheet&&!e.innerHTML}function QP(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(s,o){return QS(s)||Reflect.apply(t,e,[s,o]),s};var r=e.appendChild.bind(e);e.appendChild=function(s){return QS(s)||Reflect.apply(r,e,[s]),s}}}var tc=!1;function JP(){return l.jsx("div",{children:"Loading..."})}var Qy={id:"script-loader",version:"weekly"};class Rz extends p.PureComponent{constructor(){super(...arguments),ee(this,"check",p.createRef()),ee(this,"state",{loaded:!1}),ee(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),ee(this,"isCleaningUp",KP(function*(){function t(r){if(!tc)r();else if(Ni)var n=window.setInterval(function(){tc||(window.clearInterval(n),r())},1)}return new Promise(t)})),ee(this,"cleanup",()=>{tc=!0;var t=document.getElementById(this.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(n){return typeof n.src=="string"&&n.src.includes("maps.googleapis")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(n){return n.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(n){return n.innerText!==void 0&&n.innerText.length>0&&n.innerText.includes(".gm-")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)})}),ee(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&QP(),tr(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var t={id:this.props.id,nonce:this.props.nonce,url:ZP(this.props)};XP(t).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(r=>{this.props.onError&&this.props.onError(r),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})})}componentDidMount(){if(Ni){if(window.google&&window.google.maps&&!tc){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}}componentDidUpdate(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Ni&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Ni){this.cleanup();var t=()=>{this.check.current||(delete window.google,tc=!1)};window.setTimeout(t,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||l.jsx(JP,{})]})}}ee(Rz,"defaultProps",Qy);function Iz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}function lb(e,t){if(e==null)return{};var r,n,s=Iz(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var JS;function Dl(e){var{id:t=Qy.id,version:r=Qy.version,nonce:n,googleMapsApiKey:s,googleMapsClientId:o,language:i,region:a,libraries:c,preventGoogleFontsLoading:d,channel:u,mapIds:f,authReferrerPolicy:h}=e,m=p.useRef(!1),[g,v]=p.useState(!1),[b,y]=p.useState(void 0);p.useEffect(function(){return m.current=!0,()=>{m.current=!1}},[]),p.useEffect(function(){Ni&&d&&QP()},[d]),p.useEffect(function(){g&&tr(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[g]);var x=ZP({version:r,googleMapsApiKey:s,googleMapsClientId:o,language:i,region:a,libraries:c,channel:u,mapIds:f,authReferrerPolicy:h});p.useEffect(function(){if(!Ni)return;function j(){m.current&&(v(!0),JS=x)}if(window.google&&window.google.maps&&JS===x){j();return}XP({id:t,url:x,nonce:n}).then(j).catch(function(M){m.current&&y(M),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(o||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(M)})},[t,x,n]);var w=p.useRef();return p.useEffect(function(){w.current&&c!==w.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),w.current=c},[c]),{isLoaded:g,loadError:b,url:x}}var $z=["loadingElement","onLoad","onError","onUnmount","children"],Fz=l.jsx(JP,{});function Bz(e){var{loadingElement:t,onLoad:r,onError:n,onUnmount:s,children:o}=e,i=lb(e,$z),{isLoaded:a,loadError:c}=Dl(i);return p.useEffect(function(){a&&typeof r=="function"&&r()},[a,r]),p.useEffect(function(){c&&typeof n=="function"&&n(c)},[c,n]),p.useEffect(function(){return()=>{s&&s()}},[s]),a?o:t||Fz}p.memo(Bz);var eC;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(eC||(eC={}));function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var rC={},nC={options(e,t){e.setOptions(t)}};function Uz(e){var{options:t,onLoad:r,onUnmount:n}=e,s=p.useContext(Ue),[o,i]=p.useState(null);return p.useEffect(()=>{o!==null&&o.setMap(s)},[s]),p.useEffect(()=>{t&&o!==null&&o.setOptions(t)},[o,t]),p.useEffect(()=>{var a=new google.maps.TrafficLayer(Eh(Eh({},t),{},{map:s}));return i(a),r&&r(a),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}p.memo(Uz);class zz extends p.PureComponent{constructor(){super(...arguments),ee(this,"state",{trafficLayer:null}),ee(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),ee(this,"registeredEvents",[])}componentDidMount(){var t=new google.maps.TrafficLayer(Eh(Eh({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:nC,eventMap:rC,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)}componentDidUpdate(t){this.state.trafficLayer!==null&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:nC,eventMap:rC,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ve(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}ee(zz,"contextType",Ue);function Wz(e){var{onLoad:t,onUnmount:r}=e,n=p.useContext(Ue),[s,o]=p.useState(null);return p.useEffect(()=>{s!==null&&s.setMap(n)},[n]),p.useEffect(()=>{var i=new google.maps.BicyclingLayer;return o(i),i.setMap(n),t&&t(i),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}p.memo(Wz);class Vz extends p.PureComponent{constructor(){super(...arguments),ee(this,"state",{bicyclingLayer:null}),ee(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var t=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:t}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}ee(Vz,"contextType",Ue);function Hz(e){var{onLoad:t,onUnmount:r}=e,n=p.useContext(Ue),[s,o]=p.useState(null);return p.useEffect(()=>{s!==null&&s.setMap(n)},[n]),p.useEffect(()=>{var i=new google.maps.TransitLayer;return o(i),i.setMap(n),t&&t(i),()=>{s!==null&&(r&&r(s),s.setMap(null))}},[]),null}p.memo(Hz);class Gz extends p.PureComponent{constructor(){super(...arguments),ee(this,"state",{transitLayer:null}),ee(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}ee(Gz,"contextType",Ue);function sC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var oC={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},iC={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};function qz(e){var{options:t,drawingMode:r,onCircleComplete:n,onMarkerComplete:s,onOverlayComplete:o,onPolygonComplete:i,onPolylineComplete:a,onRectangleComplete:c,onLoad:d,onUnmount:u}=e,f=p.useContext(Ue),[h,m]=p.useState(null),[g,v]=p.useState(null),[b,y]=p.useState(null),[x,w]=p.useState(null),[S,j]=p.useState(null),[C,M]=p.useState(null),[k,E]=p.useState(null);return p.useEffect(()=>{h!==null&&h.setMap(f)},[f]),p.useEffect(()=>{t&&h!==null&&h.setOptions(t)},[h,t]),p.useEffect(()=>{h!==null&&h.setDrawingMode(r??null)},[h,r]),p.useEffect(()=>{h&&n&&(g!==null&&google.maps.event.removeListener(g),v(google.maps.event.addListener(h,"circlecomplete",n)))},[h,n]),p.useEffect(()=>{h&&s&&(b!==null&&google.maps.event.removeListener(b),y(google.maps.event.addListener(h,"markercomplete",s)))},[h,s]),p.useEffect(()=>{h&&o&&(x!==null&&google.maps.event.removeListener(x),w(google.maps.event.addListener(h,"overlaycomplete",o)))},[h,o]),p.useEffect(()=>{h&&i&&(S!==null&&google.maps.event.removeListener(S),j(google.maps.event.addListener(h,"polygoncomplete",i)))},[h,i]),p.useEffect(()=>{h&&a&&(C!==null&&google.maps.event.removeListener(C),M(google.maps.event.addListener(h,"polylinecomplete",a)))},[h,a]),p.useEffect(()=>{h&&c&&(k!==null&&google.maps.event.removeListener(k),E(google.maps.event.addListener(h,"rectanglecomplete",c)))},[h,c]),p.useEffect(()=>{tr(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var _=new google.maps.drawing.DrawingManager(kh(kh({},t),{},{map:f}));return r&&_.setDrawingMode(r),n&&v(google.maps.event.addListener(_,"circlecomplete",n)),s&&y(google.maps.event.addListener(_,"markercomplete",s)),o&&w(google.maps.event.addListener(_,"overlaycomplete",o)),i&&j(google.maps.event.addListener(_,"polygoncomplete",i)),a&&M(google.maps.event.addListener(_,"polylinecomplete",a)),c&&E(google.maps.event.addListener(_,"rectanglecomplete",c)),m(_),d&&d(_),()=>{h!==null&&(g&&google.maps.event.removeListener(g),b&&google.maps.event.removeListener(b),x&&google.maps.event.removeListener(x),S&&google.maps.event.removeListener(S),C&&google.maps.event.removeListener(C),k&&google.maps.event.removeListener(k),u&&u(h),h.setMap(null))}},[]),null}p.memo(qz);class Yz extends p.PureComponent{constructor(t){super(t),ee(this,"registeredEvents",[]),ee(this,"state",{drawingManager:null}),ee(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),tr(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var t=new google.maps.drawing.DrawingManager(kh(kh({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:iC,eventMap:oC,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)}componentDidUpdate(t){this.state.drawingManager!==null&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:iC,eventMap:oC,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ve(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}ee(Yz,"contextType",Ue);function aC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var lC={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},cC={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},Nh={};function Kz(e){var{position:t,options:r,clusterer:n,noClustererRedraw:s,children:o,draggable:i,visible:a,animation:c,clickable:d,cursor:u,icon:f,label:h,opacity:m,shape:g,title:v,zIndex:b,onClick:y,onDblClick:x,onDrag:w,onDragEnd:S,onDragStart:j,onMouseOut:C,onMouseOver:M,onMouseUp:k,onMouseDown:E,onRightClick:_,onClickableChanged:P,onCursorChanged:D,onAnimationChanged:L,onDraggableChanged:A,onFlatChanged:$,onIconChanged:T,onPositionChanged:N,onShapeChanged:O,onTitleChanged:R,onVisibleChanged:B,onZindexChanged:V,onLoad:F,onUnmount:z}=e,W=p.useContext(Ue),[I,q]=p.useState(null),[X,Q]=p.useState(null),[ne,J]=p.useState(null),[G,ie]=p.useState(null),[_e,Ee]=p.useState(null),[fe,Te]=p.useState(null),[De,U]=p.useState(null),[H,K]=p.useState(null),[se,oe]=p.useState(null),[te,ue]=p.useState(null),[we,Ke]=p.useState(null),[qe,nt]=p.useState(null),[Ut,St]=p.useState(null),[Ot,Ht]=p.useState(null),[Gt,hr]=p.useState(null),[Kt,Er]=p.useState(null),[io,Ne]=p.useState(null),[Xe,Ye]=p.useState(null),[kr,At]=p.useState(null),[rr,Rn]=p.useState(null),[ls,zl]=p.useState(null),[bn,cs]=p.useState(null);p.useEffect(()=>{I!==null&&I.setMap(W)},[W]),p.useEffect(()=>{typeof r<"u"&&I!==null&&I.setOptions(r)},[I,r]),p.useEffect(()=>{typeof i<"u"&&I!==null&&I.setDraggable(i)},[I,i]),p.useEffect(()=>{t&&I!==null&&I.setPosition(t)},[I,t]),p.useEffect(()=>{typeof a<"u"&&I!==null&&I.setVisible(a)},[I,a]),p.useEffect(()=>{I==null||I.setAnimation(c)},[I,c]),p.useEffect(()=>{I&&d!==void 0&&I.setClickable(d)},[I,d]),p.useEffect(()=>{I&&u!==void 0&&I.setCursor(u)},[I,u]),p.useEffect(()=>{I&&f!==void 0&&I.setIcon(f)},[I,f]),p.useEffect(()=>{I&&h!==void 0&&I.setLabel(h)},[I,h]),p.useEffect(()=>{I&&m!==void 0&&I.setOpacity(m)},[I,m]),p.useEffect(()=>{I&&g!==void 0&&I.setShape(g)},[I,g]),p.useEffect(()=>{I&&v!==void 0&&I.setTitle(v)},[I,v]),p.useEffect(()=>{I&&b!==void 0&&I.setZIndex(b)},[I,b]),p.useEffect(()=>{I&&x&&(X!==null&&google.maps.event.removeListener(X),Q(google.maps.event.addListener(I,"dblclick",x)))},[x]),p.useEffect(()=>{I&&S&&(ne!==null&&google.maps.event.removeListener(ne),J(google.maps.event.addListener(I,"dragend",S)))},[S]),p.useEffect(()=>{I&&j&&(G!==null&&google.maps.event.removeListener(G),ie(google.maps.event.addListener(I,"dragstart",j)))},[j]),p.useEffect(()=>{I&&E&&(_e!==null&&google.maps.event.removeListener(_e),Ee(google.maps.event.addListener(I,"mousedown",E)))},[E]),p.useEffect(()=>{I&&C&&(fe!==null&&google.maps.event.removeListener(fe),Te(google.maps.event.addListener(I,"mouseout",C)))},[C]),p.useEffect(()=>{I&&M&&(De!==null&&google.maps.event.removeListener(De),U(google.maps.event.addListener(I,"mouseover",M)))},[M]),p.useEffect(()=>{I&&k&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(I,"mouseup",k)))},[k]),p.useEffect(()=>{I&&_&&(se!==null&&google.maps.event.removeListener(se),oe(google.maps.event.addListener(I,"rightclick",_)))},[_]),p.useEffect(()=>{I&&y&&(te!==null&&google.maps.event.removeListener(te),ue(google.maps.event.addListener(I,"click",y)))},[y]),p.useEffect(()=>{I&&w&&(we!==null&&google.maps.event.removeListener(we),Ke(google.maps.event.addListener(I,"drag",w)))},[w]),p.useEffect(()=>{I&&P&&(qe!==null&&google.maps.event.removeListener(qe),nt(google.maps.event.addListener(I,"clickable_changed",P)))},[P]),p.useEffect(()=>{I&&D&&(Ut!==null&&google.maps.event.removeListener(Ut),St(google.maps.event.addListener(I,"cursor_changed",D)))},[D]),p.useEffect(()=>{I&&L&&(Ot!==null&&google.maps.event.removeListener(Ot),Ht(google.maps.event.addListener(I,"animation_changed",L)))},[L]),p.useEffect(()=>{I&&A&&(Gt!==null&&google.maps.event.removeListener(Gt),hr(google.maps.event.addListener(I,"draggable_changed",A)))},[A]),p.useEffect(()=>{I&&$&&(Kt!==null&&google.maps.event.removeListener(Kt),Er(google.maps.event.addListener(I,"flat_changed",$)))},[$]),p.useEffect(()=>{I&&T&&(io!==null&&google.maps.event.removeListener(io),Ne(google.maps.event.addListener(I,"icon_changed",T)))},[T]),p.useEffect(()=>{I&&N&&(Xe!==null&&google.maps.event.removeListener(Xe),Ye(google.maps.event.addListener(I,"position_changed",N)))},[N]),p.useEffect(()=>{I&&O&&(kr!==null&&google.maps.event.removeListener(kr),At(google.maps.event.addListener(I,"shape_changed",O)))},[O]),p.useEffect(()=>{I&&R&&(rr!==null&&google.maps.event.removeListener(rr),Rn(google.maps.event.addListener(I,"title_changed",R)))},[R]),p.useEffect(()=>{I&&B&&(ls!==null&&google.maps.event.removeListener(ls),zl(google.maps.event.addListener(I,"visible_changed",B)))},[B]),p.useEffect(()=>{I&&V&&(bn!==null&&google.maps.event.removeListener(bn),cs(google.maps.event.addListener(I,"zindex_changed",V)))},[V]),p.useEffect(()=>{var Wl=Ga(Ga(Ga({},r||Nh),n?Nh:{map:W}),{},{position:t}),Ae=new google.maps.Marker(Wl);return n?n.addMarker(Ae,!!s):Ae.setMap(W),t&&Ae.setPosition(t),typeof a<"u"&&Ae.setVisible(a),typeof i<"u"&&Ae.setDraggable(i),typeof d<"u"&&Ae.setClickable(d),typeof u=="string"&&Ae.setCursor(u),f&&Ae.setIcon(f),typeof h<"u"&&Ae.setLabel(h),typeof m<"u"&&Ae.setOpacity(m),g&&Ae.setShape(g),typeof v=="string"&&Ae.setTitle(v),typeof b=="number"&&Ae.setZIndex(b),x&&Q(google.maps.event.addListener(Ae,"dblclick",x)),S&&J(google.maps.event.addListener(Ae,"dragend",S)),j&&ie(google.maps.event.addListener(Ae,"dragstart",j)),E&&Ee(google.maps.event.addListener(Ae,"mousedown",E)),C&&Te(google.maps.event.addListener(Ae,"mouseout",C)),M&&U(google.maps.event.addListener(Ae,"mouseover",M)),k&&K(google.maps.event.addListener(Ae,"mouseup",k)),_&&oe(google.maps.event.addListener(Ae,"rightclick",_)),y&&ue(google.maps.event.addListener(Ae,"click",y)),w&&Ke(google.maps.event.addListener(Ae,"drag",w)),P&&nt(google.maps.event.addListener(Ae,"clickable_changed",P)),D&&St(google.maps.event.addListener(Ae,"cursor_changed",D)),L&&Ht(google.maps.event.addListener(Ae,"animation_changed",L)),A&&hr(google.maps.event.addListener(Ae,"draggable_changed",A)),$&&Er(google.maps.event.addListener(Ae,"flat_changed",$)),T&&Ne(google.maps.event.addListener(Ae,"icon_changed",T)),N&&Ye(google.maps.event.addListener(Ae,"position_changed",N)),O&&At(google.maps.event.addListener(Ae,"shape_changed",O)),R&&Rn(google.maps.event.addListener(Ae,"title_changed",R)),B&&zl(google.maps.event.addListener(Ae,"visible_changed",B)),V&&cs(google.maps.event.addListener(Ae,"zindex_changed",V)),q(Ae),F&&F(Ae),()=>{X!==null&&google.maps.event.removeListener(X),ne!==null&&google.maps.event.removeListener(ne),G!==null&&google.maps.event.removeListener(G),_e!==null&&google.maps.event.removeListener(_e),fe!==null&&google.maps.event.removeListener(fe),De!==null&&google.maps.event.removeListener(De),H!==null&&google.maps.event.removeListener(H),se!==null&&google.maps.event.removeListener(se),te!==null&&google.maps.event.removeListener(te),qe!==null&&google.maps.event.removeListener(qe),Ut!==null&&google.maps.event.removeListener(Ut),Ot!==null&&google.maps.event.removeListener(Ot),Gt!==null&&google.maps.event.removeListener(Gt),Kt!==null&&google.maps.event.removeListener(Kt),io!==null&&google.maps.event.removeListener(io),Xe!==null&&google.maps.event.removeListener(Xe),rr!==null&&google.maps.event.removeListener(rr),ls!==null&&google.maps.event.removeListener(ls),bn!==null&&google.maps.event.removeListener(bn),z&&z(Ae),n?n.removeMarker(Ae,!!s):Ae&&Ae.setMap(null)}},[]);var eR=p.useMemo(()=>o?p.Children.map(o,Wl=>{if(!p.isValidElement(Wl))return Wl;var Ae=Wl;return p.cloneElement(Ae,{anchor:I})}):null,[o,I]);return l.jsx(l.Fragment,{children:eR})||null}var il=p.memo(Kz);class Zz extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[])}componentDidMount(){var t=this;return KP(function*(){var r=Ga(Ga(Ga({},t.props.options||Nh),t.props.clusterer?Nh:{map:t.context}),{},{position:t.props.position});t.marker=new google.maps.Marker(r),t.props.clusterer?t.props.clusterer.addMarker(t.marker,!!t.props.noClustererRedraw):t.marker.setMap(t.context),t.registeredEvents=We({updaterMap:cC,eventMap:lC,prevProps:{},nextProps:t.props,instance:t.marker}),t.props.onLoad&&t.props.onLoad(t.marker)})()}componentDidUpdate(t){this.marker&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:cC,eventMap:lC,prevProps:t,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ve(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var t=this.props.children?p.Children.map(this.props.children,r=>{if(!p.isValidElement(r))return r;var n=r;return p.cloneElement(n,{anchor:this.marker})}):null;return t||null}}ee(Zz,"contextType",Ue);var Xz=function(){function e(t,r){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=r,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(t){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var r=this.cluster.getClusterer();if(google.maps.event.trigger(r,"click",this.cluster),google.maps.event.trigger(r,"clusterclick",this.cluster),r.getZoomOnClick()){var n=r.getMaxZoom(),s=this.cluster.getBounds(),o=r.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(s),this.timeOut=window.setTimeout(function(){var i=r.getMap();if(i!==null){"fitBounds"in i&&i.fitBounds(s);var a=i.getZoom()||0;n!==null&&a>n&&i.setZoom(n+1)}},100)}t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var t;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(t=this.getPanes())===null||t===void 0||t.overlayMouseTarget.appendChild(this.div);var r=this.getMap();r!==null&&(this.boundsChangedListener=google.maps.event.addListener(r,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var t=this.getPosFromLatLng(this.center);this.div.style.top=t!==null?"".concat(t.y,"px"):"0",this.div.style.left=t!==null?"".concat(t.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var t,r,n,s,o,i;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),d=parseInt(((t=c[0])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),u=parseInt(((r=c[1])===null||r===void 0?void 0:r.replace(/^\s+|\s+$/g,""))||"0",10),f=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(f!==null?"".concat(f.y,"px"):"0","; left: ").concat(f!==null?"".concat(f.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var h=document.createElement("img");h.alt=a,h.src=this.url,h.width=this.width,h.height=this.height,h.setAttribute("style","position: absolute; top: ".concat(u,"px; left: ").concat(d,"px")),this.cluster.getClusterer().enableRetinaIcons||(h.style.clip="rect(-".concat(u,"px, -").concat(d+this.width,"px, -").concat(u+this.height,", -").concat(d,")"));var m=document.createElement("div");m.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((n=this.sums)===null||n===void 0)&&n.text&&(m.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((o=this.sums)===null||o===void 0)&&o.html&&(m.innerHTML="".concat((i=this.sums)===null||i===void 0?void 0:i.html)),this.div.innerHTML="",this.div.appendChild(h),this.div.appendChild(m),this.div.title=a,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(t){this.sums=t;var r=this.cluster.getClusterer().getStyles(),n=r[Math.min(r.length-1,Math.max(0,t.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(t){this.center=t},e.prototype.getPosFromLatLng=function(t){var r=this.getProjection().fromLatLngToDivPixel(t);return r!==null&&(r.x-=this.anchorIcon[1],r.y-=this.anchorIcon[0]),r},e}(),Qz=function(){function e(t){this.markerClusterer=t,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Xz(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center,this.center),r=this.getMarkers(),n=0,s=r;n<s.length;n++){var o=s[n],i=o.getPosition();i&&t.extend(i)}return t},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(t){var r;if(this.isMarkerAlreadyAdded(t))return!1;if(this.center){if(this.averageCenter){var n=t.getPosition();if(n){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+n.lat())/s,(this.center.lng()*(s-1)+n.lng())/s),this.calculateBounds()}}}else{var n=t.getPosition();n&&(this.center=n,this.calculateBounds())}t.isAdded=!0,this.markers.push(t);var o=this.markers.length,i=this.markerClusterer.getMaxZoom(),a=(r=this.map)===null||r===void 0?void 0:r.getZoom();if(i!==null&&typeof a<"u"&&a>i)t.getMap()!==this.map&&t.setMap(this.map);else if(o<this.minClusterSize)t.getMap()!==this.map&&t.setMap(this.map);else if(o===this.minClusterSize)for(var c=0,d=this.markers;c<d.length;c++){var u=d[c];u.setMap(null)}else t.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(t){if(this.bounds!==null){var r=t.getPosition();if(r)return this.bounds.contains(r)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var t,r=this.markers.length,n=this.markerClusterer.getMaxZoom(),s=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(n!==null&&typeof s<"u"&&s>n){this.clusterIcon.hide();return}if(r<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},e.prototype.isMarkerAlreadyAdded=function(t){if(this.markers.includes)return this.markers.includes(t);for(var r=0;r<this.markers.length;r++)if(t===this.markers[r])return!0;return!1},e}();function Jz(e,t){var r=e.length,n=r.toString().length,s=Math.min(n,t);return{text:r.toString(),index:s,title:""}}var e7=2e3,t7=500,r7="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",n7="png",s7=[53,56,66,78,90],o7="cluster",eM=function(){function e(t,r,n){r===void 0&&(r=[]),n===void 0&&(n={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=n.gridSize||60,this.minClusterSize=n.minimumClusterSize||2,this.maxZoom=n.maxZoom||null,this.styles=n.styles||[],this.title=n.title||"",this.zoomOnClick=!0,n.zoomOnClick!==void 0&&(this.zoomOnClick=n.zoomOnClick),this.averageCenter=!1,n.averageCenter!==void 0&&(this.averageCenter=n.averageCenter),this.ignoreHidden=!1,n.ignoreHidden!==void 0&&(this.ignoreHidden=n.ignoreHidden),this.enableRetinaIcons=!1,n.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=n.enableRetinaIcons),this.imagePath=n.imagePath||r7,this.imageExtension=n.imageExtension||n7,this.imageSizes=n.imageSizes||s7,this.calculator=n.calculator||Jz,this.batchSize=n.batchSize||e7,this.batchSizeIE=n.batchSizeIE||t7,this.clusterClass=n.clusterClass||o7,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(r,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var t,r;this.resetViewport(!1),(((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===(this.get("minZoom")||0)||((r=this.getMap())===null||r===void 0?void 0:r.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var t=this.getMap();this.activeMap=t,this.ready=!0,this.repaint(),t!==null&&(this.listeners=[google.maps.event.addListener(t,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(t,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var t=0,r=this.markers;t<r.length;t++){var n=r[t];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var s=0,o=this.clusters;s<o.length;s++){var i=o[s];i.remove()}this.clusters=[];for(var a=0,c=this.listeners;a<c.length;a++){var d=c[a];google.maps.event.removeListener(d)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var t=0;t<this.imageSizes.length;t++)this.styles.push({url:"".concat(this.imagePath+(t+1),".").concat(this.imageExtension),height:this.imageSizes[t]||0,width:this.imageSizes[t]||0})},e.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),r=new google.maps.LatLngBounds,n=0,s=t;n<s.length;n++){var o=s[n],i=o.getPosition();i&&r.extend(i)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(r)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(t){this.gridSize=t},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(t){this.minClusterSize=t},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(t){this.maxZoom=t},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(t){this.styles=t},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(t){this.title=t},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(t){this.zoomOnClick=t},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(t){this.averageCenter=t},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(t){this.ignoreHidden=t},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons=t},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(t){this.imageExtension=t},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(t){this.imagePath=t},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(t){this.imageSizes=t},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(t){this.calculator=t},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(t){this.batchSizeIE=t},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(t){this.clusterClass=t},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(t,r){this.pushMarkerTo(t),r||this.redraw()},e.prototype.addMarkers=function(t,r){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=t[n];s&&this.pushMarkerTo(s)}r||this.redraw()},e.prototype.pushMarkerTo=function(t){var r=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){r.ready&&(t.isAdded=!1,r.repaint())}),t.isAdded=!1,this.markers.push(t)},e.prototype.removeMarker_=function(t){var r=-1;if(this.markers.indexOf)r=this.markers.indexOf(t);else for(var n=0;n<this.markers.length;n++)if(t===this.markers[n]){r=n;break}return r===-1?!1:(t.setMap(null),this.markers.splice(r,1),!0)},e.prototype.removeMarker=function(t,r){var n=this.removeMarker_(t);return!r&&n&&this.repaint(),n},e.prototype.removeMarkers=function(t,r){for(var n=!1,s=0,o=t;s<o.length;s++){var i=o[s];n=n||this.removeMarker_(i)}return!r&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var t=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var n=0,s=t;n<s.length;n++){var o=s[n];o.remove()}},0)},e.prototype.getExtendedBounds=function(t){var r=this.getProjection(),n=r.fromLatLngToDivPixel(new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()));n!==null&&(n.x+=this.gridSize,n.y-=this.gridSize);var s=r.fromLatLngToDivPixel(new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),n!==null){var o=r.fromDivPixelToLatLng(n);o!==null&&t.extend(o)}if(s!==null){var i=r.fromDivPixelToLatLng(s);i!==null&&t.extend(i)}return t},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(t){for(var r=0,n=this.clusters;r<n.length;r++){var s=n[r];s.remove()}this.clusters=[];for(var o=0,i=this.markers;o<i.length;o++){var a=i[o];a.isAdded=!1,t&&a.setMap(null)}},e.prototype.distanceBetweenPoints=function(t,r){var n=6371,s=(r.lat()-t.lat())*Math.PI/180,o=(r.lng()-t.lng())*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(r.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return n*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))},e.prototype.isMarkerInBounds=function(t,r){var n=t.getPosition();return n?r.contains(n):!1},e.prototype.addToClosestCluster=function(t){for(var r,n=4e4,s=null,o=0,i=this.clusters;o<i.length;o++){var a=i[o];r=a;var c=r.getCenter(),d=t.getPosition();if(c&&d){var u=this.distanceBetweenPoints(c,d);u<n&&(n=u,s=r)}}s&&s.isMarkerInClusterBounds(t)?s.addMarker(t):(r=new Qz(this),r.addMarker(t),this.clusters.push(r))},e.prototype.createClusters=function(t){var r=this;if(this.ready){t===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),s=n!==null&&("getBounds"in n)?n.getBounds():null,o=(n==null?void 0:n.getZoom())||0,i=o>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(i),c=Math.min(t+this.batchSize,this.markers.length),d=t;d<c;d++){var u=this.markers[d];u&&!u.isAdded&&this.isMarkerInBounds(u,a)&&(!this.ignoreHidden||this.ignoreHidden&&u.getVisible())&&this.addToClosestCluster(u)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){r.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var f=0,h=this.clusters;f<h.length;f++){var m=h[f];m.updateIcon()}}}},e.prototype.extend=function(t,r){return(function(s){for(var o in s.prototype){var i=o;this.prototype[i]=s.prototype[i]}return this}).apply(t,[r])},e}();function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function i7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Sn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},et={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},a7={};function l7(e){var{children:t,options:r,averageCenter:n,batchSizeIE:s,calculator:o,clusterClass:i,enableRetinaIcons:a,gridSize:c,ignoreHidden:d,imageExtension:u,imagePath:f,imageSizes:h,maxZoom:m,minimumClusterSize:g,styles:v,title:b,zoomOnClick:y,onClick:x,onClusteringBegin:w,onClusteringEnd:S,onMouseOver:j,onMouseOut:C,onLoad:M,onUnmount:k}=e,[E,_]=p.useState(null),P=p.useContext(Ue),[D,L]=p.useState(null),[A,$]=p.useState(null),[T,N]=p.useState(null),[O,R]=p.useState(null),[B,V]=p.useState(null);return p.useEffect(()=>{E&&C&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(E,Sn.onMouseOut,C)))},[C]),p.useEffect(()=>{E&&j&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(E,Sn.onMouseOver,j)))},[j]),p.useEffect(()=>{E&&x&&(D!==null&&google.maps.event.removeListener(D),L(google.maps.event.addListener(E,Sn.onClick,x)))},[x]),p.useEffect(()=>{E&&w&&(A!==null&&google.maps.event.removeListener(A),$(google.maps.event.addListener(E,Sn.onClusteringBegin,w)))},[w]),p.useEffect(()=>{E&&S&&(T!==null&&google.maps.event.removeListener(T),$(google.maps.event.addListener(E,Sn.onClusteringEnd,S)))},[S]),p.useEffect(()=>{typeof n<"u"&&E!==null&&et.averageCenter(E,n)},[E,n]),p.useEffect(()=>{typeof s<"u"&&E!==null&&et.batchSizeIE(E,s)},[E,s]),p.useEffect(()=>{typeof o<"u"&&E!==null&&et.calculator(E,o)},[E,o]),p.useEffect(()=>{typeof i<"u"&&E!==null&&et.clusterClass(E,i)},[E,i]),p.useEffect(()=>{typeof a<"u"&&E!==null&&et.enableRetinaIcons(E,a)},[E,a]),p.useEffect(()=>{typeof c<"u"&&E!==null&&et.gridSize(E,c)},[E,c]),p.useEffect(()=>{typeof d<"u"&&E!==null&&et.ignoreHidden(E,d)},[E,d]),p.useEffect(()=>{typeof u<"u"&&E!==null&&et.imageExtension(E,u)},[E,u]),p.useEffect(()=>{typeof f<"u"&&E!==null&&et.imagePath(E,f)},[E,f]),p.useEffect(()=>{typeof h<"u"&&E!==null&&et.imageSizes(E,h)},[E,h]),p.useEffect(()=>{typeof m<"u"&&E!==null&&et.maxZoom(E,m)},[E,m]),p.useEffect(()=>{typeof g<"u"&&E!==null&&et.minimumClusterSize(E,g)},[E,g]),p.useEffect(()=>{typeof v<"u"&&E!==null&&et.styles(E,v)},[E,v]),p.useEffect(()=>{typeof b<"u"&&E!==null&&et.title(E,b)},[E,b]),p.useEffect(()=>{typeof y<"u"&&E!==null&&et.zoomOnClick(E,y)},[E,y]),p.useEffect(()=>{if(P){var F=i7({},r||a7),z=new eM(P,[],F);return n&&et.averageCenter(z,n),s&&et.batchSizeIE(z,s),o&&et.calculator(z,o),i&&et.clusterClass(z,i),a&&et.enableRetinaIcons(z,a),c&&et.gridSize(z,c),d&&et.ignoreHidden(z,d),u&&et.imageExtension(z,u),f&&et.imagePath(z,f),h&&et.imageSizes(z,h),m&&et.maxZoom(z,m),g&&et.minimumClusterSize(z,g),v&&et.styles(z,v),b&&et.title(z,b),y&&et.zoomOnClick(z,y),C&&R(google.maps.event.addListener(z,Sn.onMouseOut,C)),j&&V(google.maps.event.addListener(z,Sn.onMouseOver,j)),x&&L(google.maps.event.addListener(z,Sn.onClick,x)),w&&$(google.maps.event.addListener(z,Sn.onClusteringBegin,w)),S&&N(google.maps.event.addListener(z,Sn.onClusteringEnd,S)),_(z),M&&M(z),()=>{O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),D!==null&&google.maps.event.removeListener(D),A!==null&&google.maps.event.removeListener(A),T!==null&&google.maps.event.removeListener(T),k&&k(z)}}},[]),E!==null&&t(E)||null}p.memo(l7);class c7 extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[]),ee(this,"state",{markerClusterer:null}),ee(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var t=new eM(this.context,[],this.props.options);this.registeredEvents=We({updaterMap:et,eventMap:Sn,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({markerClusterer:t}),this.setClustererCallback)}}componentDidUpdate(t){this.state.markerClusterer&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:et,eventMap:Sn,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ve(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}ee(c7,"contextType",Ue);function dC(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var tM=function(){function e(t){t===void 0&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",t.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),typeof t.visible>"u"&&(typeof t.isHidden>"u"?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var t=this,r=function(u){u.returnValue=!1,u.preventDefault&&u.preventDefault(),t.enableEventPropagation||dC(u)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var n=this.getPanes();if(n!==null&&n[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],i=0,a=o;i<a.length;i++){var c=a[i];this.eventListeners.push(google.maps.event.addListener(this.div,c,dC))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){t.div&&(t.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",r),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var t="";return this.closeBoxURL!==""&&(t='<img alt=""',t+=' aria-hidden="true"',t+=" src='"+this.closeBoxURL+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin+";",t+="'>"),t},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(t){if(this.div&&!t){var r=this.getMap();if(r instanceof google.maps.Map){var n=0,s=0,o=r.getBounds();o&&!o.contains(this.position)&&r.setCenter(this.position);var i=r.getDiv(),a=i.offsetWidth,c=i.offsetHeight,d=this.pixelOffset.width,u=this.pixelOffset.height,f=this.div.offsetWidth,h=this.div.offsetHeight,m=this.infoBoxClearance.width,g=this.infoBoxClearance.height,v=this.getProjection(),b=v.fromLatLngToContainerPixel(this.position);b!==null&&(b.x<-d+m?n=b.x+d-m:b.x+f+d+m>a&&(n=b.x+f+d+m-a),this.alignBottom?b.y<-u+g+h?s=b.y+u-g-h:b.y+u+g>c&&(s=b.y+u+g-c):b.y<-u+g?s=b.y+u-g:b.y+h+u+g>c&&(s=b.y+h+u+g-c)),n===0&&s===0||r.panBy(n,s)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var t=this.boxStyle;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.div.style[r]=t[r]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+n*100+')"',this.div.style.filter="alpha(opacity="+n*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var t={top:0,bottom:0,left:0,right:0};if(!this.div)return t;if(document.defaultView){var r=this.div.ownerDocument,n=r&&r.defaultView?r.defaultView.getComputedStyle(this.div,""):null;n&&(t.top=parseInt(n.borderTopWidth||"",10)||0,t.bottom=parseInt(n.borderBottomWidth||"",10)||0,t.left=parseInt(n.borderLeftWidth||"",10)||0,t.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(t.top=parseInt(s.borderTopWidth||"",10)||0,t.bottom=parseInt(s.borderBottomWidth||"",10)||0,t.left=parseInt(s.borderLeftWidth||"",10)||0,t.right=parseInt(s.borderRightWidth||"",10)||0)}return t},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var t=this.getProjection(),r=t.fromLatLngToDivPixel(this.position);r!==null&&(this.div.style.left=r.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(r.y+this.pixelOffset.height)+"px":this.div.style.top=r.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(t){t===void 0&&(t={}),typeof t.boxClass<"u"&&(this.boxClass=t.boxClass,this.setBoxStyle()),typeof t.boxStyle<"u"&&(this.boxStyle=t.boxStyle,this.setBoxStyle()),typeof t.content<"u"&&this.setContent(t.content),typeof t.disableAutoPan<"u"&&(this.disableAutoPan=t.disableAutoPan),typeof t.maxWidth<"u"&&(this.maxWidth=t.maxWidth),typeof t.pixelOffset<"u"&&(this.pixelOffset=t.pixelOffset),typeof t.alignBottom<"u"&&(this.alignBottom=t.alignBottom),typeof t.position<"u"&&this.setPosition(t.position),typeof t.zIndex<"u"&&this.setZIndex(t.zIndex),typeof t.closeBoxMargin<"u"&&(this.closeBoxMargin=t.closeBoxMargin),typeof t.closeBoxURL<"u"&&(this.closeBoxURL=t.closeBoxURL),typeof t.infoBoxClearance<"u"&&(this.infoBoxClearance=t.infoBoxClearance),typeof t.isHidden<"u"&&(this.isHidden=t.isHidden),typeof t.visible<"u"&&(this.isHidden=!t.visible),typeof t.enableEventPropagation<"u"&&(this.enableEventPropagation=t.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(t){this.content=t,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(t){this.position=t,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(t){this.isHidden=!t,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var t=this.getMap();return typeof t>"u"||t===null?!1:!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(t,r){var n=this;r&&(this.position=r.getPosition(),this.moveListener=google.maps.event.addListener(r,"position_changed",function(){var s=r.getPosition();n.setPosition(s)}),this.mapListener=google.maps.event.addListener(r,"map_changed",function(){n.setMap(r.map)})),this.setMap(t),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var t=0,r=this.eventListeners;t<r.length;t++){var n=r[t];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(t,r){return(function(s){for(var o in s.prototype)Object.prototype.hasOwnProperty.call(this,o)||(this.prototype[o]=s.prototype[o]);return this}).apply(t,[r])},e}(),u7=["position"],d7=["position"];function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var hC={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},pC={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},f7={};function h7(e){var{children:t,anchor:r,options:n,position:s,zIndex:o,onCloseClick:i,onDomReady:a,onContentChanged:c,onPositionChanged:d,onZindexChanged:u,onLoad:f,onUnmount:h}=e,m=p.useContext(Ue),[g,v]=p.useState(null),[b,y]=p.useState(null),[x,w]=p.useState(null),[S,j]=p.useState(null),[C,M]=p.useState(null),[k,E]=p.useState(null),_=p.useRef(null);return p.useEffect(()=>{m&&g!==null&&(g.close(),r?g.open(m,r):g.getPosition()&&g.open(m))},[m,g,r]),p.useEffect(()=>{n&&g!==null&&g.setOptions(n)},[g,n]),p.useEffect(()=>{if(s&&g!==null){var P=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);g.setPosition(P)}},[s]),p.useEffect(()=>{typeof o=="number"&&g!==null&&g.setZIndex(o)},[o]),p.useEffect(()=>{g&&i&&(b!==null&&google.maps.event.removeListener(b),y(google.maps.event.addListener(g,"closeclick",i)))},[i]),p.useEffect(()=>{g&&a&&(x!==null&&google.maps.event.removeListener(x),w(google.maps.event.addListener(g,"domready",a)))},[a]),p.useEffect(()=>{g&&c&&(S!==null&&google.maps.event.removeListener(S),j(google.maps.event.addListener(g,"content_changed",c)))},[c]),p.useEffect(()=>{g&&d&&(C!==null&&google.maps.event.removeListener(C),M(google.maps.event.addListener(g,"position_changed",d)))},[d]),p.useEffect(()=>{g&&u&&(k!==null&&google.maps.event.removeListener(k),E(google.maps.event.addListener(g,"zindex_changed",u)))},[u]),p.useEffect(()=>{if(m){var P=n||f7,{position:D}=P,L=lb(P,u7),A;D&&!(D instanceof google.maps.LatLng)&&(A=new google.maps.LatLng(D.lat,D.lng));var $=new tM(Ph(Ph({},L),A?{position:A}:{}));_.current=document.createElement("div"),v($),i&&y(google.maps.event.addListener($,"closeclick",i)),a&&w(google.maps.event.addListener($,"domready",a)),c&&j(google.maps.event.addListener($,"content_changed",c)),d&&M(google.maps.event.addListener($,"position_changed",d)),u&&E(google.maps.event.addListener($,"zindex_changed",u)),$.setContent(_.current),r?$.open(m,r):$.getPosition()?$.open(m):tr(!1,"You must provide either an anchor or a position prop for <InfoBox>."),f&&f($)}return()=>{g!==null&&(b&&google.maps.event.removeListener(b),S&&google.maps.event.removeListener(S),x&&google.maps.event.removeListener(x),C&&google.maps.event.removeListener(C),k&&google.maps.event.removeListener(k),h&&h(g),g.close())}},[]),_.current?Ir.createPortal(p.Children.only(t),_.current):null}p.memo(h7);class p7 extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[]),ee(this,"containerElement",null),ee(this,"state",{infoBox:null}),ee(this,"open",(t,r)=>{r?this.context!==null&&t.open(this.context,r):t.getPosition()?this.context!==null&&t.open(this.context):tr(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),ee(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var t=this.props.options||{},{position:r}=t,n=lb(t,d7),s;r&&!(r instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(r.lat,r.lng));var o=new tM(Ph(Ph({},n),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=We({updaterMap:pC,eventMap:hC,prevProps:{},nextProps:this.props,instance:o}),this.setState({infoBox:o},this.setInfoBoxCallback)}componentDidUpdate(t){var{infoBox:r}=this.state;r!==null&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:pC,eventMap:hC,prevProps:t,nextProps:this.props,instance:r}))}componentWillUnmount(){var{onUnmount:t}=this.props,{infoBox:r}=this.state;r!==null&&(t&&t(r),Ve(this.registeredEvents),r.close())}render(){return this.containerElement?Ir.createPortal(p.Children.only(this.props.children),this.containerElement):null}}ee(p7,"contextType",Ue);var Wg,mC;function m7(){return mC||(mC=1,Wg=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[s]))return!1;for(s=n;s--!==0;){var i=o[s];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}),Wg}var g7=m7(),gC=YP(g7),vC=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Vg=1,rc=8;class cb{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[r,n]=new Uint8Array(t,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=n>>4;if(s!==Vg)throw new Error("Got v".concat(s," data when expected v").concat(Vg,"."));var o=vC[n&15];if(!o)throw new Error("Unrecognized array type.");var[i]=new Uint16Array(t,2,1),[a]=new Uint32Array(t,4,1);return new cb(a,i,o,t)}constructor(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var o=vC.indexOf(this.ArrayType),i=t*2*this.ArrayType.BYTES_PER_ELEMENT,a=t*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-a%8)%8;if(o<0)throw new Error("Unexpected typed array class: ".concat(n,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,rc,t),this.coords=new this.ArrayType(this.data,rc+a+c,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(rc+i+a+c),this.ids=new this.IndexArrayType(this.data,rc,t),this.coords=new this.ArrayType(this.data,rc+a+c,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Vg<<4)+o]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t)}add(t,r){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=r,n}finish(){var t=this._pos>>1;if(t!==this.numItems)throw new Error("Added ".concat(t," items when expected ").concat(this.numItems,"."));return Jy(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,r,n,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:i,nodeSize:a}=this,c=[0,o.length-1,0],d=[];c.length;){var u=c.pop()||0,f=c.pop()||0,h=c.pop()||0;if(f-h<=a){for(var m=h;m<=f;m++){var g=i[2*m],v=i[2*m+1];g>=t&&g<=n&&v>=r&&v<=s&&d.push(o[m])}continue}var b=h+f>>1,y=i[2*b],x=i[2*b+1];y>=t&&y<=n&&x>=r&&x<=s&&d.push(o[b]),(u===0?t<=y:r<=x)&&(c.push(h),c.push(b-1),c.push(1-u)),(u===0?n>=y:s>=x)&&(c.push(b+1),c.push(f),c.push(1-u))}return d}within(t,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:o,nodeSize:i}=this,a=[0,s.length-1,0],c=[],d=n*n;a.length;){var u=a.pop()||0,f=a.pop()||0,h=a.pop()||0;if(f-h<=i){for(var m=h;m<=f;m++)yC(o[2*m],o[2*m+1],t,r)<=d&&c.push(s[m]);continue}var g=h+f>>1,v=o[2*g],b=o[2*g+1];yC(v,b,t,r)<=d&&c.push(s[g]),(u===0?t-n<=v:r-n<=b)&&(a.push(h),a.push(g-1),a.push(1-u)),(u===0?t+n>=v:r+n>=b)&&(a.push(g+1),a.push(f),a.push(1-u))}return c}}function Jy(e,t,r,n,s,o){if(!(s-n<=r)){var i=n+s>>1;rM(e,t,i,n,s,o),Jy(e,t,r,n,i-1,1-o),Jy(e,t,r,i+1,s,1-o)}}function rM(e,t,r,n,s,o){for(;s>n;){if(s-n>600){var i=s-n+1,a=r-n+1,c=Math.log(i),d=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*d*(i-d)/i)*(a-i/2<0?-1:1),f=Math.max(n,Math.floor(r-a*d/i+u)),h=Math.min(s,Math.floor(r+(i-a)*d/i+u));rM(e,t,r,f,h,o)}var m=t[2*r+o],g=n,v=s;for(nc(e,t,n,r),t[2*s+o]>m&&nc(e,t,n,s);g<v;){for(nc(e,t,g,v),g++,v--;t[2*g+o]<m;)g++;for(;t[2*v+o]>m;)v--}t[2*n+o]===m?nc(e,t,n,v):(v++,nc(e,t,v,s)),v<=r&&(n=v+1),r<=v&&(s=v-1)}}function nc(e,t,r,n){Hg(e,r,n),Hg(t,2*r,2*n),Hg(t,2*r+1,2*n+1)}function Hg(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function yC(e,t,r,n){var s=e-r,o=t-n;return s*s+o*o}var v7={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},xC=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),mi=2,bo=3,Gg=4,mo=5,nM=6;class y7{constructor(t){this.options=Object.assign(Object.create(v7),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){var{log:r,minZoom:n,maxZoom:s}=this.options;r&&console.time("total time");var o="prepare ".concat(t.length," points");r&&console.time(o),this.points=t;for(var i=[],a=0;a<t.length;a++){var c=t[a];if(c.geometry){var[d,u]=c.geometry.coordinates,f=xC(of(d)),h=xC(af(u));i.push(f,h,1/0,a,-1,1),this.options.reduce&&i.push(0)}}var m=this.trees[s+1]=this._createTree(i);r&&console.timeEnd(o);for(var g=s;g>=n;g--){var v=+Date.now();m=this.trees[g]=this._createTree(this._cluster(m,g)),r&&console.log("z%d: %d clusters in %dms",g,m.numItems,+Date.now()-v)}return r&&console.timeEnd("total time"),this}getClusters(t,r){var n=((t[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,t[1])),o=t[2]===180?180:((t[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,o=180;else if(n>o){var a=this.getClusters([n,s,180,i],r),c=this.getClusters([-180,s,o,i],r);return a.concat(c)}var d=this.trees[this._limitZoom(r)],u=d.range(of(n),af(i),of(o),af(s)),f=d.data,h=[];for(var m of u){var g=this.stride*m;h.push(f[g+mo]>1?bC(f,g,this.clusterProps):this.points[f[g+bo]])}return h}getChildren(t){var r=this._getOriginId(t),n=this._getOriginZoom(t),s="No cluster with the specified id.",o=this.trees[n];if(!o)throw new Error(s);var i=o.data;if(r*this.stride>=i.length)throw new Error(s);var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),c=i[r*this.stride],d=i[r*this.stride+1],u=o.within(c,d,a),f=[];for(var h of u){var m=h*this.stride;i[m+Gg]===t&&f.push(i[m+mo]>1?bC(i,m,this.clusterProps):this.points[i[m+bo]])}if(f.length===0)throw new Error(s);return f}getLeaves(t,r,n){r=r||10,n=n||0;var s=[];return this._appendLeaves(s,t,r,n,0),s}getTile(t,r,n){var s=this.trees[this._limitZoom(t)],o=Math.pow(2,t),{extent:i,radius:a}=this.options,c=a/i,d=(n-c)/o,u=(n+1+c)/o,f={features:[]};return this._addTileFeatures(s.range((r-c)/o,d,(r+1+c)/o,u),s.data,r,n,o,f),r===0&&this._addTileFeatures(s.range(1-c/o,d,1,u),s.data,o,n,o,f),r===o-1&&this._addTileFeatures(s.range(0,d,c/o,u),s.data,-1,n,o,f),f.features.length?f:null}getClusterExpansionZoom(t){for(var r=this._getOriginZoom(t)-1;r<=this.options.maxZoom;){var n=this.getChildren(t);if(r++,n.length!==1)break;t=n[0].properties.cluster_id}return r}_appendLeaves(t,r,n,s,o){var i=this.getChildren(r);for(var a of i){var c=a.properties;if(c&&c.cluster?o+c.point_count<=s?o+=c.point_count:o=this._appendLeaves(t,c.cluster_id,n,s,o):o<s?o++:t.push(a),t.length===n)break}return o}_createTree(t){for(var r=new cb(t.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<t.length;n+=this.stride)r.add(t[n],t[n+1]);return r.finish(),r.data=t,r}_addTileFeatures(t,r,n,s,o,i){for(var a of t){var c=a*this.stride,d=r[c+mo]>1,u=void 0,f=void 0,h=void 0;if(d)u=sM(r,c,this.clusterProps),f=r[c],h=r[c+1];else{var m=this.points[r[c+bo]];u=m.properties;var[g,v]=m.geometry.coordinates;f=of(g),h=af(v)}var b={type:1,geometry:[[Math.round(this.options.extent*(f*o-n)),Math.round(this.options.extent*(h*o-s))]],tags:u},y=void 0;d||this.options.generateId?y=r[c+bo]:y=this.points[r[c+bo]].id,y!==void 0&&(b.id=y),i.features.push(b)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,r){for(var{radius:n,extent:s,reduce:o,minPoints:i}=this.options,a=n/(s*Math.pow(2,r)),c=t.data,d=[],u=this.stride,f=0;f<c.length;f+=u)if(!(c[f+mi]<=r)){c[f+mi]=r;var h=c[f],m=c[f+1],g=t.within(c[f],c[f+1],a),v=c[f+mo],b=v;for(var y of g){var x=y*u;c[x+mi]>r&&(b+=c[x+mo])}if(b>v&&b>=i){var w=h*v,S=m*v,j=void 0,C=-1,M=((f/u|0)<<5)+(r+1)+this.points.length;for(var k of g){var E=k*u;if(!(c[E+mi]<=r)){c[E+mi]=r;var _=c[E+mo];w+=c[E]*_,S+=c[E+1]*_,c[E+Gg]=M,o&&(j||(j=this._map(c,f,!0),C=this.clusterProps.length,this.clusterProps.push(j)),o(j,this._map(c,E)))}}c[f+Gg]=M,d.push(w/b,S/b,1/0,M,-1,b),o&&d.push(C)}else{for(var P=0;P<u;P++)d.push(c[f+P]);if(b>1)for(var D of g){var L=D*u;if(!(c[L+mi]<=r)){c[L+mi]=r;for(var A=0;A<u;A++)d.push(c[L+A])}}}}return d}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,r,n){if(t[r+mo]>1){var s=this.clusterProps[t[r+nM]];return n?Object.assign({},s):s}var o=this.points[t[r+bo]].properties,i=this.options.map(o);return n&&i===o?Object.assign({},i):i}}function bC(e,t,r){return{type:"Feature",id:e[t+bo],properties:sM(e,t,r),geometry:{type:"Point",coordinates:[x7(e[t]),b7(e[t+1])]}}}function sM(e,t,r){var n=e[t+mo],s=n>=1e4?"".concat(Math.round(n/1e3),"k"):n>=1e3?"".concat(Math.round(n/100)/10,"k"):n,o=e[t+nM],i=o===-1?{}:Object.assign({},r[o]);return Object.assign(i,{cluster:!0,cluster_id:e[t+bo],point_count:n,point_count_abbreviated:s})}function of(e){return e/360+.5}function af(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function x7(e){return(e-.5)*360}function b7(e){var t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function w7(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}class on{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,r){this.isAdvancedMarker(t)?t.map=r:t.setMap(r)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class ex{constructor(t){var{markers:r,position:n}=t;this.markers=r,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(!(this.markers.length===0&&!this._position)){var t=new google.maps.LatLngBounds(this._position,this._position);for(var r of this.markers)t.extend(on.getPosition(r));return t}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>on.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(on.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class S7{constructor(t){var{maxZoom:r=16}=t;this.maxZoom=r}noop(t){var{markers:r}=t;return C7(r)}}var C7=e=>{var t=e.map(r=>new ex({position:on.getPosition(r),markers:[r]}));return t};class _7 extends S7{constructor(t){var{maxZoom:r,radius:n=60}=t,s=w7(t,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new y7(Object.assign({maxZoom:this.maxZoom,radius:n},s))}calculate(t){var r=!1,n={zoom:t.map.getZoom()};if(!gC(t.markers,this.markers)){r=!0,this.markers=[...t.markers];var s=this.markers.map(o=>{var i=on.getPosition(o),a=[i.lng(),i.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:a},properties:{marker:o}}});this.superCluster.load(s)}return r||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(r=!gC(this.state,n)),this.state=n,r&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:r}}cluster(t){var{map:r}=t;return this.superCluster.getClusters([-180,-90,180,90],Math.round(r.getZoom())).map(n=>this.transformCluster(n))}transformCluster(t){var{geometry:{coordinates:[r,n]},properties:s}=t;if(s.cluster)return new ex({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:n,lng:r}});var o=s.marker;return new ex({markers:[o],position:on.getPosition(o)})}}class j7{constructor(t,r){this.markers={sum:t.length};var n=r.map(o=>o.count),s=n.reduce((o,i)=>o+i,0);this.clusters={count:r.length,markers:{mean:s/r.length,sum:s,min:Math.min(...n),max:Math.max(...n)}}}}class E7{render(t,r,n){var{count:s,position:o}=t,i=s>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff",a='<svg fill="'.concat(i,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),c="Cluster of ".concat(s," markers"),d=Number(google.maps.Marker.MAX_ZINDEX)+s;if(on.isAdvancedMarkerAvailable(n)){var u=new DOMParser,f=u.parseFromString(a,"image/svg+xml").documentElement;f.setAttribute("transform","translate(0 25)");var h={map:n,position:o,zIndex:d,title:c,content:f};return new google.maps.marker.AdvancedMarkerElement(h)}var m={position:o,zIndex:d,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(a)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(m)}}function k7(e,t){for(var r in t.prototype)e.prototype[r]=t.prototype[r]}class ub{constructor(){k7(ub,google.maps.OverlayView)}}var Rc;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(Rc||(Rc={}));var N7=(e,t,r)=>{r.fitBounds(t.bounds)};class P7 extends ub{constructor(t){var{map:r,markers:n=[],algorithmOptions:s={},algorithm:o=new _7(s),renderer:i=new E7,onClusterClick:a=N7}=t;super(),this.markers=[...n],this.clusters=[],this.algorithm=o,this.renderer=i,this.onClusterClick=a,r&&this.setMap(r)}addMarker(t,r){this.markers.includes(t)||(this.markers.push(t),r||this.render())}addMarkers(t,r){t.forEach(n=>{this.addMarker(n,!0)}),r||this.render()}removeMarker(t,r){var n=this.markers.indexOf(t);return n===-1?!1:(on.setMap(t,null),this.markers.splice(n,1),r||this.render(),!0)}removeMarkers(t,r){var n=!1;return t.forEach(s=>{n=this.removeMarker(s,!0)||n}),n&&!r&&this.render(),n}clearMarkers(t){this.markers.length=0,t||this.render()}render(){var t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,Rc.CLUSTERING_BEGIN,this);var{clusters:r,changed:n}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(n||n==null){var s=new Set;for(var o of r)o.markers.length==1&&s.add(o.markers[0]);var i=[];for(var a of this.clusters)a.marker!=null&&(a.markers.length==1?s.has(a.marker)||on.setMap(a.marker,null):i.push(a.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>i.forEach(c=>on.setMap(c,null)))}google.maps.event.trigger(this,Rc.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>on.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){var t=new j7(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,t,r),n.markers.forEach(s=>on.setMap(s,null)),this.onClusterClick&&n.marker.addListener("click",s=>{google.maps.event.trigger(this,Rc.CLUSTER_CLICK,n),this.onClusterClick(s,n,r)})),on.setMap(n.marker,r)})}}function wC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function SC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M7(e){var t=Pz(),[r,n]=p.useState(null);return p.useEffect(()=>{if(t&&r===null){var s=new P7(SC(SC({},e),{},{map:t}));n(s)}},[t]),r}function L7(e){var{children:t,options:r}=e,n=M7(r);return n!==null?t(n):null}p.memo(L7);var CC={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},_C={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};function D7(e){var{children:t,anchor:r,options:n,position:s,zIndex:o,onCloseClick:i,onDomReady:a,onContentChanged:c,onPositionChanged:d,onZindexChanged:u,onLoad:f,onUnmount:h}=e,m=p.useContext(Ue),[g,v]=p.useState(null),[b,y]=p.useState(null),[x,w]=p.useState(null),[S,j]=p.useState(null),[C,M]=p.useState(null),[k,E]=p.useState(null),_=p.useRef(null);return p.useEffect(()=>{g!==null&&(g.close(),r?g.open(m,r):g.getPosition()&&g.open(m))},[m,g,r]),p.useEffect(()=>{n&&g!==null&&g.setOptions(n)},[g,n]),p.useEffect(()=>{s&&g!==null&&g.setPosition(s)},[s]),p.useEffect(()=>{typeof o=="number"&&g!==null&&g.setZIndex(o)},[o]),p.useEffect(()=>{g&&i&&(b!==null&&google.maps.event.removeListener(b),y(google.maps.event.addListener(g,"closeclick",i)))},[i]),p.useEffect(()=>{g&&a&&(x!==null&&google.maps.event.removeListener(x),w(google.maps.event.addListener(g,"domready",a)))},[a]),p.useEffect(()=>{g&&c&&(S!==null&&google.maps.event.removeListener(S),j(google.maps.event.addListener(g,"content_changed",c)))},[c]),p.useEffect(()=>{g&&d&&(C!==null&&google.maps.event.removeListener(C),M(google.maps.event.addListener(g,"position_changed",d)))},[d]),p.useEffect(()=>{g&&u&&(k!==null&&google.maps.event.removeListener(k),E(google.maps.event.addListener(g,"zindex_changed",u)))},[u]),p.useEffect(()=>{var P=new google.maps.InfoWindow(n);return v(P),_.current=document.createElement("div"),i&&y(google.maps.event.addListener(P,"closeclick",i)),a&&w(google.maps.event.addListener(P,"domready",a)),c&&j(google.maps.event.addListener(P,"content_changed",c)),d&&M(google.maps.event.addListener(P,"position_changed",d)),u&&E(google.maps.event.addListener(P,"zindex_changed",u)),P.setContent(_.current),s&&P.setPosition(s),o&&P.setZIndex(o),r?P.open(m,r):P.getPosition()?P.open(m):tr(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),f&&f(P),()=>{b&&google.maps.event.removeListener(b),S&&google.maps.event.removeListener(S),x&&google.maps.event.removeListener(x),C&&google.maps.event.removeListener(C),k&&google.maps.event.removeListener(k),h&&h(P),P.close()}},[]),_.current?Ir.createPortal(p.Children.only(t),_.current):null}p.memo(D7);class T7 extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[]),ee(this,"containerElement",null),ee(this,"state",{infoWindow:null}),ee(this,"open",(t,r)=>{r?t.open(this.context,r):t.getPosition()?t.open(this.context):tr(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),ee(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var t=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=We({updaterMap:_C,eventMap:CC,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({infoWindow:t}),this.setInfoWindowCallback)}componentDidUpdate(t){this.state.infoWindow!==null&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:_C,eventMap:CC,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Ve(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Ir.createPortal(p.Children.only(this.props.children),this.containerElement):null}}ee(T7,"contextType",Ue);function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var EC={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},kC={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},O7={};function A7(e){var{options:t,draggable:r,editable:n,visible:s,path:o,onDblClick:i,onDragEnd:a,onDragStart:c,onMouseDown:d,onMouseMove:u,onMouseOut:f,onMouseOver:h,onMouseUp:m,onRightClick:g,onClick:v,onDrag:b,onLoad:y,onUnmount:x}=e,w=p.useContext(Ue),[S,j]=p.useState(null),[C,M]=p.useState(null),[k,E]=p.useState(null),[_,P]=p.useState(null),[D,L]=p.useState(null),[A,$]=p.useState(null),[T,N]=p.useState(null),[O,R]=p.useState(null),[B,V]=p.useState(null),[F,z]=p.useState(null),[W,I]=p.useState(null),[q,X]=p.useState(null);return p.useEffect(()=>{S!==null&&S.setMap(w)},[w]),p.useEffect(()=>{typeof t<"u"&&S!==null&&S.setOptions(t)},[S,t]),p.useEffect(()=>{typeof r<"u"&&S!==null&&S.setDraggable(r)},[S,r]),p.useEffect(()=>{typeof n<"u"&&S!==null&&S.setEditable(n)},[S,n]),p.useEffect(()=>{typeof s<"u"&&S!==null&&S.setVisible(s)},[S,s]),p.useEffect(()=>{typeof o<"u"&&S!==null&&S.setPath(o)},[S,o]),p.useEffect(()=>{S&&i&&(C!==null&&google.maps.event.removeListener(C),M(google.maps.event.addListener(S,"dblclick",i)))},[i]),p.useEffect(()=>{S&&a&&(k!==null&&google.maps.event.removeListener(k),E(google.maps.event.addListener(S,"dragend",a)))},[a]),p.useEffect(()=>{S&&c&&(_!==null&&google.maps.event.removeListener(_),P(google.maps.event.addListener(S,"dragstart",c)))},[c]),p.useEffect(()=>{S&&d&&(D!==null&&google.maps.event.removeListener(D),L(google.maps.event.addListener(S,"mousedown",d)))},[d]),p.useEffect(()=>{S&&u&&(A!==null&&google.maps.event.removeListener(A),$(google.maps.event.addListener(S,"mousemove",u)))},[u]),p.useEffect(()=>{S&&f&&(T!==null&&google.maps.event.removeListener(T),N(google.maps.event.addListener(S,"mouseout",f)))},[f]),p.useEffect(()=>{S&&h&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(S,"mouseover",h)))},[h]),p.useEffect(()=>{S&&m&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(S,"mouseup",m)))},[m]),p.useEffect(()=>{S&&g&&(F!==null&&google.maps.event.removeListener(F),z(google.maps.event.addListener(S,"rightclick",g)))},[g]),p.useEffect(()=>{S&&v&&(W!==null&&google.maps.event.removeListener(W),I(google.maps.event.addListener(S,"click",v)))},[v]),p.useEffect(()=>{S&&b&&(q!==null&&google.maps.event.removeListener(q),X(google.maps.event.addListener(S,"drag",b)))},[b]),p.useEffect(()=>{var Q=new google.maps.Polyline(Mh(Mh({},t||O7),{},{map:w}));return o&&Q.setPath(o),typeof s<"u"&&Q.setVisible(s),typeof n<"u"&&Q.setEditable(n),typeof r<"u"&&Q.setDraggable(r),i&&M(google.maps.event.addListener(Q,"dblclick",i)),a&&E(google.maps.event.addListener(Q,"dragend",a)),c&&P(google.maps.event.addListener(Q,"dragstart",c)),d&&L(google.maps.event.addListener(Q,"mousedown",d)),u&&$(google.maps.event.addListener(Q,"mousemove",u)),f&&N(google.maps.event.addListener(Q,"mouseout",f)),h&&R(google.maps.event.addListener(Q,"mouseover",h)),m&&V(google.maps.event.addListener(Q,"mouseup",m)),g&&z(google.maps.event.addListener(Q,"rightclick",g)),v&&I(google.maps.event.addListener(Q,"click",v)),b&&X(google.maps.event.addListener(Q,"drag",b)),j(Q),y&&y(Q),()=>{C!==null&&google.maps.event.removeListener(C),k!==null&&google.maps.event.removeListener(k),_!==null&&google.maps.event.removeListener(_),D!==null&&google.maps.event.removeListener(D),A!==null&&google.maps.event.removeListener(A),T!==null&&google.maps.event.removeListener(T),O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),F!==null&&google.maps.event.removeListener(F),W!==null&&google.maps.event.removeListener(W),x&&x(Q),Q.setMap(null)}},[]),null}p.memo(A7);class R7 extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[]),ee(this,"state",{polyline:null}),ee(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var t=new google.maps.Polyline(Mh(Mh({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:kC,eventMap:EC,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)}componentDidUpdate(t){this.state.polyline!==null&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:kC,eventMap:EC,prevProps:t,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ve(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}ee(R7,"contextType",Ue);function NC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function PC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var MC={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},LC={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};function I7(e){var{options:t,draggable:r,editable:n,visible:s,path:o,paths:i,onDblClick:a,onDragEnd:c,onDragStart:d,onMouseDown:u,onMouseMove:f,onMouseOut:h,onMouseOver:m,onMouseUp:g,onRightClick:v,onClick:b,onDrag:y,onLoad:x,onUnmount:w,onEdit:S}=e,j=p.useContext(Ue),[C,M]=p.useState(null),[k,E]=p.useState(null),[_,P]=p.useState(null),[D,L]=p.useState(null),[A,$]=p.useState(null),[T,N]=p.useState(null),[O,R]=p.useState(null),[B,V]=p.useState(null),[F,z]=p.useState(null),[W,I]=p.useState(null),[q,X]=p.useState(null),[Q,ne]=p.useState(null);return p.useEffect(()=>{C!==null&&C.setMap(j)},[j]),p.useEffect(()=>{typeof t<"u"&&C!==null&&C.setOptions(t)},[C,t]),p.useEffect(()=>{typeof r<"u"&&C!==null&&C.setDraggable(r)},[C,r]),p.useEffect(()=>{typeof n<"u"&&C!==null&&C.setEditable(n)},[C,n]),p.useEffect(()=>{typeof s<"u"&&C!==null&&C.setVisible(s)},[C,s]),p.useEffect(()=>{typeof o<"u"&&C!==null&&C.setPath(o)},[C,o]),p.useEffect(()=>{typeof i<"u"&&C!==null&&C.setPaths(i)},[C,i]),p.useEffect(()=>{C&&typeof a=="function"&&(k!==null&&google.maps.event.removeListener(k),E(google.maps.event.addListener(C,"dblclick",a)))},[a]),p.useEffect(()=>{C&&(google.maps.event.addListener(C.getPath(),"insert_at",()=>{S==null||S(C)}),google.maps.event.addListener(C.getPath(),"set_at",()=>{S==null||S(C)}),google.maps.event.addListener(C.getPath(),"remove_at",()=>{S==null||S(C)}))},[C,S]),p.useEffect(()=>{C&&typeof c=="function"&&(_!==null&&google.maps.event.removeListener(_),P(google.maps.event.addListener(C,"dragend",c)))},[c]),p.useEffect(()=>{C&&typeof d=="function"&&(D!==null&&google.maps.event.removeListener(D),L(google.maps.event.addListener(C,"dragstart",d)))},[d]),p.useEffect(()=>{C&&typeof u=="function"&&(A!==null&&google.maps.event.removeListener(A),$(google.maps.event.addListener(C,"mousedown",u)))},[u]),p.useEffect(()=>{C&&typeof f=="function"&&(T!==null&&google.maps.event.removeListener(T),N(google.maps.event.addListener(C,"mousemove",f)))},[f]),p.useEffect(()=>{C&&typeof h=="function"&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(C,"mouseout",h)))},[h]),p.useEffect(()=>{C&&typeof m=="function"&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(C,"mouseover",m)))},[m]),p.useEffect(()=>{C&&typeof g=="function"&&(F!==null&&google.maps.event.removeListener(F),z(google.maps.event.addListener(C,"mouseup",g)))},[g]),p.useEffect(()=>{C&&typeof v=="function"&&(W!==null&&google.maps.event.removeListener(W),I(google.maps.event.addListener(C,"rightclick",v)))},[v]),p.useEffect(()=>{C&&typeof b=="function"&&(q!==null&&google.maps.event.removeListener(q),X(google.maps.event.addListener(C,"click",b)))},[b]),p.useEffect(()=>{C&&typeof y=="function"&&(Q!==null&&google.maps.event.removeListener(Q),ne(google.maps.event.addListener(C,"drag",y)))},[y]),p.useEffect(()=>{var J=new google.maps.Polygon(PC(PC({},t),{},{map:j}));return o&&J.setPath(o),i&&J.setPaths(i),typeof s<"u"&&J.setVisible(s),typeof n<"u"&&J.setEditable(n),typeof r<"u"&&J.setDraggable(r),a&&E(google.maps.event.addListener(J,"dblclick",a)),c&&P(google.maps.event.addListener(J,"dragend",c)),d&&L(google.maps.event.addListener(J,"dragstart",d)),u&&$(google.maps.event.addListener(J,"mousedown",u)),f&&N(google.maps.event.addListener(J,"mousemove",f)),h&&R(google.maps.event.addListener(J,"mouseout",h)),m&&V(google.maps.event.addListener(J,"mouseover",m)),g&&z(google.maps.event.addListener(J,"mouseup",g)),v&&I(google.maps.event.addListener(J,"rightclick",v)),b&&X(google.maps.event.addListener(J,"click",b)),y&&ne(google.maps.event.addListener(J,"drag",y)),M(J),x&&x(J),()=>{k!==null&&google.maps.event.removeListener(k),_!==null&&google.maps.event.removeListener(_),D!==null&&google.maps.event.removeListener(D),A!==null&&google.maps.event.removeListener(A),T!==null&&google.maps.event.removeListener(T),O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),F!==null&&google.maps.event.removeListener(F),W!==null&&google.maps.event.removeListener(W),q!==null&&google.maps.event.removeListener(q),w&&w(J),J.setMap(null)}},[]),null}p.memo(I7);class $7 extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[])}componentDidMount(){var t=this.props.options||{};this.polygon=new google.maps.Polygon(t),this.polygon.setMap(this.context),this.registeredEvents=We({updaterMap:LC,eventMap:MC,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(t){this.polygon&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:LC,eventMap:MC,prevProps:t,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ve(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}ee($7,"contextType",Ue);function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var TC={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},OC={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};function F7(e){var{options:t,bounds:r,draggable:n,editable:s,visible:o,onDblClick:i,onDragEnd:a,onDragStart:c,onMouseDown:d,onMouseMove:u,onMouseOut:f,onMouseOver:h,onMouseUp:m,onRightClick:g,onClick:v,onDrag:b,onBoundsChanged:y,onLoad:x,onUnmount:w}=e,S=p.useContext(Ue),[j,C]=p.useState(null),[M,k]=p.useState(null),[E,_]=p.useState(null),[P,D]=p.useState(null),[L,A]=p.useState(null),[$,T]=p.useState(null),[N,O]=p.useState(null),[R,B]=p.useState(null),[V,F]=p.useState(null),[z,W]=p.useState(null),[I,q]=p.useState(null),[X,Q]=p.useState(null),[ne,J]=p.useState(null);return p.useEffect(()=>{j!==null&&j.setMap(S)},[S]),p.useEffect(()=>{typeof t<"u"&&j!==null&&j.setOptions(t)},[j,t]),p.useEffect(()=>{typeof n<"u"&&j!==null&&j.setDraggable(n)},[j,n]),p.useEffect(()=>{typeof s<"u"&&j!==null&&j.setEditable(s)},[j,s]),p.useEffect(()=>{typeof o<"u"&&j!==null&&j.setVisible(o)},[j,o]),p.useEffect(()=>{typeof r<"u"&&j!==null&&j.setBounds(r)},[j,r]),p.useEffect(()=>{j&&i&&(M!==null&&google.maps.event.removeListener(M),k(google.maps.event.addListener(j,"dblclick",i)))},[i]),p.useEffect(()=>{j&&a&&(E!==null&&google.maps.event.removeListener(E),_(google.maps.event.addListener(j,"dragend",a)))},[a]),p.useEffect(()=>{j&&c&&(P!==null&&google.maps.event.removeListener(P),D(google.maps.event.addListener(j,"dragstart",c)))},[c]),p.useEffect(()=>{j&&d&&(L!==null&&google.maps.event.removeListener(L),A(google.maps.event.addListener(j,"mousedown",d)))},[d]),p.useEffect(()=>{j&&u&&($!==null&&google.maps.event.removeListener($),T(google.maps.event.addListener(j,"mousemove",u)))},[u]),p.useEffect(()=>{j&&f&&(N!==null&&google.maps.event.removeListener(N),O(google.maps.event.addListener(j,"mouseout",f)))},[f]),p.useEffect(()=>{j&&h&&(R!==null&&google.maps.event.removeListener(R),B(google.maps.event.addListener(j,"mouseover",h)))},[h]),p.useEffect(()=>{j&&m&&(V!==null&&google.maps.event.removeListener(V),F(google.maps.event.addListener(j,"mouseup",m)))},[m]),p.useEffect(()=>{j&&g&&(z!==null&&google.maps.event.removeListener(z),W(google.maps.event.addListener(j,"rightclick",g)))},[g]),p.useEffect(()=>{j&&v&&(I!==null&&google.maps.event.removeListener(I),q(google.maps.event.addListener(j,"click",v)))},[v]),p.useEffect(()=>{j&&b&&(X!==null&&google.maps.event.removeListener(X),Q(google.maps.event.addListener(j,"drag",b)))},[b]),p.useEffect(()=>{j&&y&&(ne!==null&&google.maps.event.removeListener(ne),J(google.maps.event.addListener(j,"bounds_changed",y)))},[y]),p.useEffect(()=>{var G=new google.maps.Rectangle(Lh(Lh({},t),{},{map:S}));return typeof o<"u"&&G.setVisible(o),typeof s<"u"&&G.setEditable(s),typeof n<"u"&&G.setDraggable(n),typeof r<"u"&&G.setBounds(r),i&&k(google.maps.event.addListener(G,"dblclick",i)),a&&_(google.maps.event.addListener(G,"dragend",a)),c&&D(google.maps.event.addListener(G,"dragstart",c)),d&&A(google.maps.event.addListener(G,"mousedown",d)),u&&T(google.maps.event.addListener(G,"mousemove",u)),f&&O(google.maps.event.addListener(G,"mouseout",f)),h&&B(google.maps.event.addListener(G,"mouseover",h)),m&&F(google.maps.event.addListener(G,"mouseup",m)),g&&W(google.maps.event.addListener(G,"rightclick",g)),v&&q(google.maps.event.addListener(G,"click",v)),b&&Q(google.maps.event.addListener(G,"drag",b)),y&&J(google.maps.event.addListener(G,"bounds_changed",y)),C(G),x&&x(G),()=>{M!==null&&google.maps.event.removeListener(M),E!==null&&google.maps.event.removeListener(E),P!==null&&google.maps.event.removeListener(P),L!==null&&google.maps.event.removeListener(L),$!==null&&google.maps.event.removeListener($),N!==null&&google.maps.event.removeListener(N),R!==null&&google.maps.event.removeListener(R),V!==null&&google.maps.event.removeListener(V),z!==null&&google.maps.event.removeListener(z),I!==null&&google.maps.event.removeListener(I),X!==null&&google.maps.event.removeListener(X),ne!==null&&google.maps.event.removeListener(ne),w&&w(G),G.setMap(null)}},[]),null}p.memo(F7);class B7 extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[]),ee(this,"state",{rectangle:null}),ee(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var t=new google.maps.Rectangle(Lh(Lh({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:OC,eventMap:TC,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)}componentDidUpdate(t){this.state.rectangle!==null&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:OC,eventMap:TC,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ve(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}ee(B7,"contextType",Ue);function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var RC={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},IC={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},U7={};function z7(e){var{options:t,center:r,radius:n,draggable:s,editable:o,visible:i,onDblClick:a,onDragEnd:c,onDragStart:d,onMouseDown:u,onMouseMove:f,onMouseOut:h,onMouseOver:m,onMouseUp:g,onRightClick:v,onClick:b,onDrag:y,onCenterChanged:x,onRadiusChanged:w,onLoad:S,onUnmount:j}=e,C=p.useContext(Ue),[M,k]=p.useState(null),[E,_]=p.useState(null),[P,D]=p.useState(null),[L,A]=p.useState(null),[$,T]=p.useState(null),[N,O]=p.useState(null),[R,B]=p.useState(null),[V,F]=p.useState(null),[z,W]=p.useState(null),[I,q]=p.useState(null),[X,Q]=p.useState(null),[ne,J]=p.useState(null),[G,ie]=p.useState(null),[_e,Ee]=p.useState(null);return p.useEffect(()=>{M!==null&&M.setMap(C)},[C]),p.useEffect(()=>{typeof t<"u"&&M!==null&&M.setOptions(t)},[M,t]),p.useEffect(()=>{typeof s<"u"&&M!==null&&M.setDraggable(s)},[M,s]),p.useEffect(()=>{typeof o<"u"&&M!==null&&M.setEditable(o)},[M,o]),p.useEffect(()=>{typeof i<"u"&&M!==null&&M.setVisible(i)},[M,i]),p.useEffect(()=>{typeof n=="number"&&M!==null&&M.setRadius(n)},[M,n]),p.useEffect(()=>{typeof r<"u"&&M!==null&&M.setCenter(r)},[M,r]),p.useEffect(()=>{M&&a&&(E!==null&&google.maps.event.removeListener(E),_(google.maps.event.addListener(M,"dblclick",a)))},[a]),p.useEffect(()=>{M&&c&&(P!==null&&google.maps.event.removeListener(P),D(google.maps.event.addListener(M,"dragend",c)))},[c]),p.useEffect(()=>{M&&d&&(L!==null&&google.maps.event.removeListener(L),A(google.maps.event.addListener(M,"dragstart",d)))},[d]),p.useEffect(()=>{M&&u&&($!==null&&google.maps.event.removeListener($),T(google.maps.event.addListener(M,"mousedown",u)))},[u]),p.useEffect(()=>{M&&f&&(N!==null&&google.maps.event.removeListener(N),O(google.maps.event.addListener(M,"mousemove",f)))},[f]),p.useEffect(()=>{M&&h&&(R!==null&&google.maps.event.removeListener(R),B(google.maps.event.addListener(M,"mouseout",h)))},[h]),p.useEffect(()=>{M&&m&&(V!==null&&google.maps.event.removeListener(V),F(google.maps.event.addListener(M,"mouseover",m)))},[m]),p.useEffect(()=>{M&&g&&(z!==null&&google.maps.event.removeListener(z),W(google.maps.event.addListener(M,"mouseup",g)))},[g]),p.useEffect(()=>{M&&v&&(I!==null&&google.maps.event.removeListener(I),q(google.maps.event.addListener(M,"rightclick",v)))},[v]),p.useEffect(()=>{M&&b&&(X!==null&&google.maps.event.removeListener(X),Q(google.maps.event.addListener(M,"click",b)))},[b]),p.useEffect(()=>{M&&y&&(ne!==null&&google.maps.event.removeListener(ne),J(google.maps.event.addListener(M,"drag",y)))},[y]),p.useEffect(()=>{M&&x&&(G!==null&&google.maps.event.removeListener(G),ie(google.maps.event.addListener(M,"center_changed",x)))},[b]),p.useEffect(()=>{M&&w&&(_e!==null&&google.maps.event.removeListener(_e),Ee(google.maps.event.addListener(M,"radius_changed",w)))},[w]),p.useEffect(()=>{var fe=new google.maps.Circle(Dh(Dh({},t||U7),{},{map:C}));return typeof n=="number"&&fe.setRadius(n),typeof r<"u"&&fe.setCenter(r),typeof n=="number"&&fe.setRadius(n),typeof i<"u"&&fe.setVisible(i),typeof o<"u"&&fe.setEditable(o),typeof s<"u"&&fe.setDraggable(s),a&&_(google.maps.event.addListener(fe,"dblclick",a)),c&&D(google.maps.event.addListener(fe,"dragend",c)),d&&A(google.maps.event.addListener(fe,"dragstart",d)),u&&T(google.maps.event.addListener(fe,"mousedown",u)),f&&O(google.maps.event.addListener(fe,"mousemove",f)),h&&B(google.maps.event.addListener(fe,"mouseout",h)),m&&F(google.maps.event.addListener(fe,"mouseover",m)),g&&W(google.maps.event.addListener(fe,"mouseup",g)),v&&q(google.maps.event.addListener(fe,"rightclick",v)),b&&Q(google.maps.event.addListener(fe,"click",b)),y&&J(google.maps.event.addListener(fe,"drag",y)),x&&ie(google.maps.event.addListener(fe,"center_changed",x)),w&&Ee(google.maps.event.addListener(fe,"radius_changed",w)),k(fe),S&&S(fe),()=>{E!==null&&google.maps.event.removeListener(E),P!==null&&google.maps.event.removeListener(P),L!==null&&google.maps.event.removeListener(L),$!==null&&google.maps.event.removeListener($),N!==null&&google.maps.event.removeListener(N),R!==null&&google.maps.event.removeListener(R),V!==null&&google.maps.event.removeListener(V),z!==null&&google.maps.event.removeListener(z),I!==null&&google.maps.event.removeListener(I),X!==null&&google.maps.event.removeListener(X),G!==null&&google.maps.event.removeListener(G),_e!==null&&google.maps.event.removeListener(_e),j&&j(fe),fe.setMap(null)}},[]),null}p.memo(z7);class W7 extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[]),ee(this,"state",{circle:null}),ee(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var t=new google.maps.Circle(Dh(Dh({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:IC,eventMap:RC,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)}componentDidUpdate(t){this.state.circle!==null&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:IC,eventMap:RC,prevProps:t,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var t;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ve(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null)}}render(){return null}}ee(W7,"contextType",Ue);function $C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var FC={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},BC={add(e,t){e.add(t)},addgeojson(e,t,r){e.addGeoJson(t,r)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,r,n){e.loadGeoJson(t,r,n)},overridestyle(e,t,r){e.overrideStyle(t,r)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};function V7(e){var{options:t,onClick:r,onDblClick:n,onMouseDown:s,onMouseMove:o,onMouseOut:i,onMouseOver:a,onMouseUp:c,onRightClick:d,onAddFeature:u,onRemoveFeature:f,onRemoveProperty:h,onSetGeometry:m,onSetProperty:g,onLoad:v,onUnmount:b}=e,y=p.useContext(Ue),[x,w]=p.useState(null),[S,j]=p.useState(null),[C,M]=p.useState(null),[k,E]=p.useState(null),[_,P]=p.useState(null),[D,L]=p.useState(null),[A,$]=p.useState(null),[T,N]=p.useState(null),[O,R]=p.useState(null),[B,V]=p.useState(null),[F,z]=p.useState(null),[W,I]=p.useState(null),[q,X]=p.useState(null),[Q,ne]=p.useState(null);return p.useEffect(()=>{x!==null&&x.setMap(y)},[y]),p.useEffect(()=>{x&&n&&(S!==null&&google.maps.event.removeListener(S),j(google.maps.event.addListener(x,"dblclick",n)))},[n]),p.useEffect(()=>{x&&s&&(C!==null&&google.maps.event.removeListener(C),M(google.maps.event.addListener(x,"mousedown",s)))},[s]),p.useEffect(()=>{x&&o&&(k!==null&&google.maps.event.removeListener(k),E(google.maps.event.addListener(x,"mousemove",o)))},[o]),p.useEffect(()=>{x&&i&&(_!==null&&google.maps.event.removeListener(_),P(google.maps.event.addListener(x,"mouseout",i)))},[i]),p.useEffect(()=>{x&&a&&(D!==null&&google.maps.event.removeListener(D),L(google.maps.event.addListener(x,"mouseover",a)))},[a]),p.useEffect(()=>{x&&c&&(A!==null&&google.maps.event.removeListener(A),$(google.maps.event.addListener(x,"mouseup",c)))},[c]),p.useEffect(()=>{x&&d&&(T!==null&&google.maps.event.removeListener(T),N(google.maps.event.addListener(x,"rightclick",d)))},[d]),p.useEffect(()=>{x&&r&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(x,"click",r)))},[r]),p.useEffect(()=>{x&&u&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(x,"addfeature",u)))},[u]),p.useEffect(()=>{x&&f&&(F!==null&&google.maps.event.removeListener(F),z(google.maps.event.addListener(x,"removefeature",f)))},[f]),p.useEffect(()=>{x&&h&&(W!==null&&google.maps.event.removeListener(W),I(google.maps.event.addListener(x,"removeproperty",h)))},[h]),p.useEffect(()=>{x&&m&&(q!==null&&google.maps.event.removeListener(q),X(google.maps.event.addListener(x,"setgeometry",m)))},[m]),p.useEffect(()=>{x&&g&&(Q!==null&&google.maps.event.removeListener(Q),ne(google.maps.event.addListener(x,"setproperty",g)))},[g]),p.useEffect(()=>{if(y!==null){var J=new google.maps.Data(Th(Th({},t),{},{map:y}));n&&j(google.maps.event.addListener(J,"dblclick",n)),s&&M(google.maps.event.addListener(J,"mousedown",s)),o&&E(google.maps.event.addListener(J,"mousemove",o)),i&&P(google.maps.event.addListener(J,"mouseout",i)),a&&L(google.maps.event.addListener(J,"mouseover",a)),c&&$(google.maps.event.addListener(J,"mouseup",c)),d&&N(google.maps.event.addListener(J,"rightclick",d)),r&&R(google.maps.event.addListener(J,"click",r)),u&&V(google.maps.event.addListener(J,"addfeature",u)),f&&z(google.maps.event.addListener(J,"removefeature",f)),h&&I(google.maps.event.addListener(J,"removeproperty",h)),m&&X(google.maps.event.addListener(J,"setgeometry",m)),g&&ne(google.maps.event.addListener(J,"setproperty",g)),w(J),v&&v(J)}return()=>{x&&(S!==null&&google.maps.event.removeListener(S),C!==null&&google.maps.event.removeListener(C),k!==null&&google.maps.event.removeListener(k),_!==null&&google.maps.event.removeListener(_),D!==null&&google.maps.event.removeListener(D),A!==null&&google.maps.event.removeListener(A),T!==null&&google.maps.event.removeListener(T),O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),F!==null&&google.maps.event.removeListener(F),W!==null&&google.maps.event.removeListener(W),q!==null&&google.maps.event.removeListener(q),Q!==null&&google.maps.event.removeListener(Q),b&&b(x),x.setMap(null))}},[]),null}p.memo(V7);class H7 extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[]),ee(this,"state",{data:null}),ee(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var t=new google.maps.Data(Th(Th({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:BC,eventMap:FC,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({data:t}),this.setDataCallback)}}componentDidUpdate(t){this.state.data!==null&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:BC,eventMap:FC,prevProps:t,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ve(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}ee(H7,"contextType",Ue);function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var WC={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},VC={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class G7 extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[]),ee(this,"state",{kmlLayer:null}),ee(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var t=new google.maps.KmlLayer(zC(zC({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:VC,eventMap:WC,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)}componentDidUpdate(t){this.state.kmlLayer!==null&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:VC,eventMap:WC,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ve(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}ee(G7,"contextType",Ue);function oM(e,t){return typeof t=="function"?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function q7(e,t){return new t(e.lat,e.lng)}function Y7(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function K7(e,t,r){return e instanceof t?e:r(e,t)}function Z7(e,t,r){return e instanceof t?e:r(e,t)}function X7(e,t,r){var n=e&&e.fromLatLngToDivPixel(r.getNorthEast()),s=e&&e.fromLatLngToDivPixel(r.getSouthWest());return n&&s?{left:"".concat(s.x+t.x,"px"),top:"".concat(n.y+t.y,"px"),width:"".concat(n.x-s.x-t.x,"px"),height:"".concat(s.y-n.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}function Q7(e,t,r){var n=e&&e.fromLatLngToDivPixel(r);if(n){var{x:s,y:o}=n;return{left:"".concat(s+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}function iM(e,t,r,n){return r!==void 0?X7(e,t,Z7(r,google.maps.LatLngBounds,Y7)):Q7(e,t,K7(n,google.maps.LatLng,q7))}function J7(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.height&&e.height===t.height}function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function e9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t9(e,t,r,n,s){class o extends google.maps.OverlayView{constructor(a,c,d,u){super(),this.container=a,this.pane=c,this.position=d,this.bounds=u}onAdd(){var a,c=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];c==null||c.appendChild(this.container)}draw(){var a=this.getProjection(),c=e9({},this.container?oM(this.container,s):{x:0,y:0}),d=iM(a,c,this.bounds,this.position);for(var[u,f]of Object.entries(d))this.container.style[u]=f}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new o(e,t,r,n)}function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function r9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qC(e){if(!e)return"";var t=e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng);return t+""}function YC(e){if(!e)return"";var t=e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west));return t+""}function n9(e){var{position:t,bounds:r,mapPaneName:n,zIndex:s,onLoad:o,onUnmount:i,getPixelPositionOffset:a,children:c}=e,d=p.useContext(Ue),u=p.useMemo(()=>{var h=document.createElement("div");return h.style.position="absolute",h},[]),f=p.useMemo(()=>t9(u,n,t,r,a),[u,n,t,r]);return p.useEffect(()=>(o==null||o(f),f==null||f.setMap(d),()=>{i==null||i(f),f==null||f.setMap(null)}),[d,f]),p.useEffect(()=>{u.style.zIndex="".concat(s)},[s,u]),Ir.createPortal(c,u)}p.memo(n9);class Tl extends p.PureComponent{constructor(t){super(t),ee(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),ee(this,"updatePane",()=>{var n=this.props.mapPaneName,s=this.overlayView.getPanes();tr(!!n,"OverlayView requires props.mapPaneName but got %s",n),s?this.setState({paneEl:s[n]}):this.setState({paneEl:null})}),ee(this,"onAdd",()=>{var n,s;this.updatePane(),(n=(s=this.props).onLoad)===null||n===void 0||n.call(s,this.overlayView)}),ee(this,"onPositionElement",()=>{var n=this.overlayView.getProjection(),s=r9({x:0,y:0},this.containerRef.current?oM(this.containerRef.current,this.props.getPixelPositionOffset):{}),o=iM(n,s,this.props.bounds,this.props.position);if(!J7(o,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var i,a,c,d;this.setState({containerStyle:{top:(i=o.top)!==null&&i!==void 0?i:0,left:(a=o.left)!==null&&a!==void 0?a:0,width:(c=o.width)!==null&&c!==void 0?c:0,height:(d=o.height)!==null&&d!==void 0?d:0,position:"absolute"}})}}),ee(this,"draw",()=>{this.onPositionElement()}),ee(this,"onRemove",()=>{var n,s;this.setState(()=>({paneEl:null})),(n=(s=this.props).onUnmount)===null||n===void 0||n.call(s,this.overlayView)}),this.containerRef=p.createRef();var r=new google.maps.OverlayView;r.onAdd=this.onAdd,r.draw=this.draw,r.onRemove=this.onRemove,this.overlayView=r}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(t){var r=qC(t.position),n=qC(this.props.position),s=YC(t.bounds),o=YC(this.props.bounds);(r!==n||s!==o)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var t=this.state.paneEl;return t?Ir.createPortal(l.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:p.Children.only(this.props.children)}),t):null}}ee(Tl,"FLOAT_PANE","floatPane");ee(Tl,"MAP_PANE","mapPane");ee(Tl,"MARKER_LAYER","markerLayer");ee(Tl,"OVERLAY_LAYER","overlayLayer");ee(Tl,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");ee(Tl,"contextType",Ue);function s9(){}function KC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var XC={onDblClick:"dblclick",onClick:"click"},QC={opacity(e,t){e.setOpacity(t)}};function o9(e){var{url:t,bounds:r,options:n,visible:s}=e,o=p.useContext(Ue),i=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),a=p.useMemo(()=>new google.maps.GroundOverlay(t,i,n),[]);return p.useEffect(()=>{a!==null&&a.setMap(o)},[o]),p.useEffect(()=>{typeof t<"u"&&a!==null&&(a.set("url",t),a.setMap(o))},[a,t]),p.useEffect(()=>{typeof s<"u"&&a!==null&&a.setOpacity(s?1:0)},[a,s]),p.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));typeof r<"u"&&a!==null&&(a.set("bounds",c),a.setMap(o))},[a,r]),null}p.memo(o9);class aM extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[]),ee(this,"state",{groundOverlay:null}),ee(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){tr(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,ZC(ZC({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:QC,eventMap:XC,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)}componentDidUpdate(t){this.state.groundOverlay!==null&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:QC,eventMap:XC,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}ee(aM,"defaultProps",{onLoad:s9});ee(aM,"contextType",Ue);function JC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var e_={},t_={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};function i9(e){var{data:t,onLoad:r,onUnmount:n,options:s}=e,o=p.useContext(Ue),[i,a]=p.useState(null);return p.useEffect(()=>{google.maps.visualization||tr(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),p.useEffect(()=>{tr(!!t,"data property is required in HeatmapLayer %s",t)},[t]),p.useEffect(()=>{i!==null&&i.setMap(o)},[o]),p.useEffect(()=>{s&&i!==null&&i.setOptions(s)},[i,s]),p.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(Oh(Oh({},s),{},{data:t,map:o}));return a(c),r&&r(c),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}p.memo(i9);class a9 extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[]),ee(this,"state",{heatmapLayer:null}),ee(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){tr(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),tr(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(Oh(Oh({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=We({updaterMap:t_,eventMap:e_,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)}componentDidUpdate(t){Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:t_,eventMap:e_,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ve(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ee(a9,"contextType",Ue);var r_={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},n_={register(e,t,r){e.registerPanoProvider(t,r)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class l9 extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[]),ee(this,"state",{streetViewPanorama:null}),ee(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var t,r,n=(t=(r=this.context)===null||r===void 0?void 0:r.getStreetView())!==null&&t!==void 0?t:null;this.registeredEvents=We({updaterMap:n_,eventMap:r_,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({streetViewPanorama:n}),this.setStreetViewPanoramaCallback)}componentDidUpdate(t){this.state.streetViewPanorama!==null&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:n_,eventMap:r_,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ve(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ee(l9,"contextType",Ue);class c9 extends p.PureComponent{constructor(){super(...arguments),ee(this,"state",{streetViewService:null}),ee(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}ee(c9,"contextType",Ue);var s_={onDirectionsChanged:"directions_changed"},o_={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class u9 extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[]),ee(this,"state",{directionsRenderer:null}),ee(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=We({updaterMap:o_,eventMap:s_,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)}componentDidUpdate(t){this.state.directionsRenderer!==null&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:o_,eventMap:s_,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ve(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}ee(u9,"contextType",Ue);var i_={onPlacesChanged:"places_changed"},a_={bounds(e,t){e.setBounds(t)}};class d9 extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[]),ee(this,"containerElement",p.createRef()),ee(this,"state",{searchBox:null}),ee(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(tr(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var r=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=We({updaterMap:a_,eventMap:i_,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}}componentDidUpdate(t){this.state.searchBox!==null&&(Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:a_,eventMap:i_,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ve(this.registeredEvents))}render(){return l.jsx("div",{ref:this.containerElement,children:p.Children.only(this.props.children)})}}ee(d9,"contextType",Ue);var l_={onPlaceChanged:"place_changed"},c_={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class lM extends p.PureComponent{constructor(){super(...arguments),ee(this,"registeredEvents",[]),ee(this,"containerElement",p.createRef()),ee(this,"state",{autocomplete:null}),ee(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var t;tr(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(r){var n=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=We({updaterMap:c_,eventMap:l_,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(t){Ve(this.registeredEvents),this.registeredEvents=We({updaterMap:c_,eventMap:l_,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Ve(this.registeredEvents)}render(){return l.jsx("div",{ref:this.containerElement,className:this.props.className,children:p.Children.only(this.props.children)})}}ee(lM,"defaultProps",{className:""});ee(lM,"contextType",Ue);const cM=({className:e="w-6 h-6"})=>l.jsx(rt,{className:`animate-spin ${e}`}),f9=()=>l.jsx("div",{className:"w-full h-[300px] bg-gray-100 rounded-lg flex items-center justify-center",children:l.jsx(cM,{className:"w-8 h-8 text-primary"})});function Le(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Jr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Qt(e,t){const r=Le(e);return isNaN(t)?Jr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function ts(e,t){const r=Le(e);if(isNaN(t))return Jr(e,NaN);if(!t)return r;const n=r.getDate(),s=Jr(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const o=s.getDate();return n>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const db=6048e5,h9=864e5,uM=6e4,dM=36e5,lf=43200,u_=1440;let p9={};function Ol(){return p9}function Ps(e,t){var a,c,d,u;const r=Ol(),n=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Le(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Bi(e){return Ps(e,{weekStartsOn:1})}function fM(e){const t=Le(e),r=t.getFullYear(),n=Jr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Bi(n),o=Jr(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Bi(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function al(e){const t=Le(e);return t.setHours(0,0,0,0),t}function ll(e){const t=Le(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Gn(e,t){const r=al(e),n=al(t),s=+r-ll(r),o=+n-ll(n);return Math.round((s-o)/h9)}function m9(e){const t=fM(e),r=Jr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Bi(r)}function tx(e,t){const r=t*7;return Qt(e,r)}function g9(e,t){return ts(e,t*12)}function v9(e){let t;return e.forEach(function(r){const n=Le(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function y9(e){let t;return e.forEach(r=>{const n=Le(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Of(e,t){const r=Le(e),n=Le(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function x9(e){return Jr(e,Date.now())}function qr(e,t){const r=al(e),n=al(t);return+r==+n}function fb(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function b9(e){if(!fb(e)&&typeof e!="number")return!1;const t=Le(e);return!isNaN(Number(t))}function cl(e,t){const r=Le(e),n=Le(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function w9(e,t,r){const n=Ps(e,r),s=Ps(t,r),o=+n-ll(n),i=+s-ll(s);return Math.round((o-i)/db)}function hM(e,t){const r=Le(e),n=Le(t),s=d_(r,n),o=Math.abs(Gn(r,n));r.setDate(r.getDate()-s*o);const i=+(d_(r,n)===-s),a=s*(o-i);return a===0?0:a}function d_(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function S9(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function C9(e,t){return+Le(e)-+Le(t)}function _9(e){const t=Le(e);return t.setHours(23,59,59,999),t}function am(e){const t=Le(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function j9(e){const t=Le(e);return+_9(t)==+am(t)}function E9(e,t){const r=Le(e),n=Le(t),s=Of(r,n),o=Math.abs(cl(r,n));let i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);let a=Of(r,n)===-s;j9(Le(e))&&o===1&&Of(e,n)===1&&(a=!1),i=s*(o-Number(a))}return i===0?0:i}function k9(e,t,r){const n=C9(e,t)/1e3;return S9(r==null?void 0:r.roundingMethod)(n)}function Qr(e){const t=Le(e);return t.setDate(1),t.setHours(0,0,0,0),t}function pM(e){const t=Le(e),r=Jr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function hb(e,t){var a,c,d,u;const r=Ol(),n=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Le(e),o=s.getDay(),i=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function mM(e){return hb(e,{weekStartsOn:1})}const N9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},P9=(e,t,r)=>{let n;const s=N9[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function qg(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const M9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},L9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},D9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},T9={date:qg({formats:M9,defaultWidth:"full"}),time:qg({formats:L9,defaultWidth:"full"}),dateTime:qg({formats:D9,defaultWidth:"full"})},O9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},A9=(e,t,r,n)=>O9[e];function sc(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const R9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},I9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},F9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},B9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},z9=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},W9={ordinalNumber:z9,era:sc({values:R9,defaultWidth:"wide"}),quarter:sc({values:I9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:sc({values:$9,defaultWidth:"wide"}),day:sc({values:F9,defaultWidth:"wide"}),dayPeriod:sc({values:B9,defaultWidth:"wide",formattingValues:U9,defaultFormattingWidth:"wide"})};function oc(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?H9(a,f=>f.test(i)):V9(a,f=>f.test(i));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function V9(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function H9(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function G9(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const q9=/^(\d+)(th|st|nd|rd)?/i,Y9=/\d+/i,K9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Z9={any:[/^b/i,/^(a|c)/i]},X9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Q9={any:[/1/i,/2/i,/3/i,/4/i]},J9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oW={ordinalNumber:G9({matchPattern:q9,parsePattern:Y9,valueCallback:e=>parseInt(e,10)}),era:oc({matchPatterns:K9,defaultMatchWidth:"wide",parsePatterns:Z9,defaultParseWidth:"any"}),quarter:oc({matchPatterns:X9,defaultMatchWidth:"wide",parsePatterns:Q9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:oc({matchPatterns:J9,defaultMatchWidth:"wide",parsePatterns:eW,defaultParseWidth:"any"}),day:oc({matchPatterns:tW,defaultMatchWidth:"wide",parsePatterns:rW,defaultParseWidth:"any"}),dayPeriod:oc({matchPatterns:nW,defaultMatchWidth:"any",parsePatterns:sW,defaultParseWidth:"any"})},pb={code:"en-US",formatDistance:P9,formatLong:T9,formatRelative:A9,localize:W9,match:oW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iW(e){const t=Le(e);return Gn(t,pM(t))+1}function gM(e){const t=Le(e),r=+Bi(t)-+m9(t);return Math.round(r/db)+1}function vM(e,t){var u,f,h,m;const r=Le(e),n=r.getFullYear(),s=Ol(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=Jr(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const a=Ps(i,t),c=Jr(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const d=Ps(c,t);return r.getTime()>=a.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function aW(e,t){var a,c,d,u;const r=Ol(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=vM(e,t),o=Jr(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Ps(o,t)}function yM(e,t){const r=Le(e),n=+Ps(r,t)-+aW(r,t);return Math.round(n/db)+1}function lt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const uo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return lt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):lt(r+1,2)},d(e,t){return lt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return lt(e.getHours()%12||12,t.length)},H(e,t){return lt(e.getHours(),t.length)},m(e,t){return lt(e.getMinutes(),t.length)},s(e,t){return lt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return lt(s,t.length)}},ha={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},f_={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return uo.y(e,t)},Y:function(e,t,r,n){const s=vM(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return lt(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):lt(o,t.length)},R:function(e,t){const r=fM(e);return lt(r,t.length)},u:function(e,t){const r=e.getFullYear();return lt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return lt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return lt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return uo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return lt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=yM(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):lt(s,t.length)},I:function(e,t,r){const n=gM(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):lt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):uo.d(e,t)},D:function(e,t,r){const n=iW(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):lt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return lt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return lt(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return lt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=ha.noon:n===0?s=ha.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=ha.evening:n>=12?s=ha.afternoon:n>=4?s=ha.morning:s=ha.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return uo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):uo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):lt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):lt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):uo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):uo.s(e,t)},S:function(e,t){return uo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return p_(n);case"XXXX":case"XX":return wi(n);case"XXXXX":case"XXX":default:return wi(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return p_(n);case"xxxx":case"xx":return wi(n);case"xxxxx":case"xxx":default:return wi(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+h_(n,":");case"OOOO":default:return"GMT"+wi(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+h_(n,":");case"zzzz":default:return"GMT"+wi(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return lt(n,t.length)},T:function(e,t,r){const n=e.getTime();return lt(n,t.length)}};function h_(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+lt(o,2)}function p_(e,t){return e%60===0?(e>0?"-":"+")+lt(Math.abs(e)/60,2):wi(e,t)}function wi(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=lt(Math.trunc(n/60),2),o=lt(n%60,2);return r+s+t+o}const m_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},xM=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},lW=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return m_(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",m_(n,t)).replace("{{time}}",xM(s,t))},cW={p:xM,P:lW},uW=/^D+$/,dW=/^Y+$/,fW=["D","DD","YY","YYYY"];function hW(e){return uW.test(e)}function pW(e){return dW.test(e)}function mW(e,t,r){const n=gW(e,t,r);if(console.warn(n),fW.includes(e))throw new RangeError(n)}function gW(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xW=/^'([^]*?)'?$/,bW=/''/g,wW=/[a-zA-Z]/;function kt(e,t,r){var u,f,h,m,g,v,b,y;const n=Ol(),s=(r==null?void 0:r.locale)??n.locale??pb,o=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((v=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((y=(b=n.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0,a=Le(e);if(!b9(a))throw new RangeError("Invalid time value");let c=t.match(yW).map(x=>{const w=x[0];if(w==="p"||w==="P"){const S=cW[w];return S(x,s.formatLong)}return x}).join("").match(vW).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:SW(x)};if(f_[w])return{isToken:!0,value:x};if(w.match(wW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&pW(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&hW(w))&&mW(w,t,String(e));const S=f_[w[0]];return S(a,w,s.localize,d)}).join("")}function SW(e){const t=e.match(xW);return t?t[1].replace(bW,"'"):e}function CW(e,t,r){const n=Ol(),s=(r==null?void 0:r.locale)??n.locale??pb,o=2520,i=Of(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let c,d;i>0?(c=Le(t),d=Le(e)):(c=Le(e),d=Le(t));const u=k9(d,c),f=(ll(d)-ll(c))/1e3,h=Math.round((u-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,a):u<10?s.formatDistance("lessThanXSeconds",10,a):u<20?s.formatDistance("lessThanXSeconds",20,a):u<40?s.formatDistance("halfAMinute",0,a):u<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):h===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",h,a);if(h<45)return s.formatDistance("xMinutes",h,a);if(h<90)return s.formatDistance("aboutXHours",1,a);if(h<u_){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,a)}else{if(h<o)return s.formatDistance("xDays",1,a);if(h<lf){const g=Math.round(h/u_);return s.formatDistance("xDays",g,a)}else if(h<lf*2)return m=Math.round(h/lf),s.formatDistance("aboutXMonths",m,a)}if(m=E9(d,c),m<12){const g=Math.round(h/lf);return s.formatDistance("xMonths",g,a)}else{const g=m%12,v=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",v,a):g<9?s.formatDistance("overXYears",v,a):s.formatDistance("almostXYears",v+1,a)}}function bM(e,t){return CW(e,x9(e),t)}function _W(e){const t=Le(e),r=t.getFullYear(),n=t.getMonth(),s=Jr(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function jW(e){return Math.trunc(+Le(e)/1e3)}function EW(e){const t=Le(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function kW(e,t){return w9(EW(e),Qr(e),t)+1}function rx(e,t){const r=Le(e),n=Le(t);return r.getTime()>n.getTime()}function wM(e,t){const r=Le(e),n=Le(t);return+r<+n}function mb(e,t){const r=Le(e),n=Le(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function NW(e,t){const r=Le(e),n=Le(t);return r.getFullYear()===n.getFullYear()}function Yg(e,t){return Qt(e,-t)}function g_(e,t){const n=DW(e);let s;if(n.date){const c=TW(n.date,2);s=OW(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const o=s.getTime();let i=0,a;if(n.time&&(i=AW(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(a=RW(n.timezone),isNaN(a))return new Date(NaN)}else{const c=new Date(o+i),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(o+i+a)}const cf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},PW=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,MW=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,LW=/^([+-])(\d{2})(?::?(\d{2}))?$/;function DW(e){const t={},r=e.split(cf.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],cf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(cf.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=cf.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function TW(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function OW(e,t){if(t===null)return new Date(NaN);const r=e.match(PW);if(!r)return new Date(NaN);const n=!!r[4],s=ic(r[1]),o=ic(r[2])-1,i=ic(r[3]),a=ic(r[4]),c=ic(r[5])-1;if(n)return UW(t,a,c)?IW(t,a,c):new Date(NaN);{const d=new Date(0);return!FW(t,o,i)||!BW(t,s)?new Date(NaN):(d.setUTCFullYear(t,o,Math.max(s,i)),d)}}function ic(e){return e?parseInt(e):1}function AW(e){const t=e.match(MW);if(!t)return NaN;const r=Kg(t[1]),n=Kg(t[2]),s=Kg(t[3]);return zW(r,n,s)?r*dM+n*uM+s*1e3:NaN}function Kg(e){return e&&parseFloat(e.replace(",","."))||0}function RW(e){if(e==="Z")return 0;const t=e.match(LW);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return WW(n,s)?r*(n*dM+s*uM):NaN}function IW(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,o=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const $W=[31,null,31,30,31,30,31,31,30,31,30,31];function SM(e){return e%400===0||e%4===0&&e%100!==0}function FW(e,t,r){return t>=0&&t<=11&&r>=1&&r<=($W[t]||(SM(e)?29:28))}function BW(e,t){return t>=1&&t<=(SM(e)?366:365)}function UW(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function zW(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function WW(e,t){return t>=0&&t<=59}function Zg(e,t){const r=Le(e),n=r.getFullYear(),s=r.getDate(),o=Jr(e,0);o.setFullYear(n,t,15),o.setHours(0,0,0,0);const i=_W(o);return r.setMonth(t,Math.min(s,i)),r}function v_(e,t){const r=Le(e);return isNaN(+r)?Jr(e,NaN):(r.setFullYear(t),r)}const gi=e=>e?e.startsWith("http")?e:e.startsWith("stay-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${e}`:`${e}`:"/images/placeholder-stay.jpg",Xg=e=>{const t=[],r=new Date;for(let n=0;n<30;n++){const s=Qt(r,n),o=s.getDay()===0||s.getDay()===6;let i=e;o&&(i+=Math.round(e*.25)),t.push({date:kt(s,"yyyy-MM-dd"),price:i,is_available:!0})}return t},Ic={async getStays(e={}){try{console.log("Fetching stays with options:",e);let t=Y.from("stays").select(`
          id, 
          title, 
          description, 
          price_per_night,
          status,
          property_type,
          bedrooms,
          beds,
          bathrooms,
          max_guests,
          amenities,
          location_name,
          zipcode,
          latitude,
          longitude,
          host_id,
          host:profiles!host_id(id, name, avatar_url),
          stay_images:stay_images(id, image_path, is_primary, display_order),
          stay_amenities:stay_amenities(amenity_id, amenities:amenities(id, name))
        `).eq("status","published");if(e.zipcode&&(t=t.eq("zipcode",e.zipcode)),e.location&&(t=t.ilike("location_name",`%${e.location}%`)),e.search&&(t=t.or(`title.ilike.%${e.search}%,description.ilike.%${e.search}%,location_name.ilike.%${e.search}%`)),e.propertyType&&e.propertyType.length>0&&(t=t.in("property_type",e.propertyType)),e.sort)switch(e.sort){case"price_asc":t=t.order("price_per_night",{ascending:!0});break;case"price_desc":t=t.order("price_per_night",{ascending:!1});break;default:t=t.order("id",{ascending:!0});break}e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching stays:",n),new Error("Failed to fetch stays");if(!r||r.length===0)return console.log("No stays found in database"),[];const s=await Promise.all(r.map(async o=>{const a=(o.host&&Array.isArray(o.host)?o.host[0]:o.host)||{name:"Host",avatar_url:""},c=Array.isArray(o.stay_images)?o.stay_images:[],{data:d,error:u}=await Y.from("reviews").select("rating").eq("target_id",o.id).eq("target_type","stay");let f=0,h=0;if(!u&&d){if(h=d.length,h>0){const b=d.reduce((y,x)=>y+(x.rating||0),0);f=parseFloat((b/h).toFixed(1))}}else f=4.7;const m=c.find(b=>b.is_primary)||c[0];let g=[];if(o.amenities){if(Array.isArray(o.amenities))g=o.amenities;else if(typeof o.amenities=="string")try{const b=JSON.parse(o.amenities);g=Array.isArray(b)?b:[]}catch{g=o.amenities.split(",").map(y=>y.trim())}}g.length===0&&(g=["Wi-Fi","Kitchen"]);const v=c.map(b=>({url:gi(b.image_path),order:b.display_order||0})).sort((b,y)=>(b.order||0)-(y.order||0));return v.length===0&&v.push({url:"/images/mountain.jpg",order:0}),{id:o.id,title:o.title,description:o.description,price_per_night:o.price_per_night,status:o.status,images:v,image:c.length>0?gi((m==null?void 0:m.image_path)||""):v[0].url,host:{id:o.host_id,name:a.name||"Host",image:gi(a.avatar_url||""),rating:f,reviews:h},host_id:o.host_id,details:{bedrooms:o.bedrooms||1,beds:o.beds||1,bathrooms:o.bathrooms||1,maxGuests:o.max_guests||2,amenities:g,location:o.location_name||"Unknown location",propertyType:o.property_type||"apartment"},coordinates:{lat:o.latitude||0,lng:o.longitude||0},availability:Xg(o.price_per_night)}}));return console.log(`Returning ${s.length} stays from database`),e.sort==="rating_desc"&&s.sort((o,i)=>i.host.rating-o.host.rating),s}catch(t){throw console.error("Error in getStays:",t),t}},async getStayById(e){try{const{data:t,error:r}=await Y.from("stays").select(`
          id, 
          title, 
          description, 
          price_per_night,
          status,
          property_type,
          bedrooms,
          beds,
          bathrooms,
          max_guests,
          amenities,
          location_name,
          zipcode,
          latitude,
          longitude,
          host_id,
          host:profiles!host_id(id, name, avatar_url, about),
          stay_images:stay_images(id, image_path, is_primary, display_order),
          stay_amenities:stay_amenities(amenity_id, amenities:amenities(id, name))
        `).eq("id",e).single();if(r)return console.error("Error fetching stay:",r),null;if(!t)return null;const{data:n,error:s}=await Y.from("reviews").select("rating").eq("target_id",e).eq("target_type","stay");let o=0,i=0;if(!s&&n){if(i=n.length,i>0){const h=n.reduce((m,g)=>m+(g.rating||0),0);o=parseFloat((h/i).toFixed(1))}}else o=4.7;const a=Array.isArray(t.stay_images)?t.stay_images:[];a.sort((h,m)=>h.display_order!==void 0&&m.display_order!==void 0?h.display_order-m.display_order:0);const c=a.map(h=>({url:gi(h.image_path),order:h.display_order}));let d=[];if(t.stay_amenities&&Array.isArray(t.stay_amenities)&&(d=t.stay_amenities.filter(h=>h.amenities&&h.amenities.name).map(h=>h.amenities.name)),d.length===0&&t.amenities){if(Array.isArray(t.amenities))d=t.amenities;else if(typeof t.amenities=="string")try{const h=JSON.parse(t.amenities);d=Array.isArray(h)?h:[t.amenities]}catch{d=t.amenities.split(",").map(m=>m.trim())}}d.length===0&&(d=["WiFi","Kitchen","TV","Air conditioning"]);const u=t.host??{name:"Host Name",avatar_url:"",about:"I love connecting with travelers and sharing unique experiences."},f=Xg(t.price_per_night||100);return{id:t.id,title:t.title,description:t.description,images:c,price_per_night:t.price_per_night,host_id:t.host_id,host:{id:u.id,name:u.name,image:u.avatar_url||"/placeholder-user.jpg",rating:o,reviews:i,about:u.about||"I love connecting with travelers and sharing unique experiences."},details:{bedrooms:t.bedrooms||1,beds:t.beds||1,bathrooms:t.bathrooms||1,maxGuests:t.max_guests||2,amenities:d,location:t.location_name||"Location unavailable",propertyType:t.property_type||"Entire home"},availability:f,coordinates:t.latitude&&t.longitude?{lat:t.latitude,lng:t.longitude}:void 0,status:t.status,is_featured:t.is_featured}}catch(t){return console.error("Error fetching stay details:",t),null}},async getFeaturedStays(e=3){try{console.log(`Fetching ${e} featured stays`);const{data:t,error:r}=await Y.from("stays").select(`
          id, 
          title, 
          description, 
          price_per_night,
          property_type,
          bedrooms,
          beds,
          bathrooms,
          max_guests,
          location_name,
          host_id,
          host:profiles!host_id(id, name, avatar_url),
          stay_images:stay_images(id, image_path, is_primary, display_order),
          stay_amenities:stay_amenities(amenity_id, amenities:amenities(id, name))
        `).eq("is_featured",!0).eq("status","published").limit(e);if(r)throw console.error("Error fetching featured stays:",r),new Error("Failed to fetch featured stays");if(!t||t.length===0)return console.log("No featured stays found"),[];const n=await Promise.all(t.map(async s=>{let o=s.host;Array.isArray(o)&&o.length>0&&(o=o[0]);const i={id:o&&o.id||void 0,name:o&&o.name||"Host",avatar_url:o&&o.avatar_url||null},a=Array.isArray(s.stay_images)?s.stay_images:[],{data:c,error:d}=await Y.from("reviews").select("rating").eq("target_id",s.id).eq("target_type","stay");let u=0,f=0;if(!d&&c&&(f=c.length,f>0)){const v=c.reduce((b,y)=>b+(y.rating||0),0);u=parseFloat((v/f).toFixed(1))}u===0&&(u=4.7);const h=a.find(v=>v.is_primary)||a[0];let m=[];s.stay_amenities&&Array.isArray(s.stay_amenities)&&(m=s.stay_amenities.filter(v=>v.amenities&&typeof v.amenities=="object").map(v=>v.amenities&&"name"in v.amenities?String(v.amenities.name):"").filter(Boolean)),m.length===0&&(m=["Wi-Fi","Kitchen"]);const g=a.map(v=>({url:gi(v.image_path),order:v.display_order||0})).sort((v,b)=>(v.order||0)-(b.order||0));return g.length===0&&g.push({url:"/images/mountain.jpg",order:0}),{id:s.id,title:s.title,description:s.description,price_per_night:s.price_per_night,images:g,image:a.length>0?gi((h==null?void 0:h.image_path)||""):g[0].url,host:{id:i.id,name:i.name,image:gi(i.avatar_url||""),rating:u,reviews:f},host_id:s.host_id,details:{bedrooms:s.bedrooms||1,beds:s.beds||1,bathrooms:s.bathrooms||1,maxGuests:s.max_guests||2,amenities:m,location:s.location_name||"Unknown location",propertyType:s.property_type||"apartment"},availability:Xg(s.price_per_night)}}));return n.sort((s,o)=>o.host.rating-s.host.rating),n}catch(t){throw console.error("Error in getFeaturedStays:",t),t}},async toggleFavorite(e,t){try{console.log(`Toggling favorite for stay ID: ${e} and user ID: ${t}`);const{data:r,error:n}=await Y.from("user_favorites").select("id").eq("user_id",t).eq("stay_id",e).maybeSingle();if(n)return console.error("Error checking favorite status:",n),!1;if(r){const{error:o}=await Y.from("user_favorites").delete().eq("id",r.id);return o?(console.error("Error removing favorite:",o),!1):(console.log(`Removed stay ID: ${e} from favorites`),!0)}const{error:s}=await Y.from("user_favorites").insert({user_id:t,stay_id:e,created_at:new Date().toISOString()});return s?(console.error("Error adding favorite:",s),!1):(console.log(`Added stay ID: ${e} to favorites`),!0)}catch(r){return console.error("Error in toggleFavorite:",r),!1}},async getFavorites(e){try{console.log(`Fetching favorites for user ID: ${e}`);const{data:t,error:r}=await Y.from("user_favorites").select("stay_id").eq("user_id",e);return r?(console.error("Error fetching favorites:",r),[]):t.map(n=>n.stay_id)}catch(t){return console.error("Error in getFavorites:",t),[]}}};async function CM(e={}){var t,r;try{const{data:n}=await Y.auth.getSession(),s=(r=(t=n.session)==null?void 0:t.user)==null?void 0:r.id;let o=Y.from("food_experiences").select(`
        *,
        images:food_experience_images(id, image_path, is_primary, display_order),
        host:profiles!host_id(name, avatar_url)
      `);s?o=o.or(`status.eq.published,host_id.eq.${s}`):o=o.eq("status","published"),e&&(e.sort&&(e.sort==="price_asc"?o=o.order("price_per_person",{ascending:!0}):e.sort==="price_desc"&&(o=o.order("price_per_person",{ascending:!1}))),e.cuisine_types&&e.cuisine_types.length>0&&(Array.isArray(e.cuisine_types)?o=o.in("cuisine_type",e.cuisine_types):typeof e.cuisine_types=="string"&&(o=o.in("cuisine_type",e.cuisine_types.split(",")))),e.title&&(o=o.ilike("title",`%${e.title}%`)),e.zipcode&&(o=o.eq("zipcode",e.zipcode)));const{data:i,error:a}=await o;if(a)return console.error("Error fetching food experiences:",a),[];const c=await Promise.all(i.map(async d=>{var b,y,x;const u=((b=d.images)==null?void 0:b.map(w=>({url:w.image_path,order:w.display_order||0,is_primary:w.is_primary||!1})))||[];u.sort((w,S)=>w.is_primary&&!S.is_primary?-1:!w.is_primary&&S.is_primary?1:w.order-S.order);const{data:f,error:h}=await Y.from("reviews").select("rating").eq("target_id",d.id).eq("target_type","food_experience");let m=0,g=0;if(!h&&f&&(g=f.length,g>0)){const w=f.reduce((S,j)=>S+(j.rating||0),0);m=parseFloat((w/g).toFixed(1))}const v={id:d.host_id,name:((y=d.host)==null?void 0:y.name)||"Host",image:((x=d.host)==null?void 0:x.avatar_url)||"/default-avatar.png",rating:m,reviews:g};return{id:d.id,title:d.title,description:d.description,images:u,price_per_person:d.price_per_person,cuisine_type:d.cuisine_type,menu_description:d.menu_description||"",location_name:d.location_name,host:v,details:{duration:d.duration||"2 hours",groupSize:`Max ${d.max_guests} guests`,includes:["Food","Beverages"],language:d.language||"English",location:`${d.city}, ${d.state}`},coordinates:d.latitude&&d.longitude?{lat:d.latitude,lng:d.longitude}:void 0}}));return e.sort==="rating_desc"?c.sort((d,u)=>u.host.rating-d.host.rating):e.sort==="rating_asc"&&c.sort((d,u)=>d.host.rating-u.host.rating),c}catch(n){return console.error("Error in getFoodExperiences:",n),[]}}async function nx(e){var f,h,m,g;const{data:t,error:r}=await Y.from("food_experiences").select(`
      *,
      host_id,
      images:food_experience_images(id, image_path, is_primary, display_order),
      host:profiles!host_id(id, name, avatar_url, about),
      amenities:food_experience_amenities(
        amenity:amenities(id, name, category)
      )
    `).eq("id",e).single();if(r)throw console.error("Error fetching food experience:",r),r;if(!t)return null;const n=t.images.map(v=>({url:v.image_path,order:v.display_order||0,is_primary:v.is_primary||!1}));n.sort((v,b)=>v.order-b.order);const s=t.amenities.map(v=>v.amenity.name),{data:o,error:i}=await Y.from("reviews").select("rating").eq("target_id",e).eq("target_type","food_experience");i&&console.error("Error fetching reviews:",i);const a=o||[],c=a.reduce((v,b)=>v+(b.rating||0),0),d=a.length>0?c/a.length:5,u=a.length;return{id:t.id,title:t.title,description:t.description,images:n,price_per_person:t.price_per_person,cuisine_type:t.cuisine_type,menu_description:t.menu_description||"",location_name:t.location_name,amenities:s,host:{id:(f=t.host)==null?void 0:f.id,name:((h=t.host)==null?void 0:h.name)||"Host",image:((m=t.host)==null?void 0:m.avatar_url)||"",rating:parseFloat(d.toFixed(1)),reviews:u,about:((g=t.host)==null?void 0:g.about)||"I love connecting with travelers and sharing unique experiences."},details:{duration:t.duration||"2 hours",groupSize:`Max ${t.max_guests} guests`,includes:["Food","Beverages"],language:t.language||"English",location:`${t.city}, ${t.state}`},coordinates:{lat:t.latitude,lng:t.longitude}}}async function VW(){const{data:e,error:t}=await Y.from("food_experiences").select("cuisine_type").eq("status","published");if(t)throw console.error("Error fetching food categories:",t),t;const r={};return e.forEach(n=>{const s=n.cuisine_type;r[s]=(r[s]||0)+1}),Object.entries(r).map(([n,s])=>({cuisine_type:n,count:s}))}async function HW(e){var s;const{data:t}=await Y.auth.getSession();if(!((s=t.session)!=null&&s.user))return!1;const{data:r,error:n}=await Y.from("favorites").select("*").eq("user_id",t.session.user.id).eq("item_id",e).eq("item_type","food_experience").maybeSingle();return n&&n.code!=="PGRST116"?(console.error("Error checking favorite status:",n),!1):!!r}async function GW(e){var o;const{data:t}=await Y.auth.getSession();if(!((o=t.session)!=null&&o.user))throw new Error("User not authenticated");const r=t.session.user.id,{data:n,error:s}=await Y.from("favorites").select("id").eq("user_id",r).eq("item_id",e).eq("item_type","food_experience").single();if(s&&s.code!=="PGRST116")throw console.error("Error checking favorite status:",s),s;if(n){const{error:i}=await Y.from("favorites").delete().eq("id",n.id);if(i)throw console.error("Error removing favorite:",i),i;return!1}else{const{error:i}=await Y.from("favorites").insert({user_id:r,item_id:e,item_type:"food_experience"});if(i)throw console.error("Error adding favorite:",i),i;return!0}}const qW=["places"],y_="AIzaSyDpB03uqoC8eWmdG8KRlBdiJaHWbXmtMgE",_M=({onLocationSelect:e})=>{const[t,r]=p.useState(""),[n,s]=p.useState([]),[o,i]=p.useState(null),[a,c]=p.useState(!1),[d,u]=p.useState([]),f=p.useRef(null),h=p.useRef(null),m=Tt(),[g,v]=p.useState(!1),{isLoaded:b}=Dl({googleMapsApiKey:y_,libraries:qW,id:"google-map-script"});p.useEffect(()=>{b&&!f.current&&(f.current=new google.maps.places.AutocompleteService)},[b]);const y=async k=>{if(r(k),!(!k||!f.current))try{const _=(await new Promise((P,D)=>{f.current.getPlacePredictions({input:k,componentRestrictions:{country:"us"},types:["postal_code"],bounds:{north:35,south:30.5,east:-81,west:-88.5}},(L,A)=>{A===google.maps.places.PlacesServiceStatus.OK&&L?P(L):D(new Error("Failed to fetch suggestions"))})})).map(P=>({placeId:P.place_id,address:P.description,zipcode:"",city:"",state:"",latitude:0,longitude:0}));s(_)}catch(E){console.error("Error fetching suggestions:",E),s([])}},x=async k=>{try{const[E,_]=await Promise.all([Ic.getStays({zipcode:k}),CM({zipcode:k})]),P=E.map(L=>{var A,$;return{id:L.id,title:L.title,type:"stay",latitude:((A=L.coordinates)==null?void 0:A.lat)||0,longitude:(($=L.coordinates)==null?void 0:$.lng)||0}}).filter(L=>L.latitude!==0&&L.longitude!==0),D=_.map(L=>{var A,$;return{id:L.id,title:L.title,type:"food",latitude:((A=L.coordinates)==null?void 0:A.lat)||0,longitude:(($=L.coordinates)==null?void 0:$.lng)||0}}).filter(L=>L.latitude!==0&&L.longitude!==0);return[...P,...D]}catch(E){return console.error("Error fetching nearby listings:",E),[]}},w=async k=>{var E,_,P,D,L,A,$;if(v(!0),!h.current){const T=new google.maps.Map(document.createElement("div"));h.current=new google.maps.places.PlacesService(T)}try{const T=await new Promise((z,W)=>{h.current.getDetails({placeId:k.placeId,fields:["geometry","address_components"]},(I,q)=>{q===google.maps.places.PlacesServiceStatus.OK&&I?z(I):W(new Error("Failed to fetch place details"))})}),N=T.address_components||[],O=((E=N.find(z=>z.types.includes("postal_code")))==null?void 0:E.long_name)||"",R=((_=N.find(z=>z.types.includes("locality")))==null?void 0:_.long_name)||"",B=((P=N.find(z=>z.types.includes("administrative_area_level_1")))==null?void 0:P.short_name)||"",V={...k,zipcode:O,city:R,state:B,latitude:((L=(D=T.geometry)==null?void 0:D.location)==null?void 0:L.lat())||0,longitude:(($=(A=T.geometry)==null?void 0:A.location)==null?void 0:$.lng())||0};i(V),c(!0),s([]);const F=await x(O);u(F)}catch(T){console.error("Error fetching location details:",T)}finally{v(!1)}},S=k=>{if(!o)return;const E=new URLSearchParams({zipcode:o.zipcode,location:`${o.city}, ${o.state}`});m(`/${k}?${E.toString()}`),console.log(`Navigating to /${k} with params:`,E.toString()),e==null||e()},j=()=>{navigator.geolocation&&(v(!0),navigator.geolocation.getCurrentPosition(async k=>{var E,_,P;try{const{latitude:D,longitude:L}=k.coords,A=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${D},${L}&key=${y_}`);if(!A.ok)throw new Error(`Error fetching geocoding data: ${A.status} ${A.statusText}`);const $=await A.json();if($.results[0]){const T=$.results[0].address_components,N=((E=T.find(F=>F.types.includes("postal_code")))==null?void 0:E.long_name)||"",O=((_=T.find(F=>F.types.includes("locality")))==null?void 0:_.long_name)||"",R=((P=T.find(F=>F.types.includes("administrative_area_level_1")))==null?void 0:P.short_name)||"",B={placeId:$.results[0].place_id,address:$.results[0].formatted_address,zipcode:N,city:O,state:R,latitude:D,longitude:L};i(B),c(!0),r(B.address);const V=await x(N);u(V)}}catch(D){console.error("Error getting location:",D)}finally{v(!1)}},k=>{console.error("Error getting location:",k),v(!1)}))},C=o?{lat:o.latitude,lng:o.longitude}:{lat:32.7767,lng:-84.9377},M=()=>{c(!1),i(null),u([])};return l.jsx("section",{className:"py-12 bg-gray-50",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-8 font-display",children:"Find Local Food & Stays"}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Re,{type:"text",placeholder:"Enter zipcode...",value:t,onChange:k=>y(k.target.value),className:"w-full p-4 text-lg rounded-lg pr-24",disabled:g}),l.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-2",children:g?l.jsx(rt,{className:"w-5 h-5 animate-spin text-gray-400"}):l.jsx(re,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-primary",onClick:j,children:l.jsx(R0,{className:"w-4 h-4"})})})]}),n.length>0&&!a&&l.jsx("div",{className:"absolute w-full mt-2 bg-white rounded-lg shadow-lg z-10 overflow-hidden transition-all duration-200 ease-in-out",children:n.map((k,E)=>l.jsxs("button",{className:"w-full p-4 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors duration-150",onClick:()=>w(k),disabled:g,children:[l.jsx(Gs,{className:"text-primary"}),l.jsx("div",{children:l.jsx("p",{className:"font-medium",children:k.address})})]},E))}),a&&l.jsxs("div",{className:"mt-4 rounded-lg overflow-hidden shadow-lg transition-all duration-300 ease-in-out",children:[l.jsxs("div",{className:"relative",children:[l.jsx(re,{variant:"outline",size:"sm",className:"absolute top-2 right-2 z-10 bg-white",onClick:M,children:"Close Map"}),b?l.jsxs(ad,{zoom:12,center:C,mapContainerClassName:"w-full h-[300px]",options:{styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},children:[o&&l.jsx(il,{position:{lat:o.latitude,lng:o.longitude},icon:{url:"/images/location-marker.svg",scaledSize:new google.maps.Size(40,40)}}),d.map(k=>l.jsx(il,{position:{lat:k.latitude,lng:k.longitude},icon:{url:k.type==="food"?"/images/food-marker.svg":"/images/stay-marker.svg",scaledSize:new google.maps.Size(24,24)}},k.id))]}):l.jsx(f9,{})]}),l.jsx("div",{className:"p-4 bg-white",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx(re,{className:"flex-1 bg-primary hover:bg-primary/90",onClick:()=>S("food"),disabled:g,children:"Find Food"}),l.jsx(re,{className:"flex-1",variant:"outline",onClick:()=>S("stays"),disabled:g,children:"Find Stays"})]})})]})]})]})})})};var gb="Dialog",[jM,jse]=yn(gb),[YW,is]=jM(gb),EM=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=p.useRef(null),c=p.useRef(null),[d=!1,u]=mn({prop:n,defaultProp:s,onChange:o});return l.jsx(YW,{scope:t,triggerRef:a,contentRef:c,contentId:Xr(),titleId:Xr(),descriptionId:Xr(),open:d,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(f=>!f),[u]),modal:i,children:r})};EM.displayName=gb;var kM="DialogTrigger",NM=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=is(kM,r),o=Be(t,s.triggerRef);return l.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":xb(s.open),...n,ref:o,onClick:de(e.onClick,s.onOpenToggle)})});NM.displayName=kM;var vb="DialogPortal",[KW,PM]=jM(vb,{forceMount:void 0}),MM=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=is(vb,t);return l.jsx(KW,{scope:t,forceMount:r,children:p.Children.map(n,i=>l.jsx(dr,{present:r||o.open,children:l.jsx(rd,{asChild:!0,container:s,children:i})}))})};MM.displayName=vb;var Ah="DialogOverlay",LM=p.forwardRef((e,t)=>{const r=PM(Ah,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=is(Ah,e.__scopeDialog);return o.modal?l.jsx(dr,{present:n||o.open,children:l.jsx(ZW,{...s,ref:t})}):null});LM.displayName=Ah;var ZW=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=is(Ah,r);return l.jsx(sd,{as:Cs,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(be.div,{"data-state":xb(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ui="DialogContent",DM=p.forwardRef((e,t)=>{const r=PM(Ui,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=is(Ui,e.__scopeDialog);return l.jsx(dr,{present:n||o.open,children:o.modal?l.jsx(XW,{...s,ref:t}):l.jsx(QW,{...s,ref:t})})});DM.displayName=Ui;var XW=p.forwardRef((e,t)=>{const r=is(Ui,e.__scopeDialog),n=p.useRef(null),s=Be(t,r.contentRef,n);return p.useEffect(()=>{const o=n.current;if(o)return nd(o)},[]),l.jsx(TM,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:de(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:de(e.onFocusOutside,o=>o.preventDefault())})}),QW=p.forwardRef((e,t)=>{const r=is(Ui,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return l.jsx(TM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),TM=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=is(Ui,r),c=p.useRef(null),d=Be(t,c);return Kp(),l.jsxs(l.Fragment,{children:[l.jsx(Ju,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Pl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":xb(a.open),...i,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(JW,{titleId:a.titleId}),l.jsx(tV,{contentRef:c,descriptionId:a.descriptionId})]})]})}),yb="DialogTitle",OM=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=is(yb,r);return l.jsx(be.h2,{id:s.titleId,...n,ref:t})});OM.displayName=yb;var AM="DialogDescription",RM=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=is(AM,r);return l.jsx(be.p,{id:s.descriptionId,...n,ref:t})});RM.displayName=AM;var IM="DialogClose",$M=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=is(IM,r);return l.jsx(be.button,{type:"button",...n,ref:t,onClick:de(e.onClick,()=>s.onOpenChange(!1))})});$M.displayName=IM;function xb(e){return e?"open":"closed"}var FM="DialogTitleWarning",[Ese,BM]=OF(FM,{contentName:Ui,titleName:yb,docsSlug:"dialog"}),JW=({titleId:e})=>{const t=BM(FM),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},eV="DialogDescriptionWarning",tV=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BM(eV).contentName}}.`;return p.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},rV=EM,nV=NM,sV=MM,UM=LM,zM=DM,WM=OM,VM=RM,oV=$M;const lm=rV,iV=nV,aV=sV,HM=p.forwardRef(({className:e,...t},r)=>l.jsx(UM,{ref:r,className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));HM.displayName=UM.displayName;const ld=p.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(aV,{children:[l.jsx(HM,{}),l.jsxs(zM,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(oV,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(hu,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ld.displayName=zM.displayName;const GM=({className:e,...t})=>l.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});GM.displayName="DialogHeader";const qM=({className:e,...t})=>l.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qM.displayName="DialogFooter";const cm=p.forwardRef(({className:e,...t},r)=>l.jsx(WM,{ref:r,className:me("text-lg font-semibold leading-none tracking-tight",e),...t}));cm.displayName=WM.displayName;const YM=p.forwardRef(({className:e,...t},r)=>l.jsx(VM,{ref:r,className:me("text-sm text-muted-foreground",e),...t}));YM.displayName=VM.displayName;var lV="VisuallyHidden",cd=p.forwardRef((e,t)=>l.jsx(be.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));cd.displayName=lV;var cV=cd;const x_=()=>{const[e,t]=p.useState(!1);return l.jsxs(lm,{open:e,onOpenChange:t,children:[l.jsx(iV,{asChild:!0,children:l.jsxs(re,{variant:"outline",className:"w-full md:w-[400px] justify-start text-left font-normal rounded-full",children:[l.jsx(Qi,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Search locations..."})]})}),l.jsxs(ld,{className:"sm:max-w-[600px]",children:[l.jsx(cm,{asChild:!0,children:l.jsx(cd,{children:"Search Locations"})}),l.jsx(_M,{onLocationSelect:()=>t(!1)})]})]})},Ft=({children:e})=>{var u,f;const t=Tt(),{user:r,logout:n,loading:s}=Bt(),[o,i]=p.useState(!1),[a,c]=p.useState(!1);p.useEffect(()=>{const h=()=>{c(window.scrollY>20)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const d=()=>{n(),t("/")};return l.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-sage-50 to-terracotta-50",children:[l.jsx("header",{className:`sticky top-0 z-50 transition-all duration-300 ${a?"bg-white/95 backdrop-blur-sm shadow-sm":"bg-transparent"}`,children:l.jsxs("div",{className:"container mx-auto px-4 py-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(ot,{to:"/",className:"flex items-center space-x-3 group",children:[l.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center text-white transform transition-transform group-hover:scale-105 duration-200",children:l.jsx(M5,{className:"w-7 h-7"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600",children:"Platform 2025"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Local Food & Stays"})]})]}),l.jsx(re,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>i(!o),children:l.jsx(R5,{className:"h-6 w-6"})}),l.jsx("div",{className:"hidden md:flex flex-1 justify-center mx-4",children:l.jsx(x_,{})}),l.jsx("div",{className:"flex items-center",children:l.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[l.jsxs(ot,{to:"/food",className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:[l.jsx(fu,{className:"w-4 h-4"}),"Local Food"]}),l.jsxs(ot,{to:"/stays",className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:[l.jsx(Go,{className:"w-4 h-4"}),"Stays"]}),!s&&(r==null?void 0:r.is_host)&&l.jsx(re,{variant:"outline",onClick:()=>t("/host/dashboard"),children:"Host Dashboard"}),l.jsxs(mz,{children:[l.jsx(gz,{asChild:!0,children:r?l.jsx(re,{variant:"ghost",size:"icon",className:"rounded-full w-12 h-12 bg-purple-100 hover:bg-purple-200 transition-colors",children:l.jsxs(Es,{className:"w-10 h-10",children:[l.jsx(ks,{src:r.picture||r.image||"/images/sarah.jpg"}),l.jsx(Ns,{className:"bg-purple-500 text-white text-lg",children:(u=r.name)==null?void 0:u.charAt(0)})]})}):l.jsx(re,{variant:"ghost",size:"icon",className:"rounded-full w-12 h-12 bg-purple-100 hover:bg-purple-200 transition-colors",children:l.jsx(L2,{className:"w-7 h-7 text-purple-500"})})}),l.jsx($P,{align:"end",className:"w-56",children:r?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-2 py-1.5 text-sm font-medium",children:r.name}),l.jsx(Xy,{}),l.jsx(xa,{onClick:()=>t("/profile"),children:"Your Profile"}),!r.is_host&&l.jsx(xa,{onClick:()=>t("/become-host"),children:"Become a Host"}),l.jsx(Xy,{}),l.jsx(xa,{onClick:d,children:"Sign Out"})]}):l.jsxs(l.Fragment,{children:[l.jsx(xa,{onClick:()=>t("/login"),children:"Sign In"}),l.jsx(xa,{onClick:()=>t("/signup"),children:"Sign Up"})]})})]})]})})]}),o&&l.jsxs("div",{className:"md:hidden flex flex-col space-y-4 pt-4 mt-4 border-t animate-fadeIn",children:[l.jsx("div",{className:"mb-2",children:l.jsx(x_,{})}),l.jsxs(ot,{to:"/food",className:"flex items-center gap-2 p-2 rounded-lg hover:bg-accent",children:[l.jsx(fu,{className:"w-4 h-4"}),"Local Food"]}),l.jsxs(ot,{to:"/stays",className:"flex items-center gap-2 p-2 rounded-lg hover:bg-accent",children:[l.jsx(Go,{className:"w-4 h-4"}),"Stays"]}),r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"px-4 py-2 flex items-center gap-3",children:[l.jsxs(Es,{className:"w-10 h-10",children:[l.jsx(ks,{src:r.picture||r.image||"/images/sarah.jpg"}),l.jsx(Ns,{className:"bg-purple-500 text-white text-lg",children:(f=r.name)==null?void 0:f.charAt(0)})]}),l.jsx("div",{className:"text-sm font-medium",children:r.name})]}),l.jsx(re,{variant:"ghost",className:"justify-start",onClick:()=>t("/profile"),children:"Your Profile"}),r.is_host?l.jsx(re,{variant:"ghost",className:"justify-start",onClick:()=>t("/host/dashboard"),children:"Host Dashboard"}):l.jsx(re,{variant:"ghost",className:"justify-start",onClick:()=>t("/become-host"),children:"Become a Host"}),l.jsx(re,{variant:"ghost",className:"justify-start text-red-600 hover:text-red-700",onClick:d,children:"Sign Out"})]}):l.jsxs(l.Fragment,{children:[l.jsx(re,{variant:"ghost",className:"justify-start",onClick:()=>t("/login"),children:"Sign In"}),l.jsx(re,{variant:"ghost",className:"justify-start",onClick:()=>t("/signup"),children:"Sign Up"})]})]})]})}),l.jsx("main",{className:"flex-1",children:e}),l.jsx("footer",{className:"border-t bg-white/50 backdrop-blur-sm",children:l.jsxs("div",{className:"container mx-auto px-4 py-12",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-primary",children:"About Us"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Connecting travelers with authentic local food experiences and unique stays around the world."}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:l.jsx(E5,{className:"w-5 h-5"})}),l.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:l.jsx(P5,{className:"w-5 h-5"})}),l.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:l.jsx(W5,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Host"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(ot,{to:"/host/food",className:"nav-link",children:"Share your cuisine"})}),l.jsx("li",{children:l.jsx(ot,{to:"/host/stay",className:"nav-link",children:"Host your space"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Support"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(ot,{to:"/help",className:"nav-link",children:"Help Center"})}),l.jsx("li",{children:l.jsx(ot,{to:"/safety",className:"nav-link",children:"Safety Center"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Legal"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(ot,{to:"/privacy",className:"nav-link",children:"Privacy"})}),l.jsx("li",{children:l.jsx(ot,{to:"/terms",className:"nav-link",children:"Terms"})})]})]})]}),l.jsxs("div",{className:"mt-8 pt-8 border-t text-center text-sm text-muted-foreground",children:["© ",new Date().getFullYear()," Platform 2025. All rights reserved."]})]})})]})},uV=()=>l.jsxs("div",{className:"relative h-[600px] overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("img",{src:"/images/african.jpg",alt:"Local food and stays",className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/30"})]}),l.jsxs("div",{className:"relative container mx-auto px-4 h-full flex flex-col justify-center items-center text-center text-white",children:[l.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6 animate-fadeIn",children:["Discover Local Flavors &",l.jsx("span",{className:"text-amber-400",children:" Authentic Stays"})]}),l.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-2xl animate-fadeIn delay-100",children:"Connect with local hosts offering unique dining experiences and cozy accommodations"})]})]}),b_=(e,t)=>{if(!e)return t==="stay"?"/images/placeholder-stay.jpg":"/images/placeholder-food.jpg";if(e.startsWith("http"))return e;if(t==="food"){if(e.startsWith("food-experience-images/"))return`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${e}`;if(!e.includes("/")&&!e.startsWith("food-experience-images/"))return`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${`food-experience-images/${e}`}`}if(t==="stay"){if(e.startsWith("stay-images/"))return`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${e}`;if(!e.includes("/")&&!e.startsWith("stay-images/"))return`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${`stay-images/${e}`}`}return`${e}`},Nr={featuredFood:null,featuredStays:null,foodCategories:null},Qg=10*60*1e3,Jg=e=>e?Date.now()-e.timestamp<e.expires:!1,$c={async getFeaturedFood(){if(Jg(Nr.featuredFood))return console.log("Using cached featured food data"),Nr.featuredFood.data;try{const{data:e,error:t}=await Y.from("food_experiences").select(`
          id, 
          title, 
          description, 
          price_per_person,
          host_id,
          rating
        `).eq("is_featured",!0).eq("status","published").limit(3);if(t)throw t;if(!(e!=null&&e.length))return[];const r=e.map(f=>f.id),{data:n,error:s}=await Y.from("food_experience_images").select("experience_id, image_path, is_primary").in("experience_id",r);s&&console.error("Error fetching food experience images:",s);const o=new Map;n!=null&&n.length?(console.log("Food experience image data:",n),n.filter(f=>f.is_primary).forEach(f=>{o.set(f.experience_id,f.image_path)}),r.forEach(f=>{if(!o.has(f)){const h=n.find(m=>m.experience_id===f);h&&o.set(f,h.image_path)}}),console.log("Image map:",Object.fromEntries(o))):console.log("No food experience images found");const i=[...new Set(e.map(f=>f.host_id))],{data:a,error:c}=await Y.from("profiles").select("id, name").in("id",i),d=new Map;!c&&(a!=null&&a.length)&&a.forEach(f=>{d.set(f.id,f.name)});const u=await Promise.all(e.map(async f=>{const h=o.get(f.id),m=b_(h,"food"),{data:g,error:v}=await Y.from("reviews").select("rating").eq("target_id",f.id).eq("target_type","food_experience");let b=0,y=0;if(!v&&g&&(y=g.length,y>0)){const x=g.reduce((w,S)=>w+(S.rating||0),0);b=parseFloat((x/y).toFixed(1))}return{id:f.id,title:f.title,description:f.description,price_per_person:f.price_per_person,image:m,host:{name:d.get(f.host_id)||"Host",rating:b,reviews:y}}}));return Nr.featuredFood={data:u,timestamp:Date.now(),expires:Qg},u}catch(e){return console.error("Error fetching featured food:",e),[]}},async getFeaturedStays(){if(Jg(Nr.featuredStays))return console.log("Using cached featured stays data"),Nr.featuredStays.data;try{const{data:e,error:t}=await Y.from("stays").select(`
          id, 
          title, 
          description, 
          price_per_night,
          host_id
        `).eq("is_featured",!0).eq("status","published").limit(3);if(t)throw t;if(!(e!=null&&e.length))return[];const r=e.map(async f=>{const{data:h,error:m}=await Y.from("stay_images").select("image_path").eq("stay_id",f.id).eq("is_primary",!0).limit(1);return{id:f.id,imagePath:m||!(h!=null&&h.length)?null:h[0].image_path}}),n=new Map((await Promise.all(r)).map(f=>[f.id,f.imagePath])),s=[...new Set(e.map(f=>f.host_id))],{data:o,error:i}=await Y.from("profiles").select("id, name").in("id",s),a=new Map;!i&&(o!=null&&o.length)&&o.forEach(f=>{a.set(f.id,f.name)});const c=e.map(f=>f.id),d=new Map;await Promise.all(c.map(async f=>{const{data:h,error:m}=await Y.from("reviews").select("rating").eq("target_id",f).eq("target_type","stay");if(!m&&h){const g=h.length;let v=0;if(g>0){const b=h.reduce((y,x)=>y+(x.rating||0),0);v=parseFloat((b/g).toFixed(1))}d.set(f,{rating:v,reviews:g})}}));const u=e.map(f=>{const h=d.get(f.id)||{rating:4.7,reviews:0};return{id:f.id,title:f.title,description:f.description,price_per_night:f.price_per_night,image:b_(n.get(f.id),"stay"),host:{name:a.get(f.host_id)||"Host",rating:h.rating,reviews:h.reviews}}});return Nr.featuredStays={data:u,timestamp:Date.now(),expires:Qg},u}catch(e){return console.error("Error fetching featured stays:",e),[]}},async getFoodCategories(){if(Jg(Nr.foodCategories))return console.log("Using cached food categories data"),Nr.foodCategories.data;try{const{data:e,error:t}=await Y.from("food_experiences").select("cuisine_type").eq("status","published").not("cuisine_type","is",null);if(t)throw t;if(!(e!=null&&e.length))return[];const r=Array.from(new Set(e.map(s=>s.cuisine_type))),n=[];for(const s of r){const{count:o,error:i}=await Y.from("food_experiences").select("*",{count:"exact",head:!0}).eq("status","published").eq("cuisine_type",s);if(i)throw i;n.push({cuisine_type:s,count:o||0})}return Nr.foodCategories={data:n,timestamp:Date.now(),expires:Qg},n}catch(e){return console.error("Error fetching food categories:",e),[]}},invalidateCache(e){if(!e){Nr.featuredFood=null,Nr.featuredStays=null,Nr.foodCategories=null,console.log("All API cache invalidated");return}switch(e){case"food":Nr.featuredFood=null,console.log("Featured food cache invalidated");break;case"stays":Nr.featuredStays=null,console.log("Featured stays cache invalidated");break;case"categories":Nr.foodCategories=null,console.log("Food categories cache invalidated");break}}},sx=({item:e,onClick:t,priceLabel:r,showRating:n,showCount:s})=>l.jsx("div",{className:"group cursor-pointer transition-all duration-300",onClick:t,children:l.jsxs("div",{className:"relative overflow-hidden rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300",children:[l.jsxs("div",{className:"aspect-[4/3] overflow-hidden",children:[l.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{className:"p-5 bg-white",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:e.title}),l.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(r||n||s)&&l.jsxs("div",{className:"flex justify-between items-center",children:[r&&l.jsx("span",{className:"font-medium text-primary",children:r}),n&&"host"in e&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-yellow-500",children:"★"}),l.jsx("span",{className:"font-medium",children:e.host.rating}),l.jsxs("span",{className:"text-sm text-gray-500",children:["(",e.host.reviews,")"]})]}),s&&"count"in e&&l.jsxs("span",{className:"text-sm font-medium text-primary-foreground bg-primary px-2 py-1 rounded-full",children:[e.count," foods"]})]})]})]})}),w_=({title:e,items:t,viewAllLink:r,renderItem:n})=>{const s=Tt();return t.length===0?null:l.jsx("section",{className:"py-12",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h2",{className:"text-4xl font-bold tracking-tight text-gray-900 font-display",children:e}),r&&l.jsx(re,{variant:"outline",onClick:()=>s(r),className:"text-base hover:bg-gray-100",children:"View All"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.slice(0,3).map(o=>n(o))})]})})},dV=({categories:e})=>{const t=p.useRef(null),[r,n]=p.useState(!1),[s,o]=p.useState(!1),[i,a]=p.useState(0),[c,d]=p.useState(0),u=Tt();p.useEffect(()=>{if(!t.current||e.length===0||s)return;const b=t.current,y=b.scrollWidth,x=b.clientWidth,w=y-x,j=setInterval(()=>{if(r||s)return;b.scrollLeft>=w?b.scrollLeft=0:b.scrollLeft+=1},30);return()=>clearInterval(j)},[e,r,s]);const f=b=>{o(!0),a(b.pageX-t.current.offsetLeft),d(t.current.scrollLeft)},h=()=>{o(!1)},m=b=>{if(!s)return;b.preventDefault();const x=(b.pageX-t.current.offsetLeft-i)*2;t.current.scrollLeft=c-x},g=b=>{o(!0),a(b.touches[0].pageX-t.current.offsetLeft),d(t.current.scrollLeft)},v=b=>{if(!s)return;const x=(b.touches[0].pageX-t.current.offsetLeft-i)*2;t.current.scrollLeft=c-x};return l.jsx("section",{className:"py-12 overflow-hidden",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h2",{className:"text-4xl font-bold tracking-tight text-gray-900 font-display mb-8",children:"Popular Categories"}),l.jsx("div",{ref:t,className:"flex gap-6 overflow-x-hidden cursor-grab active:cursor-grabbing",onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),o(!1)},onMouseDown:f,onMouseUp:h,onMouseMove:m,onTouchStart:g,onTouchMove:v,onTouchEnd:h,children:[...e,...e].map((b,y)=>l.jsx("div",{className:"flex-shrink-0 w-[300px]",onMouseDown:x=>x.preventDefault(),children:l.jsx(sx,{item:b,onClick:()=>!s&&u(`/food?cuisine_types=${encodeURIComponent(b.id)}`),showCount:!0})},`${b.id}-${y}`))})]})})},fV=()=>{const e=Tt(),[t,r]=p.useState([]),[n,s]=p.useState([]),[o,i]=p.useState([]),[a,c]=p.useState(!0),[d,u]=p.useState(null),[f,h]=p.useState({food:!0,categories:!0,stays:!0});p.useEffect(()=>{(async()=>{try{const v=async()=>{try{h(w=>({...w,food:!0}));const x=await $c.getFeaturedFood();r(x)}catch(x){console.error("Error fetching food:",x)}finally{h(x=>({...x,food:!1}))}},b=async()=>{try{h(w=>({...w,stays:!0}));const x=await $c.getFeaturedStays();s(x)}catch(x){console.error("Error fetching stays:",x)}finally{h(x=>({...x,stays:!1}))}},y=async()=>{try{h(w=>({...w,categories:!0}));const x=await $c.getFoodCategories();if(Array.isArray(x)&&x.length>0){const w={Italian:"/images/italian.jpeg",Asian:"/images/asian.jpeg",African:"/images/african.jpeg",Mexican:"/images/mexican.jpeg",American:"/images/american.jpeg",Mediterranean:"/images/mediterranean.jpeg",European:"/images/european.jpeg",Indian:"/images/indian.jpeg","Middle Eastern":"/images/middle-eastern.jpeg",Japanese:"/images/japanese.jpeg",Thai:"/images/thai.jpeg",Chinese:"/images/chinese.jpeg",Korean:"/images/korean.jpeg",Vietnamese:"/images/vietnamese.jpeg",French:"/images/french.jpeg",Spanish:"/images/spanish.jpeg",Greek:"/images/greek.jpeg",Caribbean:"/images/caribbean.jpeg","Latin American":"/images/latin-american.jpeg",Vegetarian:"/images/vegetarian.jpeg",Vegan:"/images/vegan.jpeg","Gluten-Free":"/images/gluten-free.jpeg",default:"/images/default-cuisine.jpeg"},S=x.map(j=>{const C=j.cuisine_type,M=C in w?C:"default";return{id:C,title:`${C} Cuisine`,description:`Explore delicious ${C} dishes and cooking experiences`,image:w[M],count:j.count}});i(S)}}catch(x){console.error("Error fetching categories:",x)}finally{h(x=>({...x,categories:!1}))}};await Promise.all([v(),b(),y()]),c(!1)}catch(v){console.error("Error fetching featured data:",v),u("Failed to load featured content"),c(!1)}})()},[]),p.useEffect(()=>{!f.food&&!f.stays&&!f.categories&&c(!1)},[f]);const m=()=>l.jsx("div",{className:"py-6 px-4 rounded-xl bg-gray-100 animate-pulse flex items-center justify-center h-[250px]",children:l.jsx("div",{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})});return a&&!t.length&&!n.length&&!o.length?l.jsxs("div",{className:"space-y-16 container mx-auto px-4 py-12",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold tracking-tight text-gray-900 font-display mb-8",children:"Popular Food Experiences"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[1,2,3].map(g=>l.jsx(m,{},g))})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold tracking-tight text-gray-900 font-display mb-8",children:"Browse by Category"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[1,2,3].map(g=>l.jsx(m,{},g))})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold tracking-tight text-gray-900 font-display mb-8",children:"Featured Stays"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[1,2,3].map(g=>l.jsx(m,{},g))})]})]}):d&&!t.length&&!n.length&&!o.length?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d}):l.jsxs("div",{className:"space-y-8",children:[f.food?l.jsx(m,{}):l.jsx(w_,{title:"Featured Food Experiences",items:t,viewAllLink:"/food",renderItem:g=>l.jsx(sx,{item:g,onClick:()=>e(`/food/${g.id}`),priceLabel:`$${g.price_per_person} per person`,showRating:!0},g.id)}),!f.categories&&o.length>0&&l.jsx(dV,{categories:o}),f.stays?l.jsx(m,{}):l.jsx(w_,{title:"Featured Stays",items:n,viewAllLink:"/stays",renderItem:g=>l.jsx(sx,{item:g,onClick:()=>e(`/stays/${g.id}`),priceLabel:`$${g.price_per_night} per night`,showRating:!0},g.id)})]})},hV=()=>{const e=Tt(),{user:t,loading:r}=Bt();return r?l.jsx("div",{children:"Loading..."}):l.jsxs(Ft,{children:[l.jsx(uV,{}),l.jsx(_M,{}),l.jsxs("div",{className:"space-y-16",children:[l.jsx(fV,{}),l.jsx("section",{className:"bg-gradient-to-r from-amber-500 to-terracotta-600 py-20",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-3xl mx-auto text-center text-white",children:[l.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Share Your Culture With The World"}),l.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Whether it's your culinary expertise or your unique space, become a host and start earning while creating memorable experiences."}),l.jsxs("div",{className:"flex gap-4 justify-center",children:[t!=null&&t.is_host?l.jsx(ot,{to:"/host/dashboard",children:l.jsx(re,{variant:"secondary",size:"lg",children:"Go to Host Dashboard"})}):l.jsx(ot,{to:"/become-host",children:l.jsx(re,{variant:"secondary",size:"lg",children:"Become a Host"})}),l.jsx(re,{variant:"outline",size:"lg",className:"bg-transparent text-white border-white hover:bg-white/10",onClick:()=>e("/host/stay"),children:"List Your Space"})]})]})})})]})]})};function ox(e,[t,r]){return Math.min(r,Math.max(t,e))}function bb(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var pV=[" ","Enter","ArrowUp","ArrowDown"],mV=[" ","Enter"],ud="Select",[um,dm,gV]=Yp(ud),[Al,kse]=yn(ud,[gV,li]),fm=li(),[vV,ci]=Al(ud),[yV,xV]=Al(ud),KM=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:h,required:m,form:g}=e,v=fm(t),[b,y]=p.useState(null),[x,w]=p.useState(null),[S,j]=p.useState(!1),C=Nl(d),[M=!1,k]=mn({prop:n,defaultProp:s,onChange:o}),[E,_]=mn({prop:i,defaultProp:a,onChange:c}),P=p.useRef(null),D=b?g||!!b.closest("form"):!0,[L,A]=p.useState(new Set),$=Array.from(L).map(T=>T.props.value).join(";");return l.jsx(Jp,{...v,children:l.jsxs(vV,{required:m,scope:t,trigger:b,onTriggerChange:y,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Xr(),value:E,onValueChange:_,open:M,onOpenChange:k,dir:C,triggerPointerDownPosRef:P,disabled:h,children:[l.jsx(um.Provider,{scope:t,children:l.jsx(yV,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(T=>{A(N=>new Set(N).add(T))},[]),onNativeOptionRemove:p.useCallback(T=>{A(N=>{const O=new Set(N);return O.delete(T),O})},[]),children:r})}),D?l.jsxs(bL,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:E,onChange:T=>_(T.target.value),disabled:h,form:g,children:[E===void 0?l.jsx("option",{value:""}):null,Array.from(L)]},$):null]})})};KM.displayName=ud;var ZM="SelectTrigger",XM=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=fm(r),i=ci(ZM,r),a=i.disabled||n,c=Be(t,i.onTriggerChange),d=dm(r),u=p.useRef("touch"),[f,h,m]=wL(v=>{const b=d().filter(w=>!w.disabled),y=b.find(w=>w.value===i.value),x=SL(b,v,y);x!==void 0&&i.onValueChange(x.value)}),g=v=>{a||(i.onOpenChange(!0),m()),v&&(i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(td,{asChild:!0,...o,children:l.jsx(be.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":xL(i.value)?"":void 0,...s,ref:c,onClick:de(s.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&g(v)}),onPointerDown:de(s.onPointerDown,v=>{u.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:de(s.onKeyDown,v=>{const b=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(b&&v.key===" ")&&pV.includes(v.key)&&(g(),v.preventDefault())})})})});XM.displayName=ZM;var QM="SelectValue",JM=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=e,c=ci(QM,r),{onValueNodeHasChildrenChange:d}=c,u=o!==void 0,f=Be(t,c.onValueNodeChange);return er(()=>{d(u)},[d,u]),l.jsx(be.span,{...a,ref:f,style:{pointerEvents:"none"},children:xL(c.value)?l.jsx(l.Fragment,{children:i}):o})});JM.displayName=QM;var bV="SelectIcon",eL=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(be.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});eL.displayName=bV;var wV="SelectPortal",tL=e=>l.jsx(rd,{asChild:!0,...e});tL.displayName=wV;var zi="SelectContent",rL=p.forwardRef((e,t)=>{const r=ci(zi,e.__scopeSelect),[n,s]=p.useState();if(er(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Ir.createPortal(l.jsx(nL,{scope:e.__scopeSelect,children:l.jsx(um.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(sL,{...e,ref:t})});rL.displayName=zi;var Bn=10,[nL,ui]=Al(zi),SV="SelectContentImpl",sL=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:b,...y}=e,x=ci(zi,r),[w,S]=p.useState(null),[j,C]=p.useState(null),M=Be(t,X=>S(X)),[k,E]=p.useState(null),[_,P]=p.useState(null),D=dm(r),[L,A]=p.useState(!1),$=p.useRef(!1);p.useEffect(()=>{if(w)return nd(w)},[w]),Kp();const T=p.useCallback(X=>{const[Q,...ne]=D().map(ie=>ie.ref.current),[J]=ne.slice(-1),G=document.activeElement;for(const ie of X)if(ie===G||(ie==null||ie.scrollIntoView({block:"nearest"}),ie===Q&&j&&(j.scrollTop=0),ie===J&&j&&(j.scrollTop=j.scrollHeight),ie==null||ie.focus(),document.activeElement!==G))return},[D,j]),N=p.useCallback(()=>T([k,w]),[T,k,w]);p.useEffect(()=>{L&&N()},[L,N]);const{onOpenChange:O,triggerPointerDownPosRef:R}=x;p.useEffect(()=>{if(w){let X={x:0,y:0};const Q=J=>{var G,ie;X={x:Math.abs(Math.round(J.pageX)-(((G=R.current)==null?void 0:G.x)??0)),y:Math.abs(Math.round(J.pageY)-(((ie=R.current)==null?void 0:ie.y)??0))}},ne=J=>{X.x<=10&&X.y<=10?J.preventDefault():w.contains(J.target)||O(!1),document.removeEventListener("pointermove",Q),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",ne,{capture:!0})}}},[w,O,R]),p.useEffect(()=>{const X=()=>O(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[O]);const[B,V]=wL(X=>{const Q=D().filter(G=>!G.disabled),ne=Q.find(G=>G.ref.current===document.activeElement),J=SL(Q,X,ne);J&&setTimeout(()=>J.ref.current.focus())}),F=p.useCallback((X,Q,ne)=>{const J=!$.current&&!ne;(x.value!==void 0&&x.value===Q||J)&&(E(X),J&&($.current=!0))},[x.value]),z=p.useCallback(()=>w==null?void 0:w.focus(),[w]),W=p.useCallback((X,Q,ne)=>{const J=!$.current&&!ne;(x.value!==void 0&&x.value===Q||J)&&P(X)},[x.value]),I=n==="popper"?ix:oL,q=I===ix?{side:a,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:b}:{};return l.jsx(nL,{scope:r,content:w,viewport:j,onViewportChange:C,itemRefCallback:F,selectedItem:k,onItemLeave:z,itemTextRefCallback:W,focusSelectedItem:N,selectedItemText:_,position:n,isPositioned:L,searchRef:B,children:l.jsx(sd,{as:Cs,allowPinchZoom:!0,children:l.jsx(Ju,{asChild:!0,trapped:x.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:de(s,X=>{var Q;(Q=x.trigger)==null||Q.focus({preventScroll:!0}),X.preventDefault()}),children:l.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(I,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:X=>X.preventDefault(),...y,...q,onPlaced:()=>A(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:de(y.onKeyDown,X=>{const Q=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!Q&&X.key.length===1&&V(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let J=D().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(X.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const G=X.target,ie=J.indexOf(G);J=J.slice(ie+1)}setTimeout(()=>T(J)),X.preventDefault()}})})})})})})});sL.displayName=SV;var CV="SelectItemAlignedPosition",oL=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=ci(zi,r),i=ui(zi,r),[a,c]=p.useState(null),[d,u]=p.useState(null),f=Be(t,M=>u(M)),h=dm(r),m=p.useRef(!1),g=p.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:y,focusSelectedItem:x}=i,w=p.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&d&&v&&b&&y){const M=o.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),_=y.getBoundingClientRect();if(o.dir!=="rtl"){const G=_.left-k.left,ie=E.left-G,_e=M.left-ie,Ee=M.width+_e,fe=Math.max(Ee,k.width),Te=window.innerWidth-Bn,De=ox(ie,[Bn,Math.max(Bn,Te-fe)]);a.style.minWidth=Ee+"px",a.style.left=De+"px"}else{const G=k.right-_.right,ie=window.innerWidth-E.right-G,_e=window.innerWidth-M.right-ie,Ee=M.width+_e,fe=Math.max(Ee,k.width),Te=window.innerWidth-Bn,De=ox(ie,[Bn,Math.max(Bn,Te-fe)]);a.style.minWidth=Ee+"px",a.style.right=De+"px"}const P=h(),D=window.innerHeight-Bn*2,L=v.scrollHeight,A=window.getComputedStyle(d),$=parseInt(A.borderTopWidth,10),T=parseInt(A.paddingTop,10),N=parseInt(A.borderBottomWidth,10),O=parseInt(A.paddingBottom,10),R=$+T+L+O+N,B=Math.min(b.offsetHeight*5,R),V=window.getComputedStyle(v),F=parseInt(V.paddingTop,10),z=parseInt(V.paddingBottom,10),W=M.top+M.height/2-Bn,I=D-W,q=b.offsetHeight/2,X=b.offsetTop+q,Q=$+T+X,ne=R-Q;if(Q<=W){const G=P.length>0&&b===P[P.length-1].ref.current;a.style.bottom="0px";const ie=d.clientHeight-v.offsetTop-v.offsetHeight,_e=Math.max(I,q+(G?z:0)+ie+N),Ee=Q+_e;a.style.height=Ee+"px"}else{const G=P.length>0&&b===P[0].ref.current;a.style.top="0px";const _e=Math.max(W,$+v.offsetTop+(G?F:0)+q)+ne;a.style.height=_e+"px",v.scrollTop=Q-W+v.offsetTop}a.style.margin=`${Bn}px 0`,a.style.minHeight=B+"px",a.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,a,d,v,b,y,o.dir,n]);er(()=>w(),[w]);const[S,j]=p.useState();er(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const C=p.useCallback(M=>{M&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return l.jsx(jV,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(be.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});oL.displayName=CV;var _V="SelectPopperPosition",ix=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Bn,...o}=e,i=fm(r);return l.jsx(em,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ix.displayName=_V;var[jV,wb]=Al(zi,{}),ax="SelectViewport",iL=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=ui(ax,r),i=wb(ax,r),a=Be(t,o.onViewportChange),c=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(um.Slot,{scope:r,children:l.jsx(be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:de(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const m=Math.abs(c.current-u.scrollTop);if(m>0){const g=window.innerHeight-Bn*2,v=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),y=Math.max(v,b);if(y<g){const x=y+m,w=Math.min(g,x),S=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});iL.displayName=ax;var aL="SelectGroup",[EV,kV]=Al(aL),NV=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Xr();return l.jsx(EV,{scope:r,id:s,children:l.jsx(be.div,{role:"group","aria-labelledby":s,...n,ref:t})})});NV.displayName=aL;var lL="SelectLabel",cL=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=kV(lL,r);return l.jsx(be.div,{id:s.id,...n,ref:t})});cL.displayName=lL;var Rh="SelectItem",[PV,uL]=Al(Rh),dL=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,a=ci(Rh,r),c=ui(Rh,r),d=a.value===n,[u,f]=p.useState(o??""),[h,m]=p.useState(!1),g=Be(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,s)}),v=Xr(),b=p.useRef("touch"),y=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(PV,{scope:r,value:n,disabled:s,textId:v,isSelected:d,onItemTextChange:p.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(um.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:l.jsx(be.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:g,onFocus:de(i.onFocus,()=>m(!0)),onBlur:de(i.onBlur,()=>m(!1)),onClick:de(i.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:de(i.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:de(i.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:de(i.onPointerMove,x=>{var w;b.current=x.pointerType,s?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(i.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:de(i.onKeyDown,x=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(mV.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});dL.displayName=Rh;var xc="SelectItemText",fL=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=ci(xc,r),a=ui(xc,r),c=uL(xc,r),d=xV(xc,r),[u,f]=p.useState(null),h=Be(t,y=>f(y),c.onItemTextChange,y=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,y,c.value,c.disabled)}),m=u==null?void 0:u.textContent,g=p.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=d;return er(()=>(v(g),()=>b(g)),[v,b,g]),l.jsxs(l.Fragment,{children:[l.jsx(be.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ir.createPortal(o.children,i.valueNode):null]})});fL.displayName=xc;var hL="SelectItemIndicator",pL=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return uL(hL,r).isSelected?l.jsx(be.span,{"aria-hidden":!0,...n,ref:t}):null});pL.displayName=hL;var lx="SelectScrollUpButton",mL=p.forwardRef((e,t)=>{const r=ui(lx,e.__scopeSelect),n=wb(lx,e.__scopeSelect),[s,o]=p.useState(!1),i=Be(t,n.onScrollButtonChange);return er(()=>{if(r.viewport&&r.isPositioned){let a=function(){const d=c.scrollTop>0;o(d)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(vL,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});mL.displayName=lx;var cx="SelectScrollDownButton",gL=p.forwardRef((e,t)=>{const r=ui(cx,e.__scopeSelect),n=wb(cx,e.__scopeSelect),[s,o]=p.useState(!1),i=Be(t,n.onScrollButtonChange);return er(()=>{if(r.viewport&&r.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;o(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(vL,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});gL.displayName=cx;var vL=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=ui("SelectScrollButton",r),i=p.useRef(null),a=dm(r),c=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),er(()=>{var u;const d=a().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),l.jsx(be.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:de(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:de(s.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:de(s.onPointerLeave,()=>{c()})})}),MV="SelectSeparator",yL=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(be.div,{"aria-hidden":!0,...n,ref:t})});yL.displayName=MV;var ux="SelectArrow",LV=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=fm(r),o=ci(ux,r),i=ui(ux,r);return o.open&&i.position==="popper"?l.jsx(tm,{...s,...n,ref:t}):null});LV.displayName=ux;function xL(e){return e===""||e===void 0}var bL=p.forwardRef((e,t)=>{const{value:r,...n}=e,s=p.useRef(null),o=Be(t,s),i=bb(r);return p.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&u){const f=new Event("change",{bubbles:!0});u.call(a,r),a.dispatchEvent(f)}},[i,r]),l.jsx(cd,{asChild:!0,children:l.jsx("select",{...n,ref:o,defaultValue:r})})});bL.displayName="BubbleSelect";function wL(e){const t=Yt(e),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(i=>{const a=r.current+i;t(a),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function SL(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=DV(e,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function DV(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var TV=KM,CL=XM,OV=JM,AV=eL,RV=tL,_L=rL,IV=iL,jL=cL,EL=dL,$V=fL,FV=pL,kL=mL,NL=gL,PL=yL;const $o=TV,Fo=OV,qs=p.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(CL,{ref:n,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(AV,{asChild:!0,children:l.jsx(Bp,{className:"h-4 w-4 opacity-50"})})]}));qs.displayName=CL.displayName;const ML=p.forwardRef(({className:e,...t},r)=>l.jsx(kL,{ref:r,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(v5,{className:"h-4 w-4"})}));ML.displayName=kL.displayName;const LL=p.forwardRef(({className:e,...t},r)=>l.jsx(NL,{ref:r,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Bp,{className:"h-4 w-4"})}));LL.displayName=NL.displayName;const Ys=p.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(RV,{children:l.jsxs(_L,{ref:s,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(ML,{}),l.jsx(IV,{className:me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(LL,{})]})}));Ys.displayName=_L.displayName;const BV=p.forwardRef(({className:e,...t},r)=>l.jsx(jL,{ref:r,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));BV.displayName=jL.displayName;const Ks=p.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(EL,{ref:n,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(FV,{children:l.jsx(Fp,{className:"h-4 w-4"})})}),l.jsx($V,{children:t})]}));Ks.displayName=EL.displayName;const UV=p.forwardRef(({className:e,...t},r)=>l.jsx(PL,{ref:r,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));UV.displayName=PL.displayName;const zV=[{value:"price_asc",label:"Price: Low to High"},{value:"price_desc",label:"Price: High to Low"},{value:"rating_desc",label:"Highest Rated"}],DL=({value:e,onValueChange:t})=>l.jsxs($o,{value:e,onValueChange:t,children:[l.jsx(qs,{className:"w-[180px]",children:l.jsx(Fo,{placeholder:"Sort by"})}),l.jsx(Ys,{children:zV.map(r=>l.jsx(Ks,{value:r.value,children:r.label},r.value))})]}),Oe=p.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Oe.displayName="Card";const ir=p.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:me("flex flex-col space-y-1.5 p-6",e),...t}));ir.displayName="CardHeader";const ar=p.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:me("text-2xl font-semibold leading-none tracking-tight",e),...t}));ar.displayName="CardTitle";const ys=p.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:me("text-sm text-muted-foreground",e),...t}));ys.displayName="CardDescription";const pt=p.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:me("p-6 pt-0",e),...t}));pt.displayName="CardContent";const Sb=p.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:me("flex items-center p-6 pt-0",e),...t}));Sb.displayName="CardFooter";const WV=Ip("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function or({className:e,variant:t,...r}){return l.jsx("div",{className:me(WV({variant:t}),e),...r})}const VV=({experience:e,onClick:t})=>{var d;const{title:r="Untitled Experience",images:n=[],price_per_person:s=0,host:o={name:"Unknown Host",rating:0,reviews:0},location_name:i="Location not specified",cuisine_type:a="Various"}=e||{},c=n.length>0&&((d=n[0])==null?void 0:d.url);return l.jsxs(Oe,{className:"overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:t,children:[l.jsxs("div",{className:"relative h-48 bg-gray-100",children:[c&&l.jsx("img",{src:n[0].url,alt:r,className:"w-full h-full object-cover",loading:"lazy"}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsxs(or,{variant:"secondary",children:["$",s.toFixed(2),"/person"]})})]}),l.jsx(ir,{children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx(ar,{className:"text-lg",children:r}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(_s,{className:"w-4 h-4 fill-yellow-400 stroke-yellow-400"}),l.jsxs("span",{className:"text-sm",children:[o.rating.toFixed(1)," (",o.reviews,")"]})]})]})}),l.jsxs(pt,{children:[l.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Hosted by ",o.name]}),l.jsx("p",{className:"text-sm text-gray-600",children:i}),l.jsx(or,{variant:"outline",className:"mt-2",children:a})]})]})};let HV=class extends Z.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Error caught by boundary:",t,r)}render(){return this.state.hasError?this.props.fallback||l.jsx("div",{className:"p-4 border rounded-lg bg-red-50",children:l.jsx("h2",{className:"text-red-600",children:"Something went wrong"})}):this.props.children}};const GV=[{id:"Italian",label:"Italian",count:0},{id:"Mexican",label:"Mexican",count:0},{id:"Japanese",label:"Japanese",count:0},{id:"Indian",label:"Indian",count:0},{id:"Thai",label:"Thai",count:0},{id:"Chinese",label:"Chinese",count:0},{id:"Mediterranean",label:"Mediterranean",count:0},{id:"French",label:"French",count:0}],qV=()=>{const[e]=x2(),[t,r]=p.useState([]),[n,s]=p.useState(!0),[o,i]=p.useState("rating_desc"),[a,c]=p.useState(""),[d,u]=p.useState([]),[f,h]=p.useState(!1),[m,g]=p.useState(GV),v=Tt(),b=C=>C?C.startsWith("http")?C:C.startsWith("food-experience-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${C}`:C:"/default-food.jpg",y=async()=>{try{const M=(await VW()).map(k=>({id:k.cuisine_type,label:k.cuisine_type,count:k.count}));g(M)}catch(C){console.error("Error fetching cuisine counts:",C)}};p.useEffect(()=>{y();const C=e.get("cuisine_types");if(C){const M=C.split(",");u(M)}},[]),p.useEffect(()=>{const C={sort:o},M=e.get("zipcode");M&&(C.zipcode=M);const k=e.get("cuisine_types");k&&(C.cuisine_types=k.split(",")),a.trim()&&(C.title=a.trim()),d.length>0&&(C.cuisine_types=d),x(C)},[e,o,a,d]);const x=async(C={})=>{try{s(!0),console.log("Fetching experiences with filters:",C);const k=(await CM(C)).map(E=>({...E,images:E.images.map(_=>({..._,url:b(_.url)}))}));r(k)}catch(M){console.error("Error fetching experiences:",M)}finally{s(!1)}},w=C=>{u(M=>M.includes(C)?M.filter(k=>k!==C):[...M,C])},S=()=>{c(""),u([])},j=()=>{h(!f)};return l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Food Experiences"}),l.jsx("p",{className:"text-gray-600",children:"Discover unique culinary adventures from local hosts"})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[l.jsx("div",{className:"flex-1 w-full",children:l.jsxs("div",{className:"relative",children:[l.jsx(Re,{placeholder:"Search food experiences by title...",value:a,onChange:C=>c(C.target.value),className:"pl-10 h-12 rounded-lg border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent"}),l.jsx(Qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"})]})}),l.jsx(re,{variant:"outline",onClick:j,className:"h-12 px-4 rounded-lg md:hidden",children:l.jsx(N5,{className:"h-5 w-5"})})]})}),d.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[d.map(C=>l.jsxs(or,{variant:"secondary",className:"px-3 py-1 rounded-full flex items-center gap-1",children:[l.jsx(du,{className:"h-3 w-3"}),C,l.jsx("button",{onClick:()=>w(C),className:"ml-1 text-gray-500 hover:text-gray-700",children:"×"})]},C)),l.jsx(re,{variant:"ghost",size:"sm",onClick:S,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[l.jsxs("div",{className:`${f?"block":"hidden"} md:block w-full md:w-64 space-y-4`,children:[l.jsxs("div",{className:"flex justify-between items-center md:hidden mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Filters"}),l.jsx(re,{variant:"ghost",size:"sm",onClick:j,children:"Close"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[l.jsx("div",{className:"mb-6",children:l.jsx("h2",{className:"text-xl font-semibold",children:"Filter Food Experiences"})}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-sm font-medium mb-2",children:"Sort By"}),l.jsx(DL,{value:o,onValueChange:C=>i(C)})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-sm font-medium mb-3",children:"Categories"}),l.jsx("div",{className:"space-y-2",children:m.map(C=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:`cuisine-${C.id}`,checked:d.includes(C.id),onChange:()=>w(C.id),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("label",{htmlFor:`cuisine-${C.id}`,className:"ml-2 text-sm text-gray-700",children:C.label})]}),l.jsxs("span",{className:"text-xs text-gray-500",children:["(",C.count,")"]})]},C.id))})]}),l.jsx(re,{variant:"outline",size:"sm",onClick:S,className:"w-full text-sm mt-4",children:"Reset"})]})]}),l.jsx("div",{className:"flex-1",children:n?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(C=>l.jsx(HV,{children:l.jsx(VV,{experience:C,onClick:()=>v(`/food/${C.id}`)})},C.id))}):l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[l.jsx(du,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"No food experiences found."}),l.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your filters or search terms."})]})})]})]})})};function dx(e,t){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},dx(e,t)}function TL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dx(e,t)}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xe.apply(null,arguments)}function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function YV(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KV(e){var t=YV(e,"string");return bu(t)=="symbol"?t:t+""}function ZV(e,t,r){return(t=KV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function C_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){ZV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Br(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var __=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ev=function(){return Math.random().toString(36).substring(7).split("").join(".")},j_={INIT:"@@redux/INIT"+ev(),REPLACE:"@@redux/REPLACE"+ev(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ev()}};function XV(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function OL(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Br(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Br(1));return r(OL)(e,t)}if(typeof e!="function")throw new Error(Br(2));var s=e,o=t,i=[],a=i,c=!1;function d(){a===i&&(a=i.slice())}function u(){if(c)throw new Error(Br(3));return o}function f(v){if(typeof v!="function")throw new Error(Br(4));if(c)throw new Error(Br(5));var b=!0;return d(),a.push(v),function(){if(b){if(c)throw new Error(Br(6));b=!1,d();var x=a.indexOf(v);a.splice(x,1),i=null}}}function h(v){if(!XV(v))throw new Error(Br(7));if(typeof v.type>"u")throw new Error(Br(8));if(c)throw new Error(Br(9));try{c=!0,o=s(o,v)}finally{c=!1}for(var b=i=a,y=0;y<b.length;y++){var x=b[y];x()}return v}function m(v){if(typeof v!="function")throw new Error(Br(10));s=v,h({type:j_.REPLACE})}function g(){var v,b=f;return v={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(Br(11));function w(){x.next&&x.next(u())}w();var S=b(w);return{unsubscribe:S}}},v[__]=function(){return this},v}return h({type:j_.INIT}),n={dispatch:h,subscribe:f,getState:u,replaceReducer:m},n[__]=g,n}function E_(e,t){return function(){return t(e.apply(this,arguments))}}function k_(e,t){if(typeof e=="function")return E_(e,t);if(typeof e!="object"||e===null)throw new Error(Br(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=E_(s,t))}return r}function AL(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function QV(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),o=function(){throw new Error(Br(15))},i={getState:s.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(c){return c(i)});return o=AL.apply(void 0,a)(s.dispatch),C_(C_({},s),{},{dispatch:o})}}}var RL=Z.createContext(null);function JV(e){e()}var IL=JV,eH=function(t){return IL=t},tH=function(){return IL};function rH(){var e=tH(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var s=t;s;)s.callback(),s=s.next})},get:function(){for(var s=[],o=t;o;)s.push(o),o=o.next;return s},subscribe:function(s){var o=!0,i=r={callback:s,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!o||t===null||(o=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var N_={notify:function(){},get:function(){return[]}};function $L(e,t){var r,n=N_;function s(f){return c(),n.subscribe(f)}function o(){n.notify()}function i(){u.onStateChange&&u.onStateChange()}function a(){return!!r}function c(){r||(r=t?t.addNestedSub(i):e.subscribe(i),n=rH())}function d(){r&&(r(),r=void 0,n.clear(),n=N_)}var u={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:i,isSubscribed:a,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return n}};return u}var FL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?p.useLayoutEffect:p.useEffect;function nH(e){var t=e.store,r=e.context,n=e.children,s=p.useMemo(function(){var a=$L(t);return{store:t,subscription:a}},[t]),o=p.useMemo(function(){return t.getState()},[t]);FL(function(){var a=s.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==t.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[s,o]);var i=r||RL;return Z.createElement(i.Provider,{value:s},n)}function Ih(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}var BL={exports:{}},ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fr=typeof Symbol=="function"&&Symbol.for,Cb=fr?Symbol.for("react.element"):60103,_b=fr?Symbol.for("react.portal"):60106,hm=fr?Symbol.for("react.fragment"):60107,pm=fr?Symbol.for("react.strict_mode"):60108,mm=fr?Symbol.for("react.profiler"):60114,gm=fr?Symbol.for("react.provider"):60109,vm=fr?Symbol.for("react.context"):60110,jb=fr?Symbol.for("react.async_mode"):60111,ym=fr?Symbol.for("react.concurrent_mode"):60111,xm=fr?Symbol.for("react.forward_ref"):60112,bm=fr?Symbol.for("react.suspense"):60113,sH=fr?Symbol.for("react.suspense_list"):60120,wm=fr?Symbol.for("react.memo"):60115,Sm=fr?Symbol.for("react.lazy"):60116,oH=fr?Symbol.for("react.block"):60121,iH=fr?Symbol.for("react.fundamental"):60117,aH=fr?Symbol.for("react.responder"):60118,lH=fr?Symbol.for("react.scope"):60119;function xn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Cb:switch(e=e.type,e){case jb:case ym:case hm:case mm:case pm:case bm:return e;default:switch(e=e&&e.$$typeof,e){case vm:case xm:case Sm:case wm:case gm:return e;default:return t}}case _b:return t}}}function UL(e){return xn(e)===ym}ft.AsyncMode=jb;ft.ConcurrentMode=ym;ft.ContextConsumer=vm;ft.ContextProvider=gm;ft.Element=Cb;ft.ForwardRef=xm;ft.Fragment=hm;ft.Lazy=Sm;ft.Memo=wm;ft.Portal=_b;ft.Profiler=mm;ft.StrictMode=pm;ft.Suspense=bm;ft.isAsyncMode=function(e){return UL(e)||xn(e)===jb};ft.isConcurrentMode=UL;ft.isContextConsumer=function(e){return xn(e)===vm};ft.isContextProvider=function(e){return xn(e)===gm};ft.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cb};ft.isForwardRef=function(e){return xn(e)===xm};ft.isFragment=function(e){return xn(e)===hm};ft.isLazy=function(e){return xn(e)===Sm};ft.isMemo=function(e){return xn(e)===wm};ft.isPortal=function(e){return xn(e)===_b};ft.isProfiler=function(e){return xn(e)===mm};ft.isStrictMode=function(e){return xn(e)===pm};ft.isSuspense=function(e){return xn(e)===bm};ft.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hm||e===ym||e===mm||e===pm||e===bm||e===sH||typeof e=="object"&&e!==null&&(e.$$typeof===Sm||e.$$typeof===wm||e.$$typeof===gm||e.$$typeof===vm||e.$$typeof===xm||e.$$typeof===iH||e.$$typeof===aH||e.$$typeof===lH||e.$$typeof===oH)};ft.typeOf=xn;BL.exports=ft;var cH=BL.exports,Eb=cH,uH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},dH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},fH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kb={};kb[Eb.ForwardRef]=fH;kb[Eb.Memo]=zL;function P_(e){return Eb.isMemo(e)?zL:kb[e.$$typeof]||uH}var hH=Object.defineProperty,pH=Object.getOwnPropertyNames,M_=Object.getOwnPropertySymbols,mH=Object.getOwnPropertyDescriptor,gH=Object.getPrototypeOf,L_=Object.prototype;function WL(e,t,r){if(typeof t!="string"){if(L_){var n=gH(t);n&&n!==L_&&WL(e,n,r)}var s=pH(t);M_&&(s=s.concat(M_(t)));for(var o=P_(e),i=P_(t),a=0;a<s.length;++a){var c=s[a];if(!dH[c]&&!(r&&r[c])&&!(i&&i[c])&&!(o&&o[c])){var d=mH(t,c);try{hH(e,c,d)}catch{}}}}return e}var vH=WL;const D_=Tx(vH);var VL={exports:{}},gt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm=60103,_m=60106,dd=60107,fd=60108,hd=60114,pd=60109,md=60110,gd=60112,vd=60113,Nb=60120,yd=60115,xd=60116,HL=60121,GL=60122,qL=60117,YL=60129,KL=60131;if(typeof Symbol=="function"&&Symbol.for){var pr=Symbol.for;Cm=pr("react.element"),_m=pr("react.portal"),dd=pr("react.fragment"),fd=pr("react.strict_mode"),hd=pr("react.profiler"),pd=pr("react.provider"),md=pr("react.context"),gd=pr("react.forward_ref"),vd=pr("react.suspense"),Nb=pr("react.suspense_list"),yd=pr("react.memo"),xd=pr("react.lazy"),HL=pr("react.block"),GL=pr("react.server.block"),qL=pr("react.fundamental"),YL=pr("react.debug_trace_mode"),KL=pr("react.legacy_hidden")}function as(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Cm:switch(e=e.type,e){case dd:case hd:case fd:case vd:case Nb:return e;default:switch(e=e&&e.$$typeof,e){case md:case gd:case xd:case yd:case pd:return e;default:return t}}case _m:return t}}}var yH=pd,xH=Cm,bH=gd,wH=dd,SH=xd,CH=yd,_H=_m,jH=hd,EH=fd,kH=vd;gt.ContextConsumer=md;gt.ContextProvider=yH;gt.Element=xH;gt.ForwardRef=bH;gt.Fragment=wH;gt.Lazy=SH;gt.Memo=CH;gt.Portal=_H;gt.Profiler=jH;gt.StrictMode=EH;gt.Suspense=kH;gt.isAsyncMode=function(){return!1};gt.isConcurrentMode=function(){return!1};gt.isContextConsumer=function(e){return as(e)===md};gt.isContextProvider=function(e){return as(e)===pd};gt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cm};gt.isForwardRef=function(e){return as(e)===gd};gt.isFragment=function(e){return as(e)===dd};gt.isLazy=function(e){return as(e)===xd};gt.isMemo=function(e){return as(e)===yd};gt.isPortal=function(e){return as(e)===_m};gt.isProfiler=function(e){return as(e)===hd};gt.isStrictMode=function(e){return as(e)===fd};gt.isSuspense=function(e){return as(e)===vd};gt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===dd||e===hd||e===YL||e===fd||e===vd||e===Nb||e===KL||typeof e=="object"&&e!==null&&(e.$$typeof===xd||e.$$typeof===yd||e.$$typeof===pd||e.$$typeof===md||e.$$typeof===gd||e.$$typeof===qL||e.$$typeof===HL||e[0]===GL)};gt.typeOf=as;VL.exports=gt;var NH=VL.exports,PH=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],MH=["reactReduxForwardedRef"],LH=[],DH=[null,null];function TH(e,t){var r=e[1];return[t.payload,r+1]}function T_(e,t,r){FL(function(){return e.apply(void 0,t)},r)}function OH(e,t,r,n,s,o,i){e.current=n,t.current=s,r.current=!1,o.current&&(o.current=null,i())}function AH(e,t,r,n,s,o,i,a,c,d){if(e){var u=!1,f=null,h=function(){if(!u){var v=t.getState(),b,y;try{b=n(v,s.current)}catch(x){y=x,f=x}y||(f=null),b===o.current?i.current||c():(o.current=b,a.current=b,i.current=!0,d({type:"STORE_UPDATED",payload:{error:y}}))}};r.onStateChange=h,r.trySubscribe(),h();var m=function(){if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f};return m}}var RH=function(){return[null,0]};function IH(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,s=n===void 0?function(w){return"ConnectAdvanced("+w+")"}:n,o=r.methodName,i=o===void 0?"connectAdvanced":o,a=r.renderCountProp,c=a===void 0?void 0:a,d=r.shouldHandleStateChanges,u=d===void 0?!0:d,f=r.storeKey,h=f===void 0?"store":f;r.withRef;var m=r.forwardRef,g=m===void 0?!1:m,v=r.context,b=v===void 0?RL:v,y=Ih(r,PH),x=b;return function(S){var j=S.displayName||S.name||"Component",C=s(j),M=xe({},y,{getDisplayName:s,methodName:i,renderCountProp:c,shouldHandleStateChanges:u,storeKey:h,displayName:C,wrappedComponentName:j,WrappedComponent:S}),k=y.pure;function E(A){return e(A.dispatch,M)}var _=k?p.useMemo:function(A){return A()};function P(A){var $=p.useMemo(function(){var H=A.reactReduxForwardedRef,K=Ih(A,MH);return[A.context,H,K]},[A]),T=$[0],N=$[1],O=$[2],R=p.useMemo(function(){return T&&T.Consumer&&NH.isContextConsumer(Z.createElement(T.Consumer,null))?T:x},[T,x]),B=p.useContext(R),V=!!A.store&&!!A.store.getState&&!!A.store.dispatch;B&&B.store;var F=V?A.store:B.store,z=p.useMemo(function(){return E(F)},[F]),W=p.useMemo(function(){if(!u)return DH;var H=$L(F,V?null:B.subscription),K=H.notifyNestedSubs.bind(H);return[H,K]},[F,V,B]),I=W[0],q=W[1],X=p.useMemo(function(){return V?B:xe({},B,{subscription:I})},[V,B,I]),Q=p.useReducer(TH,LH,RH),ne=Q[0],J=ne[0],G=Q[1];if(J&&J.error)throw J.error;var ie=p.useRef(),_e=p.useRef(O),Ee=p.useRef(),fe=p.useRef(!1),Te=_(function(){return Ee.current&&O===_e.current?Ee.current:z(F.getState(),O)},[F,J,O]);T_(OH,[_e,ie,fe,O,Te,Ee,q]),T_(AH,[u,F,I,z,_e,ie,fe,Ee,q,G],[F,I,z]);var De=p.useMemo(function(){return Z.createElement(S,xe({},Te,{ref:N}))},[N,S,Te]),U=p.useMemo(function(){return u?Z.createElement(R.Provider,{value:X},De):De},[R,De,X]);return U}var D=k?Z.memo(P):P;if(D.WrappedComponent=S,D.displayName=P.displayName=C,g){var L=Z.forwardRef(function($,T){return Z.createElement(D,xe({},$,{reactReduxForwardedRef:T}))});return L.displayName=C,L.WrappedComponent=S,D_(L,S)}return D_(D,S)}}function O_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function tv(e,t){if(O_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!O_(e[r[s]],t[r[s]]))return!1;return!0}function $H(e,t){var r={},n=function(i){var a=e[i];typeof a=="function"&&(r[i]=function(){return t(a.apply(void 0,arguments))})};for(var s in e)n(s);return r}function Pb(e){return function(r,n){var s=e(r,n);function o(){return s}return o.dependsOnOwnProps=!1,o}}function A_(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function ZL(e,t){return function(n,s){s.displayName;var o=function(a,c){return o.dependsOnOwnProps?o.mapToProps(a,c):o.mapToProps(a)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,c){o.mapToProps=e,o.dependsOnOwnProps=A_(e);var d=o(a,c);return typeof d=="function"&&(o.mapToProps=d,o.dependsOnOwnProps=A_(d),d=o(a,c)),d},o}}function FH(e){return typeof e=="function"?ZL(e):void 0}function BH(e){return e?void 0:Pb(function(t){return{dispatch:t}})}function UH(e){return e&&typeof e=="object"?Pb(function(t){return $H(e,t)}):void 0}const zH=[FH,BH,UH];function WH(e){return typeof e=="function"?ZL(e):void 0}function VH(e){return e?void 0:Pb(function(){return{}})}const HH=[WH,VH];function GH(e,t,r){return xe({},r,e,t)}function qH(e){return function(r,n){n.displayName;var s=n.pure,o=n.areMergedPropsEqual,i=!1,a;return function(d,u,f){var h=e(d,u,f);return i?(!s||!o(h,a))&&(a=h):(i=!0,a=h),a}}}function YH(e){return typeof e=="function"?qH(e):void 0}function KH(e){return e?void 0:function(){return GH}}const ZH=[YH,KH];var XH=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function QH(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function JH(e,t,r,n,s){var o=s.areStatesEqual,i=s.areOwnPropsEqual,a=s.areStatePropsEqual,c=!1,d,u,f,h,m;function g(w,S){return d=w,u=S,f=e(d,u),h=t(n,u),m=r(f,h,u),c=!0,m}function v(){return f=e(d,u),t.dependsOnOwnProps&&(h=t(n,u)),m=r(f,h,u),m}function b(){return e.dependsOnOwnProps&&(f=e(d,u)),t.dependsOnOwnProps&&(h=t(n,u)),m=r(f,h,u),m}function y(){var w=e(d,u),S=!a(w,f);return f=w,S&&(m=r(f,h,u)),m}function x(w,S){var j=!i(S,u),C=!o(w,d,S,u);return d=w,u=S,j&&C?v():j?b():C?y():m}return function(S,j){return c?x(S,j):g(S,j)}}function eG(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,s=t.initMergeProps,o=Ih(t,XH),i=r(e,o),a=n(e,o),c=s(e,o),d=o.pure?JH:QH;return d(i,a,c,e,o)}var tG=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function rv(e,t,r){for(var n=t.length-1;n>=0;n--){var s=t[n](e);if(s)return s}return function(o,i){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+i.wrappedComponentName+".")}}function rG(e,t){return e===t}function nG(e){var t={},r=t.connectHOC,n=r===void 0?IH:r,s=t.mapStateToPropsFactories,o=s===void 0?HH:s,i=t.mapDispatchToPropsFactories,a=i===void 0?zH:i,c=t.mergePropsFactories,d=c===void 0?ZH:c,u=t.selectorFactory,f=u===void 0?eG:u;return function(m,g,v,b){b===void 0&&(b={});var y=b,x=y.pure,w=x===void 0?!0:x,S=y.areStatesEqual,j=S===void 0?rG:S,C=y.areOwnPropsEqual,M=C===void 0?tv:C,k=y.areStatePropsEqual,E=k===void 0?tv:k,_=y.areMergedPropsEqual,P=_===void 0?tv:_,D=Ih(y,tG),L=rv(m,o,"mapStateToProps"),A=rv(g,a,"mapDispatchToProps"),$=rv(v,d,"mergeProps");return n(f,xe({methodName:"connect",getDisplayName:function(N){return"Connect("+N+")"},shouldHandleStateChanges:!!m,initMapStateToProps:L,initMapDispatchToProps:A,initMergeProps:$,pure:w,areStatesEqual:j,areOwnPropsEqual:M,areStatePropsEqual:E,areMergedPropsEqual:P},D))}}const XL=nG();eH(Ir.unstable_batchedUpdates);function sG(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function QL(e,t){var r=p.useState(function(){return{inputs:t,result:e()}})[0],n=p.useRef(!0),s=p.useRef(r),o=n.current||!!(t&&s.current.inputs&&sG(t,s.current.inputs)),i=o?s.current:{inputs:t,result:e()};return p.useEffect(function(){n.current=!1,s.current=i},[i]),i.result}function oG(e,t){return QL(function(){return e},t)}var Qe=QL,Ce=oG,iG="Invariant failed";function aG(e,t){throw new Error(iG)}var qn=function(t){var r=t.top,n=t.right,s=t.bottom,o=t.left,i=n-o,a=s-r,c={top:r,right:n,bottom:s,left:o,width:i,height:a,x:o,y:r,center:{x:(n+o)/2,y:(s+r)/2}};return c},Mb=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},R_=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},lG=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},nv={top:0,right:0,bottom:0,left:0},Lb=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?nv:n,o=t.border,i=o===void 0?nv:o,a=t.padding,c=a===void 0?nv:a,d=qn(Mb(r,s)),u=qn(R_(r,i)),f=qn(R_(u,c));return{marginBox:d,borderBox:qn(r),paddingBox:u,contentBox:f,margin:s,border:i,padding:c}},wn=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&aG(),s},cG=function(){return{x:window.pageXOffset,y:window.pageYOffset}},$h=function(t,r){var n=t.borderBox,s=t.border,o=t.margin,i=t.padding,a=lG(n,r);return Lb({borderBox:a,border:s,margin:o,padding:i})},Fh=function(t,r){return r===void 0&&(r=cG()),$h(t,r)},JL=function(t,r){var n={top:wn(r.marginTop),right:wn(r.marginRight),bottom:wn(r.marginBottom),left:wn(r.marginLeft)},s={top:wn(r.paddingTop),right:wn(r.paddingRight),bottom:wn(r.paddingBottom),left:wn(r.paddingLeft)},o={top:wn(r.borderTopWidth),right:wn(r.borderRightWidth),bottom:wn(r.borderBottomWidth),left:wn(r.borderLeftWidth)};return Lb({borderBox:t,margin:n,padding:s,border:o})},eD=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return JL(r,n)},I_=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function uG(e,t){return!!(e===t||I_(e)&&I_(t))}function dG(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!uG(e[r],t[r]))return!1;return!0}function cr(e,t){t===void 0&&(t=dG);var r,n=[],s,o=!1;function i(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return o&&r===this&&t(a,n)||(s=e.apply(this,a),o=!0,r=this,n=a),s}return i}var wu=function(t){var r=[],n=null,s=function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];r=a,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};function tD(e,t){}tD.bind(null,"warn");tD.bind(null,"error");function Bo(){}function fG(e,t){return xe({},e,{},t)}function kn(e,t,r){var n=t.map(function(s){var o=fG(r,s.options);return e.addEventListener(s.eventName,s.fn,o),function(){e.removeEventListener(s.eventName,s.fn,o)}});return function(){n.forEach(function(o){o()})}}var hG="Invariant failed";function Bh(e){this.message=e}Bh.prototype.toString=function(){return this.message};function ce(e,t){throw new Bh(hG)}var pG=function(e){TL(t,e);function t(){for(var n,s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,n.callbacks=null,n.unbind=Bo,n.onWindowError=function(a){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var d=a.error;d instanceof Bh&&a.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(a){n.callbacks=a},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=kn(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(s){if(s instanceof Bh){this.setState({});return}throw s},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(Z.Component),mG=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Uh=function(t){return t+1},gG=function(t){return`
  You have lifted an item in position `+Uh(t.source.index)+`
`},rD=function(t,r){var n=t.droppableId===r.droppableId,s=Uh(t.index),o=Uh(r.index);return n?`
      You have moved the item from position `+s+`
      to position `+o+`
    `:`
    You have moved the item from position `+s+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+o+`
  `},nD=function(t,r,n){var s=r.droppableId===n.droppableId;return s?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},vG=function(t){var r=t.destination;if(r)return rD(t.source,r);var n=t.combine;return n?nD(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},$_=function(t){return`
  The item has returned to its starting position
  of `+Uh(t.index)+`
`},yG=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+$_(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+rD(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+nD(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+$_(t.source)+`
  `},Af={dragHandleUsageInstructions:mG,onDragStart:gG,onDragUpdate:vG,onDragEnd:yG},ur={x:0,y:0},vr=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},ln=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},Uo=function(t,r){return t.x===r.x&&t.y===r.y},Rl=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Wi=function(t,r,n){var s;return n===void 0&&(n=0),s={},s[t]=r,s[t==="x"?"y":"x"]=n,s},Su=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},F_=function(t,r){return Math.min.apply(Math,r.map(function(n){return Su(t,n)}))},sD=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},xG=function(e,t){var r=qn({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},bd=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},B_=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},bG={top:0,right:0,bottom:0,left:0},wG=function(t,r){return r?bd(t,r.scroll.diff.displacement):t},SG=function(t,r,n){if(n&&n.increasedBy){var s;return xe({},t,(s={},s[r.end]=t[r.end]+n.increasedBy[r.line],s))}return t},CG=function(t,r){return r&&r.shouldClipSubject?xG(r.pageMarginBox,t):qn(t)},ul=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,s=e.frame,o=wG(t.marginBox,s),i=SG(o,n,r),a=CG(i,s);return{page:t,withPlaceholder:r,active:a}},Db=function(e,t){e.frame||ce();var r=e.frame,n=ln(t,r.scroll.initial),s=Rl(n),o=xe({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}}),i=ul({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o}),a=xe({},e,{frame:o,subject:i});return a};function zh(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Tb(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function di(e,t){if(e.find)return e.find(t);var r=Tb(e,t);if(r!==-1)return e[r]}function oD(e){return Array.prototype.slice.call(e)}var iD=cr(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),aD=cr(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),jm=cr(function(e){return zh(e)}),_G=cr(function(e){return zh(e)}),Il=cr(function(e,t){var r=_G(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,s){return n.descriptor.index-s.descriptor.index});return r});function Ob(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Em(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var km=cr(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),jG=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.insideDestination,o=e.previousImpact;if(!n.isCombineEnabled)return null;var i=Ob(o);if(!i)return null;function a(v){var b={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return xe({},o,{at:b})}var c=o.displaced.all,d=c.length?c[0]:null;if(t)return d?a(d):null;var u=km(r,s);if(!d){if(!u.length)return null;var f=u[u.length-1];return a(f.descriptor.id)}var h=Tb(u,function(v){return v.descriptor.id===d});h===-1&&ce();var m=h-1;if(m<0)return null;var g=u[m];return a(g.descriptor.id)},$l=function(e,t){return e.descriptor.droppableId===t.descriptor.id},lD={point:ur,value:0},Cu={invisible:{},visible:{},all:[]},EG={displaced:Cu,displacedBy:lD,at:null},Mn=function(e,t){return function(r){return e<=r&&r<=t}},cD=function(e){var t=Mn(e.top,e.bottom),r=Mn(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(s)return!0;var o=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right),a=o&&i;if(a)return!0;var c=n.top<e.top&&n.bottom>e.bottom,d=n.left<e.left&&n.right>e.right,u=c&&d;if(u)return!0;var f=c&&i||d&&o;return f}},kG=function(e){var t=Mn(e.top,e.bottom),r=Mn(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return s}},Ab={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},uD={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},NG=function(e){return function(t){var r=Mn(t.top,t.bottom),n=Mn(t.left,t.right);return function(s){return e===Ab?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)}}},PG=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:ur;return bd(t,n)},MG=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},LG=function(t,r,n){return n(r)(t)},Rb=function(t){var r=t.target,n=t.destination,s=t.viewport,o=t.withDroppableDisplacement,i=t.isVisibleThroughFrameFn,a=o?PG(r,n):r;return MG(a,n,i)&&LG(a,s,i)},DG=function(t){return Rb(xe({},t,{isVisibleThroughFrameFn:cD}))},dD=function(t){return Rb(xe({},t,{isVisibleThroughFrameFn:kG}))},TG=function(t){return Rb(xe({},t,{isVisibleThroughFrameFn:NG(t.destination.axis)}))},OG=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var s=r.invisible,o=r.visible;if(s[t])return!1;var i=o[t];return i?i.shouldAnimate:!0};function AG(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return qn(Mb(r,n))}function _u(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,s=e.viewport,o=e.forceShouldAnimate,i=e.last;return t.reduce(function(c,d){var u=AG(d,n),f=d.descriptor.id;c.all.push(f);var h=DG({target:u,destination:r,viewport:s,withDroppableDisplacement:!0});if(!h)return c.invisible[d.descriptor.id]=!0,c;var m=OG(f,i,o),g={draggableId:f,shouldAnimate:m};return c.visible[f]=g,c},{all:[],visible:{},invisible:{}})}function RG(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function U_(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,s=e.destination,o=RG(t,{inHomeList:r});return{displaced:Cu,displacedBy:n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function Wh(e){var t=e.draggable,r=e.insideDestination,n=e.destination,s=e.viewport,o=e.displacedBy,i=e.last,a=e.index,c=e.forceShouldAnimate,d=$l(t,n);if(a==null)return U_({insideDestination:r,inHomeList:d,displacedBy:o,destination:n});var u=di(r,function(v){return v.descriptor.index===a});if(!u)return U_({insideDestination:r,inHomeList:d,displacedBy:o,destination:n});var f=km(t,r),h=r.indexOf(u),m=f.slice(h),g=_u({afterDragging:m,destination:n,displacedBy:o,last:i,viewport:s.frame,forceShouldAnimate:c});return{displaced:g,displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function Xo(e,t){return!!t.effected[e]}var IG=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,s=e.combine,o=e.afterCritical;if(!r.isCombineEnabled)return null;var i=s.draggableId,a=n[i],c=a.descriptor.index,d=Xo(i,o);return d?t?c:c-1:t?c+1:c},$G=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,s=e.location;if(!n.length)return null;var o=s.index,i=t?o+1:o-1,a=n[0].descriptor.index,c=n[n.length-1].descriptor.index,d=r?c:c+1;return i<a||i>d?null:i},FG=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,s=e.draggables,o=e.destination,i=e.insideDestination,a=e.previousImpact,c=e.viewport,d=e.afterCritical,u=a.at;if(u||ce(),u.type==="REORDER"){var f=$G({isMovingForward:t,isInHomeList:r,location:u.destination,insideDestination:i});return f==null?null:Wh({draggable:n,insideDestination:i,destination:o,viewport:c,last:a.displaced,displacedBy:a.displacedBy,index:f})}var h=IG({isMovingForward:t,destination:o,displaced:a.displaced,draggables:s,combine:u.combine,afterCritical:d});return h==null?null:Wh({draggable:n,insideDestination:i,destination:o,viewport:c,last:a.displaced,displacedBy:a.displacedBy,index:h})},BG=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,s=e.displacedBy,o=!!(t.visible[n]||t.invisible[n]);return Xo(n,r)?o?ur:Rl(s.point):o?s.point:ur},UG=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,s=Em(r);s||ce();var o=s.draggableId,i=n[o].page.borderBox.center,a=BG({displaced:r.displaced,afterCritical:t,combineWith:o,displacedBy:r.displacedBy});return vr(i,a)},fD=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},zG=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Ib=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},z_=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return Wi(r.line,n.marginBox[r.end]+fD(r,s),Ib(r,n.marginBox,s))},W_=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return Wi(r.line,n.marginBox[r.start]-zG(r,s),Ib(r,n.marginBox,s))},WG=function(t){var r=t.axis,n=t.moveInto,s=t.isMoving;return Wi(r.line,n.contentBox[r.start]+fD(r,s),Ib(r,n.contentBox,s))},VG=function(e){var t=e.impact,r=e.draggable,n=e.draggables,s=e.droppable,o=e.afterCritical,i=Il(s.descriptor.id,n),a=r.page,c=s.axis;if(!i.length)return WG({axis:c,moveInto:s.page,isMoving:a});var d=t.displaced,u=t.displacedBy,f=d.all[0];if(f){var h=n[f];if(Xo(f,o))return W_({axis:c,moveRelativeTo:h.page,isMoving:a});var m=$h(h.page,u.point);return W_({axis:c,moveRelativeTo:m,isMoving:a})}var g=i[i.length-1];if(g.descriptor.id===r.descriptor.id)return a.borderBox.center;if(Xo(g.descriptor.id,o)){var v=$h(g.page,Rl(o.displacedBy.point));return z_({axis:c,moveRelativeTo:v,isMoving:a})}return z_({axis:c,moveRelativeTo:g.page,isMoving:a})},fx=function(e,t){var r=e.frame;return r?vr(t,r.scroll.diff.displacement):t},HG=function(t){var r=t.impact,n=t.draggable,s=t.droppable,o=t.draggables,i=t.afterCritical,a=n.page.borderBox.center,c=r.at;return!s||!c?a:c.type==="REORDER"?VG({impact:r,draggable:n,draggables:o,droppable:s,afterCritical:i}):UG({impact:r,draggables:o,afterCritical:i})},Nm=function(e){var t=HG(e),r=e.droppable,n=r?fx(r,t):t;return n},hD=function(e,t){var r=ln(t,e.scroll.initial),n=Rl(r),s=qn({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),o={frame:s,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return o};function V_(e,t){return e.map(function(r){return t[r]})}function GG(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var qG=function(e){var t=e.impact,r=e.viewport,n=e.destination,s=e.draggables,o=e.maxScrollChange,i=hD(r,vr(r.scroll.current,o)),a=n.frame?Db(n,vr(n.frame.scroll.current,o)):n,c=t.displaced,d=_u({afterDragging:V_(c.all,s),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:c,forceShouldAnimate:!1}),u=_u({afterDragging:V_(c.all,s),destination:a,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),f={},h={},m=[c,d,u];c.all.forEach(function(v){var b=GG(v,m);if(b){h[v]=b;return}f[v]=!0});var g=xe({},t,{displaced:{all:c.all,invisible:f,visible:h}});return g},YG=function(e,t){return vr(e.scroll.diff.displacement,t)},$b=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,s=YG(n,t),o=ln(s,r.page.borderBox.center);return vr(r.client.borderBox.center,o)},pD=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,s=e.viewport,o=e.withDroppableDisplacement,i=e.onlyOnMainAxis,a=i===void 0?!1:i,c=ln(n,t.page.borderBox.center),d=bd(t.page.borderBox,c),u={target:d,destination:r,withDroppableDisplacement:o,viewport:s};return a?TG(u):dD(u)},KG=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.draggables,o=e.previousImpact,i=e.viewport,a=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!n.isEnabled)return null;var u=Il(n.descriptor.id,s),f=$l(r,n),h=jG({isMovingForward:t,draggable:r,destination:n,insideDestination:u,previousImpact:o})||FG({isMovingForward:t,isInHomeList:f,draggable:r,draggables:s,destination:n,insideDestination:u,previousImpact:o,viewport:i,afterCritical:d});if(!h)return null;var m=Nm({impact:h,draggable:r,droppable:n,draggables:s,afterCritical:d}),g=pD({draggable:r,destination:n,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var v=$b({pageBorderBoxCenter:m,draggable:r,viewport:i});return{clientSelection:v,impact:h,scrollJumpRequest:null}}var b=ln(m,a),y=qG({impact:h,viewport:i,destination:n,draggables:s,maxScrollChange:b});return{clientSelection:c,impact:y,scrollJumpRequest:b}},Pr=function(t){var r=t.subject.active;return r||ce(),r},ZG=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,s=e.droppables,o=e.viewport,i=n.subject.active;if(!i)return null;var a=n.axis,c=Mn(i[a.start],i[a.end]),d=jm(s).filter(function(f){return f!==n}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return cD(o.frame)(Pr(f))}).filter(function(f){var h=Pr(f);return t?i[a.crossAxisEnd]<h[a.crossAxisEnd]:h[a.crossAxisStart]<i[a.crossAxisStart]}).filter(function(f){var h=Pr(f),m=Mn(h[a.start],h[a.end]);return c(h[a.start])||c(h[a.end])||m(i[a.start])||m(i[a.end])}).sort(function(f,h){var m=Pr(f)[a.crossAxisStart],g=Pr(h)[a.crossAxisStart];return t?m-g:g-m}).filter(function(f,h,m){return Pr(f)[a.crossAxisStart]===Pr(m[0])[a.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var u=d.filter(function(f){var h=Mn(Pr(f)[a.start],Pr(f)[a.end]);return h(r[a.line])});return u.length===1?u[0]:u.length>1?u.sort(function(f,h){return Pr(f)[a.start]-Pr(h)[a.start]})[0]:d.sort(function(f,h){var m=F_(r,B_(Pr(f))),g=F_(r,B_(Pr(h)));return m!==g?m-g:Pr(f)[a.start]-Pr(h)[a.start]})[0]},H_=function(t,r){var n=t.page.borderBox.center;return Xo(t.descriptor.id,r)?ln(n,r.displacedBy.point):n},XG=function(t,r){var n=t.page.borderBox;return Xo(t.descriptor.id,r)?bd(n,Rl(r.displacedBy.point)):n},QG=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,s=e.insideDestination,o=e.afterCritical,i=s.filter(function(a){return dD({target:XG(a,o),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(a,c){var d=Su(t,fx(n,H_(a,o))),u=Su(t,fx(n,H_(c,o)));return d<u?-1:u<d?1:a.descriptor.index-c.descriptor.index});return i[0]||null},wd=cr(function(t,r){var n=r[t.line];return{value:n,point:Wi(t.line,n)}}),JG=function(t,r,n){var s=t.axis;if(t.descriptor.mode==="virtual")return Wi(s.line,r[s.line]);var o=t.subject.page.contentBox[s.size],i=Il(t.descriptor.id,n),a=i.reduce(function(u,f){return u+f.client.marginBox[s.size]},0),c=a+r[s.line],d=c-o;return d<=0?null:Wi(s.line,d)},mD=function(t,r){return xe({},t,{scroll:xe({},t.scroll,{max:r})})},gD=function(t,r,n){var s=t.frame;$l(r,t)&&ce(),t.subject.withPlaceholder&&ce();var o=wd(t.axis,r.displaceBy).point,i=JG(t,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){var c=ul({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:t.frame});return xe({},t,{subject:c})}var d=i?vr(s.scroll.max,i):s.scroll.max,u=mD(s,d),f=ul({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:u});return xe({},t,{subject:f,frame:u})},eq=function(t){var r=t.subject.withPlaceholder;r||ce();var n=t.frame;if(!n){var s=ul({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return xe({},t,{subject:s})}var o=r.oldFrameMaxScroll;o||ce();var i=mD(n,o),a=ul({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return xe({},t,{subject:a,frame:i})},tq=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,s=e.draggable,o=e.draggables,i=e.destination,a=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var d={displaced:Cu,displacedBy:lD,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},u=Nm({impact:d,draggable:s,droppable:i,draggables:o,afterCritical:c}),f=$l(s,i)?i:gD(i,s,o),h=pD({draggable:s,destination:f,newPageBorderBoxCenter:u,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?d:null}var m=t[i.axis.line]<=r.page.borderBox.center[i.axis.line],g=function(){var b=r.descriptor.index;return r.descriptor.id===s.descriptor.id||m?b:b+1}(),v=wd(i.axis,s.displaceBy);return Wh({draggable:s,insideDestination:n,destination:i,viewport:a,displacedBy:v,last:Cu,index:g})},rq=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,s=e.isOver,o=e.draggables,i=e.droppables,a=e.viewport,c=e.afterCritical,d=ZG({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:i,viewport:a});if(!d)return null;var u=Il(d.descriptor.id,o),f=QG({pageBorderBoxCenter:r,viewport:a,destination:d,insideDestination:u,afterCritical:c}),h=tq({previousPageBorderBoxCenter:r,destination:d,draggable:n,draggables:o,moveRelativeTo:f,insideDestination:u,viewport:a,afterCritical:c});if(!h)return null;var m=Nm({impact:h,draggable:n,droppable:d,draggables:o,afterCritical:c}),g=$b({pageBorderBoxCenter:m,draggable:n,viewport:a});return{clientSelection:g,impact:h,scrollJumpRequest:null}},dn=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},nq=function(t,r){var n=dn(t);return n?r[n]:null},sq=function(e){var t=e.state,r=e.type,n=nq(t.impact,t.dimensions.droppables),s=!!n,o=t.dimensions.droppables[t.critical.droppable.id],i=n||o,a=i.axis.direction,c=a==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||a==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!s)return null;var d=r==="MOVE_DOWN"||r==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,h=t.dimensions,m=h.draggables,g=h.droppables;return c?KG({isMovingForward:d,previousPageBorderBoxCenter:f,draggable:u,destination:i,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):rq({isMovingForward:d,previousPageBorderBoxCenter:f,draggable:u,isOver:i,draggables:m,droppables:g,viewport:t.viewport,afterCritical:t.afterCritical})};function Si(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function vD(e){var t=Mn(e.top,e.bottom),r=Mn(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function oq(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function iq(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,s=r.page.borderBox.center,o=n.map(function(i){var a=i.axis,c=Wi(i.axis.line,t.center[a.line],i.page.borderBox.center[a.crossAxisLine]);return{id:i.descriptor.id,distance:Su(s,c)}}).sort(function(i,a){return a.distance-i.distance});return o[0]?o[0].id:null}function aq(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,s=jm(n).filter(function(o){if(!o.isEnabled)return!1;var i=o.subject.active;if(!i||!oq(t,i))return!1;if(vD(i)(t.center))return!0;var a=o.axis,c=i.center[a.crossAxisLine],d=t[a.crossAxisStart],u=t[a.crossAxisEnd],f=Mn(i[a.crossAxisStart],i[a.crossAxisEnd]),h=f(d),m=f(u);return!h&&!m?!0:h?d<c:u>c});return s.length?s.length===1?s[0].descriptor.id:iq({pageBorderBox:t,draggable:r,candidates:s}):null}var yD=function(t,r){return qn(bd(t,r))},lq=function(e,t){var r=e.frame;return r?yD(t,r.scroll.diff.value):t};function xD(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function cq(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var uq=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,s=e.insideDestination,o=e.last,i=e.viewport,a=e.afterCritical,c=n.axis,d=wd(n.axis,r.displaceBy),u=d.value,f=t[c.start],h=t[c.end],m=km(r,s),g=di(m,function(b){var y=b.descriptor.id,x=b.page.borderBox.center[c.line],w=Xo(y,a),S=xD({displaced:o,id:y});return w?S?h<=x:f<x-u:S?h<=x+u:f<x}),v=cq({draggable:r,closest:g,inHomeList:$l(r,n)});return Wh({draggable:r,insideDestination:s,destination:n,viewport:i,last:o,displacedBy:d,index:v})},dq=4,fq=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,s=e.destination,o=e.insideDestination,i=e.afterCritical;if(!s.isCombineEnabled)return null;var a=s.axis,c=wd(s.axis,t.displaceBy),d=c.value,u=r[a.start],f=r[a.end],h=km(t,o),m=di(h,function(v){var b=v.descriptor.id,y=v.page.borderBox,x=y[a.size],w=x/dq,S=Xo(b,i),j=xD({displaced:n.displaced,id:b});return S?j?f>y[a.start]+w&&f<y[a.end]-w:u>y[a.start]-d+w&&u<y[a.end]-d-w:j?f>y[a.start]+d+w&&f<y[a.end]+d-w:u>y[a.start]+w&&u<y[a.end]-w});if(!m)return null;var g={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:s.descriptor.id}}};return g},bD=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,s=e.droppables,o=e.previousImpact,i=e.viewport,a=e.afterCritical,c=yD(r.page.borderBox,t),d=aq({pageBorderBox:c,draggable:r,droppables:s});if(!d)return EG;var u=s[d],f=Il(u.descriptor.id,n),h=lq(u,c);return fq({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:o,destination:u,insideDestination:f,afterCritical:a})||uq({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:u,insideDestination:f,last:o.displaced,viewport:i,afterCritical:a})},Fb=function(e,t){var r;return xe({},e,(r={},r[t.descriptor.id]=t,r))},hq=function(t){var r=t.previousImpact,n=t.impact,s=t.droppables,o=dn(r),i=dn(n);if(!o||o===i)return s;var a=s[o];if(!a.subject.withPlaceholder)return s;var c=eq(a);return Fb(s,c)},pq=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,s=e.previousImpact,o=e.impact,i=hq({previousImpact:s,impact:o,droppables:n}),a=dn(o);if(!a)return i;var c=n[a];if($l(t,c)||c.subject.withPlaceholder)return i;var d=gD(c,t,r);return Fb(i,d)},Fc=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,s=e.viewport,o=e.impact,i=e.scrollJumpRequest,a=s||t.viewport,c=n||t.dimensions,d=r||t.current.client.selection,u=ln(d,t.initial.client.selection),f={offset:u,selection:d,borderBoxCenter:vr(t.initial.client.borderBoxCenter,u)},h={selection:vr(f.selection,a.scroll.current),borderBoxCenter:vr(f.borderBoxCenter,a.scroll.current),offset:vr(f.offset,a.scroll.diff.value)},m={client:f,page:h};if(t.phase==="COLLECTING")return xe({phase:"COLLECTING"},t,{dimensions:c,viewport:a,current:m});var g=c.draggables[t.critical.draggable.id],v=o||bD({pageOffset:h.offset,draggable:g,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:a,afterCritical:t.afterCritical}),b=pq({draggable:g,impact:v,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),y=xe({},t,{current:m,dimensions:{draggables:c.draggables,droppables:b},impact:v,viewport:a,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null});return y};function mq(e,t){return e.map(function(r){return t[r]})}var wD=function(e){var t=e.impact,r=e.viewport,n=e.draggables,s=e.destination,o=e.forceShouldAnimate,i=t.displaced,a=mq(i.all,n),c=_u({afterDragging:a,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:o,last:i});return xe({},t,{displaced:c})},SD=function(e){var t=e.impact,r=e.draggable,n=e.droppable,s=e.draggables,o=e.viewport,i=e.afterCritical,a=Nm({impact:t,draggable:r,draggables:s,droppable:n,afterCritical:i});return $b({pageBorderBoxCenter:a,draggable:r,viewport:o})},CD=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&ce();var s=t.impact,o=n||t.viewport,i=r||t.dimensions,a=i.draggables,c=i.droppables,d=a[t.critical.draggable.id],u=dn(s);u||ce();var f=c[u],h=wD({impact:s,viewport:o,destination:f,draggables:a}),m=SD({impact:h,draggable:d,droppable:f,draggables:a,viewport:o,afterCritical:t.afterCritical});return Fc({impact:h,clientSelection:m,state:t,dimensions:i,viewport:o})},gq=function(e){return{index:e.index,droppableId:e.droppableId}},_D=function(e){var t=e.draggable,r=e.home,n=e.draggables,s=e.viewport,o=wd(r.axis,t.displaceBy),i=Il(r.descriptor.id,n),a=i.indexOf(t);a===-1&&ce();var c=i.slice(a+1),d=c.reduce(function(m,g){return m[g.descriptor.id]=!0,m},{}),u={inVirtualList:r.descriptor.mode==="virtual",displacedBy:o,effected:d},f=_u({afterDragging:c,destination:r,displacedBy:o,last:null,viewport:s.frame,forceShouldAnimate:!1}),h={displaced:f,displacedBy:o,at:{type:"REORDER",destination:gq(t.descriptor)}};return{impact:h,afterCritical:u}},vq=function(e,t){return{draggables:e.draggables,droppables:Fb(e.droppables,t)}},yq=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,s=$h(t.client,r),o=Fh(s,n),i=xe({},t,{placeholder:xe({},t.placeholder,{client:s}),client:s,page:o});return i},xq=function(e){var t=e.frame;return t||ce(),t},bq=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,s=n.scroll.diff.value;return t.map(function(o){var i=o.descriptor.droppableId,a=r[i],c=xq(a),d=c.scroll.diff.value,u=vr(s,d),f=yq({draggable:o,offset:u,initialWindowScroll:n.scroll.initial});return f})},wq=function(e){var t=e.state,r=e.published,n=r.modified.map(function(w){var S=t.dimensions.droppables[w.droppableId],j=Db(S,w.scroll);return j}),s=xe({},t.dimensions.droppables,{},iD(n)),o=aD(bq({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),i=xe({},t.dimensions.draggables,{},o);r.removals.forEach(function(w){delete i[w]});var a={droppables:s,draggables:i},c=dn(t.impact),d=c?a.droppables[c]:null,u=a.draggables[t.critical.draggable.id],f=a.droppables[t.critical.droppable.id],h=_D({draggable:u,home:f,draggables:i,viewport:t.viewport}),m=h.impact,g=h.afterCritical,v=d&&d.isCombineEnabled?t.impact:m,b=bD({pageOffset:t.current.page.offset,draggable:a.draggables[t.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:v,viewport:t.viewport,afterCritical:g}),y=xe({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:m,dimensions:a,afterCritical:g,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return y;var x=xe({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return x},hx=function(t){return t.movementMode==="SNAP"},sv=function(t,r,n){var s=vq(t.dimensions,r);return!hx(t)||n?Fc({state:t,dimensions:s}):CD({state:t,dimensions:s})};function ov(e){return e.isDragging&&e.movementMode==="SNAP"?xe({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var G_={phase:"IDLE",completed:null,shouldFlush:!1},Sq=function(e,t){if(e===void 0&&(e=G_),t.type==="FLUSH")return xe({},G_,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&ce();var r=t.payload,n=r.critical,s=r.clientSelection,o=r.viewport,i=r.dimensions,a=r.movementMode,c=i.draggables[n.draggable.id],d=i.droppables[n.droppable.id],u={selection:s,borderBoxCenter:c.client.borderBox.center,offset:ur},f={client:u,page:{selection:vr(u.selection,o.scroll.initial),borderBoxCenter:vr(u.selection,o.scroll.initial),offset:vr(u.selection,o.scroll.diff.value)}},h=jm(i.droppables).every(function(G){return!G.isFixedOnPage}),m=_D({draggable:c,home:d,draggables:i.draggables,viewport:o}),g=m.impact,v=m.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:i,initial:f,current:f,isWindowScrollAllowed:h,impact:g,afterCritical:v,onLiftImpact:g,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ce();var y=xe({phase:"COLLECTING"},e,{phase:"COLLECTING"});return y}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||ce(),wq({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Si(e)||ce();var x=t.payload.client;return Uo(x,e.current.client.selection)?e:Fc({state:e,clientSelection:x,impact:hx(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return ov(e);Si(e)||ce();var w=t.payload,S=w.id,j=w.newScroll,C=e.dimensions.droppables[S];if(!C)return e;var M=Db(C,j);return sv(e,M,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Si(e)||ce();var k=t.payload,E=k.id,_=k.isEnabled,P=e.dimensions.droppables[E];P||ce(),P.isEnabled===_&&ce();var D=xe({},P,{isEnabled:_});return sv(e,D,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Si(e)||ce();var L=t.payload,A=L.id,$=L.isCombineEnabled,T=e.dimensions.droppables[A];T||ce(),T.isCombineEnabled===$&&ce();var N=xe({},T,{isCombineEnabled:$});return sv(e,N,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Si(e)||ce(),e.isWindowScrollAllowed||ce();var O=t.payload.newScroll;if(Uo(e.viewport.scroll.current,O))return ov(e);var R=hD(e.viewport,O);return hx(e)?CD({state:e,viewport:R}):Fc({state:e,viewport:R})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Si(e))return e;var B=t.payload.maxScroll;if(Uo(B,e.viewport.scroll.max))return e;var V=xe({},e.viewport,{scroll:xe({},e.viewport.scroll,{max:B})});return xe({phase:"DRAGGING"},e,{viewport:V})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ce();var F=sq({state:e,type:t.type});return F?Fc({state:e,impact:F.impact,clientSelection:F.clientSelection,scrollJumpRequest:F.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var z=t.payload.reason;e.phase!=="COLLECTING"&&ce();var W=xe({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:z});return W}if(t.type==="DROP_ANIMATE"){var I=t.payload,q=I.completed,X=I.dropDuration,Q=I.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||ce();var ne={phase:"DROP_ANIMATING",completed:q,dropDuration:X,newHomeClientOffset:Q,dimensions:e.dimensions};return ne}if(t.type==="DROP_COMPLETE"){var J=t.payload.completed;return{phase:"IDLE",completed:J,shouldFlush:!1}}return e},Cq=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},_q=function(t){return{type:"LIFT",payload:t}},jq=function(t){return{type:"INITIAL_PUBLISH",payload:t}},Eq=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},kq=function(){return{type:"COLLECTION_STARTING",payload:null}},Nq=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},Pq=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Mq=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},jD=function(t){return{type:"MOVE",payload:t}},Lq=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},Dq=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Tq=function(){return{type:"MOVE_UP",payload:null}},Oq=function(){return{type:"MOVE_DOWN",payload:null}},Aq=function(){return{type:"MOVE_RIGHT",payload:null}},Rq=function(){return{type:"MOVE_LEFT",payload:null}},Bb=function(){return{type:"FLUSH",payload:null}},Iq=function(t){return{type:"DROP_ANIMATE",payload:t}},Ub=function(t){return{type:"DROP_COMPLETE",payload:t}},ED=function(t){return{type:"DROP",payload:t}},$q=function(t){return{type:"DROP_PENDING",payload:t}},kD=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Fq=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(s){return function(o){if(o.type!=="LIFT"){s(o);return}var i=o.payload,a=i.id,c=i.clientSelection,d=i.movementMode,u=r();u.phase==="DROP_ANIMATING"&&n(Ub({completed:u.completed})),r().phase!=="IDLE"&&ce(),n(Bb()),n(Cq({draggableId:a,movementMode:d}));var f={shouldPublishImmediately:d==="SNAP"},h={draggableId:a,scrollOptions:f},m=e.startPublishing(h),g=m.critical,v=m.dimensions,b=m.viewport;n(jq({critical:g,dimensions:v,clientSelection:c,movementMode:d,viewport:b}))}}}},Bq=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},zb={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ju={opacity:{drop:0,combining:.7},scale:{drop:.75}},Wb={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},vi=Wb.outOfTheWay+"s "+zb.outOfTheWay,Bc={fluid:"opacity "+vi,snap:"transform "+vi+", opacity "+vi,drop:function(t){var r=t+"s "+zb.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+vi,placeholder:"height "+vi+", width "+vi+", margin "+vi},q_=function(t){return Uo(t,ur)?null:"translate("+t.x+"px, "+t.y+"px)"},px={moveTo:q_,drop:function(t,r){var n=q_(t);return n?r?n+" scale("+ju.scale.drop+")":n:null}},mx=Wb.minDropTime,ND=Wb.maxDropTime,Uq=ND-mx,Y_=1500,zq=.6,Wq=function(e){var t=e.current,r=e.destination,n=e.reason,s=Su(t,r);if(s<=0)return mx;if(s>=Y_)return ND;var o=s/Y_,i=mx+Uq*o,a=n==="CANCEL"?i*zq:i;return Number(a.toFixed(2))},Vq=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,s=e.viewport,o=e.afterCritical,i=n.draggables,a=n.droppables,c=dn(t),d=c?a[c]:null,u=a[r.descriptor.droppableId],f=SD({impact:t,draggable:r,draggables:i,afterCritical:o,droppable:d||u,viewport:s}),h=ln(f,r.client.borderBox.center);return h},Hq=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,s=e.home,o=e.viewport,i=e.onLiftImpact;if(!n.at||r!=="DROP"){var a=wD({draggables:t,impact:i,destination:s,viewport:o,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=xe({},n,{displaced:Cu});return{impact:c,didDropInsideDroppable:!0}},Gq=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(s){if(s.type!=="DROP"){n(s);return}var o=t(),i=s.payload.reason;if(o.phase==="COLLECTING"){r($q({reason:i}));return}if(o.phase!=="IDLE"){var a=o.phase==="DROP_PENDING"&&o.isWaiting;a&&ce(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||ce();var c=o.critical,d=o.dimensions,u=d.draggables[o.critical.draggable.id],f=Hq({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),h=f.impact,m=f.didDropInsideDroppable,g=m?Ob(h):null,v=m?Em(h):null,b={index:c.draggable.index,droppableId:c.droppable.id},y={draggableId:u.descriptor.id,type:u.descriptor.type,source:b,reason:i,mode:o.movementMode,destination:g,combine:v},x=Vq({impact:h,draggable:u,dimensions:d,viewport:o.viewport,afterCritical:o.afterCritical}),w={critical:o.critical,afterCritical:o.afterCritical,result:y,impact:h},S=!Uo(o.current.client.offset,x)||!!y.combine;if(!S){r(Ub({completed:w}));return}var j=Wq({current:o.current.client.offset,destination:x,reason:i}),C={newHomeClientOffset:x,dropDuration:j,completed:w};r(Iq(C))}}}},PD=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function qq(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function Yq(e){var t=e.onWindowScroll;function r(){t(PD())}var n=wu(r),s=qq(n),o=Bo;function i(){return o!==Bo}function a(){i()&&ce(),o=kn(window,[s])}function c(){i()||ce(),n.cancel(),o(),o=Bo}return{start:a,stop:c,isActive:i}}var Kq=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Zq=function(e){var t=Yq({onWindowScroll:function(n){e.dispatch(Lq({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&Kq(n)&&t.stop(),r(n)}}},Xq=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),s=function(i){t||r||(t=!0,e(i),clearTimeout(n))};return s.wasCalled=function(){return t},s},Qq=function(){var e=[],t=function(o){var i=Tb(e,function(d){return d.timerId===o});i===-1&&ce();var a=e.splice(i,1),c=a[0];c.callback()},r=function(o){var i=setTimeout(function(){return t(i)}),a={timerId:i,callback:o};e.push(a)},n=function(){if(e.length){var o=[].concat(e);e.length=0,o.forEach(function(i){clearTimeout(i.timerId),i.callback()})}};return{add:r,flush:n}},Jq=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},eY=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},tY=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&s},ac=function(t,r){r()},uf=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},iv=function(t,r,n,s){if(!t){n(s(r));return}var o=Xq(n),i={announce:o};t(r,i),o.wasCalled()||n(s(r))},rY=function(e,t){var r=Qq(),n=null,s=function(h,m){n&&ce(),ac("onBeforeCapture",function(){var g=e().onBeforeCapture;if(g){var v={draggableId:h,mode:m};g(v)}})},o=function(h,m){n&&ce(),ac("onBeforeDragStart",function(){var g=e().onBeforeDragStart;g&&g(uf(h,m))})},i=function(h,m){n&&ce();var g=uf(h,m);n={mode:m,lastCritical:h,lastLocation:g.source,lastCombine:null},r.add(function(){ac("onDragStart",function(){return iv(e().onDragStart,g,t,Af.onDragStart)})})},a=function(h,m){var g=Ob(m),v=Em(m);n||ce();var b=!tY(h,n.lastCritical);b&&(n.lastCritical=h);var y=!Jq(n.lastLocation,g);y&&(n.lastLocation=g);var x=!eY(n.lastCombine,v);if(x&&(n.lastCombine=v),!(!b&&!y&&!x)){var w=xe({},uf(h,n.mode),{combine:v,destination:g});r.add(function(){ac("onDragUpdate",function(){return iv(e().onDragUpdate,w,t,Af.onDragUpdate)})})}},c=function(){n||ce(),r.flush()},d=function(h){n||ce(),n=null,ac("onDragEnd",function(){return iv(e().onDragEnd,h,t,Af.onDragEnd)})},u=function(){if(n){var h=xe({},uf(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});d(h)}};return{beforeCapture:s,beforeStart:o,start:i,update:a,flush:c,drop:d,abort:u}},nY=function(e,t){var r=rY(e,t);return function(n){return function(s){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var i=o.payload.critical;r.beforeStart(i,o.payload.movementMode),s(o),r.start(i,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var a=o.payload.completed.result;r.flush(),s(o),r.drop(a);return}if(s(o),o.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},sY=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&ce(),e.dispatch(Ub({completed:n.completed}))}}},oY=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(s){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&n(),s(o),o.type==="DROP_ANIMATE"){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(kD())}};r=requestAnimationFrame(function(){r=null,t=kn(window,[i])})}}}},iY=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},aY=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},lY=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},cY=function(e){return function(t){return function(r){return function(n){if(lY(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var s=t.getState();s.phase!=="DRAGGING"&&ce(),e.start(s);return}r(n),e.scroll(t.getState())}}}},uY=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(ED({reason:n.reason})))}}}},dY=AL,fY=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,s=e.getResponders,o=e.announce,i=e.autoScroller;return OL(Sq,dY(QV(Bq(n),iY(t),Fq(t),Gq,sY,oY,uY,cY(i),Zq,aY(r),nY(s,o))))},av=function(){return{additions:{},removals:{},modified:{}}};function hY(e){var t=e.registry,r=e.callbacks,n=av(),s=null,o=function(){s||(r.collectionStarting(),s=requestAnimationFrame(function(){s=null;var u=n,f=u.additions,h=u.removals,m=u.modified,g=Object.keys(f).map(function(y){return t.draggable.getById(y).getDimension(ur)}).sort(function(y,x){return y.descriptor.index-x.descriptor.index}),v=Object.keys(m).map(function(y){var x=t.droppable.getById(y),w=x.callbacks.getScrollWhileDragging();return{droppableId:y,scroll:w}}),b={additions:g,removals:Object.keys(h),modified:v};n=av(),r.publish(b)}))},i=function(u){var f=u.descriptor.id;n.additions[f]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],o()},a=function(u){var f=u.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],o()},c=function(){s&&(cancelAnimationFrame(s),s=null,n=av())};return{add:i,remove:a,stop:c}}var MD=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,s=e.width,o=ln({x:r,y:t},{x:s,y:n}),i={x:Math.max(0,o.x),y:Math.max(0,o.y)};return i},LD=function(){var e=document.documentElement;return e||ce(),e},DD=function(){var e=LD(),t=MD({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},pY=function(){var e=PD(),t=DD(),r=e.y,n=e.x,s=LD(),o=s.clientWidth,i=s.clientHeight,a=n+o,c=r+i,d=qn({top:r,left:n,right:a,bottom:c}),u={frame:d,scroll:{initial:e,current:e,max:t,diff:{value:ur,displacement:ur}}};return u},mY=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,s=pY(),o=s.scroll.current,i=t.droppable,a=n.droppable.getAllByType(i.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(o,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(o)}),d={draggables:aD(c),droppables:iD(a)},u={dimensions:d,critical:t,viewport:s};return u};function K_(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var gY=function(e,t){var r=null,n=hY({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=function(m,g){e.droppable.exists(m)||ce(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:g})},o=function(m,g){r&&(e.droppable.exists(m)||ce(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:g}))},i=function(m,g){r&&(e.droppable.exists(m)||ce(),t.updateDroppableScroll({id:m,newScroll:g}))},a=function(m,g){r&&e.droppable.getById(m).callbacks.scroll(g)},c=function(){if(r){n.stop();var m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(g){return g.callbacks.dragStopped()}),r.unsubscribe(),r=null}},d=function(m){r||ce();var g=r.critical.draggable;m.type==="ADDITION"&&K_(e,g,m.value)&&n.add(m.value),m.type==="REMOVAL"&&K_(e,g,m.value)&&n.remove(m.value)},u=function(m){r&&ce();var g=e.draggable.getById(m.draggableId),v=e.droppable.getById(g.descriptor.droppableId),b={draggable:g.descriptor,droppable:v.descriptor},y=e.subscribe(d);return r={critical:b,unsubscribe:y},mY({critical:b,registry:e,scrollOptions:m.scrollOptions})},f={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:i,startPublishing:u,stopPublishing:c};return f},TD=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},vY=function(e){window.scrollBy(e.x,e.y)},yY=cr(function(e){return jm(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),xY=function(t,r){var n=di(yY(r),function(s){return s.frame||ce(),vD(s.frame.pageMarginBox)(t)});return n},bY=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var s=n[r];return s.frame?s:null}var o=xY(t,n);return o},zo={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},wY=function(e,t){var r=e[t.size]*zo.startFromPercentage,n=e[t.size]*zo.maxScrollAtPercentage,s={startScrollingFrom:r,maxScrollValueAt:n};return s},OD=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,s=r-t;if(s===0)return 0;var o=n-t,i=o/s;return i},Vb=1,SY=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return zo.maxPixelScroll;if(e===t.startScrollingFrom)return Vb;var r=OD({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,s=zo.maxPixelScroll*zo.ease(n);return Math.ceil(s)},Z_=zo.durationDampening.accelerateAt,X_=zo.durationDampening.stopDampeningAt,CY=function(e,t){var r=t,n=X_,s=Date.now(),o=s-r;if(o>=X_)return e;if(o<Z_)return Vb;var i=OD({startOfRange:Z_,endOfRange:n,current:o}),a=e*zo.ease(i);return Math.ceil(a)},Q_=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,s=e.shouldUseTimeDampening,o=SY(t,r);return o===0?0:s?Math.max(CY(o,n),Vb):o},J_=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,s=e.axis,o=e.shouldUseTimeDampening,i=wY(t,s),a=r[s.end]<r[s.start];return a?Q_({distanceToEdge:r[s.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o}):-1*Q_({distanceToEdge:r[s.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o})},_Y=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,s=r.height>t.height,o=r.width>t.width;return!o&&!s?n:o&&s?null:{x:o?0:n.x,y:s?0:n.y}},jY=sD(function(e){return e===0?0:e}),AD=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,s=e.center,o=e.shouldUseTimeDampening,i={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},a=J_({container:r,distanceToEdges:i,dragStartTime:t,axis:Ab,shouldUseTimeDampening:o}),c=J_({container:r,distanceToEdges:i,dragStartTime:t,axis:uD,shouldUseTimeDampening:o}),d=jY({x:c,y:a});if(Uo(d,ur))return null;var u=_Y({container:r,subject:n,proposedScroll:d});return u?Uo(u,ur)?null:u:null},EY=sD(function(e){return e===0?0:e>0?1:-1}),Hb=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,s=t.change,o=vr(r,s),i={x:e(o.x,n.x),y:e(o.y,n.y)};return Uo(i,ur)?null:i}}(),RD=function(t){var r=t.max,n=t.current,s=t.change,o={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},i=EY(s),a=Hb({max:o,current:n,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},Gb=function(t,r){return RD({current:t.scroll.current,max:t.scroll.max,change:r})},kY=function(t,r){if(!Gb(t,r))return null;var n=t.scroll.max,s=t.scroll.current;return Hb({current:s,max:n,change:r})},qb=function(t,r){var n=t.frame;return n?RD({current:n.scroll.current,max:n.scroll.max,change:r}):!1},NY=function(t,r){var n=t.frame;return!n||!qb(t,r)?null:Hb({current:n.scroll.current,max:n.scroll.max,change:r})},PY=function(e){var t=e.viewport,r=e.subject,n=e.center,s=e.dragStartTime,o=e.shouldUseTimeDampening,i=AD({dragStartTime:s,container:t.frame,subject:r,center:n,shouldUseTimeDampening:o});return i&&Gb(t,i)?i:null},MY=function(e){var t=e.droppable,r=e.subject,n=e.center,s=e.dragStartTime,o=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var a=AD({dragStartTime:s,container:i.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:o});return a&&qb(t,a)?a:null},ej=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,s=e.scrollWindow,o=e.scrollDroppable,i=t.current.page.borderBoxCenter,a=t.dimensions.draggables[t.critical.draggable.id],c=a.page.marginBox;if(t.isWindowScrollAllowed){var d=t.viewport,u=PY({dragStartTime:r,viewport:d,subject:c,center:i,shouldUseTimeDampening:n});if(u){s(u);return}}var f=bY({center:i,destination:dn(t.impact),droppables:t.dimensions.droppables});if(f){var h=MY({dragStartTime:r,droppable:f,subject:c,center:i,shouldUseTimeDampening:n});h&&o(f.descriptor.id,h)}},LY=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=wu(t),s=wu(r),o=null,i=function(u){o||ce();var f=o,h=f.shouldUseTimeDampening,m=f.dragStartTime;ej({state:u,scrollWindow:n,scrollDroppable:s,dragStartTime:m,shouldUseTimeDampening:h})},a=function(u){o&&ce();var f=Date.now(),h=!1,m=function(){h=!0};ej({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),o={dragStartTime:f,shouldUseTimeDampening:h},h&&i(u)},c=function(){o&&(n.cancel(),s.cancel(),o=null)};return{start:a,stop:c,scroll:i}},DY=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,s=function(d,u){var f=vr(d.current.client.selection,u);t({client:f})},o=function(d,u){if(!qb(d,u))return u;var f=NY(d,u);if(!f)return r(d.descriptor.id,u),null;var h=ln(u,f);r(d.descriptor.id,h);var m=ln(u,h);return m},i=function(d,u,f){if(!d||!Gb(u,f))return f;var h=kY(u,f);if(!h)return n(f),null;var m=ln(f,h);n(m);var g=ln(f,m);return g},a=function(d){var u=d.scrollJumpRequest;if(u){var f=dn(d.impact);f||ce();var h=o(d.dimensions.droppables[f],u);if(h){var m=d.viewport,g=i(d.isWindowScrollAllowed,m,h);g&&s(d,g)}}};return a},TY=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,s=LY({scrollWindow:r,scrollDroppable:t}),o=DY({move:n,scrollWindow:r,scrollDroppable:t}),i=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){s.scroll(d);return}d.scrollJumpRequest&&o(d)}},a={scroll:i,start:s.start,stop:s.stop};return a},dl="data-rbd",fl=function(){var e=dl+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),gx=function(){var e=dl+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),OY=function(){var e=dl+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),tj={contextId:dl+"-scroll-container-context-id"},AY=function(t){return function(r){return"["+r+'="'+t+'"]'}},lc=function(t,r){return t.map(function(n){var s=n.styles[r];return s?n.selector+" { "+s+" }":""}).join(" ")},RY="pointer-events: none;",IY=function(e){var t=AY(e),r=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(fl.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:RY,dropAnimating:a}}}(),n=function(){var a=`
      transition: `+Bc.outOfTheWay+`;
    `;return{selector:t(gx.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),s={selector:t(OY.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},i=[n,r,s,o];return{always:lc(i,"always"),resting:lc(i,"resting"),dragging:lc(i,"dragging"),dropAnimating:lc(i,"dropAnimating"),userCancel:lc(i,"userCancel")}},fn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?p.useLayoutEffect:p.useEffect,lv=function(){var t=document.querySelector("head");return t||ce(),t},rj=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function $Y(e,t){var r=Qe(function(){return IY(e)},[e]),n=p.useRef(null),s=p.useRef(null),o=Ce(cr(function(f){var h=s.current;h||ce(),h.textContent=f}),[]),i=Ce(function(f){var h=n.current;h||ce(),h.textContent=f},[]);fn(function(){!n.current&&!s.current||ce();var f=rj(t),h=rj(t);return n.current=f,s.current=h,f.setAttribute(dl+"-always",e),h.setAttribute(dl+"-dynamic",e),lv().appendChild(f),lv().appendChild(h),i(r.always),o(r.resting),function(){var m=function(v){var b=v.current;b||ce(),lv().removeChild(b),v.current=null};m(n),m(s)}},[t,i,o,r.always,r.resting,e]);var a=Ce(function(){return o(r.dragging)},[o,r.dragging]),c=Ce(function(f){if(f==="DROP"){o(r.dropAnimating);return}o(r.userCancel)},[o,r.dropAnimating,r.userCancel]),d=Ce(function(){s.current&&o(r.resting)},[o,r.resting]),u=Qe(function(){return{dragging:a,dropping:c,resting:d}},[a,c,d]);return u}var ID=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Pm(e){return e instanceof ID(e).HTMLElement}function FY(e,t){var r="["+fl.contextId+'="'+e+'"]',n=oD(document.querySelectorAll(r));if(!n.length)return null;var s=di(n,function(o){return o.getAttribute(fl.draggableId)===t});return!s||!Pm(s)?null:s}function BY(e){var t=p.useRef({}),r=p.useRef(null),n=p.useRef(null),s=p.useRef(!1),o=Ce(function(h,m){var g={id:h,focus:m};return t.current[h]=g,function(){var b=t.current,y=b[h];y!==g&&delete b[h]}},[]),i=Ce(function(h){var m=FY(e,h);m&&m!==document.activeElement&&m.focus()},[e]),a=Ce(function(h,m){r.current===h&&(r.current=m)},[]),c=Ce(function(){n.current||s.current&&(n.current=requestAnimationFrame(function(){n.current=null;var h=r.current;h&&i(h)}))},[i]),d=Ce(function(h){r.current=null;var m=document.activeElement;m&&m.getAttribute(fl.draggableId)===h&&(r.current=h)},[]);fn(function(){return s.current=!0,function(){s.current=!1;var h=n.current;h&&cancelAnimationFrame(h)}},[]);var u=Qe(function(){return{register:o,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:a}},[o,d,c,a]);return u}function UY(){var e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){var m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function n(f){t.length&&t.forEach(function(h){return h(f)})}function s(f){return e.draggables[f]||null}function o(f){var h=s(f);return h||ce(),h}var i={register:function(h){e.draggables[h.descriptor.id]=h,n({type:"ADDITION",value:h})},update:function(h,m){var g=e.draggables[m.descriptor.id];g&&g.uniqueId===h.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:function(h){var m=h.descriptor.id,g=s(m);g&&h.uniqueId===g.uniqueId&&(delete e.draggables[m],n({type:"REMOVAL",value:h}))},getById:o,findById:s,exists:function(h){return!!s(h)},getAllByType:function(h){return zh(e.draggables).filter(function(m){return m.descriptor.type===h})}};function a(f){return e.droppables[f]||null}function c(f){var h=a(f);return h||ce(),h}var d={register:function(h){e.droppables[h.descriptor.id]=h},unregister:function(h){var m=a(h.descriptor.id);m&&h.uniqueId===m.uniqueId&&delete e.droppables[h.descriptor.id]},getById:c,findById:a,exists:function(h){return!!a(h)},getAllByType:function(h){return zh(e.droppables).filter(function(m){return m.descriptor.type===h})}};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:d,subscribe:r,clean:u}}function zY(){var e=Qe(UY,[]);return p.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Yb=Z.createContext(null),Vh=function(){var e=document.body;return e||ce(),e},WY={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},VY=function(t){return"rbd-announcement-"+t};function HY(e){var t=Qe(function(){return VY(e)},[e]),r=p.useRef(null);p.useEffect(function(){var o=document.createElement("div");return r.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),xe(o.style,WY),Vh().appendChild(o),function(){setTimeout(function(){var c=Vh();c.contains(o)&&c.removeChild(o),o===r.current&&(r.current=null)})}},[t]);var n=Ce(function(s){var o=r.current;if(o){o.textContent=s;return}},[]);return n}var GY=0,qY={separator:"::"};function Kb(e,t){return t===void 0&&(t=qY),Qe(function(){return""+e+t.separator+GY++},[t.separator,e])}function YY(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function KY(e){var t=e.contextId,r=e.text,n=Kb("hidden-text",{separator:"-"}),s=Qe(function(){return YY({contextId:t,uniqueId:n})},[n,t]);return p.useEffect(function(){var i=document.createElement("div");return i.id=s,i.textContent=r,i.style.display="none",Vh().appendChild(i),function(){var c=Vh();c.contains(i)&&c.removeChild(i)}},[s,r]),s}var Mm=Z.createContext(null);function $D(e){var t=p.useRef(e);return p.useEffect(function(){t.current=e}),t}function ZY(){var e=null;function t(){return!!e}function r(i){return i===e}function n(i){e&&ce();var a={abandon:i};return e=a,a}function s(){e||ce(),e=null}function o(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:o}}var XY=9,QY=13,Zb=27,FD=32,JY=33,eK=34,tK=35,rK=36,nK=37,sK=38,oK=39,iK=40,df,aK=(df={},df[QY]=!0,df[XY]=!0,df),BD=function(e){aK[e.keyCode]&&e.preventDefault()},Lm=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=di(t,function(n){return"on"+n in document});return r||e}(),UD=0,nj=5;function lK(e,t){return Math.abs(t.x-e.x)>=nj||Math.abs(t.y-e.y)>=nj}var sj={type:"IDLE"};function cK(e){var t=e.cancel,r=e.completed,n=e.getPhase,s=e.setPhase;return[{eventName:"mousemove",fn:function(i){var a=i.button,c=i.clientX,d=i.clientY;if(a===UD){var u={x:c,y:d},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(u);return}f.type!=="PENDING"&&ce();var h=f.point;if(lK(h,u)){i.preventDefault();var m=f.actions.fluidLift(u);s({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(i){var a=n();if(a.type!=="DRAGGING"){t();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(i){n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:function(i){var a=n();if(a.type==="PENDING"){t();return}if(i.keyCode===Zb){i.preventDefault(),t();return}BD(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(i){var a=n();if(a.type==="IDLE"&&ce(),a.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:Lm,fn:t}]}function uK(e){var t=p.useRef(sj),r=p.useRef(Bo),n=Qe(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===UD&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var h=e.findClosestDraggableId(f);if(h){var m=e.tryGetLock(h,i,{sourceEvent:f});if(m){f.preventDefault();var g={x:f.clientX,y:f.clientY};r.current(),d(m,g)}}}}}},[e]),s=Qe(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var h=e.findClosestDraggableId(f);if(h){var m=e.findOptionsForDraggable(h);m&&(m.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}}}},[e]),o=Ce(function(){var f={passive:!1,capture:!0};r.current=kn(window,[s,n],f)},[s,n]),i=Ce(function(){var u=t.current;u.type!=="IDLE"&&(t.current=sj,r.current(),o())},[o]),a=Ce(function(){var u=t.current;i(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[i]),c=Ce(function(){var f={capture:!0,passive:!1},h=cK({cancel:a,completed:i,getPhase:function(){return t.current},setPhase:function(g){t.current=g}});r.current=kn(window,h,f)},[a,i]),d=Ce(function(f,h){t.current.type!=="IDLE"&&ce(),t.current={type:"PENDING",point:h,actions:f},c()},[c]);fn(function(){return o(),function(){r.current()}},[o])}var pa;function dK(){}var fK=(pa={},pa[eK]=!0,pa[JY]=!0,pa[rK]=!0,pa[tK]=!0,pa);function hK(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===Zb){o.preventDefault(),r();return}if(o.keyCode===FD){o.preventDefault(),n();return}if(o.keyCode===iK){o.preventDefault(),e.moveDown();return}if(o.keyCode===sK){o.preventDefault(),e.moveUp();return}if(o.keyCode===oK){o.preventDefault(),e.moveRight();return}if(o.keyCode===nK){o.preventDefault(),e.moveLeft();return}if(fK[o.keyCode]){o.preventDefault();return}BD(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Lm,fn:r}]}function pK(e){var t=p.useRef(dK),r=Qe(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==FD)return;var i=e.findClosestDraggableId(o);if(!i)return;var a=e.tryGetLock(i,u,{sourceEvent:o});if(!a)return;o.preventDefault();var c=!0,d=a.snapLift();t.current();function u(){c||ce(),c=!1,t.current(),n()}t.current=kn(window,hK(d,u),{capture:!0,passive:!1})}}},[e]),n=Ce(function(){var o={passive:!1,capture:!0};t.current=kn(window,[r],o)},[r]);fn(function(){return n(),function(){t.current()}},[n])}var cv={type:"IDLE"},mK=120,gK=.15;function vK(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(r().type!=="DRAGGING"){t();return}s.keyCode===Zb&&s.preventDefault(),t()}},{eventName:Lm,fn:t}]}function yK(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;var a=o.touches[0],c=a.clientX,d=a.clientY,u={x:c,y:d};o.preventDefault(),i.actions.move(u)}},{eventName:"touchend",fn:function(o){var i=n();if(i.type!=="DRAGGING"){t();return}o.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(o){if(n().type!=="DRAGGING"){t();return}o.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(o){var i=n();i.type==="IDLE"&&ce();var a=o.touches[0];if(a){var c=a.force>=gK;if(c){var d=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){d&&t();return}if(d){if(i.hasMoved){o.preventDefault();return}t();return}o.preventDefault()}}}},{eventName:Lm,fn:t}]}function xK(e){var t=p.useRef(cv),r=p.useRef(Bo),n=Ce(function(){return t.current},[]),s=Ce(function(m){t.current=m},[]),o=Qe(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var g=e.findClosestDraggableId(m);if(g){var v=e.tryGetLock(g,a,{sourceEvent:m});if(v){var b=m.touches[0],y=b.clientX,x=b.clientY,w={x:y,y:x};r.current(),f(v,w)}}}}}},[e]),i=Ce(function(){var m={capture:!0,passive:!1};r.current=kn(window,[o],m)},[o]),a=Ce(function(){var h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),s(cv),r.current(),i())},[i,s]),c=Ce(function(){var h=t.current;a(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[a]),d=Ce(function(){var m={capture:!0,passive:!1},g={cancel:c,completed:a,getPhase:n},v=kn(window,yK(g),m),b=kn(window,vK(g),m);r.current=function(){v(),b()}},[c,n,a]),u=Ce(function(){var m=n();m.type!=="PENDING"&&ce();var g=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:g,hasMoved:!1})},[n,s]),f=Ce(function(m,g){n().type!=="IDLE"&&ce();var v=setTimeout(u,mK);s({type:"PENDING",point:g,actions:m,longPressTimerId:v}),d()},[d,n,s,u]);fn(function(){return i(),function(){r.current();var g=n();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),s(cv))}},[n,i,s]),fn(function(){var m=kn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var bK={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function zD(e,t){if(t==null)return!1;var r=!!bK[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:zD(e,t.parentElement)}function wK(e,t){var r=t.target;return Pm(r)?zD(e,r):!1}var SK=function(e){return qn(e.getBoundingClientRect()).center};function CK(e){return e instanceof ID(e).Element}var _K=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=di(t,function(n){return n in Element.prototype});return r||e}();function WD(e,t){return e==null?null:e[_K](t)?e:WD(e.parentElement,t)}function jK(e,t){return e.closest?e.closest(t):WD(e,t)}function EK(e){return"["+fl.contextId+'="'+e+'"]'}function kK(e,t){var r=t.target;if(!CK(r))return null;var n=EK(e),s=jK(r,n);return!s||!Pm(s)?null:s}function NK(e,t){var r=kK(e,t);return r?r.getAttribute(fl.draggableId):null}function PK(e,t){var r="["+gx.contextId+'="'+e+'"]',n=oD(document.querySelectorAll(r)),s=di(n,function(o){return o.getAttribute(gx.id)===t});return!s||!Pm(s)?null:s}function MK(e){e.preventDefault()}function ff(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function VD(e){var t=e.lockAPI,r=e.store,n=e.registry,s=e.draggableId;if(t.isClaimed())return!1;var o=n.draggable.findById(s);return!(!o||!o.options.isEnabled||!TD(r.getState(),s))}function LK(e){var t=e.lockAPI,r=e.contextId,n=e.store,s=e.registry,o=e.draggableId,i=e.forceSensorStop,a=e.sourceEvent,c=VD({lockAPI:t,store:n,registry:s,draggableId:o});if(!c)return null;var d=s.draggable.getById(o),u=PK(r,d.descriptor.id);if(!u||a&&!d.options.canDragInteractiveElements&&wK(u,a))return null;var f=t.claim(i||Bo),h="PRE_DRAG";function m(){return d.options.shouldRespectForcePress}function g(){return t.isActive(f)}function v(C,M){ff({expected:C,phase:h,isLockActive:g,shouldWarn:!0})&&n.dispatch(M())}var b=v.bind(null,"DRAGGING");function y(C){function M(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(M(),h!=="PRE_DRAG"&&ce()),n.dispatch(_q(C.liftActionArgs)),h="DRAGGING";function k(E,_){if(_===void 0&&(_={shouldBlockNextClick:!1}),C.cleanup(),_.shouldBlockNextClick){var P=kn(window,[{eventName:"click",fn:MK,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}M(),n.dispatch(ED({reason:E}))}return xe({isActive:function(){return ff({expected:"DRAGGING",phase:h,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(_){return k("DROP",_)},cancel:function(_){return k("CANCEL",_)}},C.actions)}function x(C){var M=wu(function(E){b(function(){return jD({client:E})})}),k=y({liftActionArgs:{id:o,clientSelection:C,movementMode:"FLUID"},cleanup:function(){return M.cancel()},actions:{move:M}});return xe({},k,{move:M})}function w(){var C={moveUp:function(){return b(Tq)},moveRight:function(){return b(Aq)},moveDown:function(){return b(Oq)},moveLeft:function(){return b(Rq)}};return y({liftActionArgs:{id:o,clientSelection:SK(u),movementMode:"SNAP"},cleanup:Bo,actions:C})}function S(){var C=ff({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!0});C&&t.release()}var j={isActive:function(){return ff({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:x,snapLift:w,abort:S};return j}var DK=[uK,pK,xK];function TK(e){var t=e.contextId,r=e.store,n=e.registry,s=e.customSensors,o=e.enableDefaultSensors,i=[].concat(o?DK:[],s||[]),a=p.useState(function(){return ZY()})[0],c=Ce(function(x,w){x.isDragging&&!w.isDragging&&a.tryAbandon()},[a]);fn(function(){var x=r.getState(),w=r.subscribe(function(){var S=r.getState();c(x,S),x=S});return w},[a,r,c]),fn(function(){return a.tryAbandon},[a.tryAbandon]);for(var d=Ce(function(y){return VD({lockAPI:a,registry:n,store:r,draggableId:y})},[a,n,r]),u=Ce(function(y,x,w){return LK({lockAPI:a,registry:n,contextId:t,store:r,draggableId:y,forceSensorStop:x,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null})},[t,a,n,r]),f=Ce(function(y){return NK(t,y)},[t]),h=Ce(function(y){var x=n.draggable.findById(y);return x?x.options:null},[n.draggable]),m=Ce(function(){a.isClaimed()&&(a.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Bb()))},[a,r]),g=Ce(a.isClaimed,[a]),v=Qe(function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:m,isLockClaimed:g}},[d,u,f,h,m,g]),b=0;b<i.length;b++)i[b](v)}var OK=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function cc(e){return e.current||ce(),e.current}function AK(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,s=e.nonce,o=e.dragHandleUsageInstructions,i=p.useRef(null),a=$D(e),c=Ce(function(){return OK(a.current)},[a]),d=HY(t),u=KY({contextId:t,text:o}),f=$Y(t,s),h=Ce(function(E){cc(i).dispatch(E)},[]),m=Qe(function(){return k_({publishWhileDragging:Eq,updateDroppableScroll:Nq,updateDroppableIsEnabled:Pq,updateDroppableIsCombineEnabled:Mq,collectionStarting:kq},h)},[h]),g=zY(),v=Qe(function(){return gY(g,m)},[g,m]),b=Qe(function(){return TY(xe({scrollWindow:vY,scrollDroppable:v.scrollDroppable},k_({move:jD},h)))},[v.scrollDroppable,h]),y=BY(t),x=Qe(function(){return fY({announce:d,autoScroller:b,dimensionMarshal:v,focusMarshal:y,getResponders:c,styleMarshal:f})},[d,b,v,y,c,f]);i.current=x;var w=Ce(function(){var E=cc(i),_=E.getState();_.phase!=="IDLE"&&E.dispatch(Bb())},[]),S=Ce(function(){var E=cc(i).getState();return E.isDragging||E.phase==="DROP_ANIMATING"},[]),j=Qe(function(){return{isDragging:S,tryAbort:w}},[S,w]);r(j);var C=Ce(function(E){return TD(cc(i).getState(),E)},[]),M=Ce(function(){return Si(cc(i).getState())},[]),k=Qe(function(){return{marshal:v,focus:y,contextId:t,canLift:C,isMovementAllowed:M,dragHandleUsageInstructionsId:u,registry:g}},[t,v,u,y,C,M,g]);return TK({contextId:t,store:x,registry:g,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),p.useEffect(function(){return w},[w]),Z.createElement(Mm.Provider,{value:k},Z.createElement(nH,{context:Yb,store:x},e.children))}var RK=0;function IK(){return Qe(function(){return""+RK++},[])}function $K(e){var t=IK(),r=e.dragHandleUsageInstructions||Af.dragHandleUsageInstructions;return Z.createElement(pG,null,function(n){return Z.createElement(AK,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var HD=function(t){return function(r){return t===r}},FK=HD("scroll"),BK=HD("auto"),oj=function(t,r){return r(t.overflowX)||r(t.overflowY)},UK=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return oj(n,FK)||oj(n,BK)},zK=function(){return!1},WK=function e(t){return t==null?null:t===document.body?zK()?t:null:t===document.documentElement?null:UK(t)?t:e(t.parentElement)},vx=function(e){return{x:e.scrollLeft,y:e.scrollTop}},VK=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},HK=function(e){var t=WK(e),r=VK(e);return{closestScrollable:t,isFixedOnPage:r}},GK=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,s=e.isFixedOnPage,o=e.direction,i=e.client,a=e.page,c=e.closest,d=function(){if(!c)return null;var m=c.scrollSize,g=c.client,v=MD({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:g,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:v,diff:{value:ur,displacement:ur}}}}(),u=o==="vertical"?Ab:uD,f=ul({page:a,withPlaceholder:null,axis:u,frame:d}),h={descriptor:t,isCombineEnabled:n,isFixedOnPage:s,axis:u,isEnabled:r,client:i,page:a,frame:d,subject:f};return h},qK=function(t,r){var n=eD(t);if(!r||t!==r)return n;var s=n.paddingBox.top-r.scrollTop,o=n.paddingBox.left-r.scrollLeft,i=s+r.scrollHeight,a=o+r.scrollWidth,c={top:s,right:a,bottom:i,left:o},d=Mb(c,n.border),u=Lb({borderBox:d,margin:n.margin,border:n.border,padding:n.padding});return u},YK=function(e){var t=e.ref,r=e.descriptor,n=e.env,s=e.windowScroll,o=e.direction,i=e.isDropDisabled,a=e.isCombineEnabled,c=e.shouldClipSubject,d=n.closestScrollable,u=qK(t,d),f=Fh(u,s),h=function(){if(!d)return null;var g=eD(d),v={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:g,page:Fh(g,s),scroll:vx(d),scrollSize:v,shouldClipSubject:c}}(),m=GK({descriptor:r,isEnabled:!i,isCombineEnabled:a,isFixedOnPage:n.isFixedOnPage,direction:o,client:u,page:f,closest:h});return m},KK={passive:!1},ZK={passive:!0},ij=function(e){return e.shouldPublishImmediately?KK:ZK};function Hh(e){var t=p.useContext(e);return t||ce(),t}var hf=function(t){return t&&t.env.closestScrollable||null};function XK(e){var t=p.useRef(null),r=Hh(Mm),n=Kb("droppable"),s=r.registry,o=r.marshal,i=$D(e),a=Qe(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=p.useRef(a),d=Qe(function(){return cr(function(S,j){t.current||ce();var C={x:S,y:j};o.updateDroppableScroll(a.id,C)})},[a.id,o]),u=Ce(function(){var S=t.current;return!S||!S.env.closestScrollable?ur:vx(S.env.closestScrollable)},[]),f=Ce(function(){var S=u();d(S.x,S.y)},[u,d]),h=Qe(function(){return wu(f)},[f]),m=Ce(function(){var S=t.current,j=hf(S);S&&j||ce();var C=S.scrollOptions;if(C.shouldPublishImmediately){f();return}h()},[h,f]),g=Ce(function(S,j){t.current&&ce();var C=i.current,M=C.getDroppableRef();M||ce();var k=HK(M),E={ref:M,descriptor:a,env:k,scrollOptions:j};t.current=E;var _=YK({ref:M,descriptor:a,env:k,windowScroll:S,direction:C.direction,isDropDisabled:C.isDropDisabled,isCombineEnabled:C.isCombineEnabled,shouldClipSubject:!C.ignoreContainerClipping}),P=k.closestScrollable;return P&&(P.setAttribute(tj.contextId,r.contextId),P.addEventListener("scroll",m,ij(E.scrollOptions))),_},[r.contextId,a,m,i]),v=Ce(function(){var S=t.current,j=hf(S);return S&&j||ce(),vx(j)},[]),b=Ce(function(){var S=t.current;S||ce();var j=hf(S);t.current=null,j&&(h.cancel(),j.removeAttribute(tj.contextId),j.removeEventListener("scroll",m,ij(S.scrollOptions)))},[m,h]),y=Ce(function(S){var j=t.current;j||ce();var C=hf(j);C||ce(),C.scrollTop+=S.y,C.scrollLeft+=S.x},[]),x=Qe(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:v,dragStopped:b,scroll:y}},[b,g,v,y]),w=Qe(function(){return{uniqueId:n,descriptor:a,callbacks:x}},[x,a,n]);fn(function(){return c.current=w.descriptor,s.droppable.register(w),function(){t.current&&b(),s.droppable.unregister(w)}},[x,a,b,w,o,s.droppable]),fn(function(){t.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),fn(function(){t.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function uv(){}var aj={width:0,height:0,margin:bG},QK=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate;return r||s==="close"?aj:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},JK=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate,o=QK({isAnimatingOpenOnMount:r,placeholder:n,animate:s});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?Bc.placeholder:null}};function eZ(e){var t=p.useRef(null),r=Ce(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,s=e.onTransitionEnd,o=e.onClose,i=e.contextId,a=p.useState(e.animate==="open"),c=a[0],d=a[1];p.useEffect(function(){return c?n!=="open"?(r(),d(!1),uv):t.current?uv:(t.current=setTimeout(function(){t.current=null,d(!1)}),r):uv},[n,c,r]);var u=Ce(function(h){h.propertyName==="height"&&(s(),n==="close"&&o())},[n,o,s]),f=JK({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Z.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":i,onTransitionEnd:u,ref:e.innerRef})}var tZ=Z.memo(eZ),Xb=Z.createContext(null),rZ=function(e){TL(t,e);function t(){for(var n,s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(s,o){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},t}(Z.PureComponent),lj={dragging:5e3,dropAnimating:4500},nZ=function(t,r){return r?Bc.drop(r.duration):t?Bc.snap:Bc.fluid},sZ=function(t,r){return t?r?ju.opacity.drop:ju.opacity.combining:null},oZ=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function iZ(e){var t=e.dimension,r=t.client,n=e.offset,s=e.combineWith,o=e.dropping,i=!!s,a=oZ(e),c=!!o,d=c?px.drop(n,i):px.moveTo(n),u={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:nZ(a,o),transform:d,opacity:sZ(i,c),zIndex:c?lj.dropAnimating:lj.dragging,pointerEvents:"none"};return u}function aZ(e){return{transform:px.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function lZ(e){return e.type==="DRAGGING"?iZ(e):aZ(e)}function cZ(e,t,r){r===void 0&&(r=ur);var n=window.getComputedStyle(t),s=t.getBoundingClientRect(),o=JL(s,n),i=Fh(o,r),a={client:o,tagName:t.tagName.toLowerCase(),display:n.display},c={x:o.marginBox.width,y:o.marginBox.height},d={descriptor:e,placeholder:a,displaceBy:c,client:o,page:i};return d}function uZ(e){var t=Kb("draggable"),r=e.descriptor,n=e.registry,s=e.getDraggableRef,o=e.canDragInteractiveElements,i=e.shouldRespectForcePress,a=e.isEnabled,c=Qe(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:a}},[o,a,i]),d=Ce(function(m){var g=s();return g||ce(),cZ(r,g,m)},[r,s]),u=Qe(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:d}},[r,d,c,t]),f=p.useRef(u),h=p.useRef(!0);fn(function(){return n.draggable.register(f.current),function(){return n.draggable.unregister(f.current)}},[n.draggable]),fn(function(){if(h.current){h.current=!1;return}var m=f.current;f.current=u,n.draggable.update(u,m)},[u,n.draggable])}function dZ(e){e.preventDefault()}function fZ(e){var t=p.useRef(null),r=Ce(function(E){t.current=E},[]),n=Ce(function(){return t.current},[]),s=Hh(Mm),o=s.contextId,i=s.dragHandleUsageInstructionsId,a=s.registry,c=Hh(Xb),d=c.type,u=c.droppableId,f=Qe(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:u}},[e.draggableId,e.index,d,u]),h=e.children,m=e.draggableId,g=e.isEnabled,v=e.shouldRespectForcePress,b=e.canDragInteractiveElements,y=e.isClone,x=e.mapped,w=e.dropAnimationFinished;if(!y){var S=Qe(function(){return{descriptor:f,registry:a,getDraggableRef:n,canDragInteractiveElements:b,shouldRespectForcePress:v,isEnabled:g}},[f,a,n,b,v,g]);uZ(S)}var j=Qe(function(){return g?{tabIndex:0,role:"button","aria-describedby":i,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:dZ}:null},[o,i,m,g]),C=Ce(function(E){x.type==="DRAGGING"&&x.dropping&&E.propertyName==="transform"&&w()},[w,x]),M=Qe(function(){var E=lZ(x),_=x.type==="DRAGGING"&&x.dropping?C:null,P={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":m,style:E,onTransitionEnd:_},dragHandleProps:j};return P},[o,j,m,x,C,r]),k=Qe(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return h(M,x.snapshot,k)}var GD=function(e,t){return e===t},qD=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},hZ=function(t){return t.combine?t.combine.draggableId:null},pZ=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function mZ(){var e=cr(function(s,o){return{x:s,y:o}}),t=cr(function(s,o,i,a,c){return{isDragging:!0,isClone:o,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:i,combineWith:a,combineTargetFor:null}}),r=cr(function(s,o,i,a,c,d,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:o,offset:s,dimension:i,forceShouldAnimate:u,snapshot:t(o,a,c,d,null)}}}),n=function(o,i){if(o.isDragging){if(o.critical.draggable.id!==i.draggableId)return null;var a=o.current.client.offset,c=o.dimensions.draggables[i.draggableId],d=dn(o.impact),u=pZ(o.impact),f=o.forceShouldAnimate;return r(e(a.x,a.y),o.movementMode,c,i.isClone,d,u,f)}if(o.phase==="DROP_ANIMATING"){var h=o.completed;if(h.result.draggableId!==i.draggableId)return null;var m=i.isClone,g=o.dimensions.draggables[i.draggableId],v=h.result,b=v.mode,y=qD(v),x=hZ(v),w=o.dropDuration,S={duration:w,curve:zb.drop,moveTo:o.newHomeClientOffset,opacity:x?ju.opacity.drop:null,scale:x?ju.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:g,dropping:S,draggingOver:y,combineWith:x,mode:b,forceShouldAnimate:null,snapshot:t(b,m,y,x,S)}}}return null};return n}function YD(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var gZ={mapped:{type:"SECONDARY",offset:ur,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:YD(null)}};function vZ(){var e=cr(function(i,a){return{x:i,y:a}}),t=cr(YD),r=cr(function(i,a,c){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:i,combineTargetFor:a,shouldAnimateDisplacement:c,snapshot:t(a)}}}),n=function(a){return a?r(ur,a,!0):null},s=function(a,c,d,u){var f=d.displaced.visible[a],h=!!(u.inVirtualList&&u.effected[a]),m=Em(d),g=m&&m.draggableId===a?c:null;if(!f){if(!h)return n(g);if(d.displaced.invisible[a])return null;var v=Rl(u.displacedBy.point),b=e(v.x,v.y);return r(b,g,!0)}if(h)return n(g);var y=d.displacedBy.point,x=e(y.x,y.y);return r(x,g,f.shouldAnimate)},o=function(a,c){if(a.isDragging)return a.critical.draggable.id===c.draggableId?null:s(c.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var d=a.completed;return d.result.draggableId===c.draggableId?null:s(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return o}var yZ=function(){var t=mZ(),r=vZ(),n=function(o,i){return t(o,i)||r(o,i)||gZ};return n},xZ={dropAnimationFinished:kD},bZ=XL(yZ,xZ,null,{context:Yb,pure:!0,areStatePropsEqual:GD})(fZ);function wZ(e){var t=Hh(Xb),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:Z.createElement(bZ,e)}function SZ(e){var t=p.useContext(Mm);t||ce();var r=t.contextId,n=t.isMovementAllowed,s=p.useRef(null),o=p.useRef(null),i=e.children,a=e.droppableId,c=e.type,d=e.mode,u=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,m=e.isCombineEnabled,g=e.snapshot,v=e.useClone,b=e.updateViewportMaxScroll,y=e.getContainerForClone,x=Ce(function(){return s.current},[]),w=Ce(function(P){s.current=P},[]);Ce(function(){return o.current},[]);var S=Ce(function(P){o.current=P},[]),j=Ce(function(){n()&&b({maxScroll:DD()})},[n,b]);XK({droppableId:a,type:c,mode:d,direction:u,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:x});var C=Z.createElement(rZ,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(P){var D=P.onClose,L=P.data,A=P.animate;return Z.createElement(tZ,{placeholder:L,onClose:D,innerRef:S,animate:A,contextId:r,onTransitionEnd:j})}),M=Qe(function(){return{innerRef:w,placeholder:C,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":r}}},[r,a,C,w]),k=v?v.dragging.draggableId:null,E=Qe(function(){return{droppableId:a,type:c,isUsingCloneFor:k}},[a,k,c]);function _(){if(!v)return null;var P=v.dragging,D=v.render,L=Z.createElement(wZ,{draggableId:P.draggableId,index:P.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(A,$){return D(A,$,P)});return Op.createPortal(L,y())}return Z.createElement(Xb.Provider,{value:E},i(M,g),_())}var dv=function(t,r){return t===r.droppable.type},cj=function(t,r){return r.draggables[t.draggable.id]},CZ=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=xe({},t,{shouldAnimatePlaceholder:!1}),n=cr(function(i){return{draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}}}),s=cr(function(i,a,c,d,u,f){var h=u.descriptor.id,m=u.descriptor.droppableId===i;if(m){var g=f?{render:f,dragging:n(u.descriptor)}:null,v={isDraggingOver:c,draggingOverWith:c?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:g}}if(!a)return r;if(!d)return t;var b={isDraggingOver:c,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),o=function(a,c){var d=c.droppableId,u=c.type,f=!c.isDropDisabled,h=c.renderClone;if(a.isDragging){var m=a.critical;if(!dv(u,m))return r;var g=cj(m,a.dimensions),v=dn(a.impact)===d;return s(d,f,v,v,g,h)}if(a.phase==="DROP_ANIMATING"){var b=a.completed;if(!dv(u,b.critical))return r;var y=cj(b.critical,a.dimensions);return s(d,f,qD(b.result)===d,dn(b.impact)===d,y,h)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var x=a.completed;if(!dv(u,x.critical))return r;var w=dn(x.impact)===d,S=!!(x.impact.at&&x.impact.at.type==="COMBINE"),j=x.critical.droppable.id===d;return w?S?t:r:j?t:r}return r};return o},_Z={updateViewportMaxScroll:Dq};function jZ(){return document.body||ce(),document.body}var EZ={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:jZ},kZ=XL(CZ,_Z,null,{context:Yb,pure:!0,areStatePropsEqual:GD})(SZ);kZ.defaultProps=EZ;const KD=({images:e,onDelete:t,onReorder:r,editable:n=!1,initialIndex:s=0})=>{const[o,i]=p.useState(s),[a,c]=p.useState(!1),[d,u]=p.useState(!1);if(p.useEffect(()=>{const x=()=>{u(window.innerWidth<768)};return x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}},[]),!e||!e.length)return null;const f=x=>{if(!x.destination||!r)return;const w=Array.from(e),[S]=w.splice(x.source.index,1);w.splice(x.destination.index,0,S),r(w.map(j=>j.url))},h=()=>{i(x=>(x+1)%e.length)},m=()=>{i(x=>(x-1+e.length)%e.length)},g=x=>{i(x),c(!0)},v=()=>l.jsxs("div",{className:"relative group md:hidden",children:[l.jsxs("div",{className:"aspect-[4/3] relative overflow-hidden rounded-lg",children:[l.jsx("img",{src:e[o].url,srcSet:`${e[o].url} 480w,
                  ${e[o].url} 640w,
                  ${e[o].url} 768w`,sizes:`(max-width: 480px) 100vw,
                 (max-width: 640px) 100vw,
                 768px`,alt:`Image ${o+1}`,className:"w-full h-full object-cover",loading:"lazy",onClick:()=>g(o)}),e.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:x=>{x.stopPropagation(),m()},className:`absolute left-2 top-1/2 -translate-y-1/2 p-1 rounded-full 
                       bg-black/50 text-white`,"aria-label":"Previous image",children:l.jsx(Dy,{className:"w-6 h-6"})}),l.jsx("button",{onClick:x=>{x.stopPropagation(),h()},className:`absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded-full 
                       bg-black/50 text-white`,"aria-label":"Next image",children:l.jsx(yh,{className:"w-6 h-6"})})]}),n&&t&&l.jsx("button",{onClick:()=>t(e[o].url),className:`absolute top-2 right-2 p-1 rounded-full bg-red-500/80 
                     text-white`,"aria-label":"Delete image",children:l.jsx(qd,{className:"w-4 h-4"})})]}),e.length>1&&l.jsx("div",{className:"flex justify-center mt-2 gap-2",children:e.map((x,w)=>l.jsx("button",{onClick:()=>i(w),className:`w-2 h-2 rounded-full transition-colors duration-200 
                       ${w===o?"bg-primary":"bg-gray-300"}`,"aria-label":`Go to image ${w+1}`},w))})]}),b=()=>l.jsx("div",{className:"hidden md:block",children:l.jsxs("div",{className:"flex gap-2 rounded-xl overflow-hidden h-[400px]",children:[l.jsxs("div",{className:"flex-grow-[3] relative overflow-hidden rounded-lg",children:[l.jsx("img",{src:e[0].url,srcSet:`${e[0].url} 640w,
                      ${e[0].url} 960w,
                      ${e[0].url} 1280w`,sizes:`(max-width: 640px) 100vw,
                     (max-width: 960px) 75vw,
                     1280px`,alt:"Main Image",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onClick:()=>g(0),loading:"eager"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-end justify-start p-4",children:l.jsxs(re,{variant:"secondary",size:"sm",onClick:x=>{x.stopPropagation(),g(0)},className:"gap-2",children:[l.jsx(A5,{className:"w-4 h-4"}),"View All Photos"]})}),n&&t&&l.jsx("button",{onClick:x=>{x.stopPropagation(),t(e[0].url)},className:`absolute top-2 right-2 p-1 rounded-full bg-red-500/80 
                         text-white opacity-0 group-hover:opacity-100 
                         transition-opacity duration-200`,"aria-label":"Delete image",children:l.jsx(qd,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex-grow-[1] grid grid-cols-2 gap-2",children:[e.length>1?l.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-lg group",children:[l.jsx("img",{src:e[1].url,srcSet:`${e[1].url} 400w,
                          ${e[1].url} 600w`,sizes:`(max-width: 400px) 100vw,
                         600px`,alt:"Thumbnail 1",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onClick:()=>g(1),loading:"lazy"}),n&&t&&l.jsx("button",{onClick:x=>{x.stopPropagation(),t(e[1].url)},className:`absolute top-2 right-2 p-1 rounded-full bg-red-500/80 
                             text-white opacity-0 group-hover:opacity-100 
                             transition-opacity duration-200`,"aria-label":"Delete image",children:l.jsx(qd,{className:"w-4 h-4"})})]}):l.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center",children:l.jsx(cS,{className:"w-8 h-8 text-gray-300"})}),e.length>2?l.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-lg group",children:[l.jsx("img",{src:e[2].url,srcSet:`${e[2].url} 400w,
                          ${e[2].url} 600w`,sizes:`(max-width: 400px) 100vw,
                         600px`,alt:"Thumbnail 2",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onClick:()=>g(2),loading:"lazy"}),e.length>3&&l.jsxs("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center text-white font-medium cursor-pointer",onClick:()=>g(3),children:["+",e.length-3," more"]}),n&&t&&l.jsx("button",{onClick:x=>{x.stopPropagation(),t(e[2].url)},className:`absolute top-2 right-2 p-1 rounded-full bg-red-500/80 
                             text-white opacity-0 group-hover:opacity-100 
                             transition-opacity duration-200`,"aria-label":"Delete image",children:l.jsx(qd,{className:"w-4 h-4"})})]}):l.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center",children:l.jsx(cS,{className:"w-8 h-8 text-gray-300"})})]})]})}),y=()=>l.jsx(lm,{open:a,onOpenChange:c,children:l.jsxs(ld,{className:"max-w-screen-xl h-[90vh] flex flex-col p-0 gap-0",children:[l.jsxs("div",{className:"relative flex-1 flex items-center justify-center bg-black/95 overflow-hidden",children:[l.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[l.jsx("img",{src:e[o].url,srcSet:`${e[o].url} 1200w,
                      ${e[o].url} 1600w,
                      ${e[o].url} 2048w`,sizes:`(max-width: 1200px) 100vw,
                     (max-width: 1600px) 100vw,
                     2048px`,alt:`Image ${o+1} in fullscreen`,className:"max-h-full max-w-full object-contain"}),e.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:m,className:`absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full 
                           bg-black/50 text-white hover:bg-black/70`,"aria-label":"Previous image",children:l.jsx(Dy,{className:"w-6 h-6"})}),l.jsx("button",{onClick:h,className:`absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full 
                           bg-black/50 text-white hover:bg-black/70`,"aria-label":"Next image",children:l.jsx(yh,{className:"w-6 h-6"})})]})]}),l.jsx("button",{onClick:()=>c(!1),className:`absolute top-4 right-4 p-2 rounded-full bg-black/50 
                     text-white hover:bg-black/70`,"aria-label":"Close lightbox",children:l.jsx(hu,{className:"w-6 h-6"})}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-black/70 text-white text-center",children:l.jsx("p",{children:e[o].caption||`Image ${o+1} of ${e.length}`})})]}),l.jsx("div",{className:"bg-black/90 p-4",children:l.jsx("div",{className:"grid grid-cols-6 gap-2 max-w-3xl mx-auto",children:e.map((x,w)=>l.jsx("button",{onClick:()=>i(w),className:`relative aspect-square rounded overflow-hidden ${w===o?"ring-2 ring-primary":"opacity-70 hover:opacity-100"}`,"aria-label":`Go to image ${w+1}`,children:l.jsx("img",{src:x.url,alt:`Thumbnail ${w+1}`,className:"h-full w-full object-cover",loading:"lazy"})},w))})})]})});return l.jsxs($K,{onDragEnd:f,children:[d?l.jsx(v,{}):l.jsx(b,{}),l.jsx(y,{})]})};var Qb="Tabs",[NZ,Pse]=yn(Qb,[nm]),ZD=nm(),[PZ,Jb]=NZ(Qb),XD=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...d}=e,u=Nl(a),[f,h]=mn({prop:n,onChange:s,defaultProp:o});return l.jsx(PZ,{scope:r,baseId:Xr(),value:f,onValueChange:h,orientation:i,dir:u,activationMode:c,children:l.jsx(be.div,{dir:u,"data-orientation":i,...d,ref:t})})});XD.displayName=Qb;var QD="TabsList",JD=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=Jb(QD,r),i=ZD(r);return l.jsx(DN,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:l.jsx(be.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});JD.displayName=QD;var eT="TabsTrigger",tT=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=Jb(eT,r),a=ZD(r),c=sT(i.baseId,n),d=oT(i.baseId,n),u=n===i.value;return l.jsx(TN,{asChild:!0,...a,focusable:!s,active:u,children:l.jsx(be.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:de(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:de(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:de(e.onFocus,()=>{const f=i.activationMode!=="manual";!u&&!s&&f&&i.onValueChange(n)})})})});tT.displayName=eT;var rT="TabsContent",nT=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,a=Jb(rT,r),c=sT(a.baseId,n),d=oT(a.baseId,n),u=n===a.value,f=p.useRef(u);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(dr,{present:s||u,children:({present:h})=>l.jsx(be.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});nT.displayName=rT;function sT(e,t){return`${e}-trigger-${t}`}function oT(e,t){return`${e}-content-${t}`}var MZ=XD,iT=JD,aT=tT,lT=nT;const ra=MZ,fi=p.forwardRef(({className:e,...t},r)=>l.jsx(iT,{ref:r,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));fi.displayName=iT.displayName;const xt=p.forwardRef(({className:e,...t},r)=>l.jsx(aT,{ref:r,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));xt.displayName=aT.displayName;const bt=p.forwardRef(({className:e,...t},r)=>l.jsx(lT,{ref:r,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));bt.displayName=lT.displayName;var LZ="Separator",uj="horizontal",DZ=["horizontal","vertical"],cT=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=uj,...s}=e,o=TZ(n)?n:uj,a=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return l.jsx(be.div,{"data-orientation":o,...a,...s,ref:t})});cT.displayName=LZ;function TZ(e){return DZ.includes(e)}var uT=cT;const mt=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>l.jsx(uT,{ref:s,decorative:r,orientation:t,className:me("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));mt.displayName=uT.displayName;var[Dm,Mse]=yn("Tooltip",[li]),Tm=li(),dT="TooltipProvider",OZ=700,yx="tooltip.open",[AZ,ew]=Dm(dT),fT=e=>{const{__scopeTooltip:t,delayDuration:r=OZ,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,[i,a]=p.useState(!0),c=p.useRef(!1),d=p.useRef(0);return p.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),l.jsx(AZ,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(d.current),a(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>a(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:o})};fT.displayName=dT;var Om="Tooltip",[RZ,Am]=Dm(Om),hT=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,c=ew(Om,e.__scopeTooltip),d=Tm(t),[u,f]=p.useState(null),h=Xr(),m=p.useRef(0),g=i??c.disableHoverableContent,v=a??c.delayDuration,b=p.useRef(!1),[y=!1,x]=mn({prop:n,defaultProp:s,onChange:M=>{M?(c.onOpen(),document.dispatchEvent(new CustomEvent(yx))):c.onClose(),o==null||o(M)}}),w=p.useMemo(()=>y?b.current?"delayed-open":"instant-open":"closed",[y]),S=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,x(!0)},[x]),j=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),C=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,x(!0),m.current=0},v)},[v,x]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),l.jsx(Jp,{...d,children:l.jsx(RZ,{scope:t,contentId:h,open:y,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayed?C():S()},[c.isOpenDelayed,C,S]),onTriggerLeave:p.useCallback(()=>{g?j():(window.clearTimeout(m.current),m.current=0)},[j,g]),onOpen:S,onClose:j,disableHoverableContent:g,children:r})})};hT.displayName=Om;var xx="TooltipTrigger",pT=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Am(xx,r),o=ew(xx,r),i=Tm(r),a=p.useRef(null),c=Be(t,a,s.onTriggerChange),d=p.useRef(!1),u=p.useRef(!1),f=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(td,{asChild:!0,...i,children:l.jsx(be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:de(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:de(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:de(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:de(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:de(e.onBlur,s.onClose),onClick:de(e.onClick,s.onClose)})})});pT.displayName=xx;var IZ="TooltipPortal",[Lse,$Z]=Dm(IZ,{forceMount:void 0}),hl="TooltipContent",mT=p.forwardRef((e,t)=>{const r=$Z(hl,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=Am(hl,e.__scopeTooltip);return l.jsx(dr,{present:n||i.open,children:i.disableHoverableContent?l.jsx(gT,{side:s,...o,ref:t}):l.jsx(FZ,{side:s,...o,ref:t})})}),FZ=p.forwardRef((e,t)=>{const r=Am(hl,e.__scopeTooltip),n=ew(hl,e.__scopeTooltip),s=p.useRef(null),o=Be(t,s),[i,a]=p.useState(null),{trigger:c,onClose:d}=r,u=s.current,{onPointerInTransitChange:f}=n,h=p.useCallback(()=>{a(null),f(!1)},[f]),m=p.useCallback((g,v)=>{const b=g.currentTarget,y={x:g.clientX,y:g.clientY},x=WZ(y,b.getBoundingClientRect()),w=VZ(y,x),S=HZ(v.getBoundingClientRect()),j=qZ([...w,...S]);a(j),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&u){const g=b=>m(b,u),v=b=>m(b,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[c,u,m,h]),p.useEffect(()=>{if(i){const g=v=>{const b=v.target,y={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(b))||(u==null?void 0:u.contains(b)),w=!GZ(y,i);x?h():w&&(h(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,i,d,h]),l.jsx(gT,{...e,ref:o})}),[BZ,UZ]=Dm(Om,{isInside:!1}),gT=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,c=Am(hl,r),d=Tm(r),{onClose:u}=c;return p.useEffect(()=>(document.addEventListener(yx,u),()=>document.removeEventListener(yx,u)),[u]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),l.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:l.jsxs(em,{"data-state":c.stateAttribute,...d,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(b2,{children:n}),l.jsx(BZ,{scope:r,isInside:!0,children:l.jsx(cV,{id:c.contentId,role:"tooltip",children:s||n})})]})})});mT.displayName=hl;var vT="TooltipArrow",zZ=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Tm(r);return UZ(vT,r).isInside?null:l.jsx(tm,{...s,...n,ref:t})});zZ.displayName=vT;function WZ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function VZ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function HZ(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function GZ(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,c=t[o].y,d=t[i].x,u=t[i].y;c>n!=u>n&&r<(d-a)*(n-c)/(u-c)+a&&(s=!s)}return s}function qZ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),YZ(t)}function YZ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var KZ=fT,ZZ=hT,XZ=pT,yT=mT;const Gh=KZ,qh=ZZ,Yh=XZ,Eu=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(yT,{ref:n,sideOffset:t,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Eu.displayName=yT.displayName;const QZ=({listingId:e,listingType:t,refreshTrigger:r=0})=>{const[n,s]=p.useState([]),[o,i]=p.useState(!0),[a,c]=p.useState(null);return p.useEffect(()=>{(async()=>{i(!0);try{const{data:u,error:f}=await Y.from("reviews").select(`
            id,
            rating,
            content,
            created_at,
            author_id
          `).eq("target_id",e).eq("target_type",t).order("created_at",{ascending:!1});if(f)throw f;if(u){const h=await Promise.all(u.map(async m=>{const{data:g}=await Y.from("profiles").select("name").eq("id",m.author_id).single();return{...m,user:g||{name:"Anonymous"}}}));s(h)}}catch(u){console.error("Error fetching reviews:",u),c("Failed to load reviews")}finally{i(!1)}})()},[e,t,r]),o?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(rt,{className:"h-8 w-8 animate-spin text-primary"})}):a?l.jsx("div",{className:"p-4 bg-red-50 text-red-800 rounded-lg",children:l.jsx("p",{children:a})}):n.length===0?l.jsx("div",{className:"p-6 text-center bg-muted/20 rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:"No reviews yet"})}):l.jsx("div",{className:"space-y-6",children:n.map(d=>{var h;const u=((h=d.user)==null?void 0:h.name)||d.author_id.substring(0,8)||"Anonymous",f=u.charAt(0).toUpperCase();return l.jsxs("div",{className:"pb-6 last:pb-0 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsxs(Es,{children:[l.jsx(ks,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${u}`,alt:u}),l.jsx(Ns,{children:f})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:u}),l.jsx("p",{className:"text-sm text-muted-foreground",children:kt(new Date(d.created_at),"MMM d, yyyy")})]})]}),l.jsx("div",{className:"flex mb-2",children:[...Array(5)].map((m,g)=>l.jsx(_s,{className:`w-4 h-4 ${g<d.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},g))}),d.content&&l.jsx("p",{className:"text-muted-foreground",children:d.content}),l.jsx(mt,{className:"mt-6"})]},d.id)})})},ku=p.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ku.displayName="Textarea";const JZ=({listingId:e,listingType:t,onSuccess:r})=>{const{user:n}=Bt(),[s,o]=p.useState(0),[i,a]=p.useState(""),[c,d]=p.useState(!1),[u,f]=p.useState(0),h=async m=>{var g;if(m.preventDefault(),!n){je.error("You must be logged in to submit a review");return}if(s===0){je.error("Please select a rating");return}d(!0);try{const{data:{session:v}}=await Y.auth.getSession(),b=(g=v==null?void 0:v.user)==null?void 0:g.id;if(!b)throw new Error("User not authenticated");const{error:y}=await Y.from("reviews").insert({author_id:b,target_id:e,target_type:t,rating:s,content:i});if(y)throw y;t==="food_experience"?$c.invalidateCache("food"):t==="stay"&&$c.invalidateCache("stays"),je.success("Review submitted successfully!"),o(0),a(""),r&&r()}catch(v){console.error("Error submitting review:",v),je.error("Failed to submit review. Please try again.")}finally{d(!1)}};return n?l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium",children:"Rating"}),l.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(m=>l.jsx("button",{type:"button",onClick:()=>o(m),onMouseEnter:()=>f(m),onMouseLeave:()=>f(0),className:"focus:outline-none",children:l.jsx(_s,{className:`w-6 h-6 transition-colors ${m<=(u||s)?"text-yellow-500 fill-yellow-500":"text-gray-300"}`})},m))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"content",className:"block text-sm font-medium",children:"Your Review"}),l.jsx(ku,{id:"content",value:i,onChange:m=>a(m.target.value),placeholder:"Share your experience...",rows:4})]}),l.jsx(re,{type:"submit",disabled:c||s===0,className:"w-full",children:c?l.jsxs(l.Fragment,{children:[l.jsx(rt,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Review"})]}):l.jsx("div",{className:"p-4 bg-muted/50 rounded-lg text-center",children:l.jsx("p",{children:"Please log in to leave a review"})})},xT=({listingId:e,listingType:t,averageRating:r=0,reviewCount:n=0,onReviewSubmitted:s})=>{const[o,i]=p.useState(0),a=()=>{i(c=>c+1),s&&s()};return l.jsxs(Oe,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Reviews"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(_s,{className:"w-5 h-5 text-yellow-500 fill-yellow-500 mr-1"}),l.jsx("span",{className:"font-medium text-lg",children:r.toFixed(1)}),l.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",n," reviews)"]})]})]}),l.jsxs(ra,{defaultValue:"list",className:"w-full",children:[l.jsxs(fi,{className:"mb-6",children:[l.jsx(xt,{value:"list",children:"All Reviews"}),l.jsx(xt,{value:"add",children:"Write a Review"})]}),l.jsx(bt,{value:"list",children:l.jsx(QZ,{listingId:e,listingType:t,refreshTrigger:o})}),l.jsx(bt,{value:"add",children:l.jsx(JZ,{listingId:e,listingType:t,onSuccess:a})})]})]})},Kh={},Mr={};async function dj(e,t,r,n,s){console.log("Starting getOrCreateConversation with:",{userId:e,otherUserId:t,listingId:r,listingType:n});try{const{data:o,error:i}=await Y.from("conversation_participants").select("conversation_id").eq("user_id",e);if(i)throw console.error("Error fetching existing conversations:",i),i;if(console.log("Found existing conversations for current user:",(o==null?void 0:o.length)||0),o&&o.length>0){const f=o.map(g=>g.conversation_id);console.log("Conversation IDs to check:",f);const{data:h,error:m}=await Y.from("conversation_participants").select("conversation_id").eq("user_id",t).in("conversation_id",f);if(m)throw console.error("Error checking for matching conversations:",m),m;if(console.log("Found matching conversations with other user:",(h==null?void 0:h.length)||0),h&&h.length>0)return console.log("Returning existing conversation:",h[0].conversation_id),{conversationId:h[0].conversation_id,isNew:!1}}console.log("Creating new conversation...");const{data:a,error:c}=await Y.from("conversations").insert({listing_id:r,listing_type:n,title:s,status:"active"}).select().single();if(c)throw console.error("Error creating conversation:",c),c;console.log("New conversation created:",a==null?void 0:a.id),console.log("Adding participants to conversation...");const d=await Y.from("conversation_participants").insert({conversation_id:a.id,user_id:e});if(d.error)throw console.error("Error adding current user to conversation:",d.error),d.error;console.log("Current user added to conversation");const u=await Y.from("conversation_participants").insert({conversation_id:a.id,user_id:t});if(u.error)throw console.error("Error adding other user to conversation:",u.error),u.error;return console.log("Other user added to conversation"),{conversationId:a.id,isNew:!0}}catch(o){throw console.error("Unexpected error in getOrCreateConversation:",o),o}}async function eX(e,t,r){const{data:n,error:s}=await Y.from("messages").insert({conversation_id:e,sender_id:t,content:r}).select().single();if(s)throw console.error("Error sending message:",s),s;return n}async function tX(e,t=50,r=0){console.time("getMessages");try{const{data:n,error:s}=await Y.rpc("get_messages_with_senders",{conversation_id_param:e,limit_param:t,offset_param:r});if(!s&&n)return n.map(m=>({...m,isCurrentUser:!1}));console.warn("RPC function failed, using fallback method:",s);const{data:o,error:i}=await Y.from("messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!1}).range(r,r+t-1);if(i)throw console.error("Error fetching messages:",i),i;if(!o||o.length===0)return[];const a=[...new Set(o.map(f=>f.sender_id))],{data:c,error:d}=await Y.from("profiles").select("id, name, avatar_url").in("id",a);d&&console.error("Error fetching sender profiles:",d);const u=(c||[]).reduce((f,h)=>(f[h.id]=h,f),{});return o.map(f=>({...f,sender:u[f.sender_id]||null}))}finally{console.timeEnd("getMessages")}}async function rX(e){try{console.time("getConversationById");const{data:t,error:r}=await Y.rpc("get_conversation_by_id",{conversation_id_param:e});if(r)throw console.error("Error fetching conversation:",r),r;return t?(console.timeEnd("getConversationById"),t):null}catch(t){throw console.error("Error in getConversationById:",t),t}}async function nX(e){try{console.log("Fetching conversations for user:",e),console.time("getUserConversations");const{data:t,error:r}=await Y.rpc("get_user_conversations_with_details",{user_id_param:e});if(r)throw console.error("Error fetching conversations:",r),console.error("Error details:",JSON.stringify(r,null,2)),r;return console.timeEnd("getUserConversations"),console.log("Fetched conversations:",(t==null?void 0:t.length)||0),t||[]}catch(t){throw console.error("Error in getUserConversations:",t),console.error("Error details:",JSON.stringify(t,null,2)),t}}function sX(e,t){if(Mr[e]||(Mr[e]=[]),Mr[e].includes(t)||Mr[e].push(t),Kh[e])return console.log(`Reusing existing subscription for conversation: ${e}, total callbacks: ${Mr[e].length}`),()=>{console.log(`Removing single callback for conversation: ${e}`);const r=Mr[e].indexOf(t);r!==-1&&Mr[e].splice(r,1),Mr[e].length===0&&(console.log(`No more callbacks for conversation: ${e}, removing subscription`),fj(e))};console.log(`Setting up new subscription for conversation: ${e}`);try{const r=Y.channel(`conversation-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${e}`},n=>{var o;console.log(`New message received for conversation: ${e}, notifying ${((o=Mr[e])==null?void 0:o.length)||0} listeners`),(Mr[e]||[]).forEach(i=>{try{i(n.new)}catch(a){console.error("Error in message callback:",a)}})}).subscribe(n=>{console.log(`Subscription status for conversation ${e}:`,n)});Kh[e]=r}catch(r){console.error("Error setting up subscription:",r)}return()=>{console.log(`Removing single callback for conversation: ${e}`);const r=Mr[e].indexOf(t);r!==-1&&Mr[e].splice(r,1),Mr[e].length===0&&(console.log(`No more callbacks for conversation: ${e}, removing subscription`),fj(e))}}function fj(e){const t=Kh[e];if(t)try{console.log(`Completely removing subscription for conversation: ${e}`),Y.removeChannel(t)}catch(r){console.error("Error removing channel:",r)}finally{delete Kh[e],Mr[e]&&delete Mr[e]}else console.log(`No active subscription found for conversation: ${e}`)}function oX(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var tw="ScrollArea",[bT,Dse]=yn(tw),[iX,On]=bT(tw),wT=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,c]=p.useState(null),[d,u]=p.useState(null),[f,h]=p.useState(null),[m,g]=p.useState(null),[v,b]=p.useState(null),[y,x]=p.useState(0),[w,S]=p.useState(0),[j,C]=p.useState(!1),[M,k]=p.useState(!1),E=Be(t,P=>c(P)),_=Nl(s);return l.jsx(iX,{scope:r,type:n,dir:_,scrollHideDelay:o,scrollArea:a,viewport:d,onViewportChange:u,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:C,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:M,onScrollbarYEnabledChange:k,onCornerWidthChange:x,onCornerHeightChange:S,children:l.jsx(be.div,{dir:_,...i,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});wT.displayName=tw;var ST="ScrollAreaViewport",CT=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:o,...i}=e,a=On(ST,r),c=p.useRef(null),d=Be(t,c,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),l.jsx(be.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:d,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:gX({asChild:s,children:n},u=>l.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});CT.displayName=ST;var Ts="ScrollAreaScrollbar",rw=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=On(Ts,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return p.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?l.jsx(aX,{...n,ref:t,forceMount:r}):s.type==="scroll"?l.jsx(lX,{...n,ref:t,forceMount:r}):s.type==="auto"?l.jsx(_T,{...n,ref:t,forceMount:r}):s.type==="always"?l.jsx(nw,{...n,ref:t}):null});rw.displayName=Ts;var aX=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=On(Ts,e.__scopeScrollArea),[o,i]=p.useState(!1);return p.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const d=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",d),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",d),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(dr,{present:r||o,children:l.jsx(_T,{"data-state":o?"visible":"hidden",...n,ref:t})})}),lX=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=On(Ts,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Im(()=>c("SCROLL_END"),100),[a,c]=oX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(a==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[a,s.scrollHideDelay,c]),p.useEffect(()=>{const d=s.viewport,u=o?"scrollLeft":"scrollTop";if(d){let f=d[u];const h=()=>{const m=d[u];f!==m&&(c("SCROLL"),i()),f=m};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,o,c,i]),l.jsx(dr,{present:r||a!=="hidden",children:l.jsx(nw,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:de(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:de(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),_T=p.forwardRef((e,t)=>{const r=On(Ts,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,i]=p.useState(!1),a=e.orientation==="horizontal",c=Im(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;i(a?d:u)}},10);return pl(r.viewport,c),pl(r.content,c),l.jsx(dr,{present:n||o,children:l.jsx(nw,{"data-state":o?"visible":"hidden",...s,ref:t})})}),nw=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=On(Ts,e.__scopeScrollArea),o=p.useRef(null),i=p.useRef(0),[a,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=PT(a.viewport,a.content),u={...n,sizes:a,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,m){return pX(h,i.current,a,m)}return r==="horizontal"?l.jsx(cX,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,m=hj(h,a,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?l.jsx(uX,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,m=hj(h,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),cX=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=On(Ts,e.__scopeScrollArea),[i,a]=p.useState(),c=p.useRef(null),d=Be(t,c,o.onScrollbarXChange);return p.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(ET,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Rm(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),LT(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Xh(i.paddingLeft),paddingEnd:Xh(i.paddingRight)}})}})}),uX=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=On(Ts,e.__scopeScrollArea),[i,a]=p.useState(),c=p.useRef(null),d=Be(t,c,o.onScrollbarYChange);return p.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(ET,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Rm(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),LT(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Xh(i.paddingTop),paddingEnd:Xh(i.paddingBottom)}})}})}),[dX,jT]=bT(Ts),ET=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...h}=e,m=On(Ts,r),[g,v]=p.useState(null),b=Be(t,E=>v(E)),y=p.useRef(null),x=p.useRef(""),w=m.viewport,S=n.content-n.viewport,j=Yt(u),C=Yt(c),M=Im(f,10);function k(E){if(y.current){const _=E.clientX-y.current.left,P=E.clientY-y.current.top;d({x:_,y:P})}}return p.useEffect(()=>{const E=_=>{const P=_.target;(g==null?void 0:g.contains(P))&&j(_,S)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,g,S,j]),p.useEffect(C,[n,C]),pl(g,M),pl(m.content,M),l.jsx(dX,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:Yt(o),onThumbPointerUp:Yt(i),onThumbPositionChange:C,onThumbPointerDown:Yt(a),children:l.jsx(be.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:de(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),y.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(E))}),onPointerMove:de(e.onPointerMove,k),onPointerUp:de(e.onPointerUp,E=>{const _=E.target;_.hasPointerCapture(E.pointerId)&&_.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Zh="ScrollAreaThumb",kT=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=jT(Zh,e.__scopeScrollArea);return l.jsx(dr,{present:r||s.hasThumb,children:l.jsx(fX,{ref:t,...n})})}),fX=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=On(Zh,r),i=jT(Zh,r),{onThumbPositionChange:a}=i,c=Be(t,f=>i.onThumbChange(f)),d=p.useRef(),u=Im(()=>{d.current&&(d.current(),d.current=void 0)},100);return p.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(u(),!d.current){const m=mX(f,a);d.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,u,a]),l.jsx(be.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:de(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,v=f.clientY-m.top;i.onThumbPointerDown({x:g,y:v})}),onPointerUp:de(e.onPointerUp,i.onThumbPointerUp)})});kT.displayName=Zh;var sw="ScrollAreaCorner",NT=p.forwardRef((e,t)=>{const r=On(sw,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?l.jsx(hX,{...e,ref:t}):null});NT.displayName=sw;var hX=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=On(sw,r),[o,i]=p.useState(0),[a,c]=p.useState(0),d=!!(o&&a);return pl(s.scrollbarX,()=>{var f;const u=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),pl(s.scrollbarY,()=>{var f;const u=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(u),i(u)}),d?l.jsx(be.div,{...n,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Xh(e){return e?parseInt(e,10):0}function PT(e,t){const r=e/t;return isNaN(r)?0:r}function Rm(e){const t=PT(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function pX(e,t,r,n="ltr"){const s=Rm(r),o=s/2,i=t||o,a=s-i,c=r.scrollbar.paddingStart+i,d=r.scrollbar.size-r.scrollbar.paddingEnd-a,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return MT([c,d],f)(e)}function hj(e,t,r="ltr"){const n=Rm(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-n,c=r==="ltr"?[0,i]:[i*-1,0],d=ox(e,c);return MT([0,i],[0,a])(d)}function MT(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function LT(e,t){return e>0&&e<t}var mX=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,a=r.top!==o.top;(i||a)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Im(e,t){const r=Yt(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function pl(e,t){const r=Yt(t);er(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function gX(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=p.Children.only(n);return p.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var DT=wT,vX=CT,yX=NT;const ow=p.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(DT,{ref:n,className:me("relative overflow-hidden",e),...r,children:[l.jsx(vX,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(TT,{}),l.jsx(yX,{})]}));ow.displayName=DT.displayName;const TT=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>l.jsx(rw,{ref:n,orientation:t,className:me("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:l.jsx(kT,{className:"relative flex-1 rounded-full bg-border"})}));TT.displayName=rw.displayName;function OT({conversationId:e,otherParticipantId:t,listingId:r,listingType:n,onClose:s,isHost:o=!1}){const{user:i}=Bt(),[a,c]=p.useState([]),[d,u]=p.useState(""),[f,h]=p.useState(!0),[m,g]=p.useState(!1),[v,b]=p.useState(""),[y,x]=p.useState(null),w=p.useRef(null),S=p.useRef(null),j=p.useRef(null),C=p.useRef({}),M=p.useCallback(P=>{try{return bM(new Date(P),{addSuffix:!0})}catch{return"Just now"}},[]),k=p.useCallback(P=>P?P.split(" ").map(D=>D[0]).join("").toUpperCase().substring(0,2):"?",[]),E=p.useMemo(()=>a.map(P=>({...P,formattedTime:M(P.created_at)})),[a,M]);p.useEffect(()=>{const P=async()=>{try{if(h(!0),console.log("Fetching messages for conversation:",e),C.current[e]){console.log("Using cached messages for conversation:",e),c(C.current[e]),h(!1);return}const A=(await tX(e)).map(T=>({...T,isCurrentUser:T.sender_id===(i==null?void 0:i.id)})).reverse();c(A),C.current[e]=A;const $=await rX(e);if($){b($.title||"Chat");const T=$.participants.find(N=>N.user_id!==(i==null?void 0:i.id));T&&x({id:T.user_id,name:T.name,avatar_url:T.avatar_url})}}catch(D){console.error("Error fetching messages:",D),je.error("Failed to load messages")}finally{h(!1)}};e&&(i!=null&&i.id)&&P()},[e,i==null?void 0:i.id]),p.useEffect(()=>{if(!e||!(i!=null&&i.id))return;if(j.current){console.log(`Using existing subscription for conversation: ${e}`);return}console.log(`Setting up subscription effect for conversation: ${e}`);const P=sX(e,D=>{if(D.sender_id!==(i==null?void 0:i.id)){const L={...D,isCurrentUser:!1,sender:y||void 0};c(A=>{if(A.some(N=>N.id===D.id))return A;const T=[...A,L];return C.current[e]=T,T})}});return j.current=P,()=>{j.current&&(console.log(`Cleaning up subscription from effect for conversation: ${e}`),j.current(),j.current=null)}},[e,i==null?void 0:i.id,y]),p.useEffect(()=>{w.current&&w.current.scrollIntoView({behavior:"smooth"})},[a]),p.useEffect(()=>{S.current&&S.current.focus()},[]);const _=async P=>{if(P.preventDefault(),!(!d.trim()||!(i!=null&&i.id)||m))try{g(!0);const D={id:Date.now(),conversation_id:e,sender_id:i.id,content:d,created_at:new Date().toISOString(),isCurrentUser:!0,sender:{id:i.id,name:i.name,avatar_url:i.picture||i.image}},L=[...a,D];c(L),C.current[e]=L,u(""),await eX(e,i.id,d)}catch(D){console.error("Error sending message:",D),je.error("Failed to send message");const L=a.filter(A=>typeof A.id=="number"?A.id!==Date.now():!0);c(L),C.current[e]=L}finally{g(!1),S.current&&S.current.focus()}};return l.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg shadow-lg",children:[l.jsx("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Es,{children:[l.jsx(ks,{src:(y==null?void 0:y.avatar_url)||"",alt:(y==null?void 0:y.name)||"User"}),l.jsx(Ns,{children:k(y==null?void 0:y.name)})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:(y==null?void 0:y.name)||"User"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:v})]})]})}),l.jsx(ow,{className:"flex-1 p-4",children:f?l.jsxs("div",{className:"flex items-center justify-center h-full",children:[l.jsx(rt,{className:"h-8 w-8 animate-spin text-primary"}),l.jsx("span",{className:"ml-2",children:"Loading messages..."})]}):a.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-muted-foreground p-4",children:[l.jsx("p",{children:"No messages yet"}),l.jsx("p",{className:"text-sm mt-1",children:"Start the conversation by sending a message!"})]}):l.jsxs("div",{className:"space-y-4",children:[E.map(P=>{var D,L,A;return l.jsx("div",{className:`flex ${P.isCurrentUser?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`flex ${P.isCurrentUser?"flex-row-reverse":"flex-row"} items-end gap-2 max-w-[80%]`,children:[!P.isCurrentUser&&l.jsxs(Es,{className:"h-8 w-8",children:[l.jsx(ks,{src:((D=P.sender)==null?void 0:D.avatar_url)||"",alt:((L=P.sender)==null?void 0:L.name)||"User"}),l.jsx(Ns,{children:k((A=P.sender)==null?void 0:A.name)})]}),l.jsxs("div",{className:`px-4 py-2 rounded-2xl ${P.isCurrentUser?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:[l.jsx("div",{className:"break-words",children:P.content}),l.jsx("div",{className:`text-xs mt-1 ${P.isCurrentUser?"text-primary-foreground/70":"text-secondary-foreground/70"}`,children:P.formattedTime})]})]})},P.id)}),l.jsx("div",{ref:w})]})}),l.jsxs("form",{onSubmit:_,className:"border-t p-4 flex items-center gap-2",children:[l.jsx(Re,{ref:S,value:d,onChange:P=>u(P.target.value),placeholder:"Type a message...",className:"flex-1",disabled:m||f}),l.jsx(re,{type:"submit",size:"icon",disabled:m||f||!d.trim(),children:m?l.jsx(rt,{className:"h-4 w-4 animate-spin"}):l.jsx(I5,{className:"h-4 w-4"})})]})]})}const AT=p.createContext(void 0),pf=(e,t)=>[e,t].sort().join("-");function xX({children:e}){const{user:t,isAuthenticated:r}=Bt(),n=p.useRef({}),s=p.useRef(new Set),o=async(u,f,h,m)=>{if(!r||!(t!=null&&t.id))throw new Error("User must be authenticated to get a conversation");if(t.id===u)throw new Error("Cannot create a conversation with yourself");const g=pf(t.id,u);if(n.current[g])return n.current[g];const{conversationId:v}=await dj(t.id,u,f,h,m);return n.current[g]=v,v},i=(u,f,h,m)=>{if(!r||!(t!=null&&t.id)||t.id===u)return;const g=pf(t.id,u);n.current[g]||s.current.has(g)||(s.current.add(g),setTimeout(async()=>{try{const{conversationId:v}=await dj(t.id,u,f,h,m);n.current[g]=v,console.log(`[ChatContext] Preloaded conversation: ${g} -> ${v}`)}catch(v){console.error("[ChatContext] Error preloading conversation:",v)}finally{s.current.delete(g)}},1e3))},a=u=>{if(!(t!=null&&t.id))return!1;const f=pf(t.id,u);return!!n.current[f]},c=u=>{if(!(t!=null&&t.id))return;const f=pf(t.id,u);return n.current[f]},d=()=>{n.current={},s.current.clear()};return p.useEffect(()=>{d()},[t==null?void 0:t.id]),l.jsx(AT.Provider,{value:{getConversationId:o,preloadConversation:i,isConversationCached:a,getCachedConversationId:c,clearCache:d},children:e})}function RT(){const e=p.useContext(AT);if(e===void 0)throw new Error("useChat must be used within a ChatProvider");return e}function bX({isOpen:e,onOpenChange:t,otherUserId:r,listingId:n,listingType:s,listingTitle:o,preloadedConversationId:i}){const{user:a,isAuthenticated:c}=Bt(),{getConversationId:d}=RT(),[u,f]=p.useState(null),[h,m]=p.useState(!1),[g,v]=p.useState(!1),[b,y]=p.useState(void 0),x=p.useRef(!1);return p.useEffect(()=>{if(i&&e&&!x.current){console.log("[ChatDialog] Using preloaded conversation ID:",i),f(i),x.current=!0;return}(async()=>{if(!(x.current||!e)){if(!c||!(a!=null&&a.id)){console.log("[ChatDialog] Skipping conversation initialization - conditions not met");return}if(!r){console.log("[ChatDialog] Other user ID is missing"),y("Host information is missing. Unable to start conversation.");return}if(a.id===r){console.log("[ChatDialog] Self-messaging detected"),v(!0);return}try{m(!0),y(void 0);const j=await d(r,n,s,o);console.log(`[ChatDialog] Got conversation ID: ${j}`),f(j),x.current=!0}catch(j){console.error("[ChatDialog] Error initializing conversation:",j),y("Failed to start conversation. Please try again later."),je.error("Failed to start conversation"),t(!1)}finally{m(!1)}}})();let S=e;return()=>{S&&!e&&(x.current=!1,f(null))}},[e,a==null?void 0:a.id,r,c,n,s,o,t,d,i]),l.jsx(lm,{open:e,onOpenChange:t,children:l.jsxs(ld,{className:"sm:max-w-[500px] h-[600px] p-0 overflow-hidden flex flex-col",children:[l.jsx(cd,{children:l.jsx(cm,{children:"Chat with Host"})}),c?u?l.jsx(OT,{conversationId:u,otherParticipantId:r,listingId:n,listingType:s,onClose:()=>t(!1)}):l.jsx("div",{className:"flex items-center justify-center h-full p-6",children:l.jsx("div",{className:"text-center",children:h?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-4",children:"Setting up your conversation..."})]}):g?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-lg",children:"You can't message yourself"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please message another user"})]}):b?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-lg",children:b}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please check the listing and try again"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-lg",children:"Unable to start conversation"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please try again later"})]})})}):l.jsx("div",{className:"flex items-center justify-center h-full p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg",children:"Please sign in to chat"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"You need to be logged in to send messages"})]})})]})})}function Qh({hostId:e,listingId:t,listingType:r,listingTitle:n,variant:s="default",className:o,children:i,...a}){const[c,d]=p.useState(!1),{isAuthenticated:u,user:f}=Bt(),{preloadConversation:h,getCachedConversationId:m}=RT();p.useEffect(()=>{u&&(f!=null&&f.id)&&e&&h(e,t,r,n)},[u,f==null?void 0:f.id,e,t,r,n,h]);const g=()=>{if(!u){je.error("Please sign in to message the host",{description:"You need to be logged in to start a conversation",action:{label:"Sign In",onClick:()=>window.location.href="/login"}});return}d(!0)};return l.jsxs(l.Fragment,{children:[l.jsxs(re,{variant:s,className:o,onClick:g,...a,children:[l.jsx(rl,{className:"w-4 h-4 mr-2"}),i||"Message Host"]}),c&&l.jsx(bX,{isOpen:c,onOpenChange:d,otherUserId:e,listingId:t,listingType:r,listingTitle:n,preloadedConversationId:f!=null&&f.id?m(e):void 0})]})}async function IT(e,t){const{data:r,error:n}=await Y.from("reviews").select("rating").eq("target_id",e).eq("target_type",t);return n?(console.error("Error fetching ratings:",n),0):!r||r.length===0?0:r.reduce((o,i)=>o+i.rating,0)/r.length}async function $T(e,t){const{count:r,error:n}=await Y.from("reviews").select("id",{count:"exact",head:!1}).eq("target_id",e).eq("target_type",t);return n?(console.error("Error counting reviews:",n),0):r||0}const wX=["places"],SX="AIzaSyDpB03uqoC8eWmdG8KRlBdiJaHWbXmtMgE",pj=()=>{var w,S;const{id:e}=Zu(),[t,r]=p.useState(null),[n,s]=p.useState(!0),[o,i]=p.useState(!1);p.useState(!1);const[a,c]=p.useState(0);p.useRef(null);const[d,u]=p.useState(0),[f,h]=p.useState(0),[m,g]=p.useState(0),{isLoaded:v}=Dl({googleMapsApiKey:SX,libraries:wX,id:"google-map-script"}),b=j=>j?j.startsWith("http")?j:j.startsWith("food-experience-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${j}`:j:"/default-food.jpg";p.useEffect(()=>{const j=async()=>{if(e)try{s(!0);const M=await nx(e);if(M){const k={...M,images:M.images.map(_=>({..._,url:b(_.url)}))};r(k);const E=await HW(e);i(E)}}catch(M){console.error("Error:",M)}finally{s(!1)}},C=async()=>{if(e)try{const M=await IT(e,"food_experience"),k=await $T(e,"food_experience");u(M),h(k)}catch(M){console.error("Error fetching review stats:",M)}};j(),C()},[e,m]);const y=()=>{g(j=>j+1)},x=async()=>{if(e)try{const j=await GW(e);i(j)}catch(j){console.error("Error toggling favorite status:",j)}};return n?l.jsx(Ft,{children:l.jsx("div",{className:"container mx-auto px-4 py-16 flex items-center justify-center min-h-[60vh]",children:l.jsxs("div",{className:"text-center",children:[l.jsx(rt,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),l.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"Loading food details..."})]})})}):t?l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:t.title}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(_s,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),l.jsx("span",{className:"font-medium",children:d.toFixed(1)}),l.jsxs("span",{children:["(",f," reviews)"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Gs,{className:"w-4 h-4"}),l.jsx("span",{children:t.details.location})]}),l.jsx(or,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:t.cuisine_type})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Gh,{children:l.jsxs(qh,{children:[l.jsx(Yh,{asChild:!0,children:l.jsx(re,{variant:"outline",size:"icon",onClick:x,className:o?"text-red-500":"",children:l.jsx(A0,{className:`w-5 h-5 ${o?"fill-red-500":""}`})})}),l.jsx(Eu,{children:l.jsx("p",{children:o?"Remove from favorites":"Add to favorites"})})]})}),l.jsx(Gh,{children:l.jsxs(qh,{children:[l.jsx(Yh,{asChild:!0,children:l.jsx(re,{variant:"outline",size:"icon",children:l.jsx(T2,{className:"w-5 h-5"})})}),l.jsx(Eu,{children:l.jsx("p",{children:"Share this food"})})]})})]})]})}),l.jsx("div",{className:"mb-12",children:t.images&&t.images.length>0&&l.jsx(KD,{images:t.images.map((j,C)=>({url:j.url,order:C,caption:`${t.title} - Image ${C+1}`})),initialIndex:a})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-8",children:[l.jsx("div",{children:l.jsxs(ra,{defaultValue:"about",className:"mb-12",children:[l.jsxs(fi,{className:"mb-6",children:[l.jsx(xt,{value:"about",children:"About"}),l.jsx(xt,{value:"menu",children:"Menu"}),l.jsx(xt,{value:"host",children:"Host"}),l.jsx(xt,{value:"reviews",children:"Reviews"}),l.jsx(xt,{value:"location",children:"Location"})]}),l.jsx(bt,{value:"about",className:"space-y-8",children:l.jsxs(Oe,{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"About this food"}),l.jsx("p",{className:"text-muted-foreground whitespace-pre-line leading-relaxed",children:t.description}),l.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[l.jsx(du,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Cuisine Type"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.cuisine_type})]})]})]})}),l.jsx(bt,{value:"menu",className:"space-y-8",children:l.jsxs(Oe,{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Menu"}),l.jsx("p",{className:"text-muted-foreground whitespace-pre-line leading-relaxed",children:t.menu_description}),l.jsxs("div",{className:"mt-8 p-4 bg-primary/5 rounded-lg border border-primary/10",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(D2,{className:"w-5 h-5 text-primary"}),l.jsx("p",{className:"font-medium",children:"Price"})]}),l.jsxs("p",{className:"text-lg font-semibold",children:["$",t.price_per_person," per person"]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Pay directly to the host when you visit"})]})]})}),l.jsx(bt,{value:"host",className:"space-y-8",children:l.jsxs(Oe,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsxs(Es,{className:"w-16 h-16",children:[l.jsx(ks,{src:t.host.image,alt:t.host.name}),l.jsx(Ns,{children:t.host.name.charAt(0)})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-semibold",children:["Hosted by ",t.host.name]}),l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(_s,{className:"w-4 h-4 text-yellow-500 fill-yellow-500 mr-1"}),l.jsx("span",{className:"font-medium",children:t.host.rating}),l.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",t.host.reviews," reviews)"]})]})]})]}),l.jsx("p",{className:"text-muted-foreground mb-6",children:t.host.about||"I'm passionate about sharing authentic cuisine from my culture. I've been cooking traditional dishes for over 15 years and love meeting people from around the world who appreciate our food traditions."}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:l.jsx(Qh,{hostId:(w=t.host)==null?void 0:w.id,listingId:e||"",listingType:"food_experience",listingTitle:t.title,className:"w-full",children:"Message Host"})})]})}),l.jsx(bt,{value:"reviews",className:"space-y-8",children:l.jsx(xT,{listingId:e||"",listingType:"food_experience",averageRating:d,reviewCount:f,onReviewSubmitted:y})}),l.jsx(bt,{value:"location",className:"space-y-8",children:l.jsxs(Oe,{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Location"}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("p",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Gs,{className:"w-5 h-5 text-primary"}),l.jsx("span",{className:"font-medium",children:t.details.location})]}),l.jsx("p",{className:"text-muted-foreground ml-7",children:"Exact address will be provided after you contact the host"})]}),l.jsx("div",{className:"rounded-lg overflow-hidden mb-6 h-[300px]",children:v?t.coordinates?l.jsx(ad,{zoom:14,center:t.coordinates,mapContainerClassName:"w-full h-full",options:{styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},children:l.jsx(il,{position:t.coordinates,icon:{url:"/images/food-marker.svg",scaledSize:new google.maps.Size(40,40)}})}):l.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:l.jsx("p",{className:"text-muted-foreground",children:"Location coordinates not available"})}):l.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:l.jsx(rt,{className:"h-8 w-8 animate-spin text-primary"})})}),t.coordinates&&l.jsx("div",{className:"flex justify-center mb-4",children:l.jsxs(re,{variant:"outline",onClick:()=>{var j,C;return window.open(`https://www.google.com/maps/dir/?api=1&destination=${(j=t.coordinates)==null?void 0:j.lat},${(C=t.coordinates)==null?void 0:C.lng}`,"_blank")},children:[l.jsx(R0,{className:"w-4 h-4 mr-2"}),"Get Directions"]})})]})})]})}),l.jsx("div",{children:l.jsxs(Oe,{className:"p-6 sticky top-24 mb-6",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsxs("div",{children:[l.jsxs("span",{className:"text-3xl font-bold",children:["$",t.price_per_person]}),l.jsx("span",{className:"text-muted-foreground ml-1",children:"per person"})]})}),l.jsx(mt,{className:"my-4"}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Gs,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Location"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.details.location})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(du,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Cuisine"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.cuisine_type})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jl,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Host"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.host.name})]})]})]}),l.jsx(mt,{className:"my-4"}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:l.jsx(Qh,{hostId:(S=t.host)==null?void 0:S.id,listingId:e||"",listingType:"food_experience",listingTitle:t.title,variant:"outline",children:"Message Host"})}),l.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4",children:"Contact the host to arrange your visit"})]})})]})]})}):l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Food not found"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"The food you're looking for doesn't exist or has been removed."}),l.jsx(re,{children:"Browse Foods"})]})})};var Pe=function(){return Pe=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Pe.apply(this,arguments)};function CX(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function FT(e,t,r){for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Sd(e){return e.mode==="multiple"}function Cd(e){return e.mode==="range"}function $m(e){return e.mode==="single"}var _X={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function jX(e,t){return kt(e,"LLLL y",t)}function EX(e,t){return kt(e,"d",t)}function kX(e,t){return kt(e,"LLLL",t)}function NX(e){return"".concat(e)}function PX(e,t){return kt(e,"cccccc",t)}function MX(e,t){return kt(e,"yyyy",t)}var LX=Object.freeze({__proto__:null,formatCaption:jX,formatDay:EX,formatMonthCaption:kX,formatWeekNumber:NX,formatWeekdayName:PX,formatYearCaption:MX}),DX=function(e,t,r){return kt(e,"do MMMM (EEEE)",r)},TX=function(){return"Month: "},OX=function(){return"Go to next month"},AX=function(){return"Go to previous month"},RX=function(e,t){return kt(e,"cccc",t)},IX=function(e){return"Week n. ".concat(e)},$X=function(){return"Year: "},FX=Object.freeze({__proto__:null,labelDay:DX,labelMonthDropdown:TX,labelNext:OX,labelPrevious:AX,labelWeekNumber:IX,labelWeekday:RX,labelYearDropdown:$X});function BX(){var e="buttons",t=_X,r=pb,n={},s={},o=1,i={},a=new Date;return{captionLayout:e,classNames:t,formatters:LX,labels:FX,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:o,styles:i,today:a,mode:"default"}}function UX(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return n?o=Qr(n):t&&(o=new Date(t,0,1)),s?i=am(s):r&&(i=new Date(r,11,31)),{fromDate:o?al(o):void 0,toDate:i?al(i):void 0}}var BT=p.createContext(void 0);function zX(e){var t,r=e.initialProps,n=BX(),s=UX(r),o=s.fromDate,i=s.toDate,a=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;a!=="buttons"&&(!o||!i)&&(a="buttons");var c;($m(r)||Sd(r)||Cd(r))&&(c=r.onSelect);var d=Pe(Pe(Pe({},n),r),{captionLayout:a,classNames:Pe(Pe({},n.classNames),r.classNames),components:Pe({},r.components),formatters:Pe(Pe({},n.formatters),r.formatters),fromDate:o,labels:Pe(Pe({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Pe(Pe({},n.modifiers),r.modifiers),modifiersClassNames:Pe(Pe({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Pe(Pe({},n.styles),r.styles),toDate:i});return l.jsx(BT.Provider,{value:d,children:e.children})}function wt(){var e=p.useContext(BT);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function UT(e){var t=wt(),r=t.locale,n=t.classNames,s=t.styles,o=t.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:r})})}function WX(e){return l.jsx("svg",Pe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function zT(e){var t,r,n=e.onChange,s=e.value,o=e.children,i=e.caption,a=e.className,c=e.style,d=wt(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:WX;return l.jsxs("div",{className:a,style:c,children:[l.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:n,children:o}),l.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[i,l.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function VX(e){var t,r=wt(),n=r.fromDate,s=r.toDate,o=r.styles,i=r.locale,a=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var f=[];if(NW(n,s))for(var h=Qr(n),m=n.getMonth();m<=s.getMonth();m++)f.push(Zg(h,m));else for(var h=Qr(new Date),m=0;m<=11;m++)f.push(Zg(h,m));var g=function(b){var y=Number(b.target.value),x=Zg(Qr(e.displayMonth),y);e.onChange(x)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:zT;return l.jsx(v,{name:"months","aria-label":u(),className:c.dropdown_month,style:o.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:a(e.displayMonth,{locale:i}),children:f.map(function(b){return l.jsx("option",{value:b.getMonth(),children:a(b,{locale:i})},b.getMonth())})})}function HX(e){var t,r=e.displayMonth,n=wt(),s=n.fromDate,o=n.toDate,i=n.locale,a=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!s)return l.jsx(l.Fragment,{});if(!o)return l.jsx(l.Fragment,{});for(var m=s.getFullYear(),g=o.getFullYear(),v=m;v<=g;v++)h.push(v_(pM(new Date),v));var b=function(x){var w=v_(Qr(r),Number(x.target.value));e.onChange(w)},y=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:zT;return l.jsx(y,{name:"years","aria-label":f(),className:c.dropdown_year,style:a.dropdown_year,onChange:b,value:r.getFullYear(),caption:u(r,{locale:i}),children:h.map(function(x){return l.jsx("option",{value:x.getFullYear(),children:u(x,{locale:i})},x.getFullYear())})})}function GX(e,t){var r=p.useState(e),n=r[0],s=r[1],o=t===void 0?n:t;return[o,s]}function qX(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,o=e.toDate,i=e.fromDate,a=e.numberOfMonths,c=a===void 0?1:a;if(o&&cl(o,s)<0){var d=-1*(c-1);s=ts(o,d)}return i&&cl(s,i)<0&&(s=i),Qr(s)}function YX(){var e=wt(),t=qX(e),r=GX(t,e.month),n=r[0],s=r[1],o=function(i){var a;if(!e.disableNavigation){var c=Qr(i);s(c),(a=e.onMonthChange)===null||a===void 0||a.call(e,c)}};return[n,o]}function KX(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Qr(e),o=Qr(ts(s,n)),i=cl(o,s),a=[],c=0;c<i;c++){var d=ts(s,c);a.push(d)}return r&&(a=a.reverse()),a}function ZX(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=n?o:1,a=Qr(e);if(!r)return ts(a,i);var c=cl(r,e);if(!(c<o))return ts(a,i)}}function XX(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=n?o:1,a=Qr(e);if(!r)return ts(a,-i);var c=cl(a,r);if(!(c<=0))return ts(a,-i)}}var WT=p.createContext(void 0);function QX(e){var t=wt(),r=YX(),n=r[0],s=r[1],o=KX(n,t),i=ZX(n,t),a=XX(n,t),c=function(f){return o.some(function(h){return mb(f,h)})},d=function(f,h){c(f)||(h&&wM(f,h)?s(ts(f,1+t.numberOfMonths*-1)):s(f))},u={currentMonth:n,displayMonths:o,goToMonth:s,goToDate:d,previousMonth:a,nextMonth:i,isDateDisplayed:c};return l.jsx(WT.Provider,{value:u,children:e.children})}function _d(){var e=p.useContext(WT);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function mj(e){var t,r=wt(),n=r.classNames,s=r.styles,o=r.components,i=_d().goToMonth,a=function(u){i(ts(u,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:UT,d=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:d}),l.jsx(VX,{onChange:a,displayMonth:e.displayMonth}),l.jsx(HX,{onChange:a,displayMonth:e.displayMonth})]})}function JX(e){return l.jsx("svg",Pe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function eQ(e){return l.jsx("svg",Pe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Jh=p.forwardRef(function(e,t){var r=wt(),n=r.classNames,s=r.styles,o=[n.button_reset,n.button];e.className&&o.push(e.className);var i=o.join(" "),a=Pe(Pe({},s.button_reset),s.button);return e.style&&Object.assign(a,e.style),l.jsx("button",Pe({},e,{ref:t,type:"button",className:i,style:a}))});function tQ(e){var t,r,n=wt(),s=n.dir,o=n.locale,i=n.classNames,a=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var h=d(e.previousMonth,{locale:o}),m=[i.nav_button,i.nav_button_previous].join(" "),g=u(e.nextMonth,{locale:o}),v=[i.nav_button,i.nav_button_next].join(" "),b=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:eQ,y=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:JX;return l.jsxs("div",{className:i.nav,style:a.nav,children:[!e.hidePrevious&&l.jsx(Jh,{name:"previous-month","aria-label":h,className:m,style:a.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(b,{className:i.nav_icon,style:a.nav_icon}):l.jsx(y,{className:i.nav_icon,style:a.nav_icon})}),!e.hideNext&&l.jsx(Jh,{name:"next-month","aria-label":g,className:v,style:a.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(y,{className:i.nav_icon,style:a.nav_icon}):l.jsx(b,{className:i.nav_icon,style:a.nav_icon})})]})}function gj(e){var t=wt().numberOfMonths,r=_d(),n=r.previousMonth,s=r.nextMonth,o=r.goToMonth,i=r.displayMonths,a=i.findIndex(function(g){return mb(e.displayMonth,g)}),c=a===0,d=a===i.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),h=function(){n&&o(n)},m=function(){s&&o(s)};return l.jsx(tQ,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:s,previousMonth:n,onPreviousClick:h,onNextClick:m})}function rQ(e){var t,r=wt(),n=r.classNames,s=r.disableNavigation,o=r.styles,i=r.captionLayout,a=r.components,c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:UT,d;return s?d=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?d=l.jsx(mj,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?d=l.jsxs(l.Fragment,{children:[l.jsx(mj,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(gj,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(gj,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:n.caption,style:o.caption,children:d})}function nQ(e){var t=wt(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?l.jsx("tfoot",{className:s,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:r})})}):l.jsx(l.Fragment,{})}function sQ(e,t,r){for(var n=r?Bi(new Date):Ps(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=Qt(n,o);s.push(i)}return s}function oQ(){var e=wt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,a=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=sQ(s,o,i);return l.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&l.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return l.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:s}),children:a(u,{locale:s})},f)})]})}function iQ(){var e,t=wt(),r=t.classNames,n=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:oQ;return l.jsx("thead",{style:n.head,className:r.head,children:l.jsx(o,{})})}function aQ(e){var t=wt(),r=t.locale,n=t.formatters.formatDay;return l.jsx(l.Fragment,{children:n(e.date,{locale:r})})}var iw=p.createContext(void 0);function lQ(e){if(!Sd(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(iw.Provider,{value:t,children:e.children})}return l.jsx(cQ,{initialProps:e.initialProps,children:e.children})}function cQ(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,o=t.max,i=function(d,u,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,d,u,f);var g=!!(u.selected&&s&&(n==null?void 0:n.length)===s);if(!g){var v=!!(!u.selected&&o&&(n==null?void 0:n.length)===o);if(!v){var b=n?FT([],n):[];if(u.selected){var y=b.findIndex(function(x){return qr(d,x)});b.splice(y,1)}else b.push(d);(m=t.onSelect)===null||m===void 0||m.call(t,b,d,u,f)}}},a={disabled:[]};n&&a.disabled.push(function(d){var u=o&&n.length>o-1,f=n.some(function(h){return qr(h,d)});return!!(u&&!f)});var c={selected:n,onDayClick:i,modifiers:a};return l.jsx(iw.Provider,{value:c,children:r})}function aw(){var e=p.useContext(iw);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function uQ(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?qr(s,e)&&qr(n,e)?void 0:qr(s,e)?{from:s,to:void 0}:qr(n,e)?void 0:rx(n,e)?{from:e,to:s}:{from:n,to:e}:s?rx(e,s)?{from:s,to:e}:{from:e,to:s}:n?wM(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var lw=p.createContext(void 0);function dQ(e){if(!Cd(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(lw.Provider,{value:t,children:e.children})}return l.jsx(fQ,{initialProps:e.initialProps,children:e.children})}function fQ(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},o=s.from,i=s.to,a=t.min,c=t.max,d=function(m,g,v){var b,y;(b=t.onDayClick)===null||b===void 0||b.call(t,m,g,v);var x=uQ(m,n);(y=t.onSelect)===null||y===void 0||y.call(t,x,m,g,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],i?(u.range_end=[i],qr(o,i)||(u.range_middle=[{after:o,before:i}])):u.range_end=[o]):i&&(u.range_start=[i],u.range_end=[i]),a&&(o&&!i&&u.disabled.push({after:Yg(o,a-1),before:Qt(o,a-1)}),o&&i&&u.disabled.push({after:o,before:Qt(o,a-1)}),!o&&i&&u.disabled.push({after:Yg(i,a-1),before:Qt(i,a-1)})),c){if(o&&!i&&(u.disabled.push({before:Qt(o,-c+1)}),u.disabled.push({after:Qt(o,c-1)})),o&&i){var f=Gn(i,o)+1,h=c-f;u.disabled.push({before:Yg(o,h)}),u.disabled.push({after:Qt(i,h)})}!o&&i&&(u.disabled.push({before:Qt(i,-c+1)}),u.disabled.push({after:Qt(i,c-1)}))}return l.jsx(lw.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function cw(){var e=p.useContext(lw);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Rf(e){return Array.isArray(e)?FT([],e):e!==void 0?[e]:[]}function hQ(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=Rf(s)}),t}var rs;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(rs||(rs={}));var pQ=rs.Selected,As=rs.Disabled,mQ=rs.Hidden,gQ=rs.Today,fv=rs.RangeEnd,hv=rs.RangeMiddle,pv=rs.RangeStart,vQ=rs.Outside;function yQ(e,t,r){var n,s=(n={},n[pQ]=Rf(e.selected),n[As]=Rf(e.disabled),n[mQ]=Rf(e.hidden),n[gQ]=[e.today],n[fv]=[],n[hv]=[],n[pv]=[],n[vQ]=[],n);return e.fromDate&&s[As].push({before:e.fromDate}),e.toDate&&s[As].push({after:e.toDate}),Sd(e)?s[As]=s[As].concat(t.modifiers[As]):Cd(e)&&(s[As]=s[As].concat(r.modifiers[As]),s[pv]=r.modifiers[pv],s[hv]=r.modifiers[hv],s[fv]=r.modifiers[fv]),s}var VT=p.createContext(void 0);function xQ(e){var t=wt(),r=aw(),n=cw(),s=yQ(t,r,n),o=hQ(t.modifiers),i=Pe(Pe({},s),o);return l.jsx(VT.Provider,{value:i,children:e.children})}function HT(){var e=p.useContext(VT);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function bQ(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function wQ(e){return!!(e&&typeof e=="object"&&"from"in e)}function SQ(e){return!!(e&&typeof e=="object"&&"after"in e)}function CQ(e){return!!(e&&typeof e=="object"&&"before"in e)}function _Q(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function jQ(e,t){var r,n=t.from,s=t.to;if(n&&s){var o=Gn(s,n)<0;o&&(r=[s,n],n=r[0],s=r[1]);var i=Gn(e,n)>=0&&Gn(s,e)>=0;return i}return s?qr(s,e):n?qr(n,e):!1}function EQ(e){return fb(e)}function kQ(e){return Array.isArray(e)&&e.every(fb)}function NQ(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(EQ(r))return qr(e,r);if(kQ(r))return r.includes(e);if(wQ(r))return jQ(e,r);if(_Q(r))return r.dayOfWeek.includes(e.getDay());if(bQ(r)){var n=Gn(r.before,e),s=Gn(r.after,e),o=n>0,i=s<0,a=rx(r.before,r.after);return a?i&&o:o||i}return SQ(r)?Gn(e,r.after)>0:CQ(r)?Gn(r.before,e)>0:typeof r=="function"?r(e):!1})}function uw(e,t,r){var n=Object.keys(t).reduce(function(o,i){var a=t[i];return NQ(e,a)&&o.push(i),o},[]),s={};return n.forEach(function(o){return s[o]=!0}),r&&!mb(e,r)&&(s.outside=!0),s}function PQ(e,t){for(var r=Qr(e[0]),n=am(e[e.length-1]),s,o,i=r;i<=n;){var a=uw(i,t),c=!a.disabled&&!a.hidden;if(!c){i=Qt(i,1);continue}if(a.selected)return i;a.today&&!o&&(o=i),s||(s=i),i=Qt(i,1)}return o||s}var MQ=365;function GT(e,t){var r=t.moveBy,n=t.direction,s=t.context,o=t.modifiers,i=t.retry,a=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,d=s.fromDate,u=s.toDate,f=s.locale,h={day:Qt,week:tx,month:ts,year:g9,startOfWeek:function(b){return s.ISOWeek?Bi(b):Ps(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return s.ISOWeek?mM(b):hb(b,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&d?m=v9([d,m]):n==="after"&&u&&(m=y9([u,m]));var g=!0;if(o){var v=uw(m,o);g=!v.disabled&&!v.hidden}return g?m:a.count>MQ?a.lastFocused:GT(m,{moveBy:r,direction:n,context:s,modifiers:o,retry:Pe(Pe({},a),{count:a.count+1})})}var qT=p.createContext(void 0);function LQ(e){var t=_d(),r=HT(),n=p.useState(),s=n[0],o=n[1],i=p.useState(),a=i[0],c=i[1],d=PQ(t.displayMonths,r),u=s??(a&&t.isDateDisplayed(a))?a:d,f=function(){c(s),o(void 0)},h=function(b){o(b)},m=wt(),g=function(b,y){if(s){var x=GT(s,{moveBy:b,direction:y,context:m,modifiers:r});qr(s,x)||(t.goToDate(x,s),h(x))}},v={focusedDay:s,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return l.jsx(qT.Provider,{value:v,children:e.children})}function dw(){var e=p.useContext(qT);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function DQ(e,t){var r=HT(),n=uw(e,r,t);return n}var fw=p.createContext(void 0);function TQ(e){if(!$m(e.initialProps)){var t={selected:void 0};return l.jsx(fw.Provider,{value:t,children:e.children})}return l.jsx(OQ,{initialProps:e.initialProps,children:e.children})}function OQ(e){var t=e.initialProps,r=e.children,n=function(o,i,a){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,a),i.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,o,i,a);return}(u=t.onSelect)===null||u===void 0||u.call(t,o,o,i,a)},s={selected:t.selected,onDayClick:n};return l.jsx(fw.Provider,{value:s,children:r})}function YT(){var e=p.useContext(fw);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function AQ(e,t){var r=wt(),n=YT(),s=aw(),o=cw(),i=dw(),a=i.focusDayAfter,c=i.focusDayBefore,d=i.focusWeekAfter,u=i.focusWeekBefore,f=i.blur,h=i.focus,m=i.focusMonthBefore,g=i.focusMonthAfter,v=i.focusYearBefore,b=i.focusYearAfter,y=i.focusStartOfWeek,x=i.focusEndOfWeek,w=function(N){var O,R,B,V;$m(r)?(O=n.onDayClick)===null||O===void 0||O.call(n,e,t,N):Sd(r)?(R=s.onDayClick)===null||R===void 0||R.call(s,e,t,N):Cd(r)?(B=o.onDayClick)===null||B===void 0||B.call(o,e,t,N):(V=r.onDayClick)===null||V===void 0||V.call(r,e,t,N)},S=function(N){var O;h(e),(O=r.onDayFocus)===null||O===void 0||O.call(r,e,t,N)},j=function(N){var O;f(),(O=r.onDayBlur)===null||O===void 0||O.call(r,e,t,N)},C=function(N){var O;(O=r.onDayMouseEnter)===null||O===void 0||O.call(r,e,t,N)},M=function(N){var O;(O=r.onDayMouseLeave)===null||O===void 0||O.call(r,e,t,N)},k=function(N){var O;(O=r.onDayPointerEnter)===null||O===void 0||O.call(r,e,t,N)},E=function(N){var O;(O=r.onDayPointerLeave)===null||O===void 0||O.call(r,e,t,N)},_=function(N){var O;(O=r.onDayTouchCancel)===null||O===void 0||O.call(r,e,t,N)},P=function(N){var O;(O=r.onDayTouchEnd)===null||O===void 0||O.call(r,e,t,N)},D=function(N){var O;(O=r.onDayTouchMove)===null||O===void 0||O.call(r,e,t,N)},L=function(N){var O;(O=r.onDayTouchStart)===null||O===void 0||O.call(r,e,t,N)},A=function(N){var O;(O=r.onDayKeyUp)===null||O===void 0||O.call(r,e,t,N)},$=function(N){var O;switch(N.key){case"ArrowLeft":N.preventDefault(),N.stopPropagation(),r.dir==="rtl"?a():c();break;case"ArrowRight":N.preventDefault(),N.stopPropagation(),r.dir==="rtl"?c():a();break;case"ArrowDown":N.preventDefault(),N.stopPropagation(),d();break;case"ArrowUp":N.preventDefault(),N.stopPropagation(),u();break;case"PageUp":N.preventDefault(),N.stopPropagation(),N.shiftKey?v():m();break;case"PageDown":N.preventDefault(),N.stopPropagation(),N.shiftKey?b():g();break;case"Home":N.preventDefault(),N.stopPropagation(),y();break;case"End":N.preventDefault(),N.stopPropagation(),x();break}(O=r.onDayKeyDown)===null||O===void 0||O.call(r,e,t,N)},T={onClick:w,onFocus:S,onBlur:j,onKeyDown:$,onKeyUp:A,onMouseEnter:C,onMouseLeave:M,onPointerEnter:k,onPointerLeave:E,onTouchCancel:_,onTouchEnd:P,onTouchMove:D,onTouchStart:L};return T}function RQ(){var e=wt(),t=YT(),r=aw(),n=cw(),s=$m(e)?t.selected:Sd(e)?r.selected:Cd(e)?n.selected:void 0;return s}function IQ(e){return Object.values(rs).includes(e)}function $Q(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(IQ(n)){var o=e.classNames["day_".concat(n)];o&&r.push(o)}}),r}function FQ(e,t){var r=Pe({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=Pe(Pe({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function BQ(e,t,r){var n,s,o,i=wt(),a=dw(),c=DQ(e,t),d=AQ(e,c),u=RQ(),f=!!(i.onDayClick||i.mode!=="default");p.useEffect(function(){var C;c.outside||a.focusedDay&&f&&qr(a.focusedDay,e)&&((C=r.current)===null||C===void 0||C.focus())},[a.focusedDay,e,r,f,c.outside]);var h=$Q(i,c).join(" "),m=FQ(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),v=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:aQ,b=l.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),y={style:m,className:h,children:b,role:"gridcell"},x=a.focusTarget&&qr(a.focusTarget,e)&&!c.outside,w=a.focusedDay&&qr(a.focusedDay,e),S=Pe(Pe(Pe({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||x?0:-1,n)),d),j={isButton:f,isHidden:g,activeModifiers:c,selectedDays:u,buttonProps:S,divProps:y};return j}function UQ(e){var t=p.useRef(null),r=BQ(e.date,e.displayMonth,t);return r.isHidden?l.jsx("div",{role:"gridcell"}):r.isButton?l.jsx(Jh,Pe({name:"day",ref:t},r.buttonProps)):l.jsx("div",Pe({},r.divProps))}function zQ(e){var t=e.number,r=e.dates,n=wt(),s=n.onWeekNumberClick,o=n.styles,i=n.classNames,a=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:a});if(!s)return l.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:u});var f=c(Number(t),{locale:a}),h=function(m){s(t,r,m)};return l.jsx(Jh,{name:"week-number","aria-label":f,className:i.weeknumber,style:o.weeknumber,onClick:h,children:u})}function WQ(e){var t,r,n=wt(),s=n.styles,o=n.classNames,i=n.showWeekNumber,a=n.components,c=(t=a==null?void 0:a.Day)!==null&&t!==void 0?t:UQ,d=(r=a==null?void 0:a.WeekNumber)!==null&&r!==void 0?r:zQ,u;return i&&(u=l.jsx("td",{className:o.cell,style:s.cell,children:l.jsx(d,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:o.row,style:s.row,children:[u,e.dates.map(function(f){return l.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:f})},jW(f))})]})}function vj(e,t,r){for(var n=r!=null&&r.ISOWeek?mM(t):hb(t,r),s=r!=null&&r.ISOWeek?Bi(e):Ps(e,r),o=Gn(n,s),i=[],a=0;a<=o;a++)i.push(Qt(s,a));var c=i.reduce(function(d,u){var f=r!=null&&r.ISOWeek?gM(u):yM(u,r),h=d.find(function(m){return m.weekNumber===f});return h?(h.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function VQ(e,t){var r=vj(Qr(e),am(e),t);if(t!=null&&t.useFixedWeeks){var n=kW(e,t);if(n<6){var s=r[r.length-1],o=s.dates[s.dates.length-1],i=tx(o,6-n),a=vj(tx(o,1),i,t);r.push.apply(r,a)}}return r}function HQ(e){var t,r,n,s=wt(),o=s.locale,i=s.classNames,a=s.styles,c=s.hideHead,d=s.fixedWeeks,u=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,m=s.ISOWeek,g=VQ(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:m,locale:o,weekStartsOn:f,firstWeekContainsDate:h}),v=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:iQ,b=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:WQ,y=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:nQ;return l.jsxs("table",{id:e.id,className:i.table,style:a.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(v,{}),l.jsx("tbody",{className:i.tbody,style:a.tbody,children:g.map(function(x){return l.jsx(b,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),l.jsx(y,{displayMonth:e.displayMonth})]})}function GQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var qQ=GQ()?p.useLayoutEffect:p.useEffect,mv=!1,YQ=0;function yj(){return"react-day-picker-".concat(++YQ)}function KQ(e){var t,r=e??(mv?yj():null),n=p.useState(r),s=n[0],o=n[1];return qQ(function(){s===null&&o(yj())},[]),p.useEffect(function(){mv===!1&&(mv=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function ZQ(e){var t,r,n=wt(),s=n.dir,o=n.classNames,i=n.styles,a=n.components,c=_d().displayMonths,d=KQ(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[o.month],h=i.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,v=!m&&!g;s==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(f.push(o.caption_start),h=Pe(Pe({},h),i.caption_start)),g&&(f.push(o.caption_end),h=Pe(Pe({},h),i.caption_end)),v&&(f.push(o.caption_between),h=Pe(Pe({},h),i.caption_between));var b=(r=a==null?void 0:a.Caption)!==null&&r!==void 0?r:rQ;return l.jsxs("div",{className:f.join(" "),style:h,children:[l.jsx(b,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(HQ,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function XQ(e){var t=wt(),r=t.classNames,n=t.styles;return l.jsx("div",{className:r.months,style:n.months,children:e.children})}function QQ(e){var t,r,n=e.initialProps,s=wt(),o=dw(),i=_d(),a=p.useState(!1),c=a[0],d=a[1];p.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),d(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var u=[s.classNames.root,s.className];s.numberOfMonths>1&&u.push(s.classNames.multiple_months),s.showWeekNumber&&u.push(s.classNames.with_weeknumber);var f=Pe(Pe({},s.styles.root),s.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,v){var b;return Pe(Pe({},g),(b={},b[v]=n[v],b))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:XQ;return l.jsx("div",Pe({className:u.join(" "),style:f,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:l.jsx(m,{children:i.displayMonths.map(function(g,v){return l.jsx(ZQ,{displayIndex:v,displayMonth:g},v)})})}))}function JQ(e){var t=e.children,r=CX(e,["children"]);return l.jsx(zX,{initialProps:r,children:l.jsx(QX,{children:l.jsx(TQ,{initialProps:r,children:l.jsx(lQ,{initialProps:r,children:l.jsx(dQ,{initialProps:r,children:l.jsx(xQ,{children:l.jsx(LQ,{children:t})})})})})})})}function eJ(e){return l.jsx(JQ,Pe({},e,{children:l.jsx(QQ,{initialProps:e})}))}function hw({className:e,classNames:t,showOutsideDays:r=!0,...n}){return l.jsx(eJ,{showOutsideDays:r,className:me("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:me(Ly({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:me(Ly({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>l.jsx(Dy,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(yh,{className:"h-4 w-4"})},...n})}hw.displayName="Calendar";var pw="Popover",[KT,Tse]=yn(pw,[li]),jd=li(),[tJ,hi]=KT(pw),ZT=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,a=jd(t),c=p.useRef(null),[d,u]=p.useState(!1),[f=!1,h]=mn({prop:n,defaultProp:s,onChange:o});return l.jsx(Jp,{...a,children:l.jsx(tJ,{scope:t,contentId:Xr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>u(!0),[]),onCustomAnchorRemove:p.useCallback(()=>u(!1),[]),modal:i,children:r})})};ZT.displayName=pw;var XT="PopoverAnchor",rJ=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=hi(XT,r),o=jd(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return p.useEffect(()=>(i(),()=>a()),[i,a]),l.jsx(td,{...o,...n,ref:t})});rJ.displayName=XT;var QT="PopoverTrigger",JT=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=hi(QT,r),o=jd(r),i=Be(t,s.triggerRef),a=l.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sO(s.open),...n,ref:i,onClick:de(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(td,{asChild:!0,...o,children:a})});JT.displayName=QT;var mw="PopoverPortal",[nJ,sJ]=KT(mw,{forceMount:void 0}),eO=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=hi(mw,t);return l.jsx(nJ,{scope:t,forceMount:r,children:l.jsx(dr,{present:r||o.open,children:l.jsx(rd,{asChild:!0,container:s,children:n})})})};eO.displayName=mw;var ml="PopoverContent",tO=p.forwardRef((e,t)=>{const r=sJ(ml,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=hi(ml,e.__scopePopover);return l.jsx(dr,{present:n||o.open,children:o.modal?l.jsx(oJ,{...s,ref:t}):l.jsx(iJ,{...s,ref:t})})});tO.displayName=ml;var oJ=p.forwardRef((e,t)=>{const r=hi(ml,e.__scopePopover),n=p.useRef(null),s=Be(t,n),o=p.useRef(!1);return p.useEffect(()=>{const i=n.current;if(i)return nd(i)},[]),l.jsx(sd,{as:Cs,allowPinchZoom:!0,children:l.jsx(rO,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:de(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,d=a.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:de(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),iJ=p.forwardRef((e,t)=>{const r=hi(ml,e.__scopePopover),n=p.useRef(!1),s=p.useRef(!1);return l.jsx(rO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),rO=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,h=hi(ml,r),m=jd(r);return Kp(),l.jsx(Ju,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(em,{"data-state":sO(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nO="PopoverClose",aJ=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=hi(nO,r);return l.jsx(be.button,{type:"button",...n,ref:t,onClick:de(e.onClick,()=>s.onOpenChange(!1))})});aJ.displayName=nO;var lJ="PopoverArrow",cJ=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=jd(r);return l.jsx(tm,{...s,...n,ref:t})});cJ.displayName=lJ;function sO(e){return e?"open":"closed"}var uJ=ZT,dJ=JT,fJ=eO,oO=tO;const gw=uJ,vw=dJ,Fm=p.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>l.jsx(fJ,{children:l.jsx(oO,{ref:s,align:t,sideOffset:r,className:me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Fm.displayName=oO.displayName;function iO({className:e,date:t,onDateChange:r}){return l.jsx("div",{className:me("grid gap-2",e),children:l.jsxs(gw,{children:[l.jsx(vw,{asChild:!0,children:l.jsxs(re,{id:"date",variant:"outline",className:me("w-[300px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[l.jsx($p,{className:"mr-2 h-4 w-4"}),t!=null&&t.from?t.to?l.jsxs(l.Fragment,{children:[kt(t.from,"LLL dd, y")," -"," ",kt(t.to,"LLL dd, y")]}):kt(t.from,"LLL dd, y"):l.jsx("span",{children:"Pick a date range"})]})}),l.jsx(Fm,{className:"w-auto p-0",align:"start",children:l.jsx(hw,{initialFocus:!0,mode:"range",defaultMonth:t==null?void 0:t.from,selected:t,onSelect:r,numberOfMonths:2})})]})})}var hJ="Label",aO=p.forwardRef((e,t)=>l.jsx(be.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));aO.displayName=hJ;var lO=aO;const pJ=Ip("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Nt=p.forwardRef(({className:e,...t},r)=>l.jsx(lO,{ref:r,className:me(pJ(),e),...t}));Nt.displayName=lO.displayName;const xj=e=>e?e.startsWith("http")?e:e.startsWith("stay-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${e}`:`${e}`:"/images/placeholder-stay.jpg",mJ=({stay:e,onClick:t,propertyTypes:r=[]})=>{var h;const n=Tt(),{id:s,title:o="Untitled Stay",description:i="",image:a,price_per_night:c=0,host:d={name:"Unknown Host",image:"",rating:0,reviews:0},details:u={bedrooms:1,beds:1,bathrooms:1,maxGuests:2,amenities:[],location:"Location not specified",propertyType:"room"}}=e||{},f=()=>{t?t():n(`/stays/${s}`)};return l.jsxs(Oe,{className:"group overflow-hidden hover:shadow-lg transition-all duration-300",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"aspect-[4/3] overflow-hidden cursor-pointer",onClick:f,children:l.jsx("img",{src:xj(a||""),alt:o,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),l.jsx(or,{className:"absolute bottom-2 left-2 bg-white/90 text-black hover:bg-white/90",children:((h=r.find(m=>m.id===u.propertyType))==null?void 0:h.label)||"Stay"})]}),l.jsxs(ir,{className:"cursor-pointer",onClick:f,children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx(ar,{className:"text-xl",children:o}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(_s,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),l.jsxs("span",{className:"text-sm",children:[d.rating.toFixed(1)," (",d.reviews,")"]})]})]}),l.jsx(ys,{className:"line-clamp-2 mt-1",children:i})]}),l.jsxs(pt,{children:[l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(P2,{className:"w-4 h-4"}),l.jsxs("span",{children:[u.bedrooms," ",u.bedrooms===1?"bedroom":"bedrooms"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(jl,{className:"w-4 h-4"}),l.jsxs("span",{children:[u.maxGuests," guests"]})]})]}),l.jsx("div",{className:"mt-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:xj(d.image),alt:d.name,className:"w-8 h-8 rounded-full object-cover"}),l.jsx("span",{className:"text-sm",children:d.name})]}),l.jsxs("span",{className:"text-lg font-semibold text-primary",children:["$",c,l.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/night"})]})]})})]}),l.jsx(Sb,{className:"pt-0",children:l.jsx(re,{className:"w-full",onClick:f,children:"View Details"})})]})},bj=[{id:"room",label:"Private Room",description:"A private room in a home"},{id:"apartment",label:"Apartment",description:"An entire apartment"},{id:"house",label:"House",description:"An entire house"},{id:"cabin",label:"Cabin",description:"A cozy cabin retreat"},{id:"cottage",label:"Cottage",description:"A charming cottage"},{id:"guesthouse",label:"Guesthouse",description:"A separate guesthouse"}],gJ=["places"],vJ="AIzaSyDpB03uqoC8eWmdG8KRlBdiJaHWbXmtMgE",yJ=[{value:"any",label:"Any"},{value:"1",label:"1 Bedroom"},{value:"2",label:"2 Bedrooms"},{value:"3",label:"3 Bedrooms"},{value:"4+",label:"4+ Bedrooms"}],xJ=[{value:"any",label:"Any"},{value:"1-2",label:"1-2 Guests"},{value:"3-4",label:"3-4 Guests"},{value:"5+",label:"5+ Guests"}],bJ=[{value:"any",label:"Any time"},{value:"weekend",label:"This weekend"},{value:"week",label:"This week"},{value:"month",label:"This month"},{value:"flexible",label:"I'm flexible"}],wJ=()=>{const e=Tt(),[t,r]=x2(),[n,s]=p.useState(""),[o,i]=p.useState([]),[a,c]=p.useState(!1),[d,u]=p.useState([]),[f,h]=p.useState(!0),[m,g]=p.useState({from:new Date,to:Qt(new Date,7)}),[v,b]=p.useState(!1),[y,x]=p.useState("price_asc"),[w,S]=p.useState(!1),[j,C]=p.useState(t.get("zipcode")),[M,k]=p.useState(t.get("location")),[E,_]=p.useState("any"),[P,D]=p.useState("any"),[L,A]=p.useState("any"),[$,T]=p.useState(!1),[N,O]=p.useState(!1);Bt();const{isLoaded:R}=Dl({googleMapsApiKey:vJ,libraries:gJ,id:"google-map-script"});p.useEffect(()=>{C(t.get("zipcode")),k(t.get("location"))},[t]),p.useEffect(()=>{(async()=>{try{h(!0);const ie=await Ic.getStays({search:n,zipcode:j||void 0,location:M||void 0,sort:y,propertyType:o.length>0?o:void 0});console.log("Fetched stays count:",ie.length),u(ie)}catch(ie){console.error("Error fetching stays:",ie),u([])}finally{h(!1)}})()},[t,y,j,M,n,o]);const B=p.useMemo(()=>d.filter(G=>{var ie,_e,Ee;if(E!=="any"){if(E==="4+"&&G.details.bedrooms<4)return!1;if(E!=="4+"&&G.details.bedrooms!==parseInt(E))return!1}if(P!=="any"){if(P==="5+"&&G.details.maxGuests<5)return!1;if(P==="3-4"&&(G.details.maxGuests<3||G.details.maxGuests>4))return!1;if(P==="1-2"&&(G.details.maxGuests<1||G.details.maxGuests>2))return!1}if(L!=="any"&&G.availability){const fe=new Date,Te=new Date(fe);Te.setDate(fe.getDate()+(6-fe.getDay()));const De=new Date(fe);De.setDate(fe.getDate()+7);const U=new Date(fe);U.setMonth(fe.getMonth()+1);let H;switch(L){case"weekend":H=Te;break;case"week":H=De;break;case"month":H=U;break;case"flexible":let K=0;const se=new Date(fe);for(;se<=U;){const oe=kt(se,"yyyy-MM-dd");if((ie=G.availability)!=null&&ie.find(te=>te.date===oe&&te.is_available)&&(K++,K>=5))break;se.setDate(se.getDate()+1)}if(K<5)return!1;break}if(L!=="flexible"&&H){let K=!1;const se=new Date(fe);for(;se<=H;){const oe=kt(se,"yyyy-MM-dd");if((_e=G.availability)!=null&&_e.find(te=>te.date===oe&&te.is_available)){K=!0;break}se.setDate(se.getDate()+1)}if(!K)return!1}}if(v&&m.from&&m.to&&G.availability){let fe=!0;const Te=new Date(m.from);for(;Te<=m.to;){const De=kt(Te,"yyyy-MM-dd"),U=(Ee=G.availability)==null?void 0:Ee.find(H=>H.date===De);if(!U||!U.is_available){fe=!1;break}Te.setDate(Te.getDate()+1)}if(!fe)return!1}return!0}),[d,E,P,L,v,m]);p.useEffect(()=>{console.log("Filtered stays count after client filtering:",B.length)},[B.length]);const V=G=>{i(ie=>ie.includes(G)?ie.filter(_e=>_e!==G):[...ie,G])},F=()=>{i([]),s(""),_("any"),D("any"),A("any"),b(!1),g({from:new Date,to:Qt(new Date,7)}),O(!0),setTimeout(()=>O(!1),500)},z=G=>{x(G),console.log("Sort changed to:",G)},W=()=>{c(!1),b(!0),T(!0),setTimeout(()=>T(!1),500)},I=p.useMemo(()=>{const G=B.filter(Ee=>Ee.coordinates);if(G.length===0)return{lat:33.749,lng:-84.388};const ie=G.reduce((Ee,fe)=>Ee+fe.coordinates.lat,0),_e=G.reduce((Ee,fe)=>Ee+fe.coordinates.lng,0);return{lat:ie/G.length,lng:_e/G.length}},[B]),[q,X]=p.useState(null),[Q,ne]=p.useState(12);p.useEffect(()=>{if(R&&B.length>0){const G=new google.maps.LatLngBounds;let ie=0;B.forEach(_e=>{_e.coordinates&&(G.extend(new google.maps.LatLng(_e.coordinates.lat,_e.coordinates.lng)),ie++)}),ie>0&&(X(G),ie===1?ne(14):ie<5?ne(12):ne(10))}},[B,R]);const J=G=>{if(q){G.fitBounds(q);const ie=google.maps.event.addListener(G,"idle",()=>{G.getZoom()>16&&G.setZoom(16),G.getZoom()<7&&G.setZoom(7),google.maps.event.removeListener(ie)})}};return l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Stays"}),M&&l.jsxs("p",{className:"text-muted-foreground mt-1",children:["Showing stays in ",M," ",j&&`(${j})`]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(DL,{value:y,onValueChange:z}),l.jsxs(re,{variant:"outline",onClick:()=>S(!w),className:"flex items-center gap-2",children:[w?l.jsx(D5,{className:"w-4 h-4"}):l.jsx(O5,{className:"w-4 h-4"}),w?"Show List":"Show Map"]})]})]}),j&&l.jsx("div",{className:"mb-4 flex items-center",children:l.jsxs(or,{variant:"outline",className:"flex items-center gap-1 px-3 py-1",children:[l.jsx(Gs,{className:"h-3 w-3"}),"Zipcode: ",j,l.jsx(re,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 ml-1 rounded-full",onClick:()=>{const G=new URLSearchParams(t);G.delete("zipcode"),G.delete("location"),e(`/stays?${G.toString()}`)},children:"×"})]})}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Qi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),l.jsx(Re,{placeholder:"Search stays...",value:n,onChange:G=>s(G.target.value),className:"pl-10"})]}),l.jsxs(re,{variant:"outline",className:"md:hidden",onClick:()=>c(!a),children:[l.jsx(B5,{className:"w-4 h-4 mr-2"}),"Filters"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[280px_1fr] gap-8",children:[l.jsxs("div",{className:`${a?"block fixed inset-0 z-50 bg-white p-6 overflow-auto":"hidden"} md:block md:static md:z-auto md:p-0 md:overflow-visible`,children:[a&&l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Filters"}),l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:"×"})]}),l.jsxs("div",{className:"space-y-6 bg-white p-6 rounded-lg border",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Stay Type"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:bj.map(G=>l.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-all ${o.includes(G.id)?"border-primary bg-primary/5":"hover:border-gray-400"}`,onClick:()=>V(G.id),children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx(Go,{className:"h-6 w-6 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:G.label})]})},G.id))})]}),l.jsx(mt,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Dates"}),l.jsx("div",{className:"overflow-hidden",children:l.jsx(iO,{className:"w-full",date:{from:m.from,to:m.to},onDateChange:G=>{g(G),b(!1)}})}),l.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:v?l.jsxs("span",{className:"flex items-center text-green-600",children:[l.jsx(y5,{className:"h-3 w-3 mr-1"})," Date filter applied"]}):l.jsx("span",{children:'Click "Apply Filters" to filter by date'})})]}),l.jsx(mt,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Availability"}),l.jsxs($o,{value:L,onValueChange:A,children:[l.jsx(qs,{className:"w-full",children:l.jsx(Fo,{placeholder:"Any time"})}),l.jsx(Ys,{children:bJ.map(G=>l.jsx(Ks,{value:G.value,children:G.label},G.value))})]})]}),l.jsx(mt,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Rooms & Guests"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Nt,{htmlFor:"bedrooms",children:"Bedrooms"}),l.jsxs($o,{value:E,onValueChange:_,children:[l.jsx(qs,{id:"bedrooms",className:"w-full",children:l.jsx(Fo,{placeholder:"Any"})}),l.jsx(Ys,{children:yJ.map(G=>l.jsx(Ks,{value:G.value,children:G.label},G.value))})]})]}),l.jsxs("div",{children:[l.jsx(Nt,{htmlFor:"guests",children:"Guests"}),l.jsxs($o,{value:P,onValueChange:D,children:[l.jsx(qs,{id:"guests",className:"w-full",children:l.jsx(Fo,{placeholder:"Any"})}),l.jsx(Ys,{children:xJ.map(G=>l.jsx(Ks,{value:G.value,children:G.label},G.value))})]})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2 pt-4",children:[l.jsx(re,{onClick:W,className:me("transition-all",$&&"animate-pulse bg-green-600 scale-105"),children:"Apply Filters"}),l.jsx(re,{variant:"outline",onClick:F,className:me("transition-all",N&&"animate-pulse border-red-400 scale-105"),children:"Reset All"})]})]})]}),w&&R?l.jsx("div",{className:"h-[calc(100vh-200px)] rounded-lg overflow-hidden border",children:l.jsx(ad,{zoom:Q,center:I,mapContainerClassName:"w-full h-full",onLoad:J,options:{styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},children:B.map(G=>G.coordinates&&l.jsx(il,{position:G.coordinates,onClick:()=>e(`/stays/${G.id}`),icon:{url:"/images/stay-marker.svg",scaledSize:new google.maps.Size(32,32)}},G.id))})}):l.jsx("div",{children:f?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(cM,{className:"h-8 w-8"})}):B.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(G=>l.jsx(mJ,{stay:G,propertyTypes:bj,onClick:()=>e(`/stays/${G.id}`)},G.id))}):l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[l.jsx(Go,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"No stays found."}),l.jsx("p",{className:"text-sm text-gray-500 mb-6",children:d.length>0?"Your filters are too restrictive. Try adjusting them.":"No stays data available. Please try again later."}),l.jsx(re,{onClick:F,className:me("transition-all",N&&"animate-pulse border-red-400 scale-105"),children:"Reset Filters"})]})})]})]})})},SJ=Ip("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ns=p.forwardRef(({className:e,variant:t,...r},n)=>l.jsx("div",{ref:n,role:"alert",className:me(SJ({variant:t}),e),...r}));ns.displayName="Alert";const Nu=p.forwardRef(({className:e,...t},r)=>l.jsx("h5",{ref:r,className:me("mb-1 font-medium leading-none tracking-tight",e),...t}));Nu.displayName="AlertTitle";const ss=p.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:me("text-sm [&_p]:leading-relaxed",e),...t}));ss.displayName="AlertDescription";async function cO(e,t,r){try{console.log(`Checking availability for stay ${e} from ${t} to ${r}`);const{data:n,error:s}=await Y.from("stay_bookings").select("id, check_in_date, check_out_date").eq("stay_id",e).eq("status","confirmed");if(s)throw console.error("Error checking booking availability:",s),s;if(n&&n.length>0){console.log(`Found ${n.length} existing bookings for this stay`,n);const a=new Date(t),c=new Date(r);for(const d of n){const u=new Date(d.check_in_date),f=new Date(d.check_out_date);if(!(c<u||a>f))return console.log(`Overlap detected with booking ${d.id}:`,{requestedDates:{checkIn:t,checkOut:r},bookedDates:{checkIn:d.check_in_date,checkOut:d.check_out_date}}),!1}}const{data:o,error:i}=await Y.from("stay_availability").select("date").eq("stay_id",e).eq("is_available",!1).gte("date",t).lte("date",r);return i&&console.error("Error checking date availability:",i),o&&o.length>0?(console.log(`Found ${o.length} unavailable dates, stay is not available`),!1):(console.log("Stay is available for the requested dates"),!0)}catch(n){throw console.error("Error in checkStayAvailability:",n),n}}async function uO(e,t,r){try{const{data:n,error:s}=await Y.from("stays").select("price_per_night").eq("id",e).single();if(s)throw console.error("Error fetching stay details for pricing:",s),s;const o=hM(g_(r),g_(t));if(o<=0)throw new Error("Check-out date must be after check-in date");let i=n.price_per_night*o;const{data:a,error:c}=await Y.from("stay_availability").select("date, price_override").eq("stay_id",e).gte("date",t).lte("date",r).not("price_override","is",null);return c&&console.error("Error fetching custom pricing:",c),a&&a.length>0&&a.forEach(d=>{i=i-n.price_per_night+d.price_override}),Math.round(i*100)/100}catch(n){throw console.error("Error in calculateBookingPrice:",n),n}}async function CJ(e){var t;try{const{data:r}=await Y.auth.getSession();if(!((t=r.session)!=null&&t.user))throw new Error("User not authenticated");const n=r.session.user.id;if(!await cO(e.stay_id,e.check_in_date,e.check_out_date))throw new Error("Stay is not available for the selected dates");const o=await uO(e.stay_id,e.check_in_date,e.check_out_date),{data:i,error:a}=await Y.from("stay_bookings").insert({stay_id:e.stay_id,user_id:n,check_in_date:e.check_in_date,check_out_date:e.check_out_date,guest_count:e.guest_count,status:"confirmed",total_price:o,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(a)throw console.error("Error creating booking:",a),a;return console.log(`Successfully created booking with ID: ${i.id}`),i}catch(r){throw console.error("Error in createBooking:",r),r}}async function _J(){var e;try{const{data:t}=await Y.auth.getSession();if(!((e=t.session)!=null&&e.user))throw new Error("User not authenticated");const r=t.session.user.id,{data:n,error:s}=await Y.from("stay_bookings").select(`
        *,
        stay:stays(
          id,
          title,
          host_id,
          host:profiles!host_id(name, avatar_url),
          stay_images:stay_images(image_path, is_primary)
        )
      `).eq("user_id",r).order("created_at",{ascending:!1});if(s)throw console.error("Error fetching user bookings:",s),s;return n}catch(t){throw console.error("Error in getUserBookings:",t),t}}async function jJ(e){var t;try{const{data:r}=await Y.auth.getSession();if(!((t=r.session)!=null&&t.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await Y.from("stay_bookings").select(`
        *,
        stay:stays(
          id,
          title,
          description,
          price_per_night,
          host_id,
          host:profiles!host_id(name, avatar_url),
          stay_images:stay_images(image_path, is_primary),
          location_name,
          property_type,
          bedrooms,
          beds,
          bathrooms,
          max_guests
        )
      `).eq("id",e).single();if(o)throw console.error("Error fetching booking:",o),o;return s.user_id!==n?(console.error("Booking does not belong to current user"),null):s}catch(r){throw console.error("Error in getBookingById:",r),r}}async function EJ(e){var t;try{const{data:r}=await Y.auth.getSession();if(!((t=r.session)!=null&&t.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await Y.from("stay_bookings").select("user_id, status").eq("id",e).single();if(o)throw console.error("Error fetching booking to cancel:",o),o;if(s.user_id!==n)throw new Error("You do not have permission to cancel this booking");if(s.status==="cancelled")throw new Error("Booking is already cancelled");const{error:i}=await Y.from("stay_bookings").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",e);if(i)throw console.error("Error cancelling booking:",i),i;return console.log(`Successfully cancelled booking with ID: ${e}`),!0}catch(r){throw console.error("Error in cancelBooking:",r),r}}async function kJ(e){var t;try{const{data:r}=await Y.auth.getSession();if(!((t=r.session)!=null&&t.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await Y.from("stays").select("host_id").eq("id",e).single();if(o)throw console.error("Error fetching stay details:",o),o;if(s.host_id!==n)throw new Error("You do not have permission to view bookings for this stay");const{data:i,error:a}=await Y.from("stay_bookings").select(`
        *,
        guest:profiles!user_id(name, avatar_url)
      `).eq("stay_id",e).order("check_in_date",{ascending:!0});if(a)throw console.error("Error fetching stay bookings:",a),a;return i}catch(r){throw console.error("Error in getStayBookings:",r),r}}const Uc={checkStayAvailability:cO,calculateBookingPrice:uO,createBooking:CJ,getUserBookings:_J,getBookingById:jJ,cancelBooking:EJ,getStayBookings:kJ},NJ=({stayId:e,price:t,maxGuests:r,stayTitle:n="Stay",hostId:s})=>{const{user:o,isAuthenticated:i}=Bt(),a=Tt(),[c,d]=p.useState({from:void 0,to:void 0}),[u,f]=p.useState(1),[h,m]=p.useState(0),[g,v]=p.useState(0),[b,y]=p.useState(!1),[x,w]=p.useState(""),[S,j]=p.useState(""),[C,M]=p.useState([]);p.useEffect(()=>{e&&(async()=>{try{const{data:D,error:L}=await Y.from("stay_bookings").select("check_in_date, check_out_date").eq("stay_id",e).eq("status","confirmed");if(L){console.error("Error fetching blocked dates:",L);return}const{data:A,error:$}=await Y.from("stay_availability").select("date").eq("stay_id",e).eq("is_available",!1);if($&&console.error("Error fetching availability:",$),D&&D.length>0){const T=D.flatMap(N=>{const O=new Date(N.check_in_date),R=new Date(N.check_out_date),B=[];let V=O;for(;V<=R;)B.push(new Date(V)),V=Qt(V,1);return B});A&&A.length>0&&A.forEach(N=>{T.push(new Date(N.date))}),M(T)}}catch(D){console.error("Error fetching blocked dates:",D)}})()},[e]),p.useEffect(()=>{if(c!=null&&c.from&&(c!=null&&c.to)){const P=hM(c.to,c.from);m(P),v(t*P)}else m(0),v(0)},[c,t]);const k=P=>{const D=parseInt(P.target.value);D<1?f(1):D>r?f(r):f(D)},E=P=>{d(P),w("")},_=async()=>{if(w(""),j(""),!i){a("/login",{state:{from:window.location.pathname,message:"Please login to book this stay"}});return}if(!(c!=null&&c.from)||!(c!=null&&c.to)){w("Please select check-in and check-out dates");return}if(u<1){w("Please select at least 1 guest");return}if(h<1){w("You must book at least 1 night");return}y(!0);try{const P=await Uc.createBooking({stay_id:e,check_in_date:kt(c.from,"yyyy-MM-dd"),check_out_date:kt(c.to,"yyyy-MM-dd"),guest_count:u});j("Your booking has been confirmed!"),d({from:void 0,to:void 0}),f(1),setTimeout(()=>{a(`/bookings/${P.id}`)},2e3)}catch(P){console.error("Error creating booking:",P),w(P instanceof Error?P.message:"Failed to create booking. Please try again.")}finally{y(!1)}};return l.jsxs(Oe,{className:"p-6",children:[l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"text-2xl font-semibold",children:["$",t," ",l.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/ night"})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Nt,{htmlFor:"dates",children:"Dates"}),l.jsx(iO,{date:c||{from:void 0,to:void 0},onDateChange:E,className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(Nt,{htmlFor:"guests",children:"Guests"}),l.jsx(Re,{id:"guests",type:"number",value:u,onChange:k,min:1,max:r}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Maximum ",r," guests allowed"]})]})]}),h>0&&l.jsxs("div",{className:"mt-6 space-y-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["$",t," × ",h," nights"]}),l.jsxs("span",{children:["$",g]})]}),l.jsx(mt,{}),l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["$",g]})]})]}),x&&l.jsx(ns,{variant:"destructive",className:"mt-4",children:l.jsx(ss,{children:x})}),S&&l.jsx(ns,{className:"mt-4 bg-green-50 text-green-800 border-green-200",children:l.jsx(ss,{children:S})}),l.jsx(re,{className:"w-full mt-6",onClick:_,disabled:b||!(c!=null&&c.from)||!(c!=null&&c.to)||h<1,children:b?l.jsxs(l.Fragment,{children:[l.jsx(rt,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Reserve"}),l.jsx(Qh,{hostId:s||"",listingId:e,listingType:"stay",listingTitle:n,variant:"outline",className:"w-full mt-2",children:"Message Host"}),l.jsx("p",{className:"text-center text-sm text-muted-foreground mt-2",children:"You won't be charged yet"})]})},PJ=["places"],MJ="AIzaSyDpB03uqoC8eWmdG8KRlBdiJaHWbXmtMgE",LJ=()=>{var E;const{id:e}=Zu(),[t,r]=p.useState(null),[n,s]=p.useState(!0),[o,i]=p.useState(new Date),[a,c]=p.useState(!1);p.useState(!1);const[d,u]=p.useState(0);p.useRef(null);const{user:f}=Bt(),[h,m]=p.useState(0),[g,v]=p.useState(0),[b,y]=p.useState(0),{isLoaded:x}=Dl({googleMapsApiKey:MJ,libraries:PJ,id:"google-map-script"}),w=(t==null?void 0:t.coordinates)||{lat:40.7128,lng:-74.006},S=_=>_?_.startsWith("http")?_:`${_}`:"/placeholder-stay.jpg";p.useEffect(()=>{(async()=>{if(e)try{s(!0);const P=await Ic.getStayById(e);P&&(r(P),console.log("Fetched stay data:",P))}catch(P){console.error("Error fetching stay:",P)}finally{s(!1)}})()},[e]),p.useEffect(()=>{(async()=>{if(e)try{const P=await IT(e,"stay"),D=await $T(e,"stay");m(P),v(D)}catch(P){console.error("Error fetching review stats:",P)}})()},[e,b]);const j=()=>{y(_=>_+1)},C=p.useRef(!1);p.useEffect(()=>{(async()=>{if(f!=null&&f.id&&e&&!C.current)try{C.current=!0;const P=await Ic.getFavorites(f.id);c(P.includes(e))}catch(P){console.error("Error checking favorite status:",P)}})()},[f,e]);const M=async()=>{if(e)if(f!=null&&f.id)try{await Ic.toggleFavorite(e,f.id)&&(c(!a),C.current=!0)}catch(_){console.error("Error toggling favorite:",_)}else c(!a)};return(()=>{if(!(t!=null&&t.availability)||!o)return null;const _=kt(o,"yyyy-MM-dd");return t.availability.find(P=>P.date===_)})(),n?l.jsx(Ft,{children:l.jsx("div",{className:"container mx-auto px-4 py-16 flex items-center justify-center min-h-[60vh]",children:l.jsxs("div",{className:"text-center",children:[l.jsx(rt,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),l.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"Loading stay details..."})]})})}):t?l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:t.title}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(_s,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),l.jsx("span",{className:"font-medium",children:h.toFixed(1)}),l.jsxs("span",{children:["(",g," reviews)"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Gs,{className:"w-4 h-4"}),l.jsx("span",{children:t.details.location})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Gh,{children:l.jsxs(qh,{children:[l.jsx(Yh,{asChild:!0,children:l.jsx(re,{variant:"outline",size:"icon",onClick:M,className:a?"text-red-500":"",children:l.jsx(A0,{className:`w-5 h-5 ${a?"fill-red-500":""}`})})}),l.jsx(Eu,{children:l.jsx("p",{children:a?"Remove from favorites":"Add to favorites"})})]})}),l.jsx(Gh,{children:l.jsxs(qh,{children:[l.jsx(Yh,{asChild:!0,children:l.jsx(re,{variant:"outline",size:"icon",children:l.jsx(T2,{className:"w-5 h-5"})})}),l.jsx(Eu,{children:l.jsx("p",{children:"Share this stay"})})]})})]})]})}),l.jsx("div",{className:"mb-12",children:t.images&&t.images.length>0&&l.jsx(KD,{images:t.images.map((_,P)=>({url:S(typeof _=="string"?_:_.url),order:P,caption:`${t.title} - Image ${P+1}`})),initialIndex:d})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-8",children:[l.jsx("div",{children:l.jsxs(ra,{defaultValue:"about",className:"mb-12",children:[l.jsxs(fi,{className:"mb-6",children:[l.jsx(xt,{value:"about",children:"About"}),l.jsx(xt,{value:"amenities",children:"Amenities"}),l.jsx(xt,{value:"host",children:"Host"}),l.jsx(xt,{value:"reviews",children:"Reviews"}),l.jsx(xt,{value:"location",children:"Location"})]}),l.jsx(bt,{value:"about",className:"space-y-8",children:l.jsxs(Oe,{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"About this place"}),l.jsx("p",{className:"text-muted-foreground whitespace-pre-line leading-relaxed",children:t.description}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(P2,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Bedrooms"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.details.bedrooms})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(h5,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Bathrooms"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.details.bathrooms})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jl,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Max Guests"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.details.maxGuests})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Go,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Property Type"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.details.propertyType||"Entire home"})]})]})]})]})}),l.jsx(bt,{value:"amenities",className:"space-y-8",children:l.jsxs(Oe,{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"What this place offers"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.isArray(t.details.amenities)?t.details.amenities.map((_,P)=>l.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md hover:bg-primary/5",children:[l.jsx(V5,{className:"w-5 h-5 text-primary"}),l.jsx("span",{children:_})]},P)):l.jsx("div",{className:"col-span-2 text-center text-muted-foreground py-4",children:"No amenities listed for this property."})})]})}),l.jsx(bt,{value:"host",className:"space-y-8",children:l.jsxs(Oe,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsxs(Es,{className:"w-16 h-16",children:[l.jsx(ks,{src:S(t.host.image),alt:t.host.name}),l.jsx(Ns,{children:t.host.name.charAt(0)})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-semibold",children:["Hosted by ",t.host.name]}),l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(_s,{className:"w-4 h-4 text-yellow-500 fill-yellow-500 mr-1"}),l.jsx("span",{className:"font-medium",children:t.host.rating}),l.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",t.host.reviews," reviews)"]})]})]})]}),l.jsx("p",{className:"text-muted-foreground mb-6",children:t.host.about||"I'm passionate about sharing my home with travelers from around the world. I've been hosting for several years and love helping guests discover the best of what our area has to offer."}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:l.jsx(Qh,{hostId:t.host.id||"",listingId:e||"",listingType:"stay",listingTitle:t.title,className:"w-full",children:"Message Host"})})]})}),l.jsx(bt,{value:"reviews",children:l.jsx(xT,{listingId:e||"",listingType:"stay",averageRating:h,reviewCount:g,onReviewSubmitted:j})}),l.jsx(bt,{value:"location",className:"space-y-8",children:l.jsxs(Oe,{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Location"}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("p",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Gs,{className:"w-5 h-5 text-primary"}),l.jsx("span",{className:"font-medium",children:t.details.location})]}),l.jsx("p",{className:"text-muted-foreground ml-7",children:"Exact address will be provided after booking"})]}),l.jsx("div",{className:"rounded-lg overflow-hidden mb-6 h-[300px]",children:x?l.jsx(ad,{zoom:14,center:w,mapContainerClassName:"w-full h-full",options:{styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},children:l.jsx(il,{position:w,icon:{url:"/images/stay-marker.svg",scaledSize:new google.maps.Size(40,40)}})}):l.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:l.jsx(rt,{className:"h-8 w-8 animate-spin text-primary"})})}),l.jsx("div",{className:"flex justify-center mb-4",children:l.jsxs(re,{variant:"outline",onClick:()=>window.open(`https://www.google.com/maps/dir/?api=1&destination=${w.lat},${w.lng}`,"_blank"),children:[l.jsx(R0,{className:"w-4 h-4 mr-2"}),"Get Directions"]})})]})})]})}),l.jsx("div",{children:l.jsx("div",{className:"sticky top-24 mb-6",children:l.jsx(NJ,{stayId:e||"",price:t.price_per_night,maxGuests:t.details.maxGuests,stayTitle:t.title,hostId:(E=t.host)==null?void 0:E.id})})})]})]})}):l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Stay not found"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"The stay you're looking for doesn't exist or has been removed."}),l.jsx(re,{children:"Browse Stays"})]})})},DJ=()=>{const e=Tt(),[t,r]=p.useState(null);return l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-16",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Share Your Passion with the World"}),l.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Whether you're a culinary expert or have a unique space to share, join our community of hosts and start earning while creating memorable experiences."})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[l.jsx(Oe,{className:`cursor-pointer transition-all duration-300 ${t==="food"?"shadow-lg scale-105":""}`,onMouseEnter:()=>r("food"),onMouseLeave:()=>r(null),onClick:()=>e("/host/food"),children:l.jsx(pt,{className:"p-8",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-100 flex items-center justify-center",children:l.jsx(du,{className:"w-8 h-8 text-amber-600"})}),l.jsx("h2",{className:"text-2xl font-semibold",children:"Food Experience Host"}),l.jsx("p",{className:"text-muted-foreground",children:"Share your culinary expertise and cultural traditions through unique food experiences."}),l.jsxs("ul",{className:"text-left space-y-2",children:[l.jsxs("li",{className:"flex items-center",children:[l.jsx(oa,{className:"w-4 h-4 mr-2 text-amber-600"}),"Host cooking classes"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(oa,{className:"w-4 h-4 mr-2 text-amber-600"}),"Offer private dining experiences"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(oa,{className:"w-4 h-4 mr-2 text-amber-600"}),"Share traditional recipes"]})]}),l.jsx(re,{className:"w-full bg-gradient-to-r from-amber-500 to-terracotta-600 text-white",onClick:n=>{n.stopPropagation(),e("/host/food")},children:"Start Hosting Food Experiences"})]})})}),l.jsx(Oe,{className:`cursor-pointer transition-all duration-300 ${t==="stay"?"shadow-lg scale-105":""}`,onMouseEnter:()=>r("stay"),onMouseLeave:()=>r(null),onClick:()=>e("/host/stay"),children:l.jsx(pt,{className:"p-8",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-sage-100 flex items-center justify-center",children:l.jsx(Go,{className:"w-8 h-8 text-sage-600"})}),l.jsx("h2",{className:"text-2xl font-semibold",children:"Stay Host"}),l.jsx("p",{className:"text-muted-foreground",children:"List your space and provide travelers with authentic local accommodation experiences."}),l.jsxs("ul",{className:"text-left space-y-2",children:[l.jsxs("li",{className:"flex items-center",children:[l.jsx(oa,{className:"w-4 h-4 mr-2 text-sage-600"}),"List entire homes or rooms"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(oa,{className:"w-4 h-4 mr-2 text-sage-600"}),"Set your own schedule"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(oa,{className:"w-4 h-4 mr-2 text-sage-600"}),"Earn extra income"]})]}),l.jsx(re,{className:"w-full bg-gradient-to-r from-sage-500 to-emerald-600 text-white",onClick:n=>{n.stopPropagation(),e("/host/stay")},children:"Start Hosting Stays"})]})})})]}),l.jsxs("div",{className:"mt-24 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold mb-12",children:"Why Host with Platform 2025?"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-terracotta-600 mx-auto flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h3",{className:"text-xl font-semibold",children:"Earn Extra Income"}),l.jsx("p",{className:"text-muted-foreground",children:"Set your own prices and earn money sharing your passion or space."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-terracotta-600 mx-auto flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),l.jsx("h3",{className:"text-xl font-semibold",children:"Meet New People"}),l.jsx("p",{className:"text-muted-foreground",children:"Connect with travelers from around the world and share your culture."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-terracotta-600 mx-auto flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),l.jsx("h3",{className:"text-xl font-semibold",children:"Secure Platform"}),l.jsx("p",{className:"text-muted-foreground",children:"Benefit from our secure payment system and host protection programs."})]})]})]})]})})};var Ed=e=>e.type==="checkbox",Pi=e=>e instanceof Date,Dr=e=>e==null;const dO=e=>typeof e=="object";var Vt=e=>!Dr(e)&&!Array.isArray(e)&&dO(e)&&!Pi(e),fO=e=>Vt(e)&&e.target?Ed(e.target)?e.target.checked:e.target.value:e,TJ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,hO=(e,t)=>e.has(TJ(t)),OJ=e=>{const t=e.constructor&&e.constructor.prototype;return Vt(t)&&t.hasOwnProperty("isPrototypeOf")},yw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ur(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(yw&&(e instanceof Blob||e instanceof FileList))&&(r||Vt(e)))if(t=r?[]:{},!r&&!OJ(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Ur(e[n]));else return e;return t}var Bm=e=>Array.isArray(e)?e.filter(Boolean):[],$t=e=>e===void 0,he=(e,t,r)=>{if(!t||!Vt(e))return r;const n=Bm(t.split(/[,[\].]+?/)).reduce((s,o)=>Dr(s)?s:s[o],e);return $t(n)||n===e?$t(e[t])?r:e[t]:n},Cn=e=>typeof e=="boolean",xw=e=>/^\w*$/.test(e),pO=e=>Bm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),st=(e,t,r)=>{let n=-1;const s=xw(t)?[t]:pO(t),o=s.length,i=o-1;for(;++n<o;){const a=s[n];let c=r;if(n!==i){const d=e[a];c=Vt(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(a==="__proto__")return;e[a]=c,e=e[a]}return e};const ep={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mO=Z.createContext(null),Um=()=>Z.useContext(mO),AJ=e=>{const{children:t,...r}=e;return Z.createElement(mO.Provider,{value:r},t)};var gO=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const i=o;return t._proxyFormState[i]!==Hn.all&&(t._proxyFormState[i]=!n||Hn.all),r&&(r[i]=!0),e[i]}});return s},zr=e=>Vt(e)&&!Object.keys(e).length,vO=(e,t,r,n)=>{r(e);const{name:s,...o}=e;return zr(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!n||Hn.all))},zc=e=>Array.isArray(e)?e:[e],yO=(e,t,r)=>!e||!t||e===t||zc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function bw(e){const t=Z.useRef(e);t.current=e,Z.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function RJ(e){const t=Um(),{control:r=t.control,disabled:n,name:s,exact:o}=e||{},[i,a]=Z.useState(r._formState),c=Z.useRef(!0),d=Z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Z.useRef(s);return u.current=s,bw({disabled:n,next:f=>c.current&&yO(u.current,f.name,o)&&vO(f,d.current,r._updateFormState)&&a({...r._formState,...f}),subject:r._subjects.state}),Z.useEffect(()=>(c.current=!0,d.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),gO(i,r,d.current,!1)}var xs=e=>typeof e=="string",xO=(e,t,r,n,s)=>xs(e)?(n&&t.watch.add(e),he(r,e,s)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),he(r,o))):(n&&(t.watchAll=!0),r);function IJ(e){const t=Um(),{control:r=t.control,name:n,defaultValue:s,disabled:o,exact:i}=e||{},a=Z.useRef(n);a.current=n,bw({disabled:o,subject:r._subjects.values,next:u=>{yO(a.current,u.name,i)&&d(Ur(xO(a.current,r._names,u.values||r._formValues,!1,s)))}});const[c,d]=Z.useState(r._getWatch(n,s));return Z.useEffect(()=>r._removeUnmounted()),c}function $J(e){const t=Um(),{name:r,disabled:n,control:s=t.control,shouldUnregister:o}=e,i=hO(s._names.array,r),a=IJ({control:s,name:r,defaultValue:he(s._formValues,r,he(s._defaultValues,r,e.defaultValue)),exact:!0}),c=RJ({control:s,name:r,exact:!0}),d=Z.useRef(s.register(r,{...e.rules,value:a,...Cn(e.disabled)?{disabled:e.disabled}:{}}));return Z.useEffect(()=>{const u=s._options.shouldUnregister||o,f=(h,m)=>{const g=he(s._fields,h);g&&g._f&&(g._f.mount=m)};if(f(r,!0),u){const h=Ur(he(s._options.defaultValues,r));st(s._defaultValues,r,h),$t(he(s._formValues,r))&&st(s._formValues,r,h)}return()=>{(i?u&&!s._state.action:u)?s.unregister(r):f(r,!1)}},[r,s,i,o]),Z.useEffect(()=>{he(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:he(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:a,...Cn(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:Z.useCallback(u=>d.current.onChange({target:{value:fO(u),name:r},type:ep.CHANGE}),[r]),onBlur:Z.useCallback(()=>d.current.onBlur({target:{value:he(s._formValues,r),name:r},type:ep.BLUR}),[r,s]),ref:Z.useCallback(u=>{const f=he(s._fields,r);f&&u&&(f._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:h=>u.setCustomValidity(h),reportValidity:()=>u.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!he(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!he(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!he(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!he(c.validatingFields,r)},error:{enumerable:!0,get:()=>he(c.errors,r)}})}}const FJ=e=>e.render($J(e));var bO=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},wj=e=>({isOnSubmit:!e||e===Hn.onSubmit,isOnBlur:e===Hn.onBlur,isOnChange:e===Hn.onChange,isOnAll:e===Hn.all,isOnTouch:e===Hn.onTouched}),Sj=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Wc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const o=he(e,s);if(o){const{_f:i,...a}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Wc(a,t))break}else if(Vt(a)&&Wc(a,t))break}}};var BJ=(e,t,r)=>{const n=zc(he(e,r));return st(n,"root",t[r]),st(e,r,n),e},ww=e=>e.type==="file",Ws=e=>typeof e=="function",tp=e=>{if(!yw)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},If=e=>xs(e),Sw=e=>e.type==="radio",rp=e=>e instanceof RegExp;const Cj={value:!1,isValid:!1},_j={value:!0,isValid:!0};var wO=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$t(e[0].attributes.value)?$t(e[0].value)||e[0].value===""?_j:{value:e[0].value,isValid:!0}:_j:Cj}return Cj};const jj={isValid:!1,value:null};var SO=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,jj):jj;function Ej(e,t,r="validate"){if(If(e)||Array.isArray(e)&&e.every(If)||Cn(e)&&!e)return{type:r,message:If(e)?e:"",ref:t}}var ma=e=>Vt(e)&&!rp(e)?e:{value:e,message:""},kj=async(e,t,r,n,s)=>{const{ref:o,refs:i,required:a,maxLength:c,minLength:d,min:u,max:f,pattern:h,validate:m,name:g,valueAsNumber:v,mount:b,disabled:y}=e._f,x=he(t,g);if(!b||y)return{};const w=i?i[0]:o,S=D=>{n&&w.reportValidity&&(w.setCustomValidity(Cn(D)?"":D||""),w.reportValidity())},j={},C=Sw(o),M=Ed(o),k=C||M,E=(v||ww(o))&&$t(o.value)&&$t(x)||tp(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,_=bO.bind(null,g,r,j),P=(D,L,A,$=Rs.maxLength,T=Rs.minLength)=>{const N=D?L:A;j[g]={type:D?$:T,message:N,ref:o,..._(D?$:T,N)}};if(s?!Array.isArray(x)||!x.length:a&&(!k&&(E||Dr(x))||Cn(x)&&!x||M&&!wO(i).isValid||C&&!SO(i).isValid)){const{value:D,message:L}=If(a)?{value:!!a,message:a}:ma(a);if(D&&(j[g]={type:Rs.required,message:L,ref:w,..._(Rs.required,L)},!r))return S(L),j}if(!E&&(!Dr(u)||!Dr(f))){let D,L;const A=ma(f),$=ma(u);if(!Dr(x)&&!isNaN(x)){const T=o.valueAsNumber||x&&+x;Dr(A.value)||(D=T>A.value),Dr($.value)||(L=T<$.value)}else{const T=o.valueAsDate||new Date(x),N=B=>new Date(new Date().toDateString()+" "+B),O=o.type=="time",R=o.type=="week";xs(A.value)&&x&&(D=O?N(x)>N(A.value):R?x>A.value:T>new Date(A.value)),xs($.value)&&x&&(L=O?N(x)<N($.value):R?x<$.value:T<new Date($.value))}if((D||L)&&(P(!!D,A.message,$.message,Rs.max,Rs.min),!r))return S(j[g].message),j}if((c||d)&&!E&&(xs(x)||s&&Array.isArray(x))){const D=ma(c),L=ma(d),A=!Dr(D.value)&&x.length>+D.value,$=!Dr(L.value)&&x.length<+L.value;if((A||$)&&(P(A,D.message,L.message),!r))return S(j[g].message),j}if(h&&!E&&xs(x)){const{value:D,message:L}=ma(h);if(rp(D)&&!x.match(D)&&(j[g]={type:Rs.pattern,message:L,ref:o,..._(Rs.pattern,L)},!r))return S(L),j}if(m){if(Ws(m)){const D=await m(x,t),L=Ej(D,w);if(L&&(j[g]={...L,..._(Rs.validate,L.message)},!r))return S(L.message),j}else if(Vt(m)){let D={};for(const L in m){if(!zr(D)&&!r)break;const A=Ej(await m[L](x,t),w,L);A&&(D={...A,..._(L,A.message)},S(A.message),r&&(j[g]=D))}if(!zr(D)&&(j[g]={ref:w,...D},!r))return j}}return S(!0),j};function UJ(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=$t(e)?n++:e[t[n++]];return e}function zJ(e){for(const t in e)if(e.hasOwnProperty(t)&&!$t(e[t]))return!1;return!0}function Zt(e,t){const r=Array.isArray(t)?t:xw(t)?[t]:pO(t),n=r.length===1?e:UJ(e,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(Vt(n)&&zr(n)||Array.isArray(n)&&zJ(n))&&Zt(e,r.slice(0,-1)),e}var gv=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}},bx=e=>Dr(e)||!dO(e);function _o(e,t){if(bx(e)||bx(t))return e===t;if(Pi(e)&&Pi(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const o=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const i=t[s];if(Pi(o)&&Pi(i)||Vt(o)&&Vt(i)||Array.isArray(o)&&Array.isArray(i)?!_o(o,i):o!==i)return!1}}return!0}var CO=e=>e.type==="select-multiple",WJ=e=>Sw(e)||Ed(e),vv=e=>tp(e)&&e.isConnected,_O=e=>{for(const t in e)if(Ws(e[t]))return!0;return!1};function np(e,t={}){const r=Array.isArray(e);if(Vt(e)||r)for(const n in e)Array.isArray(e[n])||Vt(e[n])&&!_O(e[n])?(t[n]=Array.isArray(e[n])?[]:{},np(e[n],t[n])):Dr(e[n])||(t[n]=!0);return t}function jO(e,t,r){const n=Array.isArray(e);if(Vt(e)||n)for(const s in e)Array.isArray(e[s])||Vt(e[s])&&!_O(e[s])?$t(t)||bx(r[s])?r[s]=Array.isArray(e[s])?np(e[s],[]):{...np(e[s])}:jO(e[s],Dr(t)?{}:t[s],r[s]):r[s]=!_o(e[s],t[s]);return r}var uc=(e,t)=>jO(e,t,np(t)),EO=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>$t(e)?e:t?e===""?NaN:e&&+e:r&&xs(e)?new Date(e):n?n(e):e;function yv(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return ww(t)?t.files:Sw(t)?SO(e.refs).value:CO(t)?[...t.selectedOptions].map(({value:r})=>r):Ed(t)?wO(e.refs).value:EO($t(t.value)?e.ref.value:t.value,e)}var VJ=(e,t,r,n)=>{const s={};for(const o of e){const i=he(t,o);i&&st(s,o,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},dc=e=>$t(e)?e:rp(e)?e.source:Vt(e)?rp(e.value)?e.value.source:e.value:e;const Nj="AsyncFunction";var HJ=e=>(!e||!e.validate)&&!!(Ws(e.validate)&&e.validate.constructor.name===Nj||Vt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Nj)),GJ=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Pj(e,t,r){const n=he(e,r);if(n||xw(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),i=he(t,o),a=he(e,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};s.pop()}return{name:r}}var qJ=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,YJ=(e,t)=>!Bm(he(e,t)).length&&Zt(e,t);const KJ={mode:Hn.onSubmit,reValidateMode:Hn.onChange,shouldFocusError:!0};function ZJ(e={}){let t={...KJ,...e},r={submitCount:0,isDirty:!1,isLoading:Ws(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Vt(t.defaultValues)||Vt(t.values)?Ur(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Ur(s),i={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:gv(),array:gv(),state:gv()},h=wj(t.mode),m=wj(t.reValidateMode),g=t.criteriaMode===Hn.all,v=U=>H=>{clearTimeout(d),d=setTimeout(U,H)},b=async U=>{if(!e.disabled&&(u.isValid||U)){const H=t.resolver?zr((await k()).errors):await _(n,!0);H!==r.isValid&&f.state.next({isValid:H})}},y=(U,H)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((U||Array.from(a.mount)).forEach(K=>{K&&(H?st(r.validatingFields,K,H):Zt(r.validatingFields,K))}),f.state.next({validatingFields:r.validatingFields,isValidating:!zr(r.validatingFields)}))},x=(U,H=[],K,se,oe=!0,te=!0)=>{if(se&&K&&!e.disabled){if(i.action=!0,te&&Array.isArray(he(n,U))){const ue=K(he(n,U),se.argA,se.argB);oe&&st(n,U,ue)}if(te&&Array.isArray(he(r.errors,U))){const ue=K(he(r.errors,U),se.argA,se.argB);oe&&st(r.errors,U,ue),YJ(r.errors,U)}if(u.touchedFields&&te&&Array.isArray(he(r.touchedFields,U))){const ue=K(he(r.touchedFields,U),se.argA,se.argB);oe&&st(r.touchedFields,U,ue)}u.dirtyFields&&(r.dirtyFields=uc(s,o)),f.state.next({name:U,isDirty:D(U,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else st(o,U,H)},w=(U,H)=>{st(r.errors,U,H),f.state.next({errors:r.errors})},S=U=>{r.errors=U,f.state.next({errors:r.errors,isValid:!1})},j=(U,H,K,se)=>{const oe=he(n,U);if(oe){const te=he(o,U,$t(K)?he(s,U):K);$t(te)||se&&se.defaultChecked||H?st(o,U,H?te:yv(oe._f)):$(U,te),i.mount&&b()}},C=(U,H,K,se,oe)=>{let te=!1,ue=!1;const we={name:U};if(!e.disabled){const Ke=!!(he(n,U)&&he(n,U)._f&&he(n,U)._f.disabled);if(!K||se){u.isDirty&&(ue=r.isDirty,r.isDirty=we.isDirty=D(),te=ue!==we.isDirty);const qe=Ke||_o(he(s,U),H);ue=!!(!Ke&&he(r.dirtyFields,U)),qe||Ke?Zt(r.dirtyFields,U):st(r.dirtyFields,U,!0),we.dirtyFields=r.dirtyFields,te=te||u.dirtyFields&&ue!==!qe}if(K){const qe=he(r.touchedFields,U);qe||(st(r.touchedFields,U,K),we.touchedFields=r.touchedFields,te=te||u.touchedFields&&qe!==K)}te&&oe&&f.state.next(we)}return te?we:{}},M=(U,H,K,se)=>{const oe=he(r.errors,U),te=u.isValid&&Cn(H)&&r.isValid!==H;if(e.delayError&&K?(c=v(()=>w(U,K)),c(e.delayError)):(clearTimeout(d),c=null,K?st(r.errors,U,K):Zt(r.errors,U)),(K?!_o(oe,K):oe)||!zr(se)||te){const ue={...se,...te&&Cn(H)?{isValid:H}:{},errors:r.errors,name:U};r={...r,...ue},f.state.next(ue)}},k=async U=>{y(U,!0);const H=await t.resolver(o,t.context,VJ(U||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(U),H},E=async U=>{const{errors:H}=await k(U);if(U)for(const K of U){const se=he(H,K);se?st(r.errors,K,se):Zt(r.errors,K)}else r.errors=H;return H},_=async(U,H,K={valid:!0})=>{for(const se in U){const oe=U[se];if(oe){const{_f:te,...ue}=oe;if(te){const we=a.array.has(te.name),Ke=oe._f&&HJ(oe._f);Ke&&u.validatingFields&&y([se],!0);const qe=await kj(oe,o,g,t.shouldUseNativeValidation&&!H,we);if(Ke&&u.validatingFields&&y([se]),qe[te.name]&&(K.valid=!1,H))break;!H&&(he(qe,te.name)?we?BJ(r.errors,qe,te.name):st(r.errors,te.name,qe[te.name]):Zt(r.errors,te.name))}!zr(ue)&&await _(ue,H,K)}}return K.valid},P=()=>{for(const U of a.unMount){const H=he(n,U);H&&(H._f.refs?H._f.refs.every(K=>!vv(K)):!vv(H._f.ref))&&q(U)}a.unMount=new Set},D=(U,H)=>!e.disabled&&(U&&H&&st(o,U,H),!_o(V(),s)),L=(U,H,K)=>xO(U,a,{...i.mount?o:$t(H)?s:xs(U)?{[U]:H}:H},K,H),A=U=>Bm(he(i.mount?o:s,U,e.shouldUnregister?he(s,U,[]):[])),$=(U,H,K={})=>{const se=he(n,U);let oe=H;if(se){const te=se._f;te&&(!te.disabled&&st(o,U,EO(H,te)),oe=tp(te.ref)&&Dr(H)?"":H,CO(te.ref)?[...te.ref.options].forEach(ue=>ue.selected=oe.includes(ue.value)):te.refs?Ed(te.ref)?te.refs.length>1?te.refs.forEach(ue=>(!ue.defaultChecked||!ue.disabled)&&(ue.checked=Array.isArray(oe)?!!oe.find(we=>we===ue.value):oe===ue.value)):te.refs[0]&&(te.refs[0].checked=!!oe):te.refs.forEach(ue=>ue.checked=ue.value===oe):ww(te.ref)?te.ref.value="":(te.ref.value=oe,te.ref.type||f.values.next({name:U,values:{...o}})))}(K.shouldDirty||K.shouldTouch)&&C(U,oe,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&B(U)},T=(U,H,K)=>{for(const se in H){const oe=H[se],te=`${U}.${se}`,ue=he(n,te);(a.array.has(U)||Vt(oe)||ue&&!ue._f)&&!Pi(oe)?T(te,oe,K):$(te,oe,K)}},N=(U,H,K={})=>{const se=he(n,U),oe=a.array.has(U),te=Ur(H);st(o,U,te),oe?(f.array.next({name:U,values:{...o}}),(u.isDirty||u.dirtyFields)&&K.shouldDirty&&f.state.next({name:U,dirtyFields:uc(s,o),isDirty:D(U,te)})):se&&!se._f&&!Dr(te)?T(U,te,K):$(U,te,K),Sj(U,a)&&f.state.next({...r}),f.values.next({name:i.mount?U:void 0,values:{...o}})},O=async U=>{i.mount=!0;const H=U.target;let K=H.name,se=!0;const oe=he(n,K),te=()=>H.type?yv(oe._f):fO(U),ue=we=>{se=Number.isNaN(we)||Pi(we)&&isNaN(we.getTime())||_o(we,he(o,K,we))};if(oe){let we,Ke;const qe=te(),nt=U.type===ep.BLUR||U.type===ep.FOCUS_OUT,Ut=!GJ(oe._f)&&!t.resolver&&!he(r.errors,K)&&!oe._f.deps||qJ(nt,he(r.touchedFields,K),r.isSubmitted,m,h),St=Sj(K,a,nt);st(o,K,qe),nt?(oe._f.onBlur&&oe._f.onBlur(U),c&&c(0)):oe._f.onChange&&oe._f.onChange(U);const Ot=C(K,qe,nt,!1),Ht=!zr(Ot)||St;if(!nt&&f.values.next({name:K,type:U.type,values:{...o}}),Ut)return u.isValid&&(e.mode==="onBlur"?nt&&b():b()),Ht&&f.state.next({name:K,...St?{}:Ot});if(!nt&&St&&f.state.next({...r}),t.resolver){const{errors:Gt}=await k([K]);if(ue(qe),se){const hr=Pj(r.errors,n,K),Kt=Pj(Gt,n,hr.name||K);we=Kt.error,K=Kt.name,Ke=zr(Gt)}}else y([K],!0),we=(await kj(oe,o,g,t.shouldUseNativeValidation))[K],y([K]),ue(qe),se&&(we?Ke=!1:u.isValid&&(Ke=await _(n,!0)));se&&(oe._f.deps&&B(oe._f.deps),M(K,Ke,we,Ot))}},R=(U,H)=>{if(he(r.errors,H)&&U.focus)return U.focus(),1},B=async(U,H={})=>{let K,se;const oe=zc(U);if(t.resolver){const te=await E($t(U)?U:oe);K=zr(te),se=U?!oe.some(ue=>he(te,ue)):K}else U?(se=(await Promise.all(oe.map(async te=>{const ue=he(n,te);return await _(ue&&ue._f?{[te]:ue}:ue)}))).every(Boolean),!(!se&&!r.isValid)&&b()):se=K=await _(n);return f.state.next({...!xs(U)||u.isValid&&K!==r.isValid?{}:{name:U},...t.resolver||!U?{isValid:K}:{},errors:r.errors}),H.shouldFocus&&!se&&Wc(n,R,U?oe:a.mount),se},V=U=>{const H={...i.mount?o:s};return $t(U)?H:xs(U)?he(H,U):U.map(K=>he(H,K))},F=(U,H)=>({invalid:!!he((H||r).errors,U),isDirty:!!he((H||r).dirtyFields,U),error:he((H||r).errors,U),isValidating:!!he(r.validatingFields,U),isTouched:!!he((H||r).touchedFields,U)}),z=U=>{U&&zc(U).forEach(H=>Zt(r.errors,H)),f.state.next({errors:U?r.errors:{}})},W=(U,H,K)=>{const se=(he(n,U,{_f:{}})._f||{}).ref,oe=he(r.errors,U)||{},{ref:te,message:ue,type:we,...Ke}=oe;st(r.errors,U,{...Ke,...H,ref:se}),f.state.next({name:U,errors:r.errors,isValid:!1}),K&&K.shouldFocus&&se&&se.focus&&se.focus()},I=(U,H)=>Ws(U)?f.values.subscribe({next:K=>U(L(void 0,H),K)}):L(U,H,!0),q=(U,H={})=>{for(const K of U?zc(U):a.mount)a.mount.delete(K),a.array.delete(K),H.keepValue||(Zt(n,K),Zt(o,K)),!H.keepError&&Zt(r.errors,K),!H.keepDirty&&Zt(r.dirtyFields,K),!H.keepTouched&&Zt(r.touchedFields,K),!H.keepIsValidating&&Zt(r.validatingFields,K),!t.shouldUnregister&&!H.keepDefaultValue&&Zt(s,K);f.values.next({values:{...o}}),f.state.next({...r,...H.keepDirty?{isDirty:D()}:{}}),!H.keepIsValid&&b()},X=({disabled:U,name:H,field:K,fields:se,value:oe})=>{if(Cn(U)&&i.mount||U){const te=U?void 0:$t(oe)?yv(K?K._f:he(se,H)._f):oe;st(o,H,te),C(H,te,!1,!1,!0)}},Q=(U,H={})=>{let K=he(n,U);const se=Cn(H.disabled)||Cn(e.disabled);return st(n,U,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:U}},name:U,mount:!0,...H}}),a.mount.add(U),K?X({field:K,disabled:Cn(H.disabled)?H.disabled:e.disabled,name:U,value:H.value}):j(U,!0,H.value),{...se?{disabled:H.disabled||e.disabled}:{},...t.progressive?{required:!!H.required,min:dc(H.min),max:dc(H.max),minLength:dc(H.minLength),maxLength:dc(H.maxLength),pattern:dc(H.pattern)}:{},name:U,onChange:O,onBlur:O,ref:oe=>{if(oe){Q(U,H),K=he(n,U);const te=$t(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,ue=WJ(te),we=K._f.refs||[];if(ue?we.find(Ke=>Ke===te):te===K._f.ref)return;st(n,U,{_f:{...K._f,...ue?{refs:[...we.filter(vv),te,...Array.isArray(he(s,U))?[{}]:[]],ref:{type:te.type,name:U}}:{ref:te}}}),j(U,!1,void 0,te)}else K=he(n,U,{}),K._f&&(K._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(hO(a.array,U)&&i.action)&&a.unMount.add(U)}}},ne=()=>t.shouldFocusError&&Wc(n,R,a.mount),J=U=>{Cn(U)&&(f.state.next({disabled:U}),Wc(n,(H,K)=>{const se=he(n,K);se&&(H.disabled=se._f.disabled||U,Array.isArray(se._f.refs)&&se._f.refs.forEach(oe=>{oe.disabled=se._f.disabled||U}))},0,!1))},G=(U,H)=>async K=>{let se;K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let oe=Ur(o);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:te,values:ue}=await k();r.errors=te,oe=ue}else await _(n);if(Zt(r.errors,"root"),zr(r.errors)){f.state.next({errors:{}});try{await U(oe,K)}catch(te){se=te}}else H&&await H({...r.errors},K),ne(),setTimeout(ne);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zr(r.errors)&&!se,submitCount:r.submitCount+1,errors:r.errors}),se)throw se},ie=(U,H={})=>{he(n,U)&&($t(H.defaultValue)?N(U,Ur(he(s,U))):(N(U,H.defaultValue),st(s,U,Ur(H.defaultValue))),H.keepTouched||Zt(r.touchedFields,U),H.keepDirty||(Zt(r.dirtyFields,U),r.isDirty=H.defaultValue?D(U,Ur(he(s,U))):D()),H.keepError||(Zt(r.errors,U),u.isValid&&b()),f.state.next({...r}))},_e=(U,H={})=>{const K=U?Ur(U):s,se=Ur(K),oe=zr(U),te=oe?s:se;if(H.keepDefaultValues||(s=K),!H.keepValues){if(H.keepDirtyValues){const ue=new Set([...a.mount,...Object.keys(uc(s,o))]);for(const we of Array.from(ue))he(r.dirtyFields,we)?st(te,we,he(o,we)):N(we,he(te,we))}else{if(yw&&$t(U))for(const ue of a.mount){const we=he(n,ue);if(we&&we._f){const Ke=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(tp(Ke)){const qe=Ke.closest("form");if(qe){qe.reset();break}}}}n={}}o=e.shouldUnregister?H.keepDefaultValues?Ur(s):{}:Ur(te),f.array.next({values:{...te}}),f.values.next({values:{...te}})}a={mount:H.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!u.isValid||!!H.keepIsValid||!!H.keepDirtyValues,i.watch=!!e.shouldUnregister,f.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:oe?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!_o(U,s)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:oe?{}:H.keepDirtyValues?H.keepDefaultValues&&o?uc(s,o):r.dirtyFields:H.keepDefaultValues&&U?uc(s,U):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ee=(U,H)=>_e(Ws(U)?U(o):U,H);return{control:{register:Q,unregister:q,getFieldState:F,handleSubmit:G,setError:W,_executeSchema:k,_getWatch:L,_getDirty:D,_updateValid:b,_removeUnmounted:P,_updateFieldArray:x,_updateDisabledField:X,_getFieldArray:A,_reset:_e,_resetDefaultValues:()=>Ws(t.defaultValues)&&t.defaultValues().then(U=>{Ee(U,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:U=>{r={...r,...U}},_disableForm:J,_subjects:f,_proxyFormState:u,_setErrors:S,get _fields(){return n},get _formValues(){return o},get _state(){return i},set _state(U){i=U},get _defaultValues(){return s},get _names(){return a},set _names(U){a=U},get _formState(){return r},set _formState(U){r=U},get _options(){return t},set _options(U){t={...t,...U}}},trigger:B,register:Q,handleSubmit:G,watch:I,setValue:N,getValues:V,reset:Ee,resetField:ie,clearErrors:z,unregister:q,setError:W,setFocus:(U,H={})=>{const K=he(n,U),se=K&&K._f;if(se){const oe=se.refs?se.refs[0]:se.ref;oe.focus&&(oe.focus(),H.shouldSelect&&oe.select())}},getFieldState:F}}function Fl(e={}){const t=Z.useRef(),r=Z.useRef(),[n,s]=Z.useState({isDirty:!1,isValidating:!1,isLoading:Ws(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ws(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...ZJ(e),formState:n});const o=t.current.control;return o._options=e,bw({subject:o._subjects.state,next:i=>{vO(i,o._proxyFormState,o._updateFormState,!0)&&s({...o._formState})}}),Z.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),Z.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==n.isDirty&&o._subjects.state.next({isDirty:i})}},[o,n.isDirty]),Z.useEffect(()=>{e.values&&!_o(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,s(i=>({...i}))):o._resetDefaultValues()},[e.values,o]),Z.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),Z.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),Z.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),Z.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=gO(n,o),t.current}const Bl=AJ,kO=p.createContext({}),ct=({...e})=>l.jsx(kO.Provider,{value:{name:e.name},children:l.jsx(FJ,{...e})}),zm=()=>{const e=p.useContext(kO),t=p.useContext(NO),{getFieldState:r,formState:n}=Um(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},NO=p.createContext({}),it=p.forwardRef(({className:e,...t},r)=>{const n=p.useId();return l.jsx(NO.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:me("space-y-2",e),...t})})});it.displayName="FormItem";const tt=p.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=zm();return l.jsx(Nt,{ref:r,className:me(n&&"text-destructive",e),htmlFor:s,...t})});tt.displayName="FormLabel";const at=p.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:o}=zm();return l.jsx(Cs,{ref:t,id:n,"aria-describedby":r?`${s} ${o}`:`${s}`,"aria-invalid":!!r,...e})});at.displayName="FormControl";const hs=p.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=zm();return l.jsx("p",{ref:r,id:n,className:me("text-sm text-muted-foreground",e),...t})});hs.displayName="FormDescription";const ut=p.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:o}=zm(),i=s?String(s==null?void 0:s.message):t;return i?l.jsx("p",{ref:n,id:o,className:me("text-sm font-medium text-destructive",e),...r,children:i}):null});ut.displayName="FormMessage";var Ze;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const o={};for(const i of s)o[i]=i;return o},e.getValidEnumValues=s=>{const o=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),i={};for(const a of o)i[a]=s[a];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(o){return s[o]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&o.push(i);return o},e.find=(s,o)=>{for(const i of s)if(o(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Ze||(Ze={}));var wx;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(wx||(wx={}));const ge=Ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jo=e=>{switch(typeof e){case"undefined":return ge.undefined;case"string":return ge.string;case"number":return isNaN(e)?ge.nan:ge.number;case"boolean":return ge.boolean;case"function":return ge.function;case"bigint":return ge.bigint;case"symbol":return ge.symbol;case"object":return Array.isArray(e)?ge.array:e===null?ge.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ge.promise:typeof Map<"u"&&e instanceof Map?ge.map:typeof Set<"u"&&e instanceof Set?ge.set:typeof Date<"u"&&e instanceof Date?ge.date:ge.object;default:return ge.unknown}},le=Ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),XJ=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class hn extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(o){return o.message},n={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let a=n,c=0;for(;c<i.path.length;){const d=i.path[c];c===i.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(r(i))):a[d]=a[d]||{_errors:[]},a=a[d],c++}}};return s(this),n}static assert(t){if(!(t instanceof hn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}hn.create=e=>new hn(e);const gl=(e,t)=>{let r;switch(e.code){case le.invalid_type:e.received===ge.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case le.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ze.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ze.joinValues(e.keys,", ")}`;break;case le.invalid_union:r="Invalid input";break;case le.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ze.joinValues(e.options)}`;break;case le.invalid_enum_value:r=`Invalid enum value. Expected ${Ze.joinValues(e.options)}, received '${e.received}'`;break;case le.invalid_arguments:r="Invalid function arguments";break;case le.invalid_return_type:r="Invalid function return type";break;case le.invalid_date:r="Invalid date";break;case le.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ze.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case le.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case le.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case le.custom:r="Invalid input";break;case le.invalid_intersection_types:r="Intersection results could not be merged";break;case le.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case le.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ze.assertNever(e)}return{message:r}};let PO=gl;function QJ(e){PO=e}function sp(){return PO}const op=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,o=[...r,...s.path||[]],i={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let a="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)a=d(i,{data:t,defaultError:a}).message;return{...s,path:o,message:a}},JJ=[];function pe(e,t){const r=sp(),n=op({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===gl?void 0:gl].filter(s=>!!s)});e.common.issues.push(n)}class jr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Me;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const o=await s.key,i=await s.value;n.push({key:o,value:i})}return jr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:o,value:i}=s;if(o.status==="aborted"||i.status==="aborted")return Me;o.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[o.value]=i.value)}return{status:t.value,value:n}}}const Me=Object.freeze({status:"aborted"}),Oa=e=>({status:"dirty",value:e}),Or=e=>({status:"valid",value:e}),Sx=e=>e.status==="aborted",Cx=e=>e.status==="dirty",Pu=e=>e.status==="valid",Mu=e=>typeof Promise<"u"&&e instanceof Promise;function ip(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function MO(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Se;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Se||(Se={}));var bc,wc;class Ms{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Mj=(e,t)=>{if(Pu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new hn(e.common.issues);return this._error=r,this._error}}};function Ie(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,a)=>{var c,d;const{message:u}=e;return i.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:a.defaultError}},description:s}}class ze{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return jo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:jo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new jr,ctx:{common:t.parent.common,data:t.data,parsedType:jo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Mu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:jo(t)},o=this._parseSync({data:t,path:s.path,parent:s});return Mj(s,o)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:jo(t)},s=this._parse({data:t,path:n.path,parent:n}),o=await(Mu(s)?s:Promise.resolve(s));return Mj(n,o)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const i=t(s),a=()=>o.addIssue({code:le.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new os({schema:this,typeName:ke.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Ss.create(this,this._def)}nullable(){return ti.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xn.create(this,this._def)}promise(){return yl.create(this,this._def)}or(t){return Ou.create([this,t],this._def)}and(t){return Au.create(this,t,this._def)}transform(t){return new os({...Ie(this._def),schema:this,typeName:ke.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Bu({...Ie(this._def),innerType:this,defaultValue:r,typeName:ke.ZodDefault})}brand(){return new Cw({typeName:ke.ZodBranded,type:this,...Ie(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Uu({...Ie(this._def),innerType:this,catchValue:r,typeName:ke.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return kd.create(this,t)}readonly(){return zu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const eee=/^c[^\s-]{8,}$/i,tee=/^[0-9a-z]+$/,ree=/^[0-9A-HJKMNP-TV-Z]{26}$/,nee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,see=/^[a-z0-9_-]{21}$/i,oee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let xv;const lee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cee=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,uee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,LO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dee=new RegExp(`^${LO}$`);function DO(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function fee(e){return new RegExp(`^${DO(e)}$`)}function TO(e){let t=`${LO}T${DO(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function hee(e,t){return!!((t==="v4"||!t)&&lee.test(e)||(t==="v6"||!t)&&cee.test(e))}class Yn extends ze{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ge.string){const o=this._getOrReturnCtx(t);return pe(o,{code:le.invalid_type,expected:ge.string,received:o.parsedType}),Me}const n=new jr;let s;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(s=this._getOrReturnCtx(t,s),pe(s,{code:le.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(s=this._getOrReturnCtx(t,s),pe(s,{code:le.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const i=t.data.length>o.value,a=t.data.length<o.value;(i||a)&&(s=this._getOrReturnCtx(t,s),i?pe(s,{code:le.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&pe(s,{code:le.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")iee.test(t.data)||(s=this._getOrReturnCtx(t,s),pe(s,{validation:"email",code:le.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")xv||(xv=new RegExp(aee,"u")),xv.test(t.data)||(s=this._getOrReturnCtx(t,s),pe(s,{validation:"emoji",code:le.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")nee.test(t.data)||(s=this._getOrReturnCtx(t,s),pe(s,{validation:"uuid",code:le.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")see.test(t.data)||(s=this._getOrReturnCtx(t,s),pe(s,{validation:"nanoid",code:le.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")eee.test(t.data)||(s=this._getOrReturnCtx(t,s),pe(s,{validation:"cuid",code:le.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")tee.test(t.data)||(s=this._getOrReturnCtx(t,s),pe(s,{validation:"cuid2",code:le.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")ree.test(t.data)||(s=this._getOrReturnCtx(t,s),pe(s,{validation:"ulid",code:le.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),pe(s,{validation:"url",code:le.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),pe(s,{validation:"regex",code:le.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(t,s),pe(s,{code:le.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(s=this._getOrReturnCtx(t,s),pe(s,{code:le.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(s=this._getOrReturnCtx(t,s),pe(s,{code:le.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?TO(o).test(t.data)||(s=this._getOrReturnCtx(t,s),pe(s,{code:le.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?dee.test(t.data)||(s=this._getOrReturnCtx(t,s),pe(s,{code:le.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?fee(o).test(t.data)||(s=this._getOrReturnCtx(t,s),pe(s,{code:le.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?oee.test(t.data)||(s=this._getOrReturnCtx(t,s),pe(s,{validation:"duration",code:le.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?hee(t.data,o.version)||(s=this._getOrReturnCtx(t,s),pe(s,{validation:"ip",code:le.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?uee.test(t.data)||(s=this._getOrReturnCtx(t,s),pe(s,{validation:"base64",code:le.invalid_string,message:o.message}),n.dirty()):Ze.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:le.invalid_string,...Se.errToObj(n)})}_addCheck(t){return new Yn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Se.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Se.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Se.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Se.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Se.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Se.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Se.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Se.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Se.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Se.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Se.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Se.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Se.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Se.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Se.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Se.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Se.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Se.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Se.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Se.errToObj(r)})}nonempty(t){return this.min(1,Se.errToObj(t))}trim(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Yn.create=e=>{var t;return new Yn({checks:[],typeName:ke.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ie(e)})};function pee(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,o=parseInt(e.toFixed(s).replace(".","")),i=parseInt(t.toFixed(s).replace(".",""));return o%i/Math.pow(10,s)}class Qo extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ge.number){const o=this._getOrReturnCtx(t);return pe(o,{code:le.invalid_type,expected:ge.number,received:o.parsedType}),Me}let n;const s=new jr;for(const o of this._def.checks)o.kind==="int"?Ze.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),pe(n,{code:le.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),pe(n,{code:le.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),pe(n,{code:le.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?pee(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),pe(n,{code:le.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),pe(n,{code:le.not_finite,message:o.message}),s.dirty()):Ze.assertNever(o);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Se.toString(r))}setLimit(t,r,n,s){return new Qo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Se.toString(s)}]})}_addCheck(t){return new Qo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Se.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Se.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Se.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ze.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Qo.create=e=>new Qo({checks:[],typeName:ke.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ie(e)});class Jo extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ge.bigint){const o=this._getOrReturnCtx(t);return pe(o,{code:le.invalid_type,expected:ge.bigint,received:o.parsedType}),Me}let n;const s=new jr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),pe(n,{code:le.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),pe(n,{code:le.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),pe(n,{code:le.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Ze.assertNever(o);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Se.toString(r))}setLimit(t,r,n,s){return new Jo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Se.toString(s)}]})}_addCheck(t){return new Jo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Se.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Jo.create=e=>{var t;return new Jo({checks:[],typeName:ke.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ie(e)})};class Lu extends ze{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ge.boolean){const n=this._getOrReturnCtx(t);return pe(n,{code:le.invalid_type,expected:ge.boolean,received:n.parsedType}),Me}return Or(t.data)}}Lu.create=e=>new Lu({typeName:ke.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ie(e)});class Vi extends ze{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ge.date){const o=this._getOrReturnCtx(t);return pe(o,{code:le.invalid_type,expected:ge.date,received:o.parsedType}),Me}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return pe(o,{code:le.invalid_date}),Me}const n=new jr;let s;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(s=this._getOrReturnCtx(t,s),pe(s,{code:le.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(s=this._getOrReturnCtx(t,s),pe(s,{code:le.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Ze.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Vi({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Se.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Se.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Vi.create=e=>new Vi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ke.ZodDate,...Ie(e)});class ap extends ze{_parse(t){if(this._getType(t)!==ge.symbol){const n=this._getOrReturnCtx(t);return pe(n,{code:le.invalid_type,expected:ge.symbol,received:n.parsedType}),Me}return Or(t.data)}}ap.create=e=>new ap({typeName:ke.ZodSymbol,...Ie(e)});class Du extends ze{_parse(t){if(this._getType(t)!==ge.undefined){const n=this._getOrReturnCtx(t);return pe(n,{code:le.invalid_type,expected:ge.undefined,received:n.parsedType}),Me}return Or(t.data)}}Du.create=e=>new Du({typeName:ke.ZodUndefined,...Ie(e)});class Tu extends ze{_parse(t){if(this._getType(t)!==ge.null){const n=this._getOrReturnCtx(t);return pe(n,{code:le.invalid_type,expected:ge.null,received:n.parsedType}),Me}return Or(t.data)}}Tu.create=e=>new Tu({typeName:ke.ZodNull,...Ie(e)});class vl extends ze{constructor(){super(...arguments),this._any=!0}_parse(t){return Or(t.data)}}vl.create=e=>new vl({typeName:ke.ZodAny,...Ie(e)});class Ti extends ze{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Or(t.data)}}Ti.create=e=>new Ti({typeName:ke.ZodUnknown,...Ie(e)});class ro extends ze{_parse(t){const r=this._getOrReturnCtx(t);return pe(r,{code:le.invalid_type,expected:ge.never,received:r.parsedType}),Me}}ro.create=e=>new ro({typeName:ke.ZodNever,...Ie(e)});class lp extends ze{_parse(t){if(this._getType(t)!==ge.undefined){const n=this._getOrReturnCtx(t);return pe(n,{code:le.invalid_type,expected:ge.void,received:n.parsedType}),Me}return Or(t.data)}}lp.create=e=>new lp({typeName:ke.ZodVoid,...Ie(e)});class Xn extends ze{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ge.array)return pe(r,{code:le.invalid_type,expected:ge.array,received:r.parsedType}),Me;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(i||a)&&(pe(r,{code:i?le.too_big:le.too_small,minimum:a?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(pe(r,{code:le.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(pe(r,{code:le.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,a)=>s.type._parseAsync(new Ms(r,i,r.path,a)))).then(i=>jr.mergeArray(n,i));const o=[...r.data].map((i,a)=>s.type._parseSync(new Ms(r,i,r.path,a)));return jr.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new Xn({...this._def,minLength:{value:t,message:Se.toString(r)}})}max(t,r){return new Xn({...this._def,maxLength:{value:t,message:Se.toString(r)}})}length(t,r){return new Xn({...this._def,exactLength:{value:t,message:Se.toString(r)}})}nonempty(t){return this.min(1,t)}}Xn.create=(e,t)=>new Xn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ke.ZodArray,...Ie(t)});function ba(e){if(e instanceof Pt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ss.create(ba(n))}return new Pt({...e._def,shape:()=>t})}else return e instanceof Xn?new Xn({...e._def,type:ba(e.element)}):e instanceof Ss?Ss.create(ba(e.unwrap())):e instanceof ti?ti.create(ba(e.unwrap())):e instanceof Ls?Ls.create(e.items.map(t=>ba(t))):e}class Pt extends ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ze.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ge.object){const d=this._getOrReturnCtx(t);return pe(d,{code:le.invalid_type,expected:ge.object,received:d.parsedType}),Me}const{status:n,ctx:s}=this._processInputParams(t),{shape:o,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof ro&&this._def.unknownKeys==="strip"))for(const d in s.data)i.includes(d)||a.push(d);const c=[];for(const d of i){const u=o[d],f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ms(s,f,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof ro){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(d==="strict")a.length>0&&(pe(s,{code:le.unrecognized_keys,keys:a}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of a){const f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ms(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,h=await u.value;d.push({key:f,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>jr.mergeObjectSync(n,d)):jr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Se.errToObj,new Pt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o,i,a;const c=(i=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,r,n).message)!==null&&i!==void 0?i:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=Se.errToObj(t).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Pt({...this._def,unknownKeys:"strip"})}passthrough(){return new Pt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Pt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Pt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ke.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Pt({...this._def,catchall:t})}pick(t){const r={};return Ze.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Pt({...this._def,shape:()=>r})}omit(t){const r={};return Ze.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Pt({...this._def,shape:()=>r})}deepPartial(){return ba(this)}partial(t){const r={};return Ze.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new Pt({...this._def,shape:()=>r})}required(t){const r={};return Ze.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Ss;)o=o._def.innerType;r[n]=o}}),new Pt({...this._def,shape:()=>r})}keyof(){return OO(Ze.objectKeys(this.shape))}}Pt.create=(e,t)=>new Pt({shape:()=>e,unknownKeys:"strip",catchall:ro.create(),typeName:ke.ZodObject,...Ie(t)});Pt.strictCreate=(e,t)=>new Pt({shape:()=>e,unknownKeys:"strict",catchall:ro.create(),typeName:ke.ZodObject,...Ie(t)});Pt.lazycreate=(e,t)=>new Pt({shape:e,unknownKeys:"strip",catchall:ro.create(),typeName:ke.ZodObject,...Ie(t)});class Ou extends ze{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const i=o.map(a=>new hn(a.ctx.common.issues));return pe(r,{code:le.invalid_union,unionErrors:i}),Me}if(r.common.async)return Promise.all(n.map(async o=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let o;const i=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(c=>new hn(c));return pe(r,{code:le.invalid_union,unionErrors:a}),Me}}get options(){return this._def.options}}Ou.create=(e,t)=>new Ou({options:e,typeName:ke.ZodUnion,...Ie(t)});const Is=e=>e instanceof Iu?Is(e.schema):e instanceof os?Is(e.innerType()):e instanceof $u?[e.value]:e instanceof ei?e.options:e instanceof Fu?Ze.objectValues(e.enum):e instanceof Bu?Is(e._def.innerType):e instanceof Du?[void 0]:e instanceof Tu?[null]:e instanceof Ss?[void 0,...Is(e.unwrap())]:e instanceof ti?[null,...Is(e.unwrap())]:e instanceof Cw||e instanceof zu?Is(e.unwrap()):e instanceof Uu?Is(e._def.innerType):[];class Wm extends ze{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ge.object)return pe(r,{code:le.invalid_type,expected:ge.object,received:r.parsedType}),Me;const n=this.discriminator,s=r.data[n],o=this.optionsMap.get(s);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(pe(r,{code:le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const o of r){const i=Is(o.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of i){if(s.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);s.set(a,o)}}return new Wm({typeName:ke.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...Ie(n)})}}function _x(e,t){const r=jo(e),n=jo(t);if(e===t)return{valid:!0,data:e};if(r===ge.object&&n===ge.object){const s=Ze.objectKeys(t),o=Ze.objectKeys(e).filter(a=>s.indexOf(a)!==-1),i={...e,...t};for(const a of o){const c=_x(e[a],t[a]);if(!c.valid)return{valid:!1};i[a]=c.data}return{valid:!0,data:i}}else if(r===ge.array&&n===ge.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let o=0;o<e.length;o++){const i=e[o],a=t[o],c=_x(i,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ge.date&&n===ge.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Au extends ze{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(o,i)=>{if(Sx(o)||Sx(i))return Me;const a=_x(o.value,i.value);return a.valid?((Cx(o)||Cx(i))&&r.dirty(),{status:r.value,value:a.data}):(pe(n,{code:le.invalid_intersection_types}),Me)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Au.create=(e,t,r)=>new Au({left:e,right:t,typeName:ke.ZodIntersection,...Ie(r)});class Ls extends ze{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ge.array)return pe(n,{code:le.invalid_type,expected:ge.array,received:n.parsedType}),Me;if(n.data.length<this._def.items.length)return pe(n,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Me;!this._def.rest&&n.data.length>this._def.items.length&&(pe(n,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((i,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Ms(n,i,n.path,a)):null}).filter(i=>!!i);return n.common.async?Promise.all(o).then(i=>jr.mergeArray(r,i)):jr.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new Ls({...this._def,rest:t})}}Ls.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ls({items:e,typeName:ke.ZodTuple,rest:null,...Ie(t)})};class Ru extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ge.object)return pe(n,{code:le.invalid_type,expected:ge.object,received:n.parsedType}),Me;const s=[],o=this._def.keyType,i=this._def.valueType;for(const a in n.data)s.push({key:o._parse(new Ms(n,a,n.path,a)),value:i._parse(new Ms(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?jr.mergeObjectAsync(r,s):jr.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof ze?new Ru({keyType:t,valueType:r,typeName:ke.ZodRecord,...Ie(n)}):new Ru({keyType:Yn.create(),valueType:t,typeName:ke.ZodRecord,...Ie(r)})}}class cp extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ge.map)return pe(n,{code:le.invalid_type,expected:ge.map,received:n.parsedType}),Me;const s=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(([a,c],d)=>({key:s._parse(new Ms(n,a,n.path,[d,"key"])),value:o._parse(new Ms(n,c,n.path,[d,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of i){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Me;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(d.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of i){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Me;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(d.value,u.value)}return{status:r.value,value:a}}}}cp.create=(e,t,r)=>new cp({valueType:t,keyType:e,typeName:ke.ZodMap,...Ie(r)});class Hi extends ze{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ge.set)return pe(n,{code:le.invalid_type,expected:ge.set,received:n.parsedType}),Me;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(pe(n,{code:le.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(pe(n,{code:le.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function i(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Me;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const a=[...n.data.values()].map((c,d)=>o._parse(new Ms(n,c,n.path,d)));return n.common.async?Promise.all(a).then(c=>i(c)):i(a)}min(t,r){return new Hi({...this._def,minSize:{value:t,message:Se.toString(r)}})}max(t,r){return new Hi({...this._def,maxSize:{value:t,message:Se.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Hi.create=(e,t)=>new Hi({valueType:e,minSize:null,maxSize:null,typeName:ke.ZodSet,...Ie(t)});class qa extends ze{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ge.function)return pe(r,{code:le.invalid_type,expected:ge.function,received:r.parsedType}),Me;function n(a,c){return op({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,sp(),gl].filter(d=>!!d),issueData:{code:le.invalid_arguments,argumentsError:c}})}function s(a,c){return op({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,sp(),gl].filter(d=>!!d),issueData:{code:le.invalid_return_type,returnTypeError:c}})}const o={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof yl){const a=this;return Or(async function(...c){const d=new hn([]),u=await a._def.args.parseAsync(c,o).catch(m=>{throw d.addIssue(n(c,m)),d}),f=await Reflect.apply(i,this,u);return await a._def.returns._def.type.parseAsync(f,o).catch(m=>{throw d.addIssue(s(f,m)),d})})}else{const a=this;return Or(function(...c){const d=a._def.args.safeParse(c,o);if(!d.success)throw new hn([n(c,d.error)]);const u=Reflect.apply(i,this,d.data),f=a._def.returns.safeParse(u,o);if(!f.success)throw new hn([s(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new qa({...this._def,args:Ls.create(t).rest(Ti.create())})}returns(t){return new qa({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new qa({args:t||Ls.create([]).rest(Ti.create()),returns:r||Ti.create(),typeName:ke.ZodFunction,...Ie(n)})}}class Iu extends ze{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Iu.create=(e,t)=>new Iu({getter:e,typeName:ke.ZodLazy,...Ie(t)});class $u extends ze{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return pe(r,{received:r.data,code:le.invalid_literal,expected:this._def.value}),Me}return{status:"valid",value:t.data}}get value(){return this._def.value}}$u.create=(e,t)=>new $u({value:e,typeName:ke.ZodLiteral,...Ie(t)});function OO(e,t){return new ei({values:e,typeName:ke.ZodEnum,...Ie(t)})}class ei extends ze{constructor(){super(...arguments),bc.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return pe(r,{expected:Ze.joinValues(n),received:r.parsedType,code:le.invalid_type}),Me}if(ip(this,bc)||MO(this,bc,new Set(this._def.values)),!ip(this,bc).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return pe(r,{received:r.data,code:le.invalid_enum_value,options:n}),Me}return Or(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ei.create(t,{...this._def,...r})}exclude(t,r=this._def){return ei.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}bc=new WeakMap;ei.create=OO;class Fu extends ze{constructor(){super(...arguments),wc.set(this,void 0)}_parse(t){const r=Ze.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ge.string&&n.parsedType!==ge.number){const s=Ze.objectValues(r);return pe(n,{expected:Ze.joinValues(s),received:n.parsedType,code:le.invalid_type}),Me}if(ip(this,wc)||MO(this,wc,new Set(Ze.getValidEnumValues(this._def.values))),!ip(this,wc).has(t.data)){const s=Ze.objectValues(r);return pe(n,{received:n.data,code:le.invalid_enum_value,options:s}),Me}return Or(t.data)}get enum(){return this._def.values}}wc=new WeakMap;Fu.create=(e,t)=>new Fu({values:e,typeName:ke.ZodNativeEnum,...Ie(t)});class yl extends ze{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ge.promise&&r.common.async===!1)return pe(r,{code:le.invalid_type,expected:ge.promise,received:r.parsedType}),Me;const n=r.parsedType===ge.promise?r.data:Promise.resolve(r.data);return Or(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}yl.create=(e,t)=>new yl({type:e,typeName:ke.ZodPromise,...Ie(t)});class os extends ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,o={addIssue:i=>{pe(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const i=s.transform(n.data,o);if(n.common.async)return Promise.resolve(i).then(async a=>{if(r.value==="aborted")return Me;const c=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?Me:c.status==="dirty"||r.value==="dirty"?Oa(c.value):c});{if(r.value==="aborted")return Me;const a=this._def.schema._parseSync({data:i,path:n.path,parent:n});return a.status==="aborted"?Me:a.status==="dirty"||r.value==="dirty"?Oa(a.value):a}}if(s.type==="refinement"){const i=a=>{const c=s.refinement(a,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Me:(a.status==="dirty"&&r.dirty(),i(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Me:(a.status==="dirty"&&r.dirty(),i(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Pu(i))return i;const a=s.transform(i.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>Pu(i)?Promise.resolve(s.transform(i.value,o)).then(a=>({status:r.value,value:a})):i);Ze.assertNever(s)}}os.create=(e,t,r)=>new os({schema:e,typeName:ke.ZodEffects,effect:t,...Ie(r)});os.createWithPreprocess=(e,t,r)=>new os({schema:t,effect:{type:"preprocess",transform:e},typeName:ke.ZodEffects,...Ie(r)});class Ss extends ze{_parse(t){return this._getType(t)===ge.undefined?Or(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ss.create=(e,t)=>new Ss({innerType:e,typeName:ke.ZodOptional,...Ie(t)});class ti extends ze{_parse(t){return this._getType(t)===ge.null?Or(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ti.create=(e,t)=>new ti({innerType:e,typeName:ke.ZodNullable,...Ie(t)});class Bu extends ze{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ge.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Bu.create=(e,t)=>new Bu({innerType:e,typeName:ke.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ie(t)});class Uu extends ze{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Mu(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new hn(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new hn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Uu.create=(e,t)=>new Uu({innerType:e,typeName:ke.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ie(t)});class up extends ze{_parse(t){if(this._getType(t)!==ge.nan){const n=this._getOrReturnCtx(t);return pe(n,{code:le.invalid_type,expected:ge.nan,received:n.parsedType}),Me}return{status:"valid",value:t.data}}}up.create=e=>new up({typeName:ke.ZodNaN,...Ie(e)});const mee=Symbol("zod_brand");class Cw extends ze{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class kd extends ze{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Me:o.status==="dirty"?(r.dirty(),Oa(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Me:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new kd({in:t,out:r,typeName:ke.ZodPipeline})}}class zu extends ze{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Pu(s)&&(s.value=Object.freeze(s.value)),s);return Mu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}zu.create=(e,t)=>new zu({innerType:e,typeName:ke.ZodReadonly,...Ie(t)});function AO(e,t={},r){return e?vl.create().superRefine((n,s)=>{var o,i;if(!e(n)){const a=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(i=(o=a.fatal)!==null&&o!==void 0?o:r)!==null&&i!==void 0?i:!0,d=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...d,fatal:c})}}):vl.create()}const gee={object:Pt.lazycreate};var ke;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ke||(ke={}));const vee=(e,t={message:`Input not instance of ${e.name}`})=>AO(r=>r instanceof e,t),Rt=Yn.create,ms=Qo.create,yee=up.create,xee=Jo.create,Vm=Lu.create,bee=Vi.create,wee=ap.create,See=Du.create,Cee=Tu.create,_ee=vl.create,jee=Ti.create,Eee=ro.create,kee=lp.create,$f=Xn.create,Gi=Pt.create,Nee=Pt.strictCreate,Pee=Ou.create,Mee=Wm.create,Lee=Au.create,Dee=Ls.create,Tee=Ru.create,Oee=cp.create,Aee=Hi.create,Ree=qa.create,Iee=Iu.create,$ee=$u.create,RO=ei.create,Fee=Fu.create,Bee=yl.create,Lj=os.create,Uee=Ss.create,zee=ti.create,Wee=os.createWithPreprocess,Vee=kd.create,Hee=()=>Rt().optional(),Gee=()=>ms().optional(),qee=()=>Vm().optional(),Yee={string:e=>Yn.create({...e,coerce:!0}),number:e=>Qo.create({...e,coerce:!0}),boolean:e=>Lu.create({...e,coerce:!0}),bigint:e=>Jo.create({...e,coerce:!0}),date:e=>Vi.create({...e,coerce:!0})},Kee=Me;var ds=Object.freeze({__proto__:null,defaultErrorMap:gl,setErrorMap:QJ,getErrorMap:sp,makeIssue:op,EMPTY_PATH:JJ,addIssueToContext:pe,ParseStatus:jr,INVALID:Me,DIRTY:Oa,OK:Or,isAborted:Sx,isDirty:Cx,isValid:Pu,isAsync:Mu,get util(){return Ze},get objectUtil(){return wx},ZodParsedType:ge,getParsedType:jo,ZodType:ze,datetimeRegex:TO,ZodString:Yn,ZodNumber:Qo,ZodBigInt:Jo,ZodBoolean:Lu,ZodDate:Vi,ZodSymbol:ap,ZodUndefined:Du,ZodNull:Tu,ZodAny:vl,ZodUnknown:Ti,ZodNever:ro,ZodVoid:lp,ZodArray:Xn,ZodObject:Pt,ZodUnion:Ou,ZodDiscriminatedUnion:Wm,ZodIntersection:Au,ZodTuple:Ls,ZodRecord:Ru,ZodMap:cp,ZodSet:Hi,ZodFunction:qa,ZodLazy:Iu,ZodLiteral:$u,ZodEnum:ei,ZodNativeEnum:Fu,ZodPromise:yl,ZodEffects:os,ZodTransformer:os,ZodOptional:Ss,ZodNullable:ti,ZodDefault:Bu,ZodCatch:Uu,ZodNaN:up,BRAND:mee,ZodBranded:Cw,ZodPipeline:kd,ZodReadonly:zu,custom:AO,Schema:ze,ZodSchema:ze,late:gee,get ZodFirstPartyTypeKind(){return ke},coerce:Yee,any:_ee,array:$f,bigint:xee,boolean:Vm,date:bee,discriminatedUnion:Mee,effect:Lj,enum:RO,function:Ree,instanceof:vee,intersection:Lee,lazy:Iee,literal:$ee,map:Oee,nan:yee,nativeEnum:Fee,never:Eee,null:Cee,nullable:zee,number:ms,object:Gi,oboolean:qee,onumber:Gee,optional:Uee,ostring:Hee,pipeline:Vee,preprocess:Wee,promise:Bee,record:Tee,set:Aee,strictObject:Nee,string:Rt,symbol:wee,transformer:Lj,tuple:Dee,undefined:See,union:Pee,unknown:jee,void:kee,NEVER:Kee,ZodIssueCode:le,quotelessJson:XJ,ZodError:hn});const Dj=(e,t,r)=>{if(e&&"reportValidity"in e){const n=he(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},IO=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Dj(n.ref,r,e):n.refs&&n.refs.forEach(s=>Dj(s,r,e))}},Zee=(e,t)=>{t.shouldUseNativeValidation&&IO(e,t);const r={};for(const n in e){const s=he(t.fields,n),o=Object.assign(e[n]||{},{ref:s&&s.ref});if(Xee(t.names||Object.keys(e),n)){const i=Object.assign({},he(r,n));st(i,"root",o),st(r,n,i)}else st(r,n,o)}return r},Xee=(e,t)=>e.some(r=>r.startsWith(t+"."));var Qee=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,o=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[i]={message:a.message,type:a.code}}else r[i]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=r[i].types,d=c&&c[n.code];r[i]=bO(i,t,r,s,d?[].concat(d,n.message):n.message)}e.shift()}return r},Ul=function(e,t,r){return r===void 0&&(r={}),function(n,s,o){try{return Promise.resolve(function(i,a){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return o.shouldUseNativeValidation&&IO({},o),{errors:{},values:r.raw?n:d}})}catch(d){return a(d)}return c&&c.then?c.then(void 0,a):c}(0,function(i){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(i))return{values:{},errors:Zee(Qee(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}};function Jee(e,t){const[r,n]=p.useState(e);return p.useEffect(()=>{const s=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(s)}},[e,t]),r}const ete=["places"],tte="AIzaSyDpB03uqoC8eWmdG8KRlBdiJaHWbXmtMgE",mf=typeof document<"u"?document.createElement("div"):null,rte={lat:32.7767,lng:-84.9377},$O=({value:e,onChange:t,error:r})=>{const[n,s]=p.useState(""),[o,i]=p.useState([]),[a,c]=p.useState(!1),[d,u]=p.useState(()=>e.latitude&&e.longitude?{lat:e.latitude,lng:e.longitude}:rte),f=p.useRef(null),h=p.useRef(null),m=p.useRef(null),{isLoaded:g}=Dl({googleMapsApiKey:tte,libraries:ete,id:"google-map-script"}),v=Jee(n,300);p.useEffect(()=>{!g||!mf||(h.current||(h.current=new google.maps.places.AutocompleteService),m.current||(m.current=new google.maps.places.PlacesService(mf)),f.current||(f.current=new google.maps.Geocoder))},[g]),p.useEffect(()=>{e.address&&!n&&s(e.address),e.latitude&&e.longitude&&u({lat:e.latitude,lng:e.longitude})},[e]),p.useEffect(()=>{v?b(v):i([])},[v]);const b=p.useCallback(async M=>{if(!(!M||!h.current))try{const k=await new Promise((E,_)=>{h.current.getPlacePredictions({input:M,componentRestrictions:{country:"us"},types:["address"],bounds:{north:35,south:30.5,east:-81,west:-88.5}},(P,D)=>{D===google.maps.places.PlacesServiceStatus.OK&&P?E(P):_(new Error("Failed to fetch suggestions"))})});i(k)}catch(k){console.error("Error fetching suggestions:",k),i([])}},[]),y=p.useCallback(async(M,k)=>{var E,_,P,D,L;f.current||(f.current=new google.maps.Geocoder);try{const A=await f.current.geocode({location:{lat:M,lng:k}});if(A.results[0]){const $=A.results[0],T=$.address_components,N={address:$.formatted_address,zipcode:((E=T.find(O=>O.types.includes("postal_code")))==null?void 0:E.long_name)||"",city:((_=T.find(O=>O.types.includes("locality")))==null?void 0:_.long_name)||"",state:((P=T.find(O=>O.types.includes("administrative_area_level_1")))==null?void 0:P.short_name)||"",latitude:M,longitude:k,displayLocation:`${((D=T.find(O=>O.types.includes("locality")))==null?void 0:D.long_name)||""}, ${((L=T.find(O=>O.types.includes("administrative_area_level_1")))==null?void 0:L.short_name)||""}`};t(N),u({lat:M,lng:k}),s($.formatted_address)}}catch(A){console.error("Error reverse geocoding:",A)}},[t]),x=p.useCallback(async M=>{if(M.latLng){const k=M.latLng.lat(),E=M.latLng.lng();await y(k,E)}},[y]),w=p.useCallback(async M=>{var k;c(!0),i([]);try{if(!m.current&&mf&&(m.current=new google.maps.places.PlacesService(mf)),!m.current)return;const E=await new Promise((_,P)=>{m.current.getDetails({placeId:M.place_id,fields:["geometry","address_components","formatted_address"]},(D,L)=>{L===google.maps.places.PlacesServiceStatus.OK&&D?_(D):P(new Error("Failed to fetch place details"))})});if((k=E.geometry)!=null&&k.location){const _=E.geometry.location.lat(),P=E.geometry.location.lng();await y(_,P)}}catch(E){console.error("Error fetching place details:",E)}finally{c(!1)}},[y]),S=p.useCallback(M=>{s(M.target.value)},[]),j=p.useMemo(()=>({streetViewControl:!1,mapTypeControl:!1}),[]),C=p.useMemo(()=>({url:"/images/location-marker.svg",scaledSize:g?new google.maps.Size(40,40):void 0}),[g]);return g?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Re,{value:n,onChange:S,placeholder:"Search for an address...",className:`pr-10 ${r?"border-red-500":""}`}),a?l.jsx(rt,{className:"w-4 h-4 absolute right-3 top-3 animate-spin"}):l.jsx(Qi,{className:"w-4 h-4 absolute right-3 top-3 text-gray-400"})]}),o.length>0&&l.jsx("div",{className:"absolute z-20 w-full bg-white rounded-md shadow-lg border mt-1",children:o.map(M=>l.jsxs(re,{variant:"ghost",className:"w-full justify-start text-left",onClick:()=>w(M),children:[l.jsx(Gs,{className:"w-4 h-4 mr-2"}),M.description]},M.place_id))}),l.jsx("div",{className:"h-[300px] rounded-lg overflow-hidden border",children:l.jsx(ad,{zoom:12,center:d,mapContainerClassName:"w-full h-full",onClick:x,options:j,children:e.latitude&&e.longitude&&l.jsx(il,{position:{lat:e.latitude,lng:e.longitude},icon:C})})}),r&&l.jsx("p",{className:"text-sm text-red-500",children:r}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Address"}),l.jsx("p",{className:"text-sm text-gray-600",children:e.address||"Not selected"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Zipcode"}),l.jsx("p",{className:"text-sm text-gray-600",children:e.zipcode||"Not selected"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"City"}),l.jsx("p",{className:"text-sm text-gray-600",children:e.city||"Not selected"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"State"}),l.jsx("p",{className:"text-sm text-gray-600",children:e.state||"Not selected"})]})]})]}):l.jsx("div",{children:"Loading..."})};function nte(e,t){return t.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in e)){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(e)}function FO(e,t){return new Promise(function(r,n){let s;return ste(e).then(function(o){try{return s=o,r(new Blob([t.slice(0,2),s,t.slice(2)],{type:"image/jpeg"}))}catch(i){return n(i)}},n)})}const ste=e=>new Promise((t,r)=>{const n=new FileReader;n.addEventListener("load",({target:{result:s}})=>{const o=new DataView(s);let i=0;if(o.getUint16(i)!==65496)return r("not a valid JPEG");for(i+=2;;){const a=o.getUint16(i);if(a===65498)break;const c=o.getUint16(i+2);if(a===65505&&o.getUint32(i+4)===1165519206){const d=i+10;let u;switch(o.getUint16(d)){case 18761:u=!0;break;case 19789:u=!1;break;default:return r("TIFF header contains invalid endian")}if(o.getUint16(d+2,u)!==42)return r("TIFF header contains invalid version");const f=o.getUint32(d+4,u),h=d+f+2+12*o.getUint16(d+f,u);for(let m=d+f+2;m<h;m+=12)if(o.getUint16(m,u)==274){if(o.getUint16(m+2,u)!==3)return r("Orientation data type is invalid");if(o.getUint32(m+4,u)!==1)return r("Orientation data count is invalid");o.setUint16(m+8,1,u);break}return t(s.slice(i,i+2+c))}i+=2+c}return t(new Blob)}),n.readAsArrayBuffer(e)});var dp={},ote={get exports(){return dp},set exports(e){dp=e}};(function(e){var t,r,n={};ote.exports=n,n.parse=function(s,o){for(var i=n.bin.readUshort,a=n.bin.readUint,c=0,d={},u=new Uint8Array(s),f=u.length-4;a(u,f)!=101010256;)f--;c=f,c+=4;var h=i(u,c+=4);i(u,c+=2);var m=a(u,c+=2),g=a(u,c+=4);c+=4,c=g;for(var v=0;v<h;v++){a(u,c),c+=4,c+=4,c+=4,a(u,c+=4),m=a(u,c+=4);var b=a(u,c+=4),y=i(u,c+=4),x=i(u,c+2),w=i(u,c+4);c+=6;var S=a(u,c+=8);c+=4,c+=y+x+w,n._readLocal(u,S,d,m,b,o)}return d},n._readLocal=function(s,o,i,a,c,d){var u=n.bin.readUshort,f=n.bin.readUint;f(s,o),u(s,o+=4),u(s,o+=2);var h=u(s,o+=2);f(s,o+=2),f(s,o+=4),o+=4;var m=u(s,o+=8),g=u(s,o+=2);o+=2;var v=n.bin.readUTF8(s,o,m);if(o+=m,o+=g,d)i[v]={size:c,csize:a};else{var b=new Uint8Array(s.buffer,o);if(h==0)i[v]=new Uint8Array(b.buffer.slice(o,o+a));else{if(h!=8)throw"unknown compression method: "+h;var y=new Uint8Array(c);n.inflateRaw(b,y),i[v]=y}}},n.inflateRaw=function(s,o){return n.F.inflate(s,o)},n.inflate=function(s,o){return s[0],s[1],n.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),o)},n.deflate=function(s,o){o==null&&(o={level:6});var i=0,a=new Uint8Array(50+Math.floor(1.1*s.length));a[i]=120,a[i+1]=156,i+=2,i=n.F.deflateRaw(s,a,i,o.level);var c=n.adler(s,0,s.length);return a[i+0]=c>>>24&255,a[i+1]=c>>>16&255,a[i+2]=c>>>8&255,a[i+3]=c>>>0&255,new Uint8Array(a.buffer,0,i+4)},n.deflateRaw=function(s,o){o==null&&(o={level:6});var i=new Uint8Array(50+Math.floor(1.1*s.length)),a=n.F.deflateRaw(s,i,a,o.level);return new Uint8Array(i.buffer,0,a)},n.encode=function(s,o){o==null&&(o=!1);var i=0,a=n.bin.writeUint,c=n.bin.writeUshort,d={};for(var u in s){var f=!n._noNeed(u)&&!o,h=s[u],m=n.crc.crc(h,0,h.length);d[u]={cpr:f,usize:h.length,crc:m,file:f?n.deflateRaw(h):h}}for(var u in d)i+=d[u].file.length+30+46+2*n.bin.sizeUTF8(u);i+=22;var g=new Uint8Array(i),v=0,b=[];for(var u in d){var y=d[u];b.push(v),v=n._writeHeader(g,v,u,y,0)}var x=0,w=v;for(var u in d)y=d[u],b.push(v),v=n._writeHeader(g,v,u,y,1,b[x++]);var S=v-w;return a(g,v,101010256),v+=4,c(g,v+=4,x),c(g,v+=2,x),a(g,v+=2,S),a(g,v+=4,w),v+=4,v+=2,g.buffer},n._noNeed=function(s){var o=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},n._writeHeader=function(s,o,i,a,c,d){var u=n.bin.writeUint,f=n.bin.writeUshort,h=a.file;return u(s,o,c==0?67324752:33639248),o+=4,c==1&&(o+=2),f(s,o,20),f(s,o+=2,0),f(s,o+=2,a.cpr?8:0),u(s,o+=2,0),u(s,o+=4,a.crc),u(s,o+=4,h.length),u(s,o+=4,a.usize),f(s,o+=4,n.bin.sizeUTF8(i)),f(s,o+=2,0),o+=2,c==1&&(o+=2,o+=2,u(s,o+=6,d),o+=4),o+=n.bin.writeUTF8(s,o,i),c==0&&(s.set(h,o),o+=h.length),o},n.crc={table:function(){for(var s=new Uint32Array(256),o=0;o<256;o++){for(var i=o,a=0;a<8;a++)1&i?i=3988292384^i>>>1:i>>>=1;s[o]=i}return s}(),update:function(s,o,i,a){for(var c=0;c<a;c++)s=n.crc.table[255&(s^o[i+c])]^s>>>8;return s},crc:function(s,o,i){return 4294967295^n.crc.update(4294967295,s,o,i)}},n.adler=function(s,o,i){for(var a=1,c=0,d=o,u=o+i;d<u;){for(var f=Math.min(d+5552,u);d<f;)c+=a+=s[d++];a%=65521,c%=65521}return c<<16|a},n.bin={readUshort:function(s,o){return s[o]|s[o+1]<<8},writeUshort:function(s,o,i){s[o]=255&i,s[o+1]=i>>8&255},readUint:function(s,o){return 16777216*s[o+3]+(s[o+2]<<16|s[o+1]<<8|s[o])},writeUint:function(s,o,i){s[o]=255&i,s[o+1]=i>>8&255,s[o+2]=i>>16&255,s[o+3]=i>>24&255},readASCII:function(s,o,i){for(var a="",c=0;c<i;c++)a+=String.fromCharCode(s[o+c]);return a},writeASCII:function(s,o,i){for(var a=0;a<i.length;a++)s[o+a]=i.charCodeAt(a)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,o,i){for(var a,c="",d=0;d<i;d++)c+="%"+n.bin.pad(s[o+d].toString(16));try{a=decodeURIComponent(c)}catch{return n.bin.readASCII(s,o,i)}return a},writeUTF8:function(s,o,i){for(var a=i.length,c=0,d=0;d<a;d++){var u=i.charCodeAt(d);if(!(4294967168&u))s[o+c]=u,c++;else if(!(4294965248&u))s[o+c]=192|u>>6,s[o+c+1]=128|u>>0&63,c+=2;else if(!(4294901760&u))s[o+c]=224|u>>12,s[o+c+1]=128|u>>6&63,s[o+c+2]=128|u>>0&63,c+=3;else{if(4292870144&u)throw"e";s[o+c]=240|u>>18,s[o+c+1]=128|u>>12&63,s[o+c+2]=128|u>>6&63,s[o+c+3]=128|u>>0&63,c+=4}}return c},sizeUTF8:function(s){for(var o=s.length,i=0,a=0;a<o;a++){var c=s.charCodeAt(a);if(!(4294967168&c))i++;else if(!(4294965248&c))i+=2;else if(!(4294901760&c))i+=3;else{if(4292870144&c)throw"e";i+=4}}return i}},n.F={},n.F.deflateRaw=function(s,o,i,a){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],d=n.F.U,u=n.F._goodIndex;n.F._hash;var f=n.F._putsE,h=0,m=i<<3,g=0,v=s.length;if(a==0){for(;h<v;)f(o,m,h+(P=Math.min(65535,v-h))==v?1:0),m=n.F._copyExact(s,h,P,o,m+8),h+=P;return m>>>3}var b=d.lits,y=d.strt,x=d.prev,w=0,S=0,j=0,C=0,M=0,k=0;for(v>2&&(y[k=n.F._hash(s,0)]=0),h=0;h<v;h++){if(M=k,h+1<v-2){k=n.F._hash(s,h+1);var E=h+1&32767;x[E]=y[k],y[k]=E}if(g<=h){(w>14e3||S>26697)&&v-h>100&&(g<h&&(b[w]=h-g,w+=2,g=h),m=n.F._writeBlock(h==v-1||g==v?1:0,b,w,C,s,j,h-j,o,m),w=S=C=0,j=h);var _=0;h<v-2&&(_=n.F._bestMatch(s,h,x,M,Math.min(c[2],v-h),c[3]));var P=_>>>16,D=65535&_;if(_!=0){D=65535&_;var L=u(P=_>>>16,d.of0);d.lhst[257+L]++;var A=u(D,d.df0);d.dhst[A]++,C+=d.exb[L]+d.dxb[A],b[w]=P<<23|h-g,b[w+1]=D<<16|L<<8|A,w+=2,g=h+P}else d.lhst[s[h]]++;S++}}for(j==h&&s.length!=0||(g<h&&(b[w]=h-g,w+=2,g=h),m=n.F._writeBlock(1,b,w,C,s,j,h-j,o,m),w=0,S=0,w=S=C=0,j=h);7&m;)m++;return m>>>3},n.F._bestMatch=function(s,o,i,a,c,d){var u=32767&o,f=i[u],h=u-f+32768&32767;if(f==u||a!=n.F._hash(s,o-h))return 0;for(var m=0,g=0,v=Math.min(32767,o);h<=v&&--d!=0&&f!=u;){if(m==0||s[o+m]==s[o+m-h]){var b=n.F._howLong(s,o,h);if(b>m){if(g=h,(m=b)>=c)break;h+2<b&&(b=h+2);for(var y=0,x=0;x<b-2;x++){var w=o-h+x+32768&32767,S=w-i[w]+32768&32767;S>y&&(y=S,f=w)}}}h+=(u=f)-(f=i[u])+32768&32767}return m<<16|g},n.F._howLong=function(s,o,i){if(s[o]!=s[o-i]||s[o+1]!=s[o+1-i]||s[o+2]!=s[o+2-i])return 0;var a=o,c=Math.min(s.length,o+258);for(o+=3;o<c&&s[o]==s[o-i];)o++;return o-a},n.F._hash=function(s,o){return(s[o]<<8|s[o+1])+(s[o+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(s,o,i,a,c,d,u,f,h){var m,g,v,b,y,x,w,S,j,C=n.F.U,M=n.F._putsF,k=n.F._putsE;C.lhst[256]++,g=(m=n.F.getTrees())[0],v=m[1],b=m[2],y=m[3],x=m[4],w=m[5],S=m[6],j=m[7];var E=32+(h+3&7?8-(h+3&7):0)+(u<<3),_=a+n.F.contSize(C.fltree,C.lhst)+n.F.contSize(C.fdtree,C.dhst),P=a+n.F.contSize(C.ltree,C.lhst)+n.F.contSize(C.dtree,C.dhst);P+=14+3*w+n.F.contSize(C.itree,C.ihst)+(2*C.ihst[16]+3*C.ihst[17]+7*C.ihst[18]);for(var D=0;D<286;D++)C.lhst[D]=0;for(D=0;D<30;D++)C.dhst[D]=0;for(D=0;D<19;D++)C.ihst[D]=0;var L=E<_&&E<P?0:_<P?1:2;if(M(f,h,s),M(f,h+1,L),h+=3,L==0){for(;7&h;)h++;h=n.F._copyExact(c,d,u,f,h)}else{var A,$;if(L==1&&(A=C.fltree,$=C.fdtree),L==2){n.F.makeCodes(C.ltree,g),n.F.revCodes(C.ltree,g),n.F.makeCodes(C.dtree,v),n.F.revCodes(C.dtree,v),n.F.makeCodes(C.itree,b),n.F.revCodes(C.itree,b),A=C.ltree,$=C.dtree,k(f,h,y-257),k(f,h+=5,x-1),k(f,h+=5,w-4),h+=4;for(var T=0;T<w;T++)k(f,h+3*T,C.itree[1+(C.ordr[T]<<1)]);h+=3*w,h=n.F._codeTiny(S,C.itree,f,h),h=n.F._codeTiny(j,C.itree,f,h)}for(var N=d,O=0;O<i;O+=2){for(var R=o[O],B=R>>>23,V=N+(8388607&R);N<V;)h=n.F._writeLit(c[N++],A,f,h);if(B!=0){var F=o[O+1],z=F>>16,W=F>>8&255,I=255&F;k(f,h=n.F._writeLit(257+W,A,f,h),B-C.of0[W]),h+=C.exb[W],M(f,h=n.F._writeLit(I,$,f,h),z-C.df0[I]),h+=C.dxb[I],N+=B}}h=n.F._writeLit(256,A,f,h)}return h},n.F._copyExact=function(s,o,i,a,c){var d=c>>>3;return a[d]=i,a[d+1]=i>>>8,a[d+2]=255-a[d],a[d+3]=255-a[d+1],d+=4,a.set(new Uint8Array(s.buffer,o,i),d),c+(i+4<<3)},n.F.getTrees=function(){for(var s=n.F.U,o=n.F._hufTree(s.lhst,s.ltree,15),i=n.F._hufTree(s.dhst,s.dtree,15),a=[],c=n.F._lenCodes(s.ltree,a),d=[],u=n.F._lenCodes(s.dtree,d),f=0;f<a.length;f+=2)s.ihst[a[f]]++;for(f=0;f<d.length;f+=2)s.ihst[d[f]]++;for(var h=n.F._hufTree(s.ihst,s.itree,7),m=19;m>4&&s.itree[1+(s.ordr[m-1]<<1)]==0;)m--;return[o,i,h,c,u,m,a,d]},n.F.getSecond=function(s){for(var o=[],i=0;i<s.length;i+=2)o.push(s[i+1]);return o},n.F.nonZero=function(s){for(var o="",i=0;i<s.length;i+=2)s[i+1]!=0&&(o+=(i>>1)+",");return o},n.F.contSize=function(s,o){for(var i=0,a=0;a<o.length;a++)i+=o[a]*s[1+(a<<1)];return i},n.F._codeTiny=function(s,o,i,a){for(var c=0;c<s.length;c+=2){var d=s[c],u=s[c+1];a=n.F._writeLit(d,o,i,a);var f=d==16?2:d==17?3:7;d>15&&(n.F._putsE(i,a,u,f),a+=f)}return a},n.F._lenCodes=function(s,o){for(var i=s.length;i!=2&&s[i-1]==0;)i-=2;for(var a=0;a<i;a+=2){var c=s[a+1],d=a+3<i?s[a+3]:-1,u=a+5<i?s[a+5]:-1,f=a==0?-1:s[a-1];if(c==0&&d==c&&u==c){for(var h=a+5;h+2<i&&s[h+2]==c;)h+=2;(m=Math.min(h+1-a>>>1,138))<11?o.push(17,m-3):o.push(18,m-11),a+=2*m-2}else if(c==f&&d==c&&u==c){for(h=a+5;h+2<i&&s[h+2]==c;)h+=2;var m=Math.min(h+1-a>>>1,6);o.push(16,m-3),a+=2*m-2}else o.push(c,0)}return i>>>1},n.F._hufTree=function(s,o,i){var a=[],c=s.length,d=o.length,u=0;for(u=0;u<d;u+=2)o[u]=0,o[u+1]=0;for(u=0;u<c;u++)s[u]!=0&&a.push({lit:u,f:s[u]});var f=a.length,h=a.slice(0);if(f==0)return 0;if(f==1){var m=a[0].lit;return h=m==0?1:0,o[1+(m<<1)]=1,o[1+(h<<1)]=1,1}a.sort(function(S,j){return S.f-j.f});var g=a[0],v=a[1],b=0,y=1,x=2;for(a[0]={lit:-1,f:g.f+v.f,l:g,r:v,d:0};y!=f-1;)g=b!=y&&(x==f||a[b].f<a[x].f)?a[b++]:a[x++],v=b!=y&&(x==f||a[b].f<a[x].f)?a[b++]:a[x++],a[y++]={lit:-1,f:g.f+v.f,l:g,r:v};var w=n.F.setDepth(a[y-1],0);for(w>i&&(n.F.restrictDepth(h,i,w),w=i),u=0;u<f;u++)o[1+(h[u].lit<<1)]=h[u].d;return w},n.F.setDepth=function(s,o){return s.lit!=-1?(s.d=o,o):Math.max(n.F.setDepth(s.l,o+1),n.F.setDepth(s.r,o+1))},n.F.restrictDepth=function(s,o,i){var a=0,c=1<<i-o,d=0;for(s.sort(function(f,h){return h.d==f.d?f.f-h.f:h.d-f.d}),a=0;a<s.length&&s[a].d>o;a++){var u=s[a].d;s[a].d=o,d+=c-(1<<i-u)}for(d>>>=i-o;d>0;)(u=s[a].d)<o?(s[a].d++,d-=1<<o-u-1):a++;for(;a>=0;a--)s[a].d==o&&d<0&&(s[a].d--,d++);d!=0&&console.log("debt left")},n.F._goodIndex=function(s,o){var i=0;return o[16|i]<=s&&(i|=16),o[8|i]<=s&&(i|=8),o[4|i]<=s&&(i|=4),o[2|i]<=s&&(i|=2),o[1|i]<=s&&(i|=1),i},n.F._writeLit=function(s,o,i,a){return n.F._putsF(i,a,o[s<<1]),a+o[1+(s<<1)]},n.F.inflate=function(s,o){var i=Uint8Array;if(s[0]==3&&s[1]==0)return o||new i(0);var a=n.F,c=a._bitsF,d=a._bitsE,u=a._decodeTiny,f=a.makeCodes,h=a.codes2map,m=a._get17,g=a.U,v=o==null;v&&(o=new i(s.length>>>2<<3));for(var b,y,x=0,w=0,S=0,j=0,C=0,M=0,k=0,E=0,_=0;x==0;)if(x=c(s,_,1),w=c(s,_+1,2),_+=3,w!=0){if(v&&(o=n.F._check(o,E+(1<<17))),w==1&&(b=g.flmap,y=g.fdmap,M=511,k=31),w==2){S=d(s,_,5)+257,j=d(s,_+5,5)+1,C=d(s,_+10,4)+4,_+=14;for(var P=0;P<38;P+=2)g.itree[P]=0,g.itree[P+1]=0;var D=1;for(P=0;P<C;P++){var L=d(s,_+3*P,3);g.itree[1+(g.ordr[P]<<1)]=L,L>D&&(D=L)}_+=3*C,f(g.itree,D),h(g.itree,D,g.imap),b=g.lmap,y=g.dmap,_=u(g.imap,(1<<D)-1,S+j,s,_,g.ttree);var A=a._copyOut(g.ttree,0,S,g.ltree);M=(1<<A)-1;var $=a._copyOut(g.ttree,S,j,g.dtree);k=(1<<$)-1,f(g.ltree,A),h(g.ltree,A,b),f(g.dtree,$),h(g.dtree,$,y)}for(;;){var T=b[m(s,_)&M];_+=15&T;var N=T>>>4;if(!(N>>>8))o[E++]=N;else{if(N==256)break;var O=E+N-254;if(N>264){var R=g.ldef[N-257];O=E+(R>>>3)+d(s,_,7&R),_+=7&R}var B=y[m(s,_)&k];_+=15&B;var V=B>>>4,F=g.ddef[V],z=(F>>>4)+c(s,_,15&F);for(_+=15&F,v&&(o=n.F._check(o,E+(1<<17)));E<O;)o[E]=o[E++-z],o[E]=o[E++-z],o[E]=o[E++-z],o[E]=o[E++-z];E=O}}}else{7&_&&(_+=8-(7&_));var W=4+(_>>>3),I=s[W-4]|s[W-3]<<8;v&&(o=n.F._check(o,E+I)),o.set(new i(s.buffer,s.byteOffset+W,I),E),_=W+I<<3,E+=I}return o.length==E?o:o.slice(0,E)},n.F._check=function(s,o){var i=s.length;if(o<=i)return s;var a=new Uint8Array(Math.max(i<<1,o));return a.set(s,0),a},n.F._decodeTiny=function(s,o,i,a,c,d){for(var u=n.F._bitsE,f=n.F._get17,h=0;h<i;){var m=s[f(a,c)&o];c+=15&m;var g=m>>>4;if(g<=15)d[h]=g,h++;else{var v=0,b=0;g==16?(b=3+u(a,c,2),c+=2,v=d[h-1]):g==17?(b=3+u(a,c,3),c+=3):g==18&&(b=11+u(a,c,7),c+=7);for(var y=h+b;h<y;)d[h]=v,h++}}return c},n.F._copyOut=function(s,o,i,a){for(var c=0,d=0,u=a.length>>>1;d<i;){var f=s[d+o];a[d<<1]=0,a[1+(d<<1)]=f,f>c&&(c=f),d++}for(;d<u;)a[d<<1]=0,a[1+(d<<1)]=0,d++;return c},n.F.makeCodes=function(s,o){for(var i,a,c,d,u=n.F.U,f=s.length,h=u.bl_count,m=0;m<=o;m++)h[m]=0;for(m=1;m<f;m+=2)h[s[m]]++;var g=u.next_code;for(i=0,h[0]=0,a=1;a<=o;a++)i=i+h[a-1]<<1,g[a]=i;for(c=0;c<f;c+=2)(d=s[c+1])!=0&&(s[c]=g[d],g[d]++)},n.F.codes2map=function(s,o,i){for(var a=s.length,c=n.F.U.rev15,d=0;d<a;d+=2)if(s[d+1]!=0)for(var u=d>>1,f=s[d+1],h=u<<4|f,m=o-f,g=s[d]<<m,v=g+(1<<m);g!=v;)i[c[g]>>>15-o]=h,g++},n.F.revCodes=function(s,o){for(var i=n.F.U.rev15,a=15-o,c=0;c<s.length;c+=2){var d=s[c]<<o-s[c+1];s[c]=i[d]>>>a}},n.F._putsE=function(s,o,i){i<<=7&o;var a=o>>>3;s[a]|=i,s[a+1]|=i>>>8},n.F._putsF=function(s,o,i){i<<=7&o;var a=o>>>3;s[a]|=i,s[a+1]|=i>>>8,s[a+2]|=i>>>16},n.F._bitsE=function(s,o,i){return(s[o>>>3]|s[1+(o>>>3)]<<8)>>>(7&o)&(1<<i)-1},n.F._bitsF=function(s,o,i){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16)>>>(7&o)&(1<<i)-1},n.F._get17=function(s,o){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16)>>>(7&o)},n.F._get25=function(s,o){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16|s[3+(o>>>3)]<<24)>>>(7&o)},n.F.U=(t=Uint16Array,r=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var s=n.F.U,o=0;o<32768;o++){var i=o;i=(4278255360&(i=(4042322160&(i=(3435973836&(i=(2863311530&i)>>>1|(1431655765&i)<<1))>>>2|(858993459&i)<<2))>>>4|(252645135&i)<<4))>>>8|(16711935&i)<<8,s.rev15[o]=(i>>>16|i<<16)>>>17}function a(c,d,u){for(;d--!=0;)c.push(0,u)}for(o=0;o<32;o++)s.ldef[o]=s.of0[o]<<3|s.exb[o],s.ddef[o]=s.df0[o]<<4|s.dxb[o];a(s.fltree,144,8),a(s.fltree,112,9),a(s.fltree,24,7),a(s.fltree,8,8),n.F.makeCodes(s.fltree,9),n.F.codes2map(s.fltree,9,s.flmap),n.F.revCodes(s.fltree,9),a(s.fdtree,32,5),n.F.makeCodes(s.fdtree,5),n.F.codes2map(s.fdtree,5,s.fdmap),n.F.revCodes(s.fdtree,5),a(s.itree,19,0),a(s.ltree,286,0),a(s.dtree,30,0),a(s.ttree,320,0)}()})();var ite=nte({__proto__:null,default:dp},[dp]);const Fn=function(){var e={nextZero(u,f){for(;u[f]!=0;)f++;return f},readUshort:(u,f)=>u[f]<<8|u[f+1],writeUshort(u,f,h){u[f]=h>>8&255,u[f+1]=255&h},readUint:(u,f)=>16777216*u[f]+(u[f+1]<<16|u[f+2]<<8|u[f+3]),writeUint(u,f,h){u[f]=h>>24&255,u[f+1]=h>>16&255,u[f+2]=h>>8&255,u[f+3]=255&h},readASCII(u,f,h){let m="";for(let g=0;g<h;g++)m+=String.fromCharCode(u[f+g]);return m},writeASCII(u,f,h){for(let m=0;m<h.length;m++)u[f+m]=h.charCodeAt(m)},readBytes(u,f,h){const m=[];for(let g=0;g<h;g++)m.push(u[f+g]);return m},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,f,h){let m,g="";for(let v=0;v<h;v++)g+=`%${e.pad(u[f+v].toString(16))}`;try{m=decodeURIComponent(g)}catch{return e.readASCII(u,f,h)}return m}};function t(u,f,h,m){const g=f*h,v=o(m),b=Math.ceil(f*v/8),y=new Uint8Array(4*g),x=new Uint32Array(y.buffer),{ctype:w}=m,{depth:S}=m,j=e.readUshort;if(w==6){const R=g<<2;if(S==8)for(var C=0;C<R;C+=4)y[C]=u[C],y[C+1]=u[C+1],y[C+2]=u[C+2],y[C+3]=u[C+3];if(S==16)for(C=0;C<R;C++)y[C]=u[C<<1]}else if(w==2){const R=m.tabs.tRNS;if(R==null){if(S==8)for(C=0;C<g;C++){var M=3*C;x[C]=255<<24|u[M+2]<<16|u[M+1]<<8|u[M]}if(S==16)for(C=0;C<g;C++)M=6*C,x[C]=255<<24|u[M+4]<<16|u[M+2]<<8|u[M]}else{var k=R[0];const B=R[1],V=R[2];if(S==8)for(C=0;C<g;C++){var E=C<<2;M=3*C,x[C]=255<<24|u[M+2]<<16|u[M+1]<<8|u[M],u[M]==k&&u[M+1]==B&&u[M+2]==V&&(y[E+3]=0)}if(S==16)for(C=0;C<g;C++)E=C<<2,M=6*C,x[C]=255<<24|u[M+4]<<16|u[M+2]<<8|u[M],j(u,M)==k&&j(u,M+2)==B&&j(u,M+4)==V&&(y[E+3]=0)}}else if(w==3){const R=m.tabs.PLTE,B=m.tabs.tRNS,V=B?B.length:0;if(S==1)for(var _=0;_<h;_++){var P=_*b,D=_*f;for(C=0;C<f;C++){E=D+C<<2;var L=3*(A=u[P+(C>>3)]>>7-((7&C)<<0)&1);y[E]=R[L],y[E+1]=R[L+1],y[E+2]=R[L+2],y[E+3]=A<V?B[A]:255}}if(S==2)for(_=0;_<h;_++)for(P=_*b,D=_*f,C=0;C<f;C++)E=D+C<<2,L=3*(A=u[P+(C>>2)]>>6-((3&C)<<1)&3),y[E]=R[L],y[E+1]=R[L+1],y[E+2]=R[L+2],y[E+3]=A<V?B[A]:255;if(S==4)for(_=0;_<h;_++)for(P=_*b,D=_*f,C=0;C<f;C++)E=D+C<<2,L=3*(A=u[P+(C>>1)]>>4-((1&C)<<2)&15),y[E]=R[L],y[E+1]=R[L+1],y[E+2]=R[L+2],y[E+3]=A<V?B[A]:255;if(S==8)for(C=0;C<g;C++){var A;E=C<<2,L=3*(A=u[C]),y[E]=R[L],y[E+1]=R[L+1],y[E+2]=R[L+2],y[E+3]=A<V?B[A]:255}}else if(w==4){if(S==8)for(C=0;C<g;C++){E=C<<2;var $=u[T=C<<1];y[E]=$,y[E+1]=$,y[E+2]=$,y[E+3]=u[T+1]}if(S==16)for(C=0;C<g;C++){var T;E=C<<2,$=u[T=C<<2],y[E]=$,y[E+1]=$,y[E+2]=$,y[E+3]=u[T+2]}}else if(w==0)for(k=m.tabs.tRNS?m.tabs.tRNS:-1,_=0;_<h;_++){const R=_*b,B=_*f;if(S==1)for(var N=0;N<f;N++){var O=($=255*(u[R+(N>>>3)]>>>7-(7&N)&1))==255*k?0:255;x[B+N]=O<<24|$<<16|$<<8|$}else if(S==2)for(N=0;N<f;N++)O=($=85*(u[R+(N>>>2)]>>>6-((3&N)<<1)&3))==85*k?0:255,x[B+N]=O<<24|$<<16|$<<8|$;else if(S==4)for(N=0;N<f;N++)O=($=17*(u[R+(N>>>1)]>>>4-((1&N)<<2)&15))==17*k?0:255,x[B+N]=O<<24|$<<16|$<<8|$;else if(S==8)for(N=0;N<f;N++)O=($=u[R+N])==k?0:255,x[B+N]=O<<24|$<<16|$<<8|$;else if(S==16)for(N=0;N<f;N++)$=u[R+(N<<1)],O=j(u,R+(N<<1))==k?0:255,x[B+N]=O<<24|$<<16|$<<8|$}return y}function r(u,f,h,m){const g=o(u),v=Math.ceil(h*g/8),b=new Uint8Array((v+1+u.interlace)*m);return f=u.tabs.CgBI?s(f,b):n(f,b),u.interlace==0?f=i(f,u,0,h,m):u.interlace==1&&(f=function(x,w){const S=w.width,j=w.height,C=o(w),M=C>>3,k=Math.ceil(S*C/8),E=new Uint8Array(j*k);let _=0;const P=[0,0,4,0,2,0,1],D=[0,4,0,2,0,1,0],L=[8,8,8,4,4,2,2],A=[8,8,4,4,2,2,1];let $=0;for(;$<7;){const N=L[$],O=A[$];let R=0,B=0,V=P[$];for(;V<j;)V+=N,B++;let F=D[$];for(;F<S;)F+=O,R++;const z=Math.ceil(R*C/8);i(x,w,_,R,B);let W=0,I=P[$];for(;I<j;){let q=D[$],X=_+W*z<<3;for(;q<S;){var T;if(C==1&&(T=(T=x[X>>3])>>7-(7&X)&1,E[I*k+(q>>3)]|=T<<7-((7&q)<<0)),C==2&&(T=(T=x[X>>3])>>6-(7&X)&3,E[I*k+(q>>2)]|=T<<6-((3&q)<<1)),C==4&&(T=(T=x[X>>3])>>4-(7&X)&15,E[I*k+(q>>1)]|=T<<4-((1&q)<<2)),C>=8){const Q=I*k+q*M;for(let ne=0;ne<M;ne++)E[Q+ne]=x[(X>>3)+ne]}X+=C,q+=O}W++,I+=N}R*B!=0&&(_+=B*(1+z)),$+=1}return E}(f,u)),f}function n(u,f){return s(new Uint8Array(u.buffer,2,u.length-6),f)}var s=function(){const u={H:{}};return u.H.N=function(f,h){const m=Uint8Array;let g,v,b=0,y=0,x=0,w=0,S=0,j=0,C=0,M=0,k=0;if(f[0]==3&&f[1]==0)return h||new m(0);const E=u.H,_=E.b,P=E.e,D=E.R,L=E.n,A=E.A,$=E.Z,T=E.m,N=h==null;for(N&&(h=new m(f.length>>>2<<5));b==0;)if(b=_(f,k,1),y=_(f,k+1,2),k+=3,y!=0){if(N&&(h=u.H.W(h,M+(1<<17))),y==1&&(g=T.J,v=T.h,j=511,C=31),y==2){x=P(f,k,5)+257,w=P(f,k+5,5)+1,S=P(f,k+10,4)+4,k+=14;let R=1;for(var O=0;O<38;O+=2)T.Q[O]=0,T.Q[O+1]=0;for(O=0;O<S;O++){const F=P(f,k+3*O,3);T.Q[1+(T.X[O]<<1)]=F,F>R&&(R=F)}k+=3*S,L(T.Q,R),A(T.Q,R,T.u),g=T.w,v=T.d,k=D(T.u,(1<<R)-1,x+w,f,k,T.v);const B=E.V(T.v,0,x,T.C);j=(1<<B)-1;const V=E.V(T.v,x,w,T.D);C=(1<<V)-1,L(T.C,B),A(T.C,B,g),L(T.D,V),A(T.D,V,v)}for(;;){const R=g[$(f,k)&j];k+=15&R;const B=R>>>4;if(!(B>>>8))h[M++]=B;else{if(B==256)break;{let V=M+B-254;if(B>264){const q=T.q[B-257];V=M+(q>>>3)+P(f,k,7&q),k+=7&q}const F=v[$(f,k)&C];k+=15&F;const z=F>>>4,W=T.c[z],I=(W>>>4)+_(f,k,15&W);for(k+=15&W;M<V;)h[M]=h[M++-I],h[M]=h[M++-I],h[M]=h[M++-I],h[M]=h[M++-I];M=V}}}}else{7&k&&(k+=8-(7&k));const R=4+(k>>>3),B=f[R-4]|f[R-3]<<8;N&&(h=u.H.W(h,M+B)),h.set(new m(f.buffer,f.byteOffset+R,B),M),k=R+B<<3,M+=B}return h.length==M?h:h.slice(0,M)},u.H.W=function(f,h){const m=f.length;if(h<=m)return f;const g=new Uint8Array(m<<1);return g.set(f,0),g},u.H.R=function(f,h,m,g,v,b){const y=u.H.e,x=u.H.Z;let w=0;for(;w<m;){const S=f[x(g,v)&h];v+=15&S;const j=S>>>4;if(j<=15)b[w]=j,w++;else{let C=0,M=0;j==16?(M=3+y(g,v,2),v+=2,C=b[w-1]):j==17?(M=3+y(g,v,3),v+=3):j==18&&(M=11+y(g,v,7),v+=7);const k=w+M;for(;w<k;)b[w]=C,w++}}return v},u.H.V=function(f,h,m,g){let v=0,b=0;const y=g.length>>>1;for(;b<m;){const x=f[b+h];g[b<<1]=0,g[1+(b<<1)]=x,x>v&&(v=x),b++}for(;b<y;)g[b<<1]=0,g[1+(b<<1)]=0,b++;return v},u.H.n=function(f,h){const m=u.H.m,g=f.length;let v,b,y,x;const w=m.j;for(var S=0;S<=h;S++)w[S]=0;for(S=1;S<g;S+=2)w[f[S]]++;const j=m.K;for(v=0,w[0]=0,b=1;b<=h;b++)v=v+w[b-1]<<1,j[b]=v;for(y=0;y<g;y+=2)x=f[y+1],x!=0&&(f[y]=j[x],j[x]++)},u.H.A=function(f,h,m){const g=f.length,v=u.H.m.r;for(let b=0;b<g;b+=2)if(f[b+1]!=0){const y=b>>1,x=f[b+1],w=y<<4|x,S=h-x;let j=f[b]<<S;const C=j+(1<<S);for(;j!=C;)m[v[j]>>>15-h]=w,j++}},u.H.l=function(f,h){const m=u.H.m.r,g=15-h;for(let v=0;v<f.length;v+=2){const b=f[v]<<h-f[v+1];f[v]=m[b]>>>g}},u.H.M=function(f,h,m){m<<=7&h;const g=h>>>3;f[g]|=m,f[g+1]|=m>>>8},u.H.I=function(f,h,m){m<<=7&h;const g=h>>>3;f[g]|=m,f[g+1]|=m>>>8,f[g+2]|=m>>>16},u.H.e=function(f,h,m){return(f[h>>>3]|f[1+(h>>>3)]<<8)>>>(7&h)&(1<<m)-1},u.H.b=function(f,h,m){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16)>>>(7&h)&(1<<m)-1},u.H.Z=function(f,h){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16)>>>(7&h)},u.H.i=function(f,h){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16|f[3+(h>>>3)]<<24)>>>(7&h)},u.H.m=function(){const f=Uint16Array,h=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=u.H.m;for(var h=0;h<32768;h++){let g=h;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,f.r[h]=(g>>>16|g<<16)>>>17}function m(g,v,b){for(;v--!=0;)g.push(0,b)}for(h=0;h<32;h++)f.q[h]=f.S[h]<<3|f.T[h],f.c[h]=f.p[h]<<4|f.z[h];m(f._,144,8),m(f._,112,9),m(f._,24,7),m(f._,8,8),u.H.n(f._,9),u.H.A(f._,9,f.J),u.H.l(f._,9),m(f.$,32,5),u.H.n(f.$,5),u.H.A(f.$,5,f.h),u.H.l(f.$,5),m(f.Q,19,0),m(f.C,286,0),m(f.D,30,0),m(f.v,320,0)}(),u.H.N}();function o(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function i(u,f,h,m,g){let v=o(f);const b=Math.ceil(m*v/8);let y,x;v=Math.ceil(v/8);let w=u[h],S=0;if(w>1&&(u[h]=[0,0,1][w-2]),w==3)for(S=v;S<b;S++)u[S+1]=u[S+1]+(u[S+1-v]>>>1)&255;for(let j=0;j<g;j++)if(y=h+j*b,x=y+j+1,w=u[x-1],S=0,w==0)for(;S<b;S++)u[y+S]=u[x+S];else if(w==1){for(;S<v;S++)u[y+S]=u[x+S];for(;S<b;S++)u[y+S]=u[x+S]+u[y+S-v]}else if(w==2)for(;S<b;S++)u[y+S]=u[x+S]+u[y+S-b];else if(w==3){for(;S<v;S++)u[y+S]=u[x+S]+(u[y+S-b]>>>1);for(;S<b;S++)u[y+S]=u[x+S]+(u[y+S-b]+u[y+S-v]>>>1)}else{for(;S<v;S++)u[y+S]=u[x+S]+a(0,u[y+S-b],0);for(;S<b;S++)u[y+S]=u[x+S]+a(u[y+S-v],u[y+S-b],u[y+S-v-b])}return u}function a(u,f,h){const m=u+f-h,g=m-u,v=m-f,b=m-h;return g*g<=v*v&&g*g<=b*b?u:v*v<=b*b?f:h}function c(u,f,h){h.width=e.readUint(u,f),f+=4,h.height=e.readUint(u,f),f+=4,h.depth=u[f],f++,h.ctype=u[f],f++,h.compress=u[f],f++,h.filter=u[f],f++,h.interlace=u[f],f++}function d(u,f,h,m,g,v,b,y,x){const w=Math.min(f,g),S=Math.min(h,v);let j=0,C=0;for(let $=0;$<S;$++)for(let T=0;T<w;T++)if(b>=0&&y>=0?(j=$*f+T<<2,C=(y+$)*g+b+T<<2):(j=(-y+$)*f-b+T<<2,C=$*g+T<<2),x==0)m[C]=u[j],m[C+1]=u[j+1],m[C+2]=u[j+2],m[C+3]=u[j+3];else if(x==1){var M=u[j+3]*.00392156862745098,k=u[j]*M,E=u[j+1]*M,_=u[j+2]*M,P=m[C+3]*(1/255),D=m[C]*P,L=m[C+1]*P,A=m[C+2]*P;const N=1-M,O=M+P*N,R=O==0?0:1/O;m[C+3]=255*O,m[C+0]=(k+D*N)*R,m[C+1]=(E+L*N)*R,m[C+2]=(_+A*N)*R}else if(x==2)M=u[j+3],k=u[j],E=u[j+1],_=u[j+2],P=m[C+3],D=m[C],L=m[C+1],A=m[C+2],M==P&&k==D&&E==L&&_==A?(m[C]=0,m[C+1]=0,m[C+2]=0,m[C+3]=0):(m[C]=k,m[C+1]=E,m[C+2]=_,m[C+3]=M);else if(x==3){if(M=u[j+3],k=u[j],E=u[j+1],_=u[j+2],P=m[C+3],D=m[C],L=m[C+1],A=m[C+2],M==P&&k==D&&E==L&&_==A)continue;if(M<220&&P>20)return!1}return!0}return{decode:function(f){const h=new Uint8Array(f);let m=8;const g=e,v=g.readUshort,b=g.readUint,y={tabs:{},frames:[]},x=new Uint8Array(h.length);let w,S=0,j=0;const C=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(h[M]!=C[M])throw"The input is not a PNG file!";for(;m<h.length;){const $=g.readUint(h,m);m+=4;const T=g.readASCII(h,m,4);if(m+=4,T=="IHDR")c(h,m,y);else if(T=="iCCP"){for(var k=m;h[k]!=0;)k++;g.readASCII(h,m,k-m),h[k+1];const N=h.slice(k+2,m+$);let O=null;try{O=n(N)}catch{O=s(N)}y.tabs[T]=O}else if(T=="CgBI")y.tabs[T]=h.slice(m,m+4);else if(T=="IDAT"){for(M=0;M<$;M++)x[S+M]=h[m+M];S+=$}else if(T=="acTL")y.tabs[T]={num_frames:b(h,m),num_plays:b(h,m+4)},w=new Uint8Array(h.length);else if(T=="fcTL"){j!=0&&((A=y.frames[y.frames.length-1]).data=r(y,w.slice(0,j),A.rect.width,A.rect.height),j=0);const N={x:b(h,m+12),y:b(h,m+16),width:b(h,m+4),height:b(h,m+8)};let O=v(h,m+22);O=v(h,m+20)/(O==0?100:O);const R={rect:N,delay:Math.round(1e3*O),dispose:h[m+24],blend:h[m+25]};y.frames.push(R)}else if(T=="fdAT"){for(M=0;M<$-4;M++)w[j+M]=h[m+M+4];j+=$-4}else if(T=="pHYs")y.tabs[T]=[g.readUint(h,m),g.readUint(h,m+4),h[m+8]];else if(T=="cHRM")for(y.tabs[T]=[],M=0;M<8;M++)y.tabs[T].push(g.readUint(h,m+4*M));else if(T=="tEXt"||T=="zTXt"){y.tabs[T]==null&&(y.tabs[T]={});var E=g.nextZero(h,m),_=g.readASCII(h,m,E-m),P=m+$-E-1;if(T=="tEXt")L=g.readASCII(h,E+1,P);else{var D=n(h.slice(E+2,E+2+P));L=g.readUTF8(D,0,D.length)}y.tabs[T][_]=L}else if(T=="iTXt"){y.tabs[T]==null&&(y.tabs[T]={}),E=0,k=m,E=g.nextZero(h,k),_=g.readASCII(h,k,E-k);const N=h[k=E+1];var L;h[k+1],k+=2,E=g.nextZero(h,k),g.readASCII(h,k,E-k),k=E+1,E=g.nextZero(h,k),g.readUTF8(h,k,E-k),P=$-((k=E+1)-m),N==0?L=g.readUTF8(h,k,P):(D=n(h.slice(k,k+P)),L=g.readUTF8(D,0,D.length)),y.tabs[T][_]=L}else if(T=="PLTE")y.tabs[T]=g.readBytes(h,m,$);else if(T=="hIST"){const N=y.tabs.PLTE.length/3;for(y.tabs[T]=[],M=0;M<N;M++)y.tabs[T].push(v(h,m+2*M))}else if(T=="tRNS")y.ctype==3?y.tabs[T]=g.readBytes(h,m,$):y.ctype==0?y.tabs[T]=v(h,m):y.ctype==2&&(y.tabs[T]=[v(h,m),v(h,m+2),v(h,m+4)]);else if(T=="gAMA")y.tabs[T]=g.readUint(h,m)/1e5;else if(T=="sRGB")y.tabs[T]=h[m];else if(T=="bKGD")y.ctype==0||y.ctype==4?y.tabs[T]=[v(h,m)]:y.ctype==2||y.ctype==6?y.tabs[T]=[v(h,m),v(h,m+2),v(h,m+4)]:y.ctype==3&&(y.tabs[T]=h[m]);else if(T=="IEND")break;m+=$,g.readUint(h,m),m+=4}var A;return j!=0&&((A=y.frames[y.frames.length-1]).data=r(y,w.slice(0,j),A.rect.width,A.rect.height)),y.data=r(y,x,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(f){const h=f.width,m=f.height;if(f.tabs.acTL==null)return[t(f.data,h,m,f).buffer];const g=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const v=h*m*4,b=new Uint8Array(v),y=new Uint8Array(v),x=new Uint8Array(v);for(let S=0;S<f.frames.length;S++){const j=f.frames[S],C=j.rect.x,M=j.rect.y,k=j.rect.width,E=j.rect.height,_=t(j.data,k,E,f);if(S!=0)for(var w=0;w<v;w++)x[w]=b[w];if(j.blend==0?d(_,k,E,b,h,m,C,M,0):j.blend==1&&d(_,k,E,b,h,m,C,M,1),g.push(b.buffer.slice(0)),j.dispose!=0){if(j.dispose==1)d(y,k,E,b,h,m,C,M,0);else if(j.dispose==2)for(w=0;w<v;w++)b[w]=x[w]}}return g},_paeth:a,_copyTile:d,_bin:e}}();(function(){const{_copyTile:e}=Fn,{_bin:t}=Fn,r=Fn._paeth;var n={table:function(){const k=new Uint32Array(256);for(let E=0;E<256;E++){let _=E;for(let P=0;P<8;P++)1&_?_=3988292384^_>>>1:_>>>=1;k[E]=_}return k}(),update(k,E,_,P){for(let D=0;D<P;D++)k=n.table[255&(k^E[_+D])]^k>>>8;return k},crc:(k,E,_)=>4294967295^n.update(4294967295,k,E,_)};function s(k,E,_,P){E[_]+=k[0]*P>>4,E[_+1]+=k[1]*P>>4,E[_+2]+=k[2]*P>>4,E[_+3]+=k[3]*P>>4}function o(k){return Math.max(0,Math.min(255,k))}function i(k,E){const _=k[0]-E[0],P=k[1]-E[1],D=k[2]-E[2],L=k[3]-E[3];return _*_+P*P+D*D+L*L}function a(k,E,_,P,D,L,A){A==null&&(A=1);const $=P.length,T=[];for(var N=0;N<$;N++){const I=P[N];T.push([I>>>0&255,I>>>8&255,I>>>16&255,I>>>24&255])}for(N=0;N<$;N++){let I=4294967295;for(var O=0,R=0;R<$;R++){var B=i(T[N],T[R]);R!=N&&B<I&&(I=B,O=R)}}const V=new Uint32Array(D.buffer),F=new Int16Array(E*_*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(N=0;N<z.length;N++)z[N]=255*((z[N]+.5)/16-.5);for(let I=0;I<_;I++)for(let q=0;q<E;q++){var W;N=4*(I*E+q),A!=2?W=[o(k[N]+F[N]),o(k[N+1]+F[N+1]),o(k[N+2]+F[N+2]),o(k[N+3]+F[N+3])]:(B=z[4*(3&I)+(3&q)],W=[o(k[N]+B),o(k[N+1]+B),o(k[N+2]+B),o(k[N+3]+B)]),O=0;let X=16777215;for(R=0;R<$;R++){const J=i(W,T[R]);J<X&&(X=J,O=R)}const Q=T[O],ne=[W[0]-Q[0],W[1]-Q[1],W[2]-Q[2],W[3]-Q[3]];A==1&&(q!=E-1&&s(ne,F,N+4,7),I!=_-1&&(q!=0&&s(ne,F,N+4*E-4,3),s(ne,F,N+4*E,5),q!=E-1&&s(ne,F,N+4*E+4,1))),L[N>>2]=O,V[N>>2]=P[O]}}function c(k,E,_,P,D){D==null&&(D={});const{crc:L}=n,A=t.writeUint,$=t.writeUshort,T=t.writeASCII;let N=8;const O=k.frames.length>1;let R,B=!1,V=33+(O?20:0);if(D.sRGB!=null&&(V+=13),D.pHYs!=null&&(V+=21),D.iCCP!=null&&(R=pako.deflate(D.iCCP),V+=21+R.length+4),k.ctype==3){for(var F=k.plte.length,z=0;z<F;z++)k.plte[z]>>>24!=255&&(B=!0);V+=8+3*F+4+(B?8+1*F+4:0)}for(var W=0;W<k.frames.length;W++)O&&(V+=38),V+=(Q=k.frames[W]).cimg.length+12,W!=0&&(V+=4);V+=12;const I=new Uint8Array(V),q=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)I[z]=q[z];if(A(I,N,13),N+=4,T(I,N,"IHDR"),N+=4,A(I,N,E),N+=4,A(I,N,_),N+=4,I[N]=k.depth,N++,I[N]=k.ctype,N++,I[N]=0,N++,I[N]=0,N++,I[N]=0,N++,A(I,N,L(I,N-17,17)),N+=4,D.sRGB!=null&&(A(I,N,1),N+=4,T(I,N,"sRGB"),N+=4,I[N]=D.sRGB,N++,A(I,N,L(I,N-5,5)),N+=4),D.iCCP!=null){const ne=13+R.length;A(I,N,ne),N+=4,T(I,N,"iCCP"),N+=4,T(I,N,"ICC profile"),N+=11,N+=2,I.set(R,N),N+=R.length,A(I,N,L(I,N-(ne+4),ne+4)),N+=4}if(D.pHYs!=null&&(A(I,N,9),N+=4,T(I,N,"pHYs"),N+=4,A(I,N,D.pHYs[0]),N+=4,A(I,N,D.pHYs[1]),N+=4,I[N]=D.pHYs[2],N++,A(I,N,L(I,N-13,13)),N+=4),O&&(A(I,N,8),N+=4,T(I,N,"acTL"),N+=4,A(I,N,k.frames.length),N+=4,A(I,N,D.loop!=null?D.loop:0),N+=4,A(I,N,L(I,N-12,12)),N+=4),k.ctype==3){for(A(I,N,3*(F=k.plte.length)),N+=4,T(I,N,"PLTE"),N+=4,z=0;z<F;z++){const ne=3*z,J=k.plte[z],G=255&J,ie=J>>>8&255,_e=J>>>16&255;I[N+ne+0]=G,I[N+ne+1]=ie,I[N+ne+2]=_e}if(N+=3*F,A(I,N,L(I,N-3*F-4,3*F+4)),N+=4,B){for(A(I,N,F),N+=4,T(I,N,"tRNS"),N+=4,z=0;z<F;z++)I[N+z]=k.plte[z]>>>24&255;N+=F,A(I,N,L(I,N-F-4,F+4)),N+=4}}let X=0;for(W=0;W<k.frames.length;W++){var Q=k.frames[W];O&&(A(I,N,26),N+=4,T(I,N,"fcTL"),N+=4,A(I,N,X++),N+=4,A(I,N,Q.rect.width),N+=4,A(I,N,Q.rect.height),N+=4,A(I,N,Q.rect.x),N+=4,A(I,N,Q.rect.y),N+=4,$(I,N,P[W]),N+=2,$(I,N,1e3),N+=2,I[N]=Q.dispose,N++,I[N]=Q.blend,N++,A(I,N,L(I,N-30,30)),N+=4);const ne=Q.cimg;A(I,N,(F=ne.length)+(W==0?0:4)),N+=4;const J=N;T(I,N,W==0?"IDAT":"fdAT"),N+=4,W!=0&&(A(I,N,X++),N+=4),I.set(ne,N),N+=F,A(I,N,L(I,J,N-J)),N+=4}return A(I,N,0),N+=4,T(I,N,"IEND"),N+=4,A(I,N,L(I,N-4,4)),N+=4,I.buffer}function d(k,E,_){for(let P=0;P<k.frames.length;P++){const D=k.frames[P];D.rect.width;const L=D.rect.height,A=new Uint8Array(L*D.bpl+L);D.cimg=m(D.img,L,D.bpp,D.bpl,A,E,_)}}function u(k,E,_,P,D){const L=D[0],A=D[1],$=D[2],T=D[3],N=D[4],O=D[5];let R=6,B=8,V=255;for(var F=0;F<k.length;F++){const Te=new Uint8Array(k[F]);for(var z=Te.length,W=0;W<z;W+=4)V&=Te[W+3]}const I=V!=255,q=function(De,U,H,K,se,oe){const te=[];for(var ue=0;ue<De.length;ue++){const St=new Uint8Array(De[ue]),Ot=new Uint32Array(St.buffer);var we;let Ht=0,Gt=0,hr=U,Kt=H,Er=K?1:0;if(ue!=0){const io=oe||K||ue==1||te[ue-2].dispose!=0?1:2;let Ne=0,Xe=1e9;for(let Ye=0;Ye<io;Ye++){var Ke=new Uint8Array(De[ue-1-Ye]);const kr=new Uint32Array(De[ue-1-Ye]);let At=U,rr=H,Rn=-1,ls=-1;for(let bn=0;bn<H;bn++)for(let cs=0;cs<U;cs++)Ot[nt=bn*U+cs]!=kr[nt]&&(cs<At&&(At=cs),cs>Rn&&(Rn=cs),bn<rr&&(rr=bn),bn>ls&&(ls=bn));Rn==-1&&(At=rr=Rn=ls=0),se&&((1&At)==1&&At--,(1&rr)==1&&rr--);const zl=(Rn-At+1)*(ls-rr+1);zl<Xe&&(Xe=zl,Ne=Ye,Ht=At,Gt=rr,hr=Rn-At+1,Kt=ls-rr+1)}Ke=new Uint8Array(De[ue-1-Ne]),Ne==1&&(te[ue-1].dispose=2),we=new Uint8Array(hr*Kt*4),e(Ke,U,H,we,hr,Kt,-Ht,-Gt,0),Er=e(St,U,H,we,hr,Kt,-Ht,-Gt,3)?1:0,Er==1?h(St,U,H,we,{x:Ht,y:Gt,width:hr,height:Kt}):e(St,U,H,we,hr,Kt,-Ht,-Gt,0)}else we=St.slice(0);te.push({rect:{x:Ht,y:Gt,width:hr,height:Kt},img:we,blend:Er,dispose:0})}if(K)for(ue=0;ue<te.length;ue++){if((Ut=te[ue]).blend==1)continue;const St=Ut.rect,Ot=te[ue-1].rect,Ht=Math.min(St.x,Ot.x),Gt=Math.min(St.y,Ot.y),hr={x:Ht,y:Gt,width:Math.max(St.x+St.width,Ot.x+Ot.width)-Ht,height:Math.max(St.y+St.height,Ot.y+Ot.height)-Gt};te[ue-1].dispose=1,ue-1!=0&&f(De,U,H,te,ue-1,hr,se),f(De,U,H,te,ue,hr,se)}let qe=0;if(De.length!=1)for(var nt=0;nt<te.length;nt++){var Ut;qe+=(Ut=te[nt]).rect.width*Ut.rect.height}return te}(k,E,_,L,A,$),X={},Q=[],ne=[];if(P!=0){const Te=[];for(W=0;W<q.length;W++)Te.push(q[W].img.buffer);const De=function(se){let oe=0;for(var te=0;te<se.length;te++)oe+=se[te].byteLength;const ue=new Uint8Array(oe);let we=0;for(te=0;te<se.length;te++){const Ke=new Uint8Array(se[te]),qe=Ke.length;for(let nt=0;nt<qe;nt+=4){let Ut=Ke[nt],St=Ke[nt+1],Ot=Ke[nt+2];const Ht=Ke[nt+3];Ht==0&&(Ut=St=Ot=0),ue[we+nt]=Ut,ue[we+nt+1]=St,ue[we+nt+2]=Ot,ue[we+nt+3]=Ht}we+=qe}return ue.buffer}(Te),U=v(De,P);for(W=0;W<U.plte.length;W++)Q.push(U.plte[W].est.rgba);let H=0;for(W=0;W<q.length;W++){const K=(G=q[W]).img.length;var J=new Uint8Array(U.inds.buffer,H>>2,K>>2);ne.push(J);const se=new Uint8Array(U.abuf,H,K);O&&a(G.img,G.rect.width,G.rect.height,Q,se,J),G.img.set(se),H+=K}}else for(F=0;F<q.length;F++){var G=q[F];const Te=new Uint32Array(G.img.buffer);var ie=G.rect.width;for(z=Te.length,J=new Uint8Array(z),ne.push(J),W=0;W<z;W++){const De=Te[W];if(W!=0&&De==Te[W-1])J[W]=J[W-1];else if(W>ie&&De==Te[W-ie])J[W]=J[W-ie];else{let U=X[De];if(U==null&&(X[De]=U=Q.length,Q.push(De),Q.length>=300))break;J[W]=U}}}const _e=Q.length;for(_e<=256&&N==0&&(B=_e<=2?1:_e<=4?2:_e<=16?4:8,B=Math.max(B,T)),F=0;F<q.length;F++){(G=q[F]).rect.x,G.rect.y,ie=G.rect.width;const Te=G.rect.height;let De=G.img;new Uint32Array(De.buffer);let U=4*ie,H=4;if(_e<=256&&N==0){U=Math.ceil(B*ie/8);var Ee=new Uint8Array(U*Te);const K=ne[F];for(let se=0;se<Te;se++){W=se*U;const oe=se*ie;if(B==8)for(var fe=0;fe<ie;fe++)Ee[W+fe]=K[oe+fe];else if(B==4)for(fe=0;fe<ie;fe++)Ee[W+(fe>>1)]|=K[oe+fe]<<4-4*(1&fe);else if(B==2)for(fe=0;fe<ie;fe++)Ee[W+(fe>>2)]|=K[oe+fe]<<6-2*(3&fe);else if(B==1)for(fe=0;fe<ie;fe++)Ee[W+(fe>>3)]|=K[oe+fe]<<7-1*(7&fe)}De=Ee,R=3,H=1}else if(I==0&&q.length==1){Ee=new Uint8Array(ie*Te*3);const K=ie*Te;for(W=0;W<K;W++){const se=3*W,oe=4*W;Ee[se]=De[oe],Ee[se+1]=De[oe+1],Ee[se+2]=De[oe+2]}De=Ee,R=2,H=3,U=3*ie}G.img=De,G.bpl=U,G.bpp=H}return{ctype:R,depth:B,plte:Q,frames:q}}function f(k,E,_,P,D,L,A){const $=Uint8Array,T=Uint32Array,N=new $(k[D-1]),O=new T(k[D-1]),R=D+1<k.length?new $(k[D+1]):null,B=new $(k[D]),V=new T(B.buffer);let F=E,z=_,W=-1,I=-1;for(let X=0;X<L.height;X++)for(let Q=0;Q<L.width;Q++){const ne=L.x+Q,J=L.y+X,G=J*E+ne,ie=V[G];ie==0||P[D-1].dispose==0&&O[G]==ie&&(R==null||R[4*G+3]!=0)||(ne<F&&(F=ne),ne>W&&(W=ne),J<z&&(z=J),J>I&&(I=J))}W==-1&&(F=z=W=I=0),A&&((1&F)==1&&F--,(1&z)==1&&z--),L={x:F,y:z,width:W-F+1,height:I-z+1};const q=P[D];q.rect=L,q.blend=1,q.img=new Uint8Array(L.width*L.height*4),P[D-1].dispose==0?(e(N,E,_,q.img,L.width,L.height,-L.x,-L.y,0),h(B,E,_,q.img,L)):e(B,E,_,q.img,L.width,L.height,-L.x,-L.y,0)}function h(k,E,_,P,D){e(k,E,_,P,D.width,D.height,-D.x,-D.y,2)}function m(k,E,_,P,D,L,A){const $=[];let T,N=[0,1,2,3,4];L!=-1?N=[L]:(E*P>5e5||_==1)&&(N=[0]),A&&(T={level:0});const O=ite;for(var R=0;R<N.length;R++){for(let F=0;F<E;F++)g(D,k,F,P,_,N[R]);$.push(O.deflate(D,T))}let B,V=1e9;for(R=0;R<$.length;R++)$[R].length<V&&(B=R,V=$[R].length);return $[B]}function g(k,E,_,P,D,L){const A=_*P;let $=A+_;if(k[$]=L,$++,L==0)if(P<500)for(var T=0;T<P;T++)k[$+T]=E[A+T];else k.set(new Uint8Array(E.buffer,A,P),$);else if(L==1){for(T=0;T<D;T++)k[$+T]=E[A+T];for(T=D;T<P;T++)k[$+T]=E[A+T]-E[A+T-D]+256&255}else if(_==0){for(T=0;T<D;T++)k[$+T]=E[A+T];if(L==2)for(T=D;T<P;T++)k[$+T]=E[A+T];if(L==3)for(T=D;T<P;T++)k[$+T]=E[A+T]-(E[A+T-D]>>1)+256&255;if(L==4)for(T=D;T<P;T++)k[$+T]=E[A+T]-r(E[A+T-D],0,0)+256&255}else{if(L==2)for(T=0;T<P;T++)k[$+T]=E[A+T]+256-E[A+T-P]&255;if(L==3){for(T=0;T<D;T++)k[$+T]=E[A+T]+256-(E[A+T-P]>>1)&255;for(T=D;T<P;T++)k[$+T]=E[A+T]+256-(E[A+T-P]+E[A+T-D]>>1)&255}if(L==4){for(T=0;T<D;T++)k[$+T]=E[A+T]+256-r(0,E[A+T-P],0)&255;for(T=D;T<P;T++)k[$+T]=E[A+T]+256-r(E[A+T-D],E[A+T-P],E[A+T-D-P])&255}}}function v(k,E){const _=new Uint8Array(k),P=_.slice(0),D=new Uint32Array(P.buffer),L=b(P,E),A=L[0],$=L[1],T=_.length,N=new Uint8Array(T>>2);let O;if(_.length<2e7)for(var R=0;R<T;R+=4)O=y(A,B=_[R]*(1/255),V=_[R+1]*(1/255),F=_[R+2]*(1/255),z=_[R+3]*(1/255)),N[R>>2]=O.ind,D[R>>2]=O.est.rgba;else for(R=0;R<T;R+=4){var B=_[R]*.00392156862745098,V=_[R+1]*(1/255),F=_[R+2]*(1/255),z=_[R+3]*(1/255);for(O=A;O.left;)O=x(O.est,B,V,F,z)<=0?O.left:O.right;N[R>>2]=O.ind,D[R>>2]=O.est.rgba}return{abuf:P.buffer,inds:N,plte:$}}function b(k,E,_){_==null&&(_=1e-4);const P=new Uint32Array(k.buffer),D={i0:0,i1:k.length,bst:null,est:null,tdst:0,left:null,right:null};D.bst=j(k,D.i0,D.i1),D.est=C(D.bst);const L=[D];for(;L.length<E;){let $=0,T=0;for(var A=0;A<L.length;A++)L[A].est.L>$&&($=L[A].est.L,T=A);if($<_)break;const N=L[T],O=w(k,P,N.i0,N.i1,N.est.e,N.est.eMq255);if(N.i0>=O||N.i1<=O){N.est.L=0;continue}const R={i0:N.i0,i1:O,bst:null,est:null,tdst:0,left:null,right:null};R.bst=j(k,R.i0,R.i1),R.est=C(R.bst);const B={i0:O,i1:N.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:N.bst.N-R.bst.N},A=0;A<16;A++)B.bst.R[A]=N.bst.R[A]-R.bst.R[A];for(A=0;A<4;A++)B.bst.m[A]=N.bst.m[A]-R.bst.m[A];B.est=C(B.bst),N.left=R,N.right=B,L[T]=R,L.push(B)}for(L.sort(($,T)=>T.bst.N-$.bst.N),A=0;A<L.length;A++)L[A].ind=A;return[D,L]}function y(k,E,_,P,D){if(k.left==null)return k.tdst=function(R,B,V,F,z){const W=B-R[0],I=V-R[1],q=F-R[2],X=z-R[3];return W*W+I*I+q*q+X*X}(k.est.q,E,_,P,D),k;const L=x(k.est,E,_,P,D);let A=k.left,$=k.right;L>0&&(A=k.right,$=k.left);const T=y(A,E,_,P,D);if(T.tdst<=L*L)return T;const N=y($,E,_,P,D);return N.tdst<T.tdst?N:T}function x(k,E,_,P,D){const{e:L}=k;return L[0]*E+L[1]*_+L[2]*P+L[3]*D-k.eMq}function w(k,E,_,P,D,L){for(P-=4;_<P;){for(;S(k,_,D)<=L;)_+=4;for(;S(k,P,D)>L;)P-=4;if(_>=P)break;const A=E[_>>2];E[_>>2]=E[P>>2],E[P>>2]=A,_+=4,P-=4}for(;S(k,_,D)>L;)_-=4;return _+4}function S(k,E,_){return k[E]*_[0]+k[E+1]*_[1]+k[E+2]*_[2]+k[E+3]*_[3]}function j(k,E,_){const P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D=[0,0,0,0],L=_-E>>2;for(let A=E;A<_;A+=4){const $=k[A]*.00392156862745098,T=k[A+1]*(1/255),N=k[A+2]*(1/255),O=k[A+3]*(1/255);D[0]+=$,D[1]+=T,D[2]+=N,D[3]+=O,P[0]+=$*$,P[1]+=$*T,P[2]+=$*N,P[3]+=$*O,P[5]+=T*T,P[6]+=T*N,P[7]+=T*O,P[10]+=N*N,P[11]+=N*O,P[15]+=O*O}return P[4]=P[1],P[8]=P[2],P[9]=P[6],P[12]=P[3],P[13]=P[7],P[14]=P[11],{R:P,m:D,N:L}}function C(k){const{R:E}=k,{m:_}=k,{N:P}=k,D=_[0],L=_[1],A=_[2],$=_[3],T=P==0?0:1/P,N=[E[0]-D*D*T,E[1]-D*L*T,E[2]-D*A*T,E[3]-D*$*T,E[4]-L*D*T,E[5]-L*L*T,E[6]-L*A*T,E[7]-L*$*T,E[8]-A*D*T,E[9]-A*L*T,E[10]-A*A*T,E[11]-A*$*T,E[12]-$*D*T,E[13]-$*L*T,E[14]-$*A*T,E[15]-$*$*T],O=N,R=M;let B=[Math.random(),Math.random(),Math.random(),Math.random()],V=0,F=0;if(P!=0)for(let W=0;W<16&&(B=R.multVec(O,B),F=Math.sqrt(R.dot(B,B)),B=R.sml(1/F,B),!(W!=0&&Math.abs(F-V)<1e-9));W++)V=F;const z=[D*T,L*T,A*T,$*T];return{Cov:N,q:z,e:B,L:V,eMq255:R.dot(R.sml(255,z),B),eMq:R.dot(B,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var M={multVec:(k,E)=>[k[0]*E[0]+k[1]*E[1]+k[2]*E[2]+k[3]*E[3],k[4]*E[0]+k[5]*E[1]+k[6]*E[2]+k[7]*E[3],k[8]*E[0]+k[9]*E[1]+k[10]*E[2]+k[11]*E[3],k[12]*E[0]+k[13]*E[1]+k[14]*E[2]+k[15]*E[3]],dot:(k,E)=>k[0]*E[0]+k[1]*E[1]+k[2]*E[2]+k[3]*E[3],sml:(k,E)=>[k*E[0],k*E[1],k*E[2],k*E[3]]};Fn.encode=function(E,_,P,D,L,A,$){D==null&&(D=0),$==null&&($=!1);const T=u(E,_,P,D,[!1,!1,!1,0,$,!1]);return d(T,-1),c(T,_,P,L,A)},Fn.encodeLL=function(E,_,P,D,L,A,$,T){const N={ctype:0+(D==1?0:2)+(L==0?0:4),depth:A,frames:[]},O=(D+L)*A,R=O*_;for(let B=0;B<E.length;B++)N.frames.push({rect:{x:0,y:0,width:_,height:P},img:new Uint8Array(E[B]),blend:0,dispose:1,bpp:Math.ceil(O/8),bpl:Math.ceil(R/8)});return d(N,0,!0),c(N,_,P,$,T)},Fn.encode.compress=u,Fn.encode.dither=a,Fn.quantize=v,Fn.quantize.getKDtree=b,Fn.quantize.getNearest=y})();const BO={toArrayBuffer(e,t){const r=e.width,n=e.height,s=r<<2,o=e.getContext("2d").getImageData(0,0,r,n),i=new Uint32Array(o.data.buffer),a=(32*r+31)/32<<2,c=a*n,d=122+c,u=new ArrayBuffer(d),f=new DataView(u),h=1<<20;let m,g,v,b,y=h,x=0,w=0,S=0;function j(k){f.setUint16(w,k,!0),w+=2}function C(k){f.setUint32(w,k,!0),w+=4}function M(k){w+=k}j(19778),C(d),M(4),C(122),C(108),C(r),C(-n>>>0),j(1),j(32),C(3),C(c),C(2835),C(2835),M(8),C(16711680),C(65280),C(255),C(4278190080),C(1466527264),function k(){for(;x<n&&y>0;){for(b=122+x*a,m=0;m<s;)y--,g=i[S++],v=g>>>24,f.setUint32(b+m,g<<8|v),m+=4;x++}S<i.length?(y=h,setTimeout(k,BO._dly)):t(u)}()},toBlob(e,t){this.toArrayBuffer(e,r=>{t(new Blob([r],{type:"image/bmp"}))})},_dly:9};var Hr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ate={[Hr.CHROME]:16384,[Hr.FIREFOX]:11180,[Hr.DESKTOP_SAFARI]:16384,[Hr.IE]:8192,[Hr.IOS]:4096,[Hr.ETC]:8192};const _w=typeof window<"u",UO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,fp=_w&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),lte=(_w||UO)&&(fp&&fp.getOriginalSymbol(window,"File")||typeof File<"u"&&File),zO=(_w||UO)&&(fp&&fp.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function jw(e,t,r=Date.now()){return new Promise(n=>{const s=e.split(","),o=s[0].match(/:(.*?);/)[1],i=globalThis.atob(s[1]);let a=i.length;const c=new Uint8Array(a);for(;a--;)c[a]=i.charCodeAt(a);const d=new Blob([c],{type:o});d.name=t,d.lastModified=r,n(d)})}function WO(e){return new Promise((t,r)=>{const n=new zO;n.onload=()=>t(n.result),n.onerror=s=>r(s),n.readAsDataURL(e)})}function VO(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=s=>r(s),n.src=e})}function Mi(){if(Mi.cachedResult!==void 0)return Mi.cachedResult;let e=Hr.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Hr.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Hr.IOS:/Safari/i.test(t)?e=Hr.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Hr.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=Hr.IE),Mi.cachedResult=e,Mi.cachedResult}function HO(e,t){const r=Mi(),n=ate[r];let s=e,o=t,i=s*o;const a=s>o?o/s:s/o;for(;i>n*n;){const c=(n+s)/2,d=(n+o)/2;c<d?(o=d,s=d*a):(o=c*a,s=c),i=s*o}return{width:s,height:o}}function Hm(e,t){let r,n;try{if(r=new OffscreenCanvas(e,t),n=r.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=e,r.height=t,[r,n]}function GO(e,t){const{width:r,height:n}=HO(e.width,e.height),[s,o]=Hm(r,n);return t&&/jpe?g/.test(t)&&(o.fillStyle="white",o.fillRect(0,0,s.width,s.height)),o.drawImage(e,0,0,s.width,s.height),s}function Ff(){return Ff.cachedResult!==void 0||(Ff.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ff.cachedResult}function hp(e,t={}){return new Promise(function(r,n){let s,o;var i=function(){try{return o=GO(s,t.fileType||e.type),r([s,o])}catch(c){return n(c)}},a=function(c){try{var d=function(u){try{throw u}catch(f){return n(f)}};try{let u;return WO(e).then(function(f){try{return u=f,VO(u).then(function(h){try{return s=h,function(){try{return i()}catch(m){return n(m)}}()}catch(m){return d(m)}},d)}catch(h){return d(h)}},d)}catch(u){d(u)}}catch(u){return n(u)}};try{if(Ff()||[Hr.DESKTOP_SAFARI,Hr.MOBILE_SAFARI].includes(Mi()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(c){try{return s=c,i()}catch{return a()}},a)}catch{a()}})}function pp(e,t,r,n,s=1){return new Promise(function(o,i){let a;if(t==="image/png"){let d,u,f;return d=e.getContext("2d"),{data:u}=d.getImageData(0,0,e.width,e.height),f=Fn.encode([u.buffer],e.width,e.height,4096*s),a=new Blob([f],{type:t}),a.name=r,a.lastModified=n,c.call(this)}{let d=function(){return c.call(this)};if(t==="image/bmp")return new Promise(u=>BO.toBlob(e,u)).then((function(u){try{return a=u,a.name=r,a.lastModified=n,d.call(this)}catch(f){return i(f)}}).bind(this),i);{let u=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:s}).then((function(f){try{return a=f,a.name=r,a.lastModified=n,u.call(this)}catch(h){return i(h)}}).bind(this),i);{let f;return f=e.toDataURL(t,s),jw(f,r,n).then((function(h){try{return a=h,u.call(this)}catch(m){return i(m)}}).bind(this),i)}}}function c(){return o(a)}})}function gs(e){e.width=0,e.height=0}function Aa(){return new Promise(function(e,t){let r,n,s,o;return Aa.cachedResult!==void 0?e(Aa.cachedResult):jw("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(i){try{return r=i,hp(r).then(function(a){try{return n=a[1],pp(n,r.type,r.name,r.lastModified).then(function(c){try{return s=c,gs(n),hp(s).then(function(d){try{return o=d[0],Aa.cachedResult=o.width===1&&o.height===2,e(Aa.cachedResult)}catch(u){return t(u)}},t)}catch(d){return t(d)}},t)}catch(c){return t(c)}},t)}catch(a){return t(a)}},t)})}function qO(e){return new Promise((t,r)=>{const n=new zO;n.onload=s=>{const o=new DataView(s.target.result);if(o.getUint16(0,!1)!=65496)return t(-2);const i=o.byteLength;let a=2;for(;a<i;){if(o.getUint16(a+2,!1)<=8)return t(-1);const c=o.getUint16(a,!1);if(a+=2,c==65505){if(o.getUint32(a+=2,!1)!=1165519206)return t(-1);const d=o.getUint16(a+=6,!1)==18761;a+=o.getUint32(a+4,d);const u=o.getUint16(a,d);a+=2;for(let f=0;f<u;f++)if(o.getUint16(a+12*f,d)==274)return t(o.getUint16(a+12*f+8,d))}else{if((65280&c)!=65280)break;a+=o.getUint16(a,!1)}}return t(-1)},n.onerror=s=>r(s),n.readAsArrayBuffer(e)})}function YO(e,t){const{width:r}=e,{height:n}=e,{maxWidthOrHeight:s}=t;let o,i=e;return isFinite(s)&&(r>s||n>s)&&([i,o]=Hm(r,n),r>n?(i.width=s,i.height=n/r*s):(i.width=r/n*s,i.height=s),o.drawImage(e,0,0,i.width,i.height),gs(e)),i}function KO(e,t){const{width:r}=e,{height:n}=e,[s,o]=Hm(r,n);switch(t>4&&t<9?(s.width=n,s.height=r):(s.width=r,s.height=n),t){case 2:o.transform(-1,0,0,1,r,0);break;case 3:o.transform(-1,0,0,-1,r,n);break;case 4:o.transform(1,0,0,-1,0,n);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,n,0);break;case 7:o.transform(0,-1,-1,0,n,r);break;case 8:o.transform(0,-1,1,0,0,r)}return o.drawImage(e,0,0,r,n),gs(e),s}function Tj(e,t,r=0){return new Promise(function(n,s){let o,i,a,c,d,u,f,h,m,g,v,b,y,x,w,S,j,C,M,k;function E(P=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;o+=P,t.onProgress(Math.min(o,100))}function _(P){if(t.signal&&t.signal.aborted)throw t.signal.reason;o=Math.min(Math.max(P,o),100),t.onProgress(o)}return o=r,i=t.maxIteration||10,a=1024*t.maxSizeMB*1024,E(),hp(e,t).then((function(P){try{return[,c]=P,E(),d=YO(c,t),E(),new Promise(function(D,L){var A;if(!(A=t.exifOrientation))return qO(e).then((function(T){try{return A=T,$.call(this)}catch(N){return L(N)}}).bind(this),L);function $(){return D(A)}return $.call(this)}).then((function(D){try{return u=D,E(),Aa().then((function(L){try{return f=L?d:KO(d,u),E(),h=t.initialQuality||1,m=t.fileType||e.type,pp(f,m,e.name,e.lastModified,h).then((function(A){try{{let T=function(){if(i--&&(w>a||w>y)){let O,R;return O=k?.95*M.width:M.width,R=k?.95*M.height:M.height,[j,C]=Hm(O,R),C.drawImage(M,0,0,O,R),h*=m==="image/png"?.85:.95,pp(j,m,e.name,e.lastModified,h).then(function(B){try{return S=B,gs(M),M=j,w=S.size,_(Math.min(99,Math.floor((x-w)/(x-a)*100))),T}catch(V){return s(V)}},s)}return[1]},N=function(){return gs(M),gs(j),gs(d),gs(f),gs(c),_(100),n(S)};if(g=A,E(),v=g.size>a,b=g.size>e.size,!v&&!b)return _(100),n(g);var $;return y=e.size,x=g.size,w=x,M=f,k=!t.alwaysKeepResolution&&v,($=(function(O){for(;O;){if(O.then)return void O.then($,s);try{if(O.pop){if(O.length)return O.pop()?N.call(this):O;O=T}else O=O.call(this)}catch(R){return s(R)}}}).bind(this))(T)}}catch(T){return s(T)}}).bind(this),s)}catch(A){return s(A)}}).bind(this),s)}catch(L){return s(L)}}).bind(this),s)}catch(D){return s(D)}}).bind(this),s)})}const cte=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let bv;function ute(e,t){return new Promise((r,n)=>{bv||(bv=function(i){const a=[];return a.push(i),URL.createObjectURL(new Blob(a))}(cte));const s=new Worker(bv);s.addEventListener("message",function(i){if(t.signal&&t.signal.aborted)s.terminate();else if(i.data.progress===void 0){if(i.data.error)return n(new Error(i.data.error)),void s.terminate();r(i.data.file),s.terminate()}else t.onProgress(i.data.progress)}),s.addEventListener("error",n),t.signal&&t.signal.addEventListener("abort",()=>{n(t.signal.reason),s.terminate()}),s.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function mr(e,t){return new Promise(function(r,n){let s,o,i,a,c,d;if(s={...t},i=0,{onProgress:a}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=m=>{i=m,typeof a=="function"&&a(i)},!(e instanceof Blob||e instanceof lte))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return n(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||d)return Tj(e,s).then((function(m){try{return o=m,h.call(this)}catch(g){return n(g)}}).bind(this),n);var u=(function(){try{return h.call(this)}catch(m){return n(m)}}).bind(this),f=function(m){try{return Tj(e,s).then(function(g){try{return o=g,u()}catch(v){return n(v)}},n)}catch(g){return n(g)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ute(e,s).then(function(m){try{return o=m,u()}catch{return f()}},f)}catch{f()}function h(){try{o.name=e.name,o.lastModified=e.lastModified}catch{}try{s.preserveExif&&e.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===e.type)&&(o=FO(e,o))}catch{}return r(o)}})}mr.getDataUrlFromFile=WO,mr.getFilefromDataUrl=jw,mr.loadImage=VO,mr.drawImageInCanvas=GO,mr.drawFileInCanvas=hp,mr.canvasToFile=pp,mr.getExifOrientation=qO,mr.handleMaxWidthOrHeight=YO,mr.followExifOrientation=KO,mr.cleanupCanvasMemory=gs,mr.isAutoOrientationInBrowser=Aa,mr.approximateBelowMaximumCanvasSizeOfBrowser=HO,mr.copyExifWithoutOrientation=FO,mr.getBrowserName=Mi,mr.version="2.0.2";async function dte(){var s;const{data:e}=await Y.auth.getSession();if(!((s=e.session)!=null&&s.user))throw new Error("User not authenticated");const t=e.session.user.id,{data:r,error:n}=await Y.from("food_experiences").select(`
      *,
      images:food_experience_images(id, image_path, is_primary, display_order)
    `).eq("host_id",t).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching host food experiences:",n),n;return r.map(o=>{const i=o.images.map(a=>({id:a.id,url:a.image_path,order:a.display_order||0,is_primary:a.is_primary||!1}));return i.sort((a,c)=>a.order-c.order),{id:o.id,title:o.title,description:o.description,status:o.status,images:i,price_per_person:o.price_per_person,cuisine_type:o.cuisine_type,menu_description:o.menu_description||"",location_name:o.location_name,created_at:o.created_at,updated_at:o.updated_at,details:{duration:o.duration||"2 hours",groupSize:`Max ${o.max_guests} guests`,includes:["Food","Beverages"],language:o.language||"English",location:`${o.city}, ${o.state}`}}})}async function fte(e){var a,c,d,u,f,h,m,g,v,b,y,x,w;const{data:t}=await Y.auth.getSession();if(!((a=t.session)!=null&&a.user))throw new Error("User not authenticated");const r=t.session.user.id,{data:n,error:s}=await Y.from("profiles").select("is_host").eq("id",r).single();if(s)throw console.error("Error fetching user profile:",s),s;if(!n.is_host){const{error:S}=await Y.from("profiles").update({is_host:!0}).eq("id",r);if(S)throw console.error("Error updating host status:",S),S}const{data:o,error:i}=await Y.from("food_experiences").insert({host_id:r,title:e.title||"Untitled Experience",description:e.description||"",price_per_person:e.price_per_person||0,cuisine_type:e.cuisine_type||"Other",menu_description:e.menu_description||"",location_name:e.location_name||"",address:((c=e.details)==null?void 0:c.location)||"",city:((u=(d=e.details)==null?void 0:d.location)==null?void 0:u.split(",")[0])||"",state:((m=(h=(f=e.details)==null?void 0:f.location)==null?void 0:h.split(",")[1])==null?void 0:m.trim())||"",zipcode:e.zipcode||"",latitude:((g=e.coordinates)==null?void 0:g.lat)||0,longitude:((v=e.coordinates)==null?void 0:v.lng)||0,duration:((b=e.details)==null?void 0:b.duration)||"2 hours",max_guests:parseInt(((x=(y=e.details)==null?void 0:y.groupSize)==null?void 0:x.replace(/\D/g,""))||"8"),language:((w=e.details)==null?void 0:w.language)||"English",status:"draft"}).select().single();if(i)throw console.error("Error creating food experience:",i),i;return o}async function hte(e,t){var c,d,u,f,h,m,g,v,b,y,x,w,S;const{data:r}=await Y.auth.getSession();if(!((c=r.session)!=null&&c.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await Y.from("food_experiences").select("host_id").eq("id",e).single();if(o)throw console.error("Error checking experience ownership:",o),o;if(s.host_id!==n)throw new Error("You do not have permission to update this experience");const{data:i,error:a}=await Y.from("food_experiences").update({title:t.title,description:t.description,price_per_person:t.price_per_person,cuisine_type:t.cuisine_type,menu_description:t.menu_description,location_name:t.location_name,address:((d=t.details)==null?void 0:d.location)||"",city:((f=(u=t.details)==null?void 0:u.location)==null?void 0:f.split(",")[0])||"",state:((g=(m=(h=t.details)==null?void 0:h.location)==null?void 0:m.split(",")[1])==null?void 0:g.trim())||"",zipcode:t.zipcode||"",latitude:((v=t.coordinates)==null?void 0:v.lat)||0,longitude:((b=t.coordinates)==null?void 0:b.lng)||0,duration:(y=t.details)==null?void 0:y.duration,max_guests:parseInt(((w=(x=t.details)==null?void 0:x.groupSize)==null?void 0:w.replace(/\D/g,""))||"8"),language:(S=t.details)==null?void 0:S.language,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw console.error("Error updating food experience:",a),a;return i}async function pte(e,t){var c;const{data:r}=await Y.auth.getSession();if(!((c=r.session)!=null&&c.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await Y.from("food_experiences").select("host_id").eq("id",e).single();if(o)throw console.error("Error checking experience ownership:",o),o;if(s.host_id!==n)throw new Error("You do not have permission to update this experience");const{data:i,error:a}=await Y.from("food_experiences").update({status:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw console.error("Error updating food experience status:",a),a;return i}async function mte(e){var i;const{data:t}=await Y.auth.getSession();if(!((i=t.session)!=null&&i.user))throw new Error("User not authenticated");const r=t.session.user.id,{data:n,error:s}=await Y.from("food_experiences").select("host_id").eq("id",e).single();if(s)throw console.error("Error checking experience ownership:",s),s;if(n.host_id!==r)throw new Error("You do not have permission to delete this experience");const{error:o}=await Y.from("food_experiences").delete().eq("id",e);if(o)throw console.error("Error deleting food experience:",o),o;return!0}async function Oj(e,t,r=!1,n=0){var a;const{data:s}=await Y.auth.getSession();if(!((a=s.session)!=null&&a.user))throw new Error("User not authenticated");if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e))return console.log("Non-UUID experience ID provided. This might be temporary data."),{id:`preview-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,url:URL.createObjectURL(t),is_primary:r,order:n};const i=s.session.user.id;try{const{data:c,error:d}=await Y.from("food_experiences").select("host_id").eq("id",e).single();if(d)throw console.error("Error checking ownership:",d),d;if(c.host_id!==i)throw new Error("You do not have permission to upload images for this experience");const u=t.name.split(".").pop(),f=new Date().toISOString().replace(/[^0-9]/g,""),h=`exp_${e.substring(0,8)}_${f}_${Math.random().toString(36).substring(2,8)}.${u}`,m=`food-experience-images/${h}`,{error:g}=await Y.storage.from("food-experience-images").upload(h,t,{cacheControl:"3600",upsert:!1,contentType:t.type});if(g)throw console.error("Error uploading file:",g),g;r&&await Y.from("food_experience_images").update({is_primary:!1}).eq("experience_id",e);const{data:v,error:b}=await Y.from("food_experience_images").insert({experience_id:e,image_path:m,is_primary:r,display_order:n}).select().single();if(b)throw await Y.storage.from("food-experience-images").remove([h]),console.error("Error creating image record:",b),b;return{id:v.id,url:m,is_primary:r,order:n}}catch(c){throw c instanceof Error&&c.message.includes("row-level security policy")?(console.error("Security policy error. Trying fallback approach..."),new Error(`Permission denied: You don't have the proper permissions to upload images. Please contact support with error code: HOST-IMG-${Date.now()}`)):c}}async function gte(e){var u;const{data:t}=await Y.auth.getSession();if(!((u=t.session)!=null&&u.user))throw new Error("User not authenticated");if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e))return console.log("Skipping deletion of non-UUID image ID:",e),!0;const n=t.session.user.id,{data:s,error:o}=await Y.from("food_experience_images").select(`
      image_path,
      experience_id,
      food_experiences(host_id)
    `).eq("id",e).single();if(o)throw console.error("Error fetching image:",o),o;const i=s.food_experiences;if(!i||i.length===0||i[0].host_id!==n)throw new Error("You do not have permission to delete this image");const a=s.image_path.replace("food-experience-images/",""),{error:c}=await Y.storage.from("food-experience-images").remove([a]);c&&console.error("Error deleting image from storage:",c);const{error:d}=await Y.from("food_experience_images").delete().eq("id",e);if(d)throw console.error("Error deleting image record:",d),d;return!0}async function vte(e,t){var c;const{data:r}=await Y.auth.getSession();if(!((c=r.session)!=null&&c.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await Y.from("food_experiences").select("host_id").eq("id",e).single();if(o)throw console.error("Error checking experience ownership:",o),o;if(s.host_id!==n)throw new Error("You do not have permission to update images for this experience");const{error:i}=await Y.from("food_experience_images").update({is_primary:!1}).eq("experience_id",e);if(i)throw console.error("Error resetting primary status of images:",i),i;const{error:a}=await Y.from("food_experience_images").update({is_primary:!0}).eq("id",t);if(a)throw console.error("Error setting primary image:",a),a;return!0}async function yte(){var s;const{data:e}=await Y.auth.getSession();if(!((s=e.session)!=null&&s.user))throw new Error("User not authenticated");const t=e.session.user.id,{data:r,error:n}=await Y.from("stays").select(`
      *,
      images:stay_images(id, image_path, is_primary, display_order)
    `).eq("host_id",t).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching host stays:",n),n;return r.map(o=>{const i=o.images.map(a=>({id:a.id,url:a.image_path,order:a.display_order||0,is_primary:a.is_primary||!1}));return i.sort((a,c)=>a.order-c.order),{id:o.id,title:o.title,description:o.description,status:o.status,images:i,price_per_night:o.price_per_night,property_type:o.property_type,location_name:o.location_name||o.location||"",max_guests:o.max_guests,bedrooms:o.bedrooms,beds:o.beds,bathrooms:o.bathrooms,created_at:o.created_at,updated_at:o.updated_at,address:o.address,zipcode:o.zipcode,city:o.city,state:o.state,latitude:o.latitude,longitude:o.longitude,amenities:Array.isArray(o.amenities)?o.amenities:[]}})}async function xte(e){var a;const{data:t}=await Y.auth.getSession();if(!((a=t.session)!=null&&a.user))throw new Error("User not authenticated");const r=t.session.user.id,{data:n,error:s}=await Y.from("profiles").select("is_host").eq("id",r).single();if(s)throw console.error("Error fetching user profile:",s),s;if(!n.is_host){const{error:c}=await Y.from("profiles").update({is_host:!0}).eq("id",r);if(c)throw console.error("Error updating host status:",c),c}const{data:o,error:i}=await Y.from("stays").insert({host_id:r,title:e.title||"Untitled Stay",description:e.description||"",price_per_night:e.price_per_night||0,bedrooms:e.bedrooms||1,beds:e.beds||1,bathrooms:e.bathrooms||1,max_guests:e.max_guests||1,amenities:e.amenities||[],property_type:e.property_type||"house",location_name:e.location_name||"",address:e.address||"",city:e.city||"",state:e.state||"",zipcode:e.zipcode||"",latitude:e.latitude||0,longitude:e.longitude||0,status:e.status||"draft"}).select().single();if(i)throw console.error("Error creating stay:",i),i;if(o&&e.amenities&&e.amenities.length>0){const c=e.amenities.map(u=>({stay_id:o.id,amenity_id:u,created_at:new Date().toISOString()})),{error:d}=await Y.from("stay_amenities").insert(c);d&&console.error("Error creating amenity records:",d)}if(e.availability&&e.availability.length>0){const c=e.availability.map(u=>({stay_id:o.id,date:u.date,price:u.price_override||e.price_per_night,is_available:u.is_available})),{error:d}=await Y.from("stay_availability").insert(c);d&&console.error("Error creating availability records:",d)}return o}async function bte(e,t){var c;const{data:r}=await Y.auth.getSession();if(!((c=r.session)!=null&&c.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await Y.from("stays").select("host_id").eq("id",e).single();if(o)throw console.error("Error checking stay ownership:",o),o;if(s.host_id!==n)throw new Error("You do not have permission to update this stay");const{data:i,error:a}=await Y.from("stays").update({title:t.title,description:t.description,price_per_night:t.price_per_night,bedrooms:t.bedrooms,beds:t.beds,bathrooms:t.bathrooms,max_guests:t.max_guests,amenities:t.amenities,property_type:t.property_type,location_name:t.location_name,address:t.address,city:t.city,state:t.state,zipcode:t.zipcode,latitude:t.latitude,longitude:t.longitude,status:t.status,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw console.error("Error updating stay:",a),a;if(t.amenities){const{error:d}=await Y.from("stay_amenities").delete().eq("stay_id",e);if(d&&console.error("Error deleting existing amenity records:",d),t.amenities.length>0){const u=t.amenities.map(h=>({stay_id:e,amenity_id:h,created_at:new Date().toISOString()})),{error:f}=await Y.from("stay_amenities").insert(u);f&&console.error("Error creating amenity records:",f)}}return i}async function wte(e,t){var c;const{data:r}=await Y.auth.getSession();if(!((c=r.session)!=null&&c.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await Y.from("stays").select("host_id").eq("id",e).single();if(o)throw console.error("Error checking stay ownership:",o),o;if(s.host_id!==n)throw new Error("You do not have permission to update this stay");const{data:i,error:a}=await Y.from("stays").update({status:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw console.error("Error updating stay status:",a),a;return i}async function Ste(e){var c;const{data:t}=await Y.auth.getSession();if(!((c=t.session)!=null&&c.user))throw new Error("User not authenticated");const r=t.session.user.id,{data:n,error:s}=await Y.from("stays").select("host_id").eq("id",e).single();if(s)throw console.error("Error checking stay ownership:",s),s;if(n.host_id!==r)throw new Error("You do not have permission to delete this stay");const{error:o}=await Y.from("stay_images").delete().eq("stay_id",e);o&&console.error("Error deleting stay images:",o);const{error:i}=await Y.from("stay_availability").delete().eq("stay_id",e);i&&console.error("Error deleting availability records:",i);const{error:a}=await Y.from("stays").delete().eq("id",e);if(a)throw console.error("Error deleting stay:",a),a;return!0}async function wv(e,t,r=!1,n=0){var c;const{data:s}=await Y.auth.getSession();if(!((c=s.session)!=null&&c.user))throw new Error("User not authenticated");const o=s.session.user.id,{data:i,error:a}=await Y.from("stays").select("host_id").eq("id",e).single();if(a)throw console.error("Error checking stay ownership:",a),a;if(i.host_id!==o)throw new Error("You do not have permission to upload images to this stay");if(r){const{error:d}=await Y.from("stay_images").update({is_primary:!1}).eq("stay_id",e);d&&console.error("Error updating existing images:",d)}try{const d=t.name.split(".").pop(),u=`${e}-${Date.now()}.${d}`,{error:f}=await Y.storage.from("stay-images").upload(u,t,{cacheControl:"3600",upsert:!0,contentType:t.type});if(f)throw console.error("Error uploading image:",f),f;const{data:{publicUrl:h}}=Y.storage.from("stay-images").getPublicUrl(u),m=`stay-images/${u}`,{data:g,error:v}=await Y.from("stay_images").insert({stay_id:e,image_path:m,is_primary:r,display_order:n}).select().single();if(v)throw console.error("Error creating image record:",v),v;return{...g,publicUrl:h}}catch(d){throw console.error("Error uploading image:",d),d}}const Cte=ds.object({title:ds.string().min(5,"Title must be at least 5 characters"),description:ds.string().min(20,"Description must be at least 20 characters"),cuisine_type:ds.string().min(1,"Please select a cuisine type"),price_per_person:ds.coerce.number().min(1,"Price must be at least 1"),menu_description:ds.string().min(20,"Menu description must be at least 20 characters"),location_name:ds.string().min(5,"Location name must be at least 5 characters"),duration:ds.string().min(1,"Please select a duration"),max_guests:ds.coerce.number().min(1,"Maximum guests must be at least 1"),language:ds.string().min(1,"Please select a language")}),gf=()=>{const{id:e}=Zu(),t=Tt(),{refreshUser:r}=Bt(),[n,s]=p.useState(!1),[o,i]=p.useState([]),[a,c]=p.useState([]),[d,u]=p.useState(!1),[f,h]=p.useState(!1),[m,g]=p.useState({address:"",zipcode:"",city:"",state:"",latitude:0,longitude:0}),v=Fl({resolver:Ul(Cte),defaultValues:{title:"",description:"",cuisine_type:"",price_per_person:0,menu_description:"",location_name:"",duration:"2 hours",max_guests:8,language:"English"}});p.useEffect(()=>{(async()=>{var P,D;if(!e){h(!1);return}try{if(s(!0),h(!0),e==="new"){h(!1),s(!1);return}const L=await nx(e);if(L){if(v.reset({title:L.title,description:L.description,cuisine_type:L.cuisine_type,price_per_person:L.price_per_person,menu_description:L.menu_description||"",location_name:L.location_name,duration:L.details.duration,max_guests:parseInt(L.details.groupSize.replace(/\D/g,"")||"8"),language:L.details.language}),L.coordinates){const $=L.details.location.split(","),T=((P=$[0])==null?void 0:P.trim())||"",N=((D=$[1])==null?void 0:D.trim())||"";g({address:L.details.location,zipcode:"",city:T,state:N,latitude:L.coordinates.lat,longitude:L.coordinates.lng,displayLocation:L.details.location})}const A=L.images.map($=>({id:`img-${Date.now().toString()}-${Math.random().toString(36).substr(2,9)}`,url:$.url,is_primary:!!$.is_primary}));i(A)}s(!1)}catch(L){console.error("Error fetching experience:",L),je.error("Failed to load experience data"),s(!1)}})()},[e,v]),p.useEffect(()=>()=>{a.forEach(_=>URL.revokeObjectURL(_.preview))},[a]);const b=async _=>{try{if(s(!0),m.latitude===0&&m.longitude===0){je.error("Please select a location on the map"),s(!1);return}if(f&&e&&e!=="new")await hte(e,{..._,details:{duration:_.duration,groupSize:`Max ${_.max_guests} guests`,includes:["Food","Beverages"],language:_.language,location:`${m.city}, ${m.state}`},coordinates:{lat:m.latitude,lng:m.longitude},zipcode:m.zipcode}),je.success("Food experience updated successfully");else{const P=await fte({..._,details:{duration:_.duration,groupSize:`Max ${_.max_guests} guests`,includes:["Food","Beverages"],language:_.language,location:`${m.city}, ${m.state}`},coordinates:{lat:m.latitude,lng:m.longitude},zipcode:m.zipcode});await r();const D=P;if(a.length>0&&D&&D.id){u(!0);try{for(let L=0;L<a.length;L++){const A=a[L];await Oj(D.id.toString(),A.file,A.is_primary,L)}je.success("Images uploaded successfully")}catch(L){console.error("Error uploading images:",L),je.error("Some images could not be uploaded")}finally{u(!1)}}je.success("Food experience created successfully"),D&&D.id&&t(`/host/food/edit/${D.id}`)}s(!1)}catch(P){console.error("Error saving experience:",P),je.error("Failed to save experience"),s(!1)}},y=async()=>{if(!(!e||e==="new"))try{const _=await nx(e);if(_&&_.images){const P=_.images.map(D=>({id:D.id||`img-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,url:D.url,is_primary:!!D.is_primary}));i(P)}}catch(_){console.error("Error fetching latest images:",_)}},x=async _=>{const P={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.8};try{return await mr(_,P)}catch(D){return console.error("Error compressing image:",D),_}},w=async _=>{if(!_.target.files||_.target.files.length===0)return;u(!0);const P=Array.from(_.target.files);try{const D=await Promise.all(P.map(async A=>await x(A))),L=D.map(A=>({id:`temp-${Date.now()}-${A.name}`,file:A,preview:URL.createObjectURL(A),is_primary:a.length===0&&o.length===0}));if(c(A=>[...A,...L]),e&&e!=="new")for(const A of D)try{await Oj(e,A,a.length===0&&o.length===0,o.length+a.length)&&await y()}catch($){console.error(`Error uploading image ${A.name}:`,$),je.error(`Failed to upload ${A.name}`)}}catch(D){console.error("Error handling image upload:",D),je.error("Failed to process images")}finally{u(!1),_.target&&(_.target.value="")}},S=async _=>{if(_)if(_.startsWith("temp-"))c(P=>{var L;const D=P.filter(A=>A.id!==_);return(L=P.find(A=>A.id===_))!=null&&L.is_primary&&D.length>0&&(D[0].is_primary=!0),D}),je.success("Image removed");else try{await gte(_),await y(),je.success("Image deleted successfully")}catch(P){console.error("Error deleting image:",P),je.error("Failed to delete image")}},j=async _=>{if(_.startsWith("temp-"))c(P=>P.map(D=>({...D,is_primary:D.id===_})));else if(f&&e&&e!=="new")try{await vte(e,_),await y(),je.success("Primary image updated")}catch(P){console.error("Error setting primary image:",P),je.error("Failed to update primary image")}},C=["Italian","French","Japanese","Chinese","Mexican","Indian","Thai","American","Spanish","Default","Vegetarian","African","Asian"],M=["1 hour","1.5 hours","2 hours","2.5 hours","3 hours","3.5 hours","4 hours","4.5 hours","5 hours","More than 5 hours"],k=["English","Spanish","French","German","Italian","Portuguese","Japanese","Chinese","Korean","Arabic","Russian","Hindi","Other"],E=_=>{if(_.startsWith("http")||_.startsWith("blob:"))return _;if(_.startsWith("food-experience-images/")){const{data:P}=Y.storage.from("food-experience-images").getPublicUrl(_.replace("food-experience-images/",""));return P.publicUrl}return _};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sage-50 to-terracotta-50 p-6",children:l.jsxs("div",{className:"max-w-5xl mx-auto mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(re,{variant:"outline",onClick:()=>t("/host/dashboard"),className:"flex items-center gap-2",children:[l.jsx(uu,{className:"w-4 h-4"}),"Back to Dashboard"]}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:f?"Edit Food Experience":"Create Food Experience"})]}),l.jsxs(re,{variant:"outline",onClick:()=>t("/"),className:"flex items-center gap-2",children:[l.jsx(Go,{className:"w-4 h-4"}),"Home"]})]}),l.jsxs(Oe,{children:[l.jsx(ir,{children:l.jsxs(ar,{className:"flex items-center gap-2",children:[l.jsx(fu,{className:"w-5 h-5"}),"Food Experience Details"]})}),l.jsx(pt,{children:l.jsx(Bl,{...v,children:l.jsxs("form",{onSubmit:v.handleSubmit(b),className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(ct,{control:v.control,name:"title",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Title"}),l.jsx(at,{children:l.jsx(Re,{placeholder:"e.g. Authentic Italian Pasta Making",..._})}),l.jsx(hs,{children:"Create a catchy title for your experience"}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"cuisine_type",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Cuisine Type"}),l.jsxs($o,{onValueChange:_.onChange,defaultValue:_.value,children:[l.jsx(at,{children:l.jsx(qs,{children:l.jsx(Fo,{placeholder:"Select a cuisine type"})})}),l.jsx(Ys,{children:C.map(P=>l.jsx(Ks,{value:P,children:P},P))})]}),l.jsx(hs,{children:"The primary cuisine style of your experience"}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"description",render:({field:_})=>l.jsxs(it,{className:"md:col-span-2",children:[l.jsx(tt,{children:"Description"}),l.jsx(at,{children:l.jsx(ku,{placeholder:"Describe your food experience in detail...",className:"min-h-32",..._})}),l.jsx(hs,{children:"Provide a detailed description of what guests can expect"}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"price_per_person",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Price Per Person"}),l.jsx(at,{children:l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:"$"}),l.jsx(Re,{type:"number",className:"pl-8",placeholder:"25",..._})]})}),l.jsx(hs,{children:"How much will you charge per guest"}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"max_guests",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Maximum Guests"}),l.jsx(at,{children:l.jsx(Re,{type:"number",placeholder:"8",..._})}),l.jsx(hs,{children:"The maximum number of guests you can accommodate"}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"duration",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Duration"}),l.jsxs($o,{onValueChange:_.onChange,defaultValue:_.value,children:[l.jsx(at,{children:l.jsx(qs,{children:l.jsx(Fo,{placeholder:"Select experience duration"})})}),l.jsx(Ys,{children:M.map(P=>l.jsx(Ks,{value:P,children:P},P))})]}),l.jsx(hs,{children:"How long will your experience last"}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"language",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Language"}),l.jsxs($o,{onValueChange:_.onChange,defaultValue:_.value,children:[l.jsx(at,{children:l.jsx(qs,{children:l.jsx(Fo,{placeholder:"Select language"})})}),l.jsx(Ys,{children:k.map(P=>l.jsx(Ks,{value:P,children:P},P))})]}),l.jsx(hs,{children:"Primary language for the experience"}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"menu_description",render:({field:_})=>l.jsxs(it,{className:"md:col-span-2",children:[l.jsx(tt,{children:"Menu Description"}),l.jsx(at,{children:l.jsx(ku,{placeholder:"Describe the menu or food items in detail...",className:"min-h-32",..._})}),l.jsx(hs,{children:"Describe the dishes or food items that will be prepared or served"}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"location_name",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Location Name"}),l.jsx(at,{children:l.jsx(Re,{placeholder:"e.g. My Home Kitchen, Downtown Restaurant",..._})}),l.jsx(hs,{children:"The name of the location where the experience will take place"}),l.jsx(ut,{})]})}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Location Details"}),l.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[l.jsxs("div",{className:"mb-4 flex items-center text-muted-foreground text-sm",children:[l.jsx(Gs,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:"Select your location directly from the map"})]}),l.jsx($O,{value:m,onChange:g,error:n?"":!m.latitude&&!m.longitude?"Please select a location":""}),m.latitude!==0&&m.longitude!==0&&l.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-md",children:[l.jsx("h4",{className:"font-medium text-sm mb-2",children:"Selected Location:"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Address:"})," ",m.address||"N/A"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Zipcode:"})," ",m.zipcode||"N/A"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"City:"})," ",m.city||"N/A"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"State:"})," ",m.state||"N/A"]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium",children:"Coordinates:"})," ",m.latitude.toFixed(6),", ",m.longitude.toFixed(6)]})]})]})]})]})]}),l.jsxs("div",{className:"mt-8",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Images"}),(f||a.length>0)&&l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[!f&&a.map(_=>l.jsxs("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200 bg-white aspect-[4/3]",children:[l.jsx("img",{src:_.preview,alt:"Food experience preview",className:"w-full h-full object-cover",loading:"lazy",style:{objectPosition:"center"}}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center",children:l.jsx("button",{onClick:()=>S(_.id),type:"button",className:"opacity-0 group-hover:opacity-100 bg-red-600 hover:bg-red-700 text-white rounded-full p-2",children:l.jsx(uS,{className:"w-5 h-5"})})}),l.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:!_.is_primary&&l.jsx("button",{onClick:()=>j(_.id),type:"button",className:"opacity-0 group-hover:opacity-100 bg-blue-500 hover:bg-blue-600 text-white text-xs font-medium px-2 py-1 rounded",children:"Set as Primary"})}),_.is_primary&&l.jsx("span",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs font-medium px-2 py-1 rounded",children:"Primary"})]},_.id)),f&&o.map(_=>l.jsxs("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200 bg-white aspect-[4/3]",children:[l.jsx("img",{src:E(_.url),alt:"Food experience",className:"w-full h-full object-cover",loading:"lazy",style:{objectPosition:"center"}}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center",children:l.jsx("button",{onClick:()=>S(_.id),type:"button",className:"opacity-0 group-hover:opacity-100 bg-red-600 hover:bg-red-700 text-white rounded-full p-2",children:l.jsx(uS,{className:"w-5 h-5"})})}),l.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:!_.is_primary&&l.jsx("button",{onClick:()=>j(_.id),type:"button",className:"opacity-0 group-hover:opacity-100 bg-blue-500 hover:bg-blue-600 text-white text-xs font-medium px-2 py-1 rounded",children:"Set as Primary"})}),_.is_primary&&l.jsx("span",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs font-medium px-2 py-1 rounded",children:"Primary"})]},_.id))]}),l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"relative w-full max-w-md",children:l.jsx("div",{className:"flex items-center justify-center w-full",children:l.jsxs("label",{htmlFor:"image-upload",className:`flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 ${d?"opacity-50 pointer-events-none":""}`,children:[l.jsx("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:d?l.jsxs(l.Fragment,{children:[l.jsx(rt,{className:"w-8 h-8 text-gray-500 mb-1 animate-spin"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Uploading images..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(w5,{className:"w-8 h-8 text-gray-500 mb-1"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload images or drag and drop"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 10MB"})]})}),l.jsx("input",{id:"image-upload",type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:w,disabled:d})]})})})}),a.length>0&&!f&&l.jsx("p",{className:"text-center text-sm text-gray-500 mt-2",children:"These images will be uploaded when you create the experience"})]}),l.jsxs("div",{className:"flex justify-end pt-6",children:[l.jsx(re,{type:"button",variant:"outline",onClick:()=>t("/host/dashboard"),className:"mr-2",children:"Cancel"}),l.jsxs(re,{type:"submit",disabled:n||d,children:[(n||d)&&l.jsx(rt,{className:"mr-2 h-4 w-4 animate-spin"}),f?"Update Experience":"Create Experience"]})]})]})})})]})]})})},_te=5,jte=1e6,Vs={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Sv=0;function Ete(){return Sv=(Sv+1)%Number.MAX_VALUE,Sv.toString()}const Cv=new Map,kte=(e,t)=>{switch(t.type){case Vs.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,_te)};case Vs.UPDATE_TOAST:return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case Vs.DISMISS_TOAST:{const{toastId:r}=t;return r?Aj(r):e.toasts.forEach(n=>{Aj(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case Vs.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Bf=[];let Uf={toasts:[]};function Vc(e){Uf=kte(Uf,e),Bf.forEach(t=>{t(Uf)})}function Aj(e){if(Cv.has(e))return;const t=setTimeout(()=>{Cv.delete(e),Vc({type:Vs.REMOVE_TOAST,toastId:e})},jte);Cv.set(e,t)}function Nte(e){const t=Ete(),r=s=>Vc({type:Vs.UPDATE_TOAST,toast:{...s,id:t}}),n=()=>Vc({type:Vs.DISMISS_TOAST,toastId:t});return Vc({type:Vs.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Ew(){const[e,t]=p.useState(Uf);return p.useEffect(()=>(Bf.push(t),()=>{const r=Bf.indexOf(t);r>-1&&Bf.splice(r,1)}),[e]),{...e,toast:Nte,dismiss:r=>Vc({type:Vs.DISMISS_TOAST,toastId:r})}}var Rj=1,Pte=.9,Mte=.8,Lte=.17,_v=.1,jv=.999,Dte=.9999,Tte=.99,Ote=/[\\\/_+.#"@\[\(\{&]/,Ate=/[\\\/_+.#"@\[\(\{&]/g,Rte=/[\s-]/,ZO=/[\s-]/g;function jx(e,t,r,n,s,o,i){if(o===t.length)return s===e.length?Rj:Tte;var a=`${s},${o}`;if(i[a]!==void 0)return i[a];for(var c=n.charAt(o),d=r.indexOf(c,s),u=0,f,h,m,g;d>=0;)f=jx(e,t,r,n,d+1,o+1,i),f>u&&(d===s?f*=Rj:Ote.test(e.charAt(d-1))?(f*=Mte,m=e.slice(s,d-1).match(Ate),m&&s>0&&(f*=Math.pow(jv,m.length))):Rte.test(e.charAt(d-1))?(f*=Pte,g=e.slice(s,d-1).match(ZO),g&&s>0&&(f*=Math.pow(jv,g.length))):(f*=Lte,s>0&&(f*=Math.pow(jv,d-s))),e.charAt(d)!==t.charAt(o)&&(f*=Dte)),(f<_v&&r.charAt(d-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(d-1)!==n.charAt(o))&&(h=jx(e,t,r,n,d+1,o+2,i),h*_v>f&&(f=h*_v)),f>u&&(u=f),d=r.indexOf(c,d+1);return i[a]=u,u}function Ij(e){return e.toLowerCase().replace(ZO," ")}function Ite(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,jx(e,t,Ij(e),Ij(t),0,0,{})}function Ya(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function $te(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function XO(...e){return t=>e.forEach(r=>$te(r,t))}function Nd(...e){return p.useCallback(XO(...e),e)}function Fte(e,t=[]){let r=[];function n(o,i){const a=p.createContext(i),c=r.length;r=[...r,i];function d(f){const{scope:h,children:m,...g}=f,v=(h==null?void 0:h[e][c])||a,b=p.useMemo(()=>g,Object.values(g));return p.createElement(v.Provider,{value:b},m)}function u(f,h){const m=(h==null?void 0:h[e][c])||a,g=p.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,Bte(s,...t)]}function Bte(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:d})=>{const f=c(o)[`__scope${d}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}const Ex=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Ute=$x.useId||(()=>{});let zte=0;function Ev(e){const[t,r]=p.useState(Ute());return Ex(()=>{e||r(n=>n??String(zte++))},[e]),e||(t?`radix-${t}`:"")}function qi(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function Wte({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Vte({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,a=qi(r),c=p.useCallback(d=>{if(o){const f=typeof d=="function"?d(e):d;f!==e&&a(f)}else s(d)},[o,e,s,a]);return[i,c]}function Vte({defaultProp:e,onChange:t}){const r=p.useState(e),[n]=r,s=p.useRef(n),o=qi(t);return p.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}const kw=p.forwardRef((e,t)=>{const{children:r,...n}=e,s=p.Children.toArray(r),o=s.find(Gte);if(o){const i=o.props.children,a=s.map(c=>c===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:c);return p.createElement(kx,xe({},n,{ref:t}),p.isValidElement(i)?p.cloneElement(i,void 0,a):null)}return p.createElement(kx,xe({},n,{ref:t}),r)});kw.displayName="Slot";const kx=p.forwardRef((e,t)=>{const{children:r,...n}=e;return p.isValidElement(r)?p.cloneElement(r,{...qte(n,r.props),ref:t?XO(t,r.ref):r.ref}):p.Children.count(r)>1?p.Children.only(null):null});kx.displayName="SlotClone";const Hte=({children:e})=>p.createElement(p.Fragment,null,e);function Gte(e){return p.isValidElement(e)&&e.type===Hte}function qte(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{o(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}const Yte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],An=Yte.reduce((e,t)=>{const r=p.forwardRef((n,s)=>{const{asChild:o,...i}=n,a=o?kw:t;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(a,xe({},i,{ref:s}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Kte(e,t){e&&Ir.flushSync(()=>e.dispatchEvent(t))}function Zte(e,t=globalThis==null?void 0:globalThis.document){const r=qi(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n),()=>t.removeEventListener("keydown",n)},[r,t])}const Nx="dismissableLayer.update",Xte="dismissableLayer.pointerDownOutside",Qte="dismissableLayer.focusOutside";let $j;const Jte=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ere=p.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...d}=e,u=p.useContext(Jte),[f,h]=p.useState(null),m=(r=f==null?void 0:f.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,g]=p.useState({}),v=Nd(t,k=>h(k)),b=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=b.indexOf(y),w=f?b.indexOf(f):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,j=w>=x,C=tre(k=>{const E=k.target,_=[...u.branches].some(P=>P.contains(E));!j||_||(o==null||o(k),a==null||a(k),k.defaultPrevented||c==null||c())},m),M=rre(k=>{const E=k.target;[...u.branches].some(P=>P.contains(E))||(i==null||i(k),a==null||a(k),k.defaultPrevented||c==null||c())},m);return Zte(k=>{w===u.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},m),p.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($j=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Fj(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=$j)}},[f,m,n,u]),p.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Fj())},[f,u]),p.useEffect(()=>{const k=()=>g({});return document.addEventListener(Nx,k),()=>document.removeEventListener(Nx,k)},[]),p.createElement(An.div,xe({},d,{ref:v,style:{pointerEvents:S?j?"auto":"none":void 0,...e.style},onFocusCapture:Ya(e.onFocusCapture,M.onFocusCapture),onBlurCapture:Ya(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ya(e.onPointerDownCapture,C.onPointerDownCapture)}))});function tre(e,t=globalThis==null?void 0:globalThis.document){const r=qi(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let d=function(){QO(Xte,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function rre(e,t=globalThis==null?void 0:globalThis.document){const r=qi(e),n=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!n.current&&QO(Qte,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Fj(){const e=new CustomEvent(Nx);document.dispatchEvent(e)}function QO(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Kte(s,o):s.dispatchEvent(o)}const kv="focusScope.autoFocusOnMount",Nv="focusScope.autoFocusOnUnmount",Bj={bubbles:!1,cancelable:!0},nre=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=p.useState(null),d=qi(s),u=qi(o),f=p.useRef(null),h=Nd(t,v=>c(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let v=function(w){if(m.paused||!a)return;const S=w.target;a.contains(S)?f.current=S:go(f.current,{select:!0})},b=function(w){if(m.paused||!a)return;const S=w.relatedTarget;S!==null&&(a.contains(S)||go(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&go(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const x=new MutationObserver(y);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),x.disconnect()}}},[n,a,m.paused]),p.useEffect(()=>{if(a){zj.add(m);const v=document.activeElement;if(!a.contains(v)){const y=new CustomEvent(kv,Bj);a.addEventListener(kv,d),a.dispatchEvent(y),y.defaultPrevented||(sre(cre(JO(a)),{select:!0}),document.activeElement===v&&go(a))}return()=>{a.removeEventListener(kv,d),setTimeout(()=>{const y=new CustomEvent(Nv,Bj);a.addEventListener(Nv,u),a.dispatchEvent(y),y.defaultPrevented||go(v??document.body,{select:!0}),a.removeEventListener(Nv,u),zj.remove(m)},0)}}},[a,d,u,m]);const g=p.useCallback(v=>{if(!r&&!n||m.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(b&&y){const x=v.currentTarget,[w,S]=ore(x);w&&S?!v.shiftKey&&y===S?(v.preventDefault(),r&&go(w,{select:!0})):v.shiftKey&&y===w&&(v.preventDefault(),r&&go(S,{select:!0})):y===x&&v.preventDefault()}},[r,n,m.paused]);return p.createElement(An.div,xe({tabIndex:-1},i,{ref:h,onKeyDown:g}))});function sre(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(go(n,{select:t}),document.activeElement!==r)return}function ore(e){const t=JO(e),r=Uj(t,e),n=Uj(t.reverse(),e);return[r,n]}function JO(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Uj(e,t){for(const r of e)if(!ire(r,{upTo:t}))return r}function ire(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function are(e){return e instanceof HTMLInputElement&&"select"in e}function go(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&are(e)&&t&&e.select()}}const zj=lre();function lre(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Wj(e,t),e.unshift(t)},remove(t){var r;e=Wj(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function Wj(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function cre(e){return e.filter(t=>t.tagName!=="A")}const ure=p.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=e;return n?Op.createPortal(p.createElement(An.div,xe({},s,{ref:t})),n):null});function dre(e,t){return p.useReducer((r,n)=>{const s=t[r][n];return s??r},e)}const Gm=e=>{const{present:t,children:r}=e,n=fre(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),o=Nd(n.ref,s.ref);return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:o}):null};Gm.displayName="Presence";function fre(e){const[t,r]=p.useState(),n=p.useRef({}),s=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[a,c]=dre(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=vf(n.current);o.current=a==="mounted"?d:"none"},[a]),Ex(()=>{const d=n.current,u=s.current;if(u!==e){const h=o.current,m=vf(d);e?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ex(()=>{if(t){const d=f=>{const m=vf(n.current).includes(f.animationName);f.target===t&&m&&Ir.flushSync(()=>c("ANIMATION_END"))},u=f=>{f.target===t&&(o.current=vf(n.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function vf(e){return(e==null?void 0:e.animationName)||"none"}let Pv=0;function hre(){p.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:Vj()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:Vj()),Pv++,()=>{Pv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Pv--}},[])}function Vj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var eA=IN(),Mv=function(){},qm=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Mv,onWheelCapture:Mv,onTouchMoveCapture:Mv}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,x=X0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=h,S=RN([r,t]),j=Cr(Cr({},x),s);return p.createElement(p.Fragment,null,u&&p.createElement(w,{sideCar:eA,removeScrollBar:d,shards:f,noIsolation:m,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:r}),i?p.cloneElement(p.Children.only(a),Cr(Cr({},j),{ref:S})):p.createElement(y,Cr({},j,{className:c,ref:S}),a))});qm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qm.classNames={fullWidth:Ac,zeroRight:Oc};var Px=!1;if(typeof window<"u")try{var yf=Object.defineProperty({},"passive",{get:function(){return Px=!0,!0}});window.addEventListener("test",yf,yf),window.removeEventListener("test",yf,yf)}catch{Px=!1}var ga=Px?{passive:!1}:!1,pre=function(e){return e.tagName==="TEXTAREA"},tA=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!pre(e)&&r[t]==="visible")},mre=function(e){return tA(e,"overflowY")},gre=function(e){return tA(e,"overflowX")},Hj=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=rA(e,r);if(n){var s=nA(e,r),o=s[1],i=s[2];if(o>i)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},vre=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},yre=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},rA=function(e,t){return e==="v"?mre(t):gre(t)},nA=function(e,t){return e==="v"?vre(t):yre(t)},xre=function(e,t){return e==="h"&&t==="rtl"?-1:1},bre=function(e,t,r,n,s){var o=xre(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,c=t.contains(a),d=!1,u=i>0,f=0,h=0;do{var m=nA(e,a),g=m[0],v=m[1],b=m[2],y=v-b-o*g;(g||y)&&rA(e,a)&&(f+=y,h+=g),a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(u&&(f===0||!s)||!u&&(h===0||!s))&&(d=!0),d},xf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Gj=function(e){return[e.deltaX,e.deltaY]},qj=function(e){return e&&"current"in e?e.current:e},wre=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Sre=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Cre=0,va=[];function _re(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(Cre++)[0],o=p.useState(function(){return Q0()})[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=AN([e.lockRef.current],(e.shards||[]).map(qj),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(v,b){if("touches"in v&&v.touches.length===2)return!i.current.allowPinchZoom;var y=xf(v),x=r.current,w="deltaX"in v?v.deltaX:x[0]-y[0],S="deltaY"in v?v.deltaY:x[1]-y[1],j,C=v.target,M=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in v&&M==="h"&&C.type==="range")return!1;var k=Hj(M,C);if(!k)return!0;if(k?j=M:(j=M==="v"?"h":"v",k=Hj(M,C)),!k)return!1;if(!n.current&&"changedTouches"in v&&(w||S)&&(n.current=j),!j)return!0;var E=n.current||j;return bre(E,b,v,E==="h"?w:S,!0)},[]),c=p.useCallback(function(v){var b=v;if(!(!va.length||va[va.length-1]!==o)){var y="deltaY"in b?Gj(b):xf(b),x=t.current.filter(function(j){return j.name===b.type&&j.target===b.target&&wre(j.delta,y)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var w=(i.current.shards||[]).map(qj).filter(Boolean).filter(function(j){return j.contains(b.target)}),S=w.length>0?a(b,w[0]):!i.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),d=p.useCallback(function(v,b,y,x){var w={name:v,delta:b,target:y,should:x};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),u=p.useCallback(function(v){r.current=xf(v),n.current=void 0},[]),f=p.useCallback(function(v){d(v.type,Gj(v),v.target,a(v,e.lockRef.current))},[]),h=p.useCallback(function(v){d(v.type,xf(v),v.target,a(v,e.lockRef.current))},[]);p.useEffect(function(){return va.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ga),document.addEventListener("touchmove",c,ga),document.addEventListener("touchstart",u,ga),function(){va=va.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,ga),document.removeEventListener("touchmove",c,ga),document.removeEventListener("touchstart",u,ga)}},[]);var m=e.removeScrollBar,g=e.inert;return p.createElement(p.Fragment,null,g?p.createElement(o,{styles:Sre(s)}):null,m?p.createElement(UN,{gapMode:"margin"}):null)}const jre=FN(eA,_re);var sA=p.forwardRef(function(e,t){return p.createElement(qm,Cr({},e,{ref:t,sideCar:jre}))});sA.classNames=qm.classNames;const oA="Dialog",[iA,Ose]=Fte(oA),[Ere,na]=iA(oA),kre=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=p.useRef(null),c=p.useRef(null),[d=!1,u]=Wte({prop:n,defaultProp:s,onChange:o});return p.createElement(Ere,{scope:t,triggerRef:a,contentRef:c,contentId:Ev(),titleId:Ev(),descriptionId:Ev(),open:d,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(f=>!f),[u]),modal:i},r)},aA="DialogPortal",[Nre,lA]=iA(aA,{forceMount:void 0}),Pre=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=na(aA,t);return p.createElement(Nre,{scope:t,forceMount:r},p.Children.map(n,i=>p.createElement(Gm,{present:r||o.open},p.createElement(ure,{asChild:!0,container:s},i))))},Mx="DialogOverlay",Mre=p.forwardRef((e,t)=>{const r=lA(Mx,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=na(Mx,e.__scopeDialog);return o.modal?p.createElement(Gm,{present:n||o.open},p.createElement(Lre,xe({},s,{ref:t}))):null}),Lre=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=na(Mx,r);return p.createElement(sA,{as:kw,allowPinchZoom:!0,shards:[s.contentRef]},p.createElement(An.div,xe({"data-state":uA(s.open)},n,{ref:t,style:{pointerEvents:"auto",...n.style}})))}),Wu="DialogContent",Dre=p.forwardRef((e,t)=>{const r=lA(Wu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=na(Wu,e.__scopeDialog);return p.createElement(Gm,{present:n||o.open},o.modal?p.createElement(Tre,xe({},s,{ref:t})):p.createElement(Ore,xe({},s,{ref:t})))}),Tre=p.forwardRef((e,t)=>{const r=na(Wu,e.__scopeDialog),n=p.useRef(null),s=Nd(t,r.contentRef,n);return p.useEffect(()=>{const o=n.current;if(o)return nd(o)},[]),p.createElement(cA,xe({},e,{ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ya(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:Ya(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Ya(e.onFocusOutside,o=>o.preventDefault())}))}),Ore=p.forwardRef((e,t)=>{const r=na(Wu,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return p.createElement(cA,xe({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,o),!o.defaultPrevented){var a;n.current||(a=r.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}n.current=!1,s.current=!1},onInteractOutside:o=>{var i,a;(i=e.onInteractOutside)===null||i===void 0||i.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=o.target;((a=r.triggerRef.current)===null||a===void 0?void 0:a.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}}))}),cA=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=na(Wu,r),c=p.useRef(null),d=Nd(t,c);return hre(),p.createElement(p.Fragment,null,p.createElement(nre,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o},p.createElement(ere,xe({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":uA(a.open)},i,{ref:d,onDismiss:()=>a.onOpenChange(!1)}))),!1)});function uA(e){return e?"open":"closed"}const Are=kre,Rre=Pre,Ire=Mre,$re=Dre;var fc='[cmdk-group=""]',Lv='[cmdk-group-items=""]',Fre='[cmdk-group-heading=""]',Nw='[cmdk-item=""]',Yj=`${Nw}:not([aria-disabled="true"])`,Lx="cmdk-item-select",_i="data-value",Bre=(e,t,r)=>Ite(e,t,r),dA=p.createContext(void 0),Pd=()=>p.useContext(dA),fA=p.createContext(void 0),Pw=()=>p.useContext(fA),hA=p.createContext(void 0),pA=p.forwardRef((e,t)=>{let r=wa(()=>{var F,z;return{search:"",value:(z=(F=e.value)!=null?F:e.defaultValue)!=null?z:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=wa(()=>new Set),s=wa(()=>new Map),o=wa(()=>new Map),i=wa(()=>new Set),a=mA(e),{label:c,children:d,value:u,onValueChange:f,filter:h,shouldFilter:m,loop:g,disablePointerSelection:v=!1,vimBindings:b=!0,...y}=e,x=p.useId(),w=p.useId(),S=p.useId(),j=p.useRef(null),C=Xre();Yi(()=>{if(u!==void 0){let F=u.trim();r.current.value=F,M.emit()}},[u]),Yi(()=>{C(6,L)},[]);let M=p.useMemo(()=>({subscribe:F=>(i.current.add(F),()=>i.current.delete(F)),snapshot:()=>r.current,setState:(F,z,W)=>{var I,q,X;if(!Object.is(r.current[F],z)){if(r.current[F]=z,F==="search")D(),_(),C(1,P);else if(F==="value"&&(W||C(5,L),((I=a.current)==null?void 0:I.value)!==void 0)){let Q=z??"";(X=(q=a.current).onValueChange)==null||X.call(q,Q);return}M.emit()}},emit:()=>{i.current.forEach(F=>F())}}),[]),k=p.useMemo(()=>({value:(F,z,W)=>{var I;z!==((I=o.current.get(F))==null?void 0:I.value)&&(o.current.set(F,{value:z,keywords:W}),r.current.filtered.items.set(F,E(z,W)),C(2,()=>{_(),M.emit()}))},item:(F,z)=>(n.current.add(F),z&&(s.current.has(z)?s.current.get(z).add(F):s.current.set(z,new Set([F]))),C(3,()=>{D(),_(),r.current.value||P(),M.emit()}),()=>{o.current.delete(F),n.current.delete(F),r.current.filtered.items.delete(F);let W=A();C(4,()=>{D(),(W==null?void 0:W.getAttribute("id"))===F&&P(),M.emit()})}),group:F=>(s.current.has(F)||s.current.set(F,new Set),()=>{o.current.delete(F),s.current.delete(F)}),filter:()=>a.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:v,listId:x,inputId:S,labelId:w,listInnerRef:j}),[]);function E(F,z){var W,I;let q=(I=(W=a.current)==null?void 0:W.filter)!=null?I:Bre;return F?q(F,r.current.search,z):0}function _(){if(!r.current.search||a.current.shouldFilter===!1)return;let F=r.current.filtered.items,z=[];r.current.filtered.groups.forEach(I=>{let q=s.current.get(I),X=0;q.forEach(Q=>{let ne=F.get(Q);X=Math.max(ne,X)}),z.push([I,X])});let W=j.current;$().sort((I,q)=>{var X,Q;let ne=I.getAttribute("id"),J=q.getAttribute("id");return((X=F.get(J))!=null?X:0)-((Q=F.get(ne))!=null?Q:0)}).forEach(I=>{let q=I.closest(Lv);q?q.appendChild(I.parentElement===q?I:I.closest(`${Lv} > *`)):W.appendChild(I.parentElement===W?I:I.closest(`${Lv} > *`))}),z.sort((I,q)=>q[1]-I[1]).forEach(I=>{let q=j.current.querySelector(`${fc}[${_i}="${encodeURIComponent(I[0])}"]`);q==null||q.parentElement.appendChild(q)})}function P(){let F=$().find(W=>W.getAttribute("aria-disabled")!=="true"),z=F==null?void 0:F.getAttribute(_i);M.setState("value",z||void 0)}function D(){var F,z,W,I;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let q=0;for(let X of n.current){let Q=(z=(F=o.current.get(X))==null?void 0:F.value)!=null?z:"",ne=(I=(W=o.current.get(X))==null?void 0:W.keywords)!=null?I:[],J=E(Q,ne);r.current.filtered.items.set(X,J),J>0&&q++}for(let[X,Q]of s.current)for(let ne of Q)if(r.current.filtered.items.get(ne)>0){r.current.filtered.groups.add(X);break}r.current.filtered.count=q}function L(){var F,z,W;let I=A();I&&(((F=I.parentElement)==null?void 0:F.firstChild)===I&&((W=(z=I.closest(fc))==null?void 0:z.querySelector(Fre))==null||W.scrollIntoView({block:"nearest"})),I.scrollIntoView({block:"nearest"}))}function A(){var F;return(F=j.current)==null?void 0:F.querySelector(`${Nw}[aria-selected="true"]`)}function $(){var F;return Array.from((F=j.current)==null?void 0:F.querySelectorAll(Yj))}function T(F){let z=$()[F];z&&M.setState("value",z.getAttribute(_i))}function N(F){var z;let W=A(),I=$(),q=I.findIndex(Q=>Q===W),X=I[q+F];(z=a.current)!=null&&z.loop&&(X=q+F<0?I[I.length-1]:q+F===I.length?I[0]:I[q+F]),X&&M.setState("value",X.getAttribute(_i))}function O(F){let z=A(),W=z==null?void 0:z.closest(fc),I;for(;W&&!I;)W=F>0?Kre(W,fc):Zre(W,fc),I=W==null?void 0:W.querySelector(Yj);I?M.setState("value",I.getAttribute(_i)):N(F)}let R=()=>T($().length-1),B=F=>{F.preventDefault(),F.metaKey?R():F.altKey?O(1):N(1)},V=F=>{F.preventDefault(),F.metaKey?T(0):F.altKey?O(-1):N(-1)};return p.createElement(An.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:F=>{var z;if((z=y.onKeyDown)==null||z.call(y,F),!F.defaultPrevented)switch(F.key){case"n":case"j":{b&&F.ctrlKey&&B(F);break}case"ArrowDown":{B(F);break}case"p":case"k":{b&&F.ctrlKey&&V(F);break}case"ArrowUp":{V(F);break}case"Home":{F.preventDefault(),T(0);break}case"End":{F.preventDefault(),R();break}case"Enter":if(!F.nativeEvent.isComposing&&F.keyCode!==229){F.preventDefault();let W=A();if(W){let I=new Event(Lx);W.dispatchEvent(I)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:Jre},c),Ym(e,F=>p.createElement(fA.Provider,{value:M},p.createElement(dA.Provider,{value:k},F))))}),Ure=p.forwardRef((e,t)=>{var r,n;let s=p.useId(),o=p.useRef(null),i=p.useContext(hA),a=Pd(),c=mA(e),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;Yi(()=>{if(!d)return a.item(s,i==null?void 0:i.id)},[d]);let u=gA(s,o,[e.value,e.children,o],e.keywords),f=Pw(),h=Ki(C=>C.value&&C.value===u.current),m=Ki(C=>d||a.filter()===!1?!0:C.search?C.filtered.items.get(s)>0:!0);p.useEffect(()=>{let C=o.current;if(!(!C||e.disabled))return C.addEventListener(Lx,g),()=>C.removeEventListener(Lx,g)},[m,e.onSelect,e.disabled]);function g(){var C,M;v(),(M=(C=c.current).onSelect)==null||M.call(C,u.current)}function v(){f.setState("value",u.current,!0)}if(!m)return null;let{disabled:b,value:y,onSelect:x,forceMount:w,keywords:S,...j}=e;return p.createElement(An.div,{ref:Vu([o,t]),...j,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!h,"data-disabled":!!b,"data-selected":!!h,onPointerMove:b||a.disablePointerSelection?void 0:v,onClick:b?void 0:g},e.children)}),zre=p.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...o}=e,i=p.useId(),a=p.useRef(null),c=p.useRef(null),d=p.useId(),u=Pd(),f=Ki(m=>s||u.filter()===!1?!0:m.search?m.filtered.groups.has(i):!0);Yi(()=>u.group(i),[]),gA(i,a,[e.value,e.heading,c]);let h=p.useMemo(()=>({id:i,forceMount:s}),[s]);return p.createElement(An.div,{ref:Vu([a,t]),...o,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&p.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),Ym(e,m=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},p.createElement(hA.Provider,{value:h},m))))}),Wre=p.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=p.useRef(null),o=Ki(i=>!i.search);return!r&&!o?null:p.createElement(An.div,{ref:Vu([s,t]),...n,"cmdk-separator":"",role:"separator"})}),Vre=p.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,o=Pw(),i=Ki(u=>u.search),a=Ki(u=>u.value),c=Pd(),d=p.useMemo(()=>{var u;let f=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${Nw}[${_i}="${encodeURIComponent(a)}"]`);return f==null?void 0:f.getAttribute("id")},[]);return p.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),p.createElement(An.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":d,id:c.inputId,type:"text",value:s?e.value:i,onChange:u=>{s||o.setState("search",u.target.value),r==null||r(u.target.value)}})}),Hre=p.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,o=p.useRef(null),i=p.useRef(null),a=Pd();return p.useEffect(()=>{if(i.current&&o.current){let c=i.current,d=o.current,u,f=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let h=c.offsetHeight;d.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return f.observe(c),()=>{cancelAnimationFrame(u),f.unobserve(c)}}},[]),p.createElement(An.div,{ref:Vu([o,t]),...s,"cmdk-list":"",role:"listbox","aria-label":n,id:a.listId},Ym(e,c=>p.createElement("div",{ref:Vu([i,a.listInnerRef]),"cmdk-list-sizer":""},c)))}),Gre=p.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:o,container:i,...a}=e;return p.createElement(Are,{open:r,onOpenChange:n},p.createElement(Rre,{container:i},p.createElement(Ire,{"cmdk-overlay":"",className:s}),p.createElement($re,{"aria-label":e.label,"cmdk-dialog":"",className:o},p.createElement(pA,{ref:t,...a}))))}),qre=p.forwardRef((e,t)=>Ki(r=>r.filtered.count===0)?p.createElement(An.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Yre=p.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...o}=e;return p.createElement(An.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Ym(e,i=>p.createElement("div",{"aria-hidden":!0},i)))}),en=Object.assign(pA,{List:Hre,Item:Ure,Input:Vre,Group:zre,Separator:Wre,Dialog:Gre,Empty:qre,Loading:Yre});function Kre(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Zre(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function mA(e){let t=p.useRef(e);return Yi(()=>{t.current=e}),t}var Yi=typeof window>"u"?p.useEffect:p.useLayoutEffect;function wa(e){let t=p.useRef();return t.current===void 0&&(t.current=e()),t}function Vu(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function Ki(e){let t=Pw(),r=()=>e(t.snapshot());return p.useSyncExternalStore(t.subscribe,r,r)}function gA(e,t,r,n=[]){let s=p.useRef(),o=Pd();return Yi(()=>{var i;let a=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():s.current}})(),c=n.map(d=>d.trim());o.value(e,a,c),(i=t.current)==null||i.setAttribute(_i,a),s.current=a}),s}var Xre=()=>{let[e,t]=p.useState(),r=wa(()=>new Map);return Yi(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function Qre(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Ym({asChild:e,children:t},r){return e&&p.isValidElement(t)?p.cloneElement(Qre(t),{ref:t.ref},r(t.props.children)):r(t)}var Jre={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const vA=p.forwardRef(({className:e,...t},r)=>l.jsx(en,{ref:r,className:me("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));vA.displayName=en.displayName;const yA=p.forwardRef(({className:e,...t},r)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(Qi,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(en.Input,{ref:r,className:me("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));yA.displayName=en.Input.displayName;const xA=p.forwardRef(({className:e,...t},r)=>l.jsx(en.List,{ref:r,className:me("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));xA.displayName=en.List.displayName;const bA=p.forwardRef((e,t)=>l.jsx(en.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));bA.displayName=en.Empty.displayName;const wA=p.forwardRef(({className:e,...t},r)=>l.jsx(en.Group,{ref:r,className:me("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));wA.displayName=en.Group.displayName;const ene=p.forwardRef(({className:e,...t},r)=>l.jsx(en.Separator,{ref:r,className:me("-mx-1 h-px bg-border",e),...t}));ene.displayName=en.Separator.displayName;const SA=p.forwardRef(({className:e,...t},r)=>l.jsx(en.Item,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));SA.displayName=en.Item.displayName;const tne=({selectedAmenities:e=[],onAmenitiesChange:t,type:r="stay"})=>{const[n,s]=p.useState(!1),[o,i]=p.useState({}),[a,c]=p.useState(""),[d,u]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const{data:g,error:v}=await Y.from("amenities").select("*").eq("type",r);if(v)throw v;const b=g.reduce((y,x)=>{const w=x.category||"Other";return y[w]||(y[w]=[]),y[w].push(x),y},{});i(b)}catch(g){console.error("Error fetching amenities:",g),i({})}})()},[r]);const f=m=>{const g=Array.isArray(e)?e:[],v=g.some(b=>b.id===m.id);t(v?g.filter(b=>b.id!==m.id):[...g,m])},h=()=>{if(a.trim()){const m={id:`new-${Date.now()}`,name:a.trim()},g=Array.isArray(e)?e:[];t([...g,m]),c(""),u(!1)}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs(gw,{open:n,onOpenChange:s,children:[l.jsx(vw,{asChild:!0,children:l.jsxs(re,{variant:"outline",role:"combobox","aria-expanded":n,className:"w-full justify-between",children:[Array.isArray(e)&&e.length>0?`${e.length} amenities selected`:"Select amenities...",l.jsx(Ty,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsxs(Fm,{className:"w-[400px] p-0",align:"start",children:[l.jsxs(vA,{children:[l.jsx(yA,{placeholder:"Search amenities..."}),l.jsxs(xA,{children:[l.jsx(bA,{children:l.jsxs("div",{className:"p-4 text-sm text-muted-foreground",children:["No amenities found.",l.jsx(re,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>u(!0),children:"Add new"})]})}),Object.entries(o).map(([m,g])=>l.jsx(wA,{heading:m,children:Array.isArray(g)&&g.map(v=>{const b=Array.isArray(e)&&e.some(y=>y.id===v.id);return l.jsx(SA,{value:v.name,onSelect:()=>f(v),children:l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsx("span",{children:v.name}),b&&l.jsx(Fp,{className:"w-4 h-4"})]})},v.id)})},m))]})]}),d&&l.jsx("div",{className:"p-4 border-t",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Re,{value:a,onChange:m=>c(m.target.value),placeholder:"Enter new amenity name",className:"flex-1"}),l.jsx(re,{size:"sm",onClick:h,children:"Add"}),l.jsx(re,{size:"sm",variant:"ghost",onClick:()=>{u(!1),c("")},children:l.jsx(hu,{className:"w-4 h-4"})})]})})]})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Array.isArray(e)&&e.map(m=>l.jsxs(or,{variant:"secondary",className:"flex items-center gap-1",children:[m.name,l.jsx(hu,{className:"w-3 h-3 cursor-pointer",onClick:()=>f(m)})]},m.id))})]})},rne=Gi({title:Rt().min(1,"Title is required"),description:Rt().min(1,"Description is required"),location_name:Rt().min(1,"Location is required"),price_per_night:ms().min(0,"Price must be positive"),max_guests:ms().min(1,"Must have at least 1 guest"),bedrooms:ms().min(1,"Must have at least 1 bedroom"),beds:ms().min(1,"Must have at least 1 bed"),bathrooms:ms().min(1,"Must have at least 1 bathroom"),images:$f(Rt()),status:RO(["draft","published"]),amenities:$f(Rt()),availability:$f(Gi({date:Rt(),is_available:Vm(),price_override:ms().optional()})),address:Rt().min(1,"Address is required"),zipcode:Rt().min(1,"Zipcode is required"),city:Rt().min(1,"City is required"),state:Rt().min(1,"State is required"),latitude:ms(),longitude:ms(),property_type:Rt().min(1,"Property type is required")}),nne=[{id:"room",label:"Private Room",description:"A private room in a home"},{id:"apartment",label:"Apartment",description:"An entire apartment"},{id:"house",label:"House",description:"An entire house"},{id:"cabin",label:"Cabin",description:"A cozy cabin retreat"},{id:"cottage",label:"Cottage",description:"A charming cottage"},{id:"guesthouse",label:"Guesthouse",description:"A separate guesthouse"}],Dv=()=>{var E;const{id:e}=Zu(),t=Tt(),{toast:r}=Ew(),{getAuthHeader:n,refreshUser:s}=Bt(),[o,i]=p.useState(!1),[a,c]=p.useState([]),[d,u]=p.useState([]),[f,h]=p.useState([]),[m,g]=p.useState({address:"",zipcode:"",city:"",state:"",latitude:0,longitude:0,displayLocation:""});p.useState(!1);const v=Fl({resolver:Ul(rne),defaultValues:{title:"",description:"",location_name:"",price_per_night:0,max_guests:1,bedrooms:1,beds:1,bathrooms:1,images:[],status:"draft",amenities:[],availability:[],address:"",zipcode:"",city:"",state:"",latitude:0,longitude:0,property_type:"house"}}),b=_=>{if(!_)return"/default-stay.jpg";if(_.startsWith("http"))return _;if(_.startsWith("stay-images/")){const{data:P}=Y.storage.from("stay-images").getPublicUrl(_.replace("stay-images/",""));return P.publicUrl}return`undefined/${_}`},y=p.useCallback(async()=>{if(!(!e||e==="new"))try{i(!0);const{data:_,error:P}=await Y.from("stays").select(`
          *,
          images:stay_images(id, image_path, is_primary, display_order)
        `).eq("id",e).single();if(P)throw P;const D=_.images.map(O=>b(O.image_path)),{data:L,error:A}=await Y.from("stay_availability").select("*").eq("stay_id",e);A&&console.error("Error fetching availability:",A);const $=L||[],T=Array.isArray(_.amenities)?_.amenities:[];if(T.length>0){const{data:O}=await Y.from("amenities").select("*").in("id",T);O&&O.length>0&&h(O)}const N={address:_.address,zipcode:_.zipcode,city:_.city,state:_.state,latitude:parseFloat(_.latitude),longitude:parseFloat(_.longitude),displayLocation:_.location_name||_.location};c(D),g(N),v.reset({title:_.title,description:_.description,location_name:_.location_name||_.location,price_per_night:parseFloat(_.price_per_night),max_guests:parseInt(_.max_guests),bedrooms:parseInt(_.bedrooms),beds:parseInt(_.beds)||parseInt(_.bedrooms),bathrooms:parseInt(_.bathrooms)||1,images:D,status:_.status,amenities:T.map(O=>typeof O=="object"?O.id.toString():O.toString()),availability:$.map(O=>({date:O.date,is_available:O.is_available,price_override:O.price})),address:_.address,zipcode:_.zipcode,city:_.city,state:_.state,latitude:parseFloat(_.latitude),longitude:parseFloat(_.longitude),property_type:_.property_type||"house"})}catch(_){console.error("Error:",_),r({title:"Error",description:"Failed to fetch stay",variant:"destructive"})}finally{i(!1)}},[e]),x=Z.useRef(!1);p.useEffect(()=>{e&&e!=="new"&&!x.current&&(y(),x.current=!0)},[e,y]),p.useEffect(()=>{(async()=>{try{const{data:P,error:D}=await Y.from("amenities").select("*").eq("type","stay");if(D)throw D;h(P)}catch(P){console.error("Error fetching amenities:",P),h([])}})()},[]);const w=p.useCallback(_=>{_.address&&(v.setValue("address",_.address),v.setValue("zipcode",_.zipcode),v.setValue("city",_.city),v.setValue("state",_.state),v.setValue("latitude",_.latitude),v.setValue("longitude",_.longitude),v.setValue("location_name",_.displayLocation))},[v]),S=p.useCallback(_=>{h(_),v.setValue("amenities",_.map(P=>P.id))},[v]),j=p.useCallback(_=>{console.log("Location selected:",_);const P={..._,displayLocation:_.displayLocation||`${_.city}, ${_.state}`};g(P),w(P)},[w]),C=async _=>{const P={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.8};try{return await mr(_,P)}catch(D){return console.error("Error compressing image:",D),_}},M=p.useCallback(async _=>{if(!_||_.length===0)return;i(!0);const P=Array.from(_).filter(D=>D.type.startsWith("image/"));if(P.length===0){r({title:"Error",description:"Please select valid image files",variant:"destructive"}),i(!1);return}try{const D=await Promise.all(P.map(async A=>await C(A))),L=v.getValues("images")||[];if(e&&e!=="new"){let A=0;for(let $=0;$<D.length;$++){const T=D[$],N=L.length===0&&$===0;try{const O=await wv(e,T,N,$);if(O){const R=b(O.image_path);L.push(R),A++}}catch(O){console.error(`Error uploading image ${T.name}:`,O)}}A>0?(c(L),v.setValue("images",L),r({title:"Success",description:A===D.length?"All images uploaded successfully":`${A} of ${D.length} images uploaded successfully`})):r({title:"Error",description:"Failed to upload any images",variant:"destructive"})}else{const A=D.map($=>URL.createObjectURL($));c($=>[...$,...A]),v.setValue("images",[...L,...A]),r({title:"Success",description:"Images added successfully"})}}catch(D){console.error("Error handling image upload:",D),r({title:"Error",description:"Failed to process images",variant:"destructive"})}finally{i(!1)}},[e,v,c]),k=async _=>{var P;if(!m.address){r({title:"Error",description:"Please select a location",variant:"destructive"});return}i(!0);try{const D={..._,address:m.address,zipcode:m.zipcode,city:m.city,state:m.state,latitude:m.latitude,longitude:m.longitude,location_name:m.displayLocation||`${m.city}, ${m.state}`,amenities:Array.isArray(_.amenities)?_.amenities:[],status:_.status},L=((P=D.images)==null?void 0:P.filter($=>typeof $=="string"&&($.startsWith("http")||$.startsWith("/uploads/"))))||[];let A=e;if(e&&e!=="new"?(await bte(e,D),r({title:"Success",description:"Stay updated successfully"})):(A=(await xte(D)).id,r({title:"Success",description:"Stay created successfully"}),await s()),A&&_.images&&_.images.length>0)try{const $=_.images.filter(T=>!(typeof T=="string"&&(T.startsWith("http")||T.startsWith("/uploads/"))));for(let T=0;T<$.length;T++){const N=$[T];try{if(!N)continue;if(typeof N=="string"&&N.includes("base64")){const O=N.split(",")[1],R=N.split(",")[0].split(":")[1].split(";")[0],B=atob(O),V=[];for(let I=0;I<B.length;I++)V.push(B.charCodeAt(I));const F=new Uint8Array(V),z=new Blob([F],{type:R}),W=new File([z],`image_${T}.jpg`,{type:R});await wv(A.toString(),W,T===0&&L.length===0,T)}else N&&typeof N=="object"&&"name"in N&&"type"in N&&await wv(A.toString(),N,T===0&&L.length===0,T)}catch(O){console.error(`Error uploading image ${T}:`,O)}}$.length>0&&r({title:"Success",description:"Images uploaded successfully"})}catch($){console.error("Error handling image uploads:",$),r({title:"Warning",description:"Stay was saved but some images failed to upload",variant:"destructive"})}t("/host/dashboard")}catch(D){console.error("Error saving stay:",D),r({title:"Error",description:D instanceof Error?D.message:"Failed to save stay",variant:"destructive"})}finally{i(!1)}};return l.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8",children:e&&e!=="new"?"Edit Stay":"Create Stay"}),l.jsx(Bl,{...v,children:l.jsxs("form",{onSubmit:v.handleSubmit(k),className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx(ct,{control:v.control,name:"title",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Title"}),l.jsx(at,{children:l.jsx(Re,{placeholder:"Cozy Beach House",..._})}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"description",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Description"}),l.jsx(at,{children:l.jsx(ku,{placeholder:"Describe your property...",className:"h-32",..._})}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"location_name",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Location Display Name"}),l.jsx(at,{children:l.jsx(Re,{placeholder:"Will be auto-filled from map selection",..._,readOnly:!0,className:"bg-gray-50"})}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"property_type",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Property Type"}),l.jsxs($o,{onValueChange:_.onChange,defaultValue:_.value,children:[l.jsx(at,{children:l.jsx(qs,{children:l.jsx(Fo,{placeholder:"Select a property type"})})}),l.jsx(Ys,{children:nne.map(P=>l.jsx(Ks,{value:P.id,children:P.label},P.id))})]}),l.jsx(ut,{})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(ct,{control:v.control,name:"price_per_night",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Price per Night"}),l.jsx(at,{children:l.jsx(Re,{type:"number",placeholder:"99.99",..._,onChange:P=>_.onChange(Number(P.target.value)),value:_.value})}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"max_guests",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Max Guests"}),l.jsx(at,{children:l.jsx(Re,{type:"number",min:"1",..._,onChange:P=>_.onChange(Number(P.target.value)),value:_.value})}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"bedrooms",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Bedrooms"}),l.jsx(at,{children:l.jsx(Re,{type:"number",min:"1",..._,onChange:P=>_.onChange(Number(P.target.value)),value:_.value})}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"beds",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Beds"}),l.jsx(at,{children:l.jsx(Re,{type:"number",min:"1",..._,onChange:P=>_.onChange(Number(P.target.value)),value:_.value})}),l.jsx(ut,{})]})}),l.jsx(ct,{control:v.control,name:"bathrooms",render:({field:_})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Bathrooms"}),l.jsx(at,{children:l.jsx(Re,{type:"number",min:"1",step:"0.5",..._,onChange:P=>_.onChange(Number(P.target.value)),value:_.value})}),l.jsx(ut,{})]})})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(Nt,{children:"Amenities"}),l.jsx(tne,{selectedAmenities:f,type:"stay",onAmenitiesChange:S})]}),l.jsx(ct,{control:v.control,name:"images",render:({field:_})=>{var P;return l.jsxs(it,{children:[l.jsx(tt,{children:"Images"}),l.jsx(at,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 cursor-pointer hover:border-primary",children:[l.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",id:"image-upload",disabled:o,onChange:D=>M(D.target.files)}),l.jsx("label",{htmlFor:"image-upload",className:"flex flex-col items-center justify-center text-sm text-gray-600 cursor-pointer",children:o?l.jsx(rt,{className:"h-10 w-10 animate-spin text-primary"}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"h-10 w-10 mb-2 text-gray-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),l.jsxs("p",{className:"text-center",children:["Drag & drop images here, or click to select",l.jsx("br",{}),l.jsx("span",{className:"text-xs text-gray-400",children:"PNG, JPG, GIF up to 10MB"})]})]})})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:(P=_.value)==null?void 0:P.map((D,L)=>l.jsxs("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200 bg-white aspect-video",children:[l.jsx("img",{src:typeof D=="string"?D:URL.createObjectURL(D),alt:`Stay image ${L+1}`,className:"w-full h-full object-cover",loading:"lazy"}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center",children:l.jsx("button",{onClick:()=>{const A=[..._.value];A.splice(L,1),_.onChange(A)},type:"button",className:"opacity-0 group-hover:opacity-100 bg-red-600 hover:bg-red-700 text-white rounded-full p-2",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},L))})]})}),l.jsx(ut,{})]})}}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(tt,{children:"Location"}),l.jsx($O,{value:m,onChange:j,error:(E=v.formState.errors.address)==null?void 0:E.message}),!m.address&&l.jsx("p",{className:"text-sm text-red-500",children:"Please select a location to publish"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Nt,{children:"Availability"}),l.jsx("div",{className:"flex space-x-4",children:l.jsxs(gw,{children:[l.jsx(vw,{asChild:!0,children:l.jsxs(re,{variant:"outline",children:[l.jsx($p,{className:"mr-2 h-4 w-4"}),"Select Dates"]})}),l.jsx(Fm,{className:"w-auto p-0",children:l.jsx(hw,{mode:"multiple",selected:d,onSelect:u,className:"rounded-md border"})})]})}),l.jsx("div",{className:"space-y-2",children:d.map(_=>l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{children:kt(_,"PPP")}),l.jsx(Re,{type:"number",placeholder:"Price override",className:"w-32",onChange:P=>{const L=[...v.getValues("availability")||[],{date:kt(_,"yyyy-MM-dd"),is_available:!0,price_override:Number(P.target.value)}];v.setValue("availability",L)}})]},_.toISOString()))})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx(re,{type:"button",variant:"outline",onClick:()=>t("/host/dashboard"),disabled:o,children:"Cancel"}),e&&e!=="new"&&l.jsx(re,{type:"button",variant:"secondary",onClick:()=>{v.setValue("status",v.getValues("status")==="published"?"draft":"published"),v.handleSubmit(k)()},disabled:o||!m.address,className:"bg-green-600 text-white hover:bg-green-700",children:o?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rt,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):v.getValues("status")==="published"?"Unpublish":"Publish"}),l.jsx(re,{type:"submit",disabled:o||!m.address,className:"bg-primary hover:bg-primary/90",children:o?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rt,{className:"w-4 h-4 animate-spin"}),e&&e!=="new"?"Saving Changes...":"Creating Stay..."]}):e&&e!=="new"?"Save Changes":"Create Stay"})]})]})}),!1]})};var CA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Kj=Z.createContext&&Z.createContext(CA),sne=["attr","size","title"];function one(e,t){if(e==null)return{};var r=ine(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ine(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(this,arguments)}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){ane(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ane(e,t,r){return t=lne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lne(e){var t=cne(e,"string");return typeof t=="symbol"?t:t+""}function cne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _A(e){return e&&e.map((t,r)=>Z.createElement(t.tag,gp({key:r},t.attr),_A(t.child)))}function une(e){return t=>Z.createElement(dne,mp({attr:gp({},e.attr)},t),_A(e.child))}function dne(e){var t=r=>{var{attr:n,size:s,title:o}=e,i=one(e,sne),a=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),Z.createElement("svg",mp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:gp(gp({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&Z.createElement("title",null,o),e.children)};return Kj!==void 0?Z.createElement(Kj.Consumer,null,r=>t(r)):t(CA)}function fne(e){return une({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}const jA=({redirectTo:e=`${window.location.origin}/auth/callback`,className:t=""})=>{const[r,n]=p.useState(!1),s=async()=>{try{n(!0);const{data:o,error:i}=await Y.auth.signInWithOAuth({provider:"google",options:{redirectTo:e,queryParams:{access_type:"offline",prompt:"consent"}}});if(i)throw i;console.log("Redirecting to Google auth...",o)}catch(o){console.error("Error during Google sign-in:",o),je.error(o.message||"Failed to sign in with Google")}finally{n(!1)}};return l.jsxs(re,{variant:"outline",type:"button",disabled:r,className:`w-full flex items-center justify-center gap-2 ${t}`,onClick:s,children:[r?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-current"}):l.jsx(fne,{className:"h-5 w-5"}),l.jsx("span",{children:"Continue with Google"})]})},hne=Gi({email:Rt().email("Please enter a valid email address"),password:Rt().min(6,"Password must be at least 6 characters")}),pne=()=>{const e=Tt(),{loginWithEmail:t}=Bt(),{toast:r}=Ew(),[n,s]=p.useState(!1),o=Fl({resolver:Ul(hne),defaultValues:{email:"",password:""}}),i=async a=>{a.preventDefault(),s(!0);const c=new FormData(a.currentTarget),d=c.get("email"),u=c.get("password");try{await t(d,u),r({title:"Welcome back!",description:"You have successfully logged in."}),e("/")}catch(f){r({title:"Error",description:f instanceof Error?f.message:"Failed to login",variant:"destructive"})}finally{s(!1)}};return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-100 rounded-lg shadow-md",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx(ot,{to:"/",className:"flex items-center justify-center mb-8",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-terracotta-600 flex items-center justify-center text-white font-bold text-xl",children:"P25"})}),l.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"Welcome back"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",l.jsx(ot,{to:"/signup",className:"font-medium text-primary hover:text-primary/90",children:"Sign up"})]})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:l.jsx(jA,{})}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-gray-100 text-muted-foreground",children:"Or continue with email"})})]}),l.jsx(Bl,{...o,children:l.jsxs("form",{onSubmit:i,className:"space-y-4",children:[l.jsx(ct,{control:o.control,name:"email",render:({field:a})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Email"}),l.jsx(at,{children:l.jsx(Re,{type:"email",placeholder:"Enter your email",...a})}),l.jsx(ut,{})]})}),l.jsx(ct,{control:o.control,name:"password",render:({field:a})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Password"}),l.jsx(at,{children:l.jsx(Re,{type:"password",placeholder:"Enter your password",...a})}),l.jsx(ut,{})]})}),l.jsx("div",{className:"flex items-center justify-end",children:l.jsx(ot,{to:"/forgot-password",className:"text-sm font-medium text-primary hover:text-primary/90",children:"Forgot password?"})}),l.jsx(re,{type:"submit",className:"w-full bg-gradient-to-r from-amber-500 to-terracotta-600 text-white",disabled:n,children:n?l.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}):"Sign in"})]})})]})})]})})};var Mw="Checkbox",[mne,Ase]=yn(Mw),[gne,vne]=mne(Mw),EA=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,m]=p.useState(null),g=Be(t,S=>m(S)),v=p.useRef(!1),b=h?u||!!h.closest("form"):!0,[y=!1,x]=mn({prop:s,defaultProp:o,onChange:d}),w=p.useRef(y);return p.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const j=()=>x(w.current);return S.addEventListener("reset",j),()=>S.removeEventListener("reset",j)}},[h,x]),l.jsxs(gne,{scope:r,state:y,disabled:a,children:[l.jsx(be.button,{type:"button",role:"checkbox","aria-checked":Wo(y)?"mixed":y,"aria-required":i,"data-state":PA(y),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:g,onKeyDown:de(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:de(e.onClick,S=>{x(j=>Wo(j)?!0:!j),b&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),b&&l.jsx(yne,{control:h,bubbles:!v.current,name:n,value:c,checked:y,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Wo(o)?!1:o})]})});EA.displayName=Mw;var kA="CheckboxIndicator",NA=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=vne(kA,r);return l.jsx(dr,{present:n||Wo(o.state)||o.state===!0,children:l.jsx(be.span,{"data-state":PA(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});NA.displayName=kA;var yne=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...o}=e,i=p.useRef(null),a=bb(r),c=Y0(t);p.useEffect(()=>{const u=i.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(a!==r&&m){const g=new Event("click",{bubbles:n});u.indeterminate=Wo(r),m.call(u,Wo(r)?!1:r),u.dispatchEvent(g)}},[a,r,n]);const d=p.useRef(Wo(r)?!1:r);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Wo(e){return e==="indeterminate"}function PA(e){return Wo(e)?"indeterminate":e?"checked":"unchecked"}var MA=EA,xne=NA;const LA=p.forwardRef(({className:e,...t},r)=>l.jsx(MA,{ref:r,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(xne,{className:me("flex items-center justify-center text-current"),children:l.jsx(Fp,{className:"h-4 w-4"})})}));LA.displayName=MA.displayName;const bne=Gi({firstName:Rt().min(2,"First name must be at least 2 characters"),lastName:Rt().min(2,"Last name must be at least 2 characters"),email:Rt().email("Please enter a valid email address"),password:Rt().min(8,"Password must be at least 8 characters"),acceptTerms:Vm().refine(e=>e===!0,{message:"You must accept the terms and conditions"})}),wne=()=>{const e=Tt(),{register:t}=Bt(),{toast:r}=Ew(),[n,s]=p.useState(!1),o=Fl({resolver:Ul(bne),defaultValues:{firstName:"",lastName:"",email:"",password:"",acceptTerms:!1}}),i=async a=>{s(!0);try{const c=`${a.firstName} ${a.lastName}`.trim();await t(c,a.email,a.password),r({title:"Welcome!",description:"Your account has been created successfully."}),e("/")}catch(c){r({title:"Error",description:c instanceof Error?c.message:"Failed to register",variant:"destructive"})}finally{s(!1)}};return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-100 rounded-lg shadow-md",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx(ot,{to:"/",className:"flex items-center justify-center mb-8",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-terracotta-600 flex items-center justify-center text-white font-bold text-xl",children:"25"})}),l.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",l.jsx(ot,{to:"/login",className:"font-medium text-primary hover:text-primary/90",children:"Sign in"})]})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:l.jsx(jA,{})}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-gray-100 text-muted-foreground",children:"Or sign up with email"})})]}),l.jsx(Bl,{...o,children:l.jsxs("form",{onSubmit:o.handleSubmit(i),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(ct,{control:o.control,name:"firstName",render:({field:a})=>l.jsxs(it,{children:[l.jsx(tt,{children:"First name"}),l.jsx(at,{children:l.jsx(Re,{placeholder:"John",...a})}),l.jsx(ut,{})]})}),l.jsx(ct,{control:o.control,name:"lastName",render:({field:a})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Last name"}),l.jsx(at,{children:l.jsx(Re,{placeholder:"Doe",...a})}),l.jsx(ut,{})]})})]}),l.jsx(ct,{control:o.control,name:"email",render:({field:a})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Email"}),l.jsx(at,{children:l.jsx(Re,{type:"email",placeholder:"john.doe@example.com",...a})}),l.jsx(ut,{})]})}),l.jsx(ct,{control:o.control,name:"password",render:({field:a})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Password"}),l.jsx(at,{children:l.jsx(Re,{type:"password",placeholder:"Create a password",...a})}),l.jsx(ut,{})]})}),l.jsx(ct,{control:o.control,name:"acceptTerms",render:({field:a})=>l.jsxs(it,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l.jsx(at,{children:l.jsx(LA,{checked:a.value,onCheckedChange:a.onChange})}),l.jsx("div",{className:"space-y-1 leading-none",children:l.jsxs(tt,{children:["I accept the"," ",l.jsx(ot,{to:"/terms",className:"text-primary hover:text-primary/90",children:"terms and conditions"})]})})]})}),l.jsxs(re,{type:"submit",className:"w-full bg-gradient-to-r from-amber-500 to-terracotta-600 text-white",disabled:n,children:[n&&l.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Account"]})]})})]})})]})})},Sne=Gi({email:Rt().email("Please enter a valid email address")}),Cne=()=>{const{resetPassword:e}=Bt(),[t,r]=p.useState(!1),[n,s]=p.useState(!1),[o,i]=p.useState(null),a=Fl({resolver:Ul(Sne),defaultValues:{email:""}}),c=async d=>{r(!0),i(null);try{await e(d.email),s(!0)}catch(u){i(u.message||"Something went wrong. Please try again later.")}finally{r(!1)}};return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-100 rounded-lg shadow-md",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx(ot,{to:"/",className:"flex items-center justify-center mb-8",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-terracotta-600 flex items-center justify-center text-white font-bold text-xl",children:"P25"})}),l.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"Forgot Password"}),l.jsx("p",{className:"mt-2 text-center text-sm text-muted-foreground",children:"Enter your email and we'll send you a link to reset your password"})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n?l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ns,{className:"bg-green-50 border-green-500",children:[l.jsx(M2,{className:"h-4 w-4 text-green-600"}),l.jsx(Nu,{children:"Email Sent"}),l.jsx(ss,{children:"If an account exists with this email, you will receive a password reset link shortly."})]}),l.jsx("div",{className:"flex flex-col space-y-4",children:l.jsx(ot,{to:"/login",children:l.jsxs(re,{variant:"outline",className:"w-full flex items-center justify-center",children:[l.jsx(uu,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})})]}):l.jsxs("div",{className:"space-y-6",children:[o&&l.jsxs(ns,{variant:"destructive",children:[l.jsx(O0,{className:"h-4 w-4"}),l.jsx(Nu,{children:"Error"}),l.jsx(ss,{children:o})]}),l.jsx(Bl,{...a,children:l.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-4",children:[l.jsx(ct,{control:a.control,name:"email",render:({field:d})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Email"}),l.jsx(at,{children:l.jsx(Re,{type:"email",placeholder:"Enter your email",...d})}),l.jsx(ut,{})]})}),l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsx(re,{type:"submit",className:"w-full bg-gradient-to-r from-amber-500 to-terracotta-600 text-white",disabled:t,children:t?l.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}):"Send Reset Link"}),l.jsx(ot,{to:"/login",children:l.jsxs(re,{variant:"outline",className:"w-full flex items-center justify-center",type:"button",children:[l.jsx(uu,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})]})})]})})]})})},_ne=Gi({password:Rt().min(8,"Password must be at least 8 characters"),confirmPassword:Rt()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),jne=()=>{const{updatePassword:e}=Bt(),t=Tt(),[r,n]=p.useState(!1),[s,o]=p.useState(!1),[i,a]=p.useState(null),[c,d]=p.useState(!1),u=Fl({resolver:Ul(_ne),defaultValues:{password:"",confirmPassword:""}});p.useEffect(()=>{(async()=>{try{const{data:m,error:g}=await Y.auth.getSession();if(g)throw g;m!=null&&m.session?d(!0):a("Invalid or expired password reset link. Please try again.")}catch(m){console.error("Error checking session:",m),a("Something went wrong. Please try requesting a new password reset link.")}})()},[]);const f=async h=>{n(!0),a(null);try{await e(h.password),o(!0),setTimeout(()=>{t("/login")},3e3)}catch(m){a(m.message||"Something went wrong. Please try again later.")}finally{n(!1)}};return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-100 rounded-lg shadow-md",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx(ot,{to:"/",className:"flex items-center justify-center mb-8",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-terracotta-600 flex items-center justify-center text-white font-bold text-xl",children:"P25"})}),l.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"Reset Password"}),l.jsx("p",{className:"mt-2 text-center text-sm text-muted-foreground",children:"Enter your new password below"})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s?l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ns,{className:"bg-green-50 border-green-500",children:[l.jsx(M2,{className:"h-4 w-4 text-green-600"}),l.jsx(Nu,{children:"Password updated!"}),l.jsx(ss,{children:"Your password has been successfully updated. You will be redirected to the login page shortly."})]}),l.jsx("div",{className:"flex flex-col space-y-4",children:l.jsx(ot,{to:"/login",children:l.jsxs(re,{variant:"outline",className:"w-full flex items-center justify-center",children:[l.jsx(uu,{className:"w-4 h-4 mr-2"}),"Go to Login"]})})})]}):l.jsxs("div",{className:"space-y-6",children:[i&&l.jsxs(ns,{variant:"destructive",children:[l.jsx(O0,{className:"h-4 w-4"}),l.jsx(Nu,{children:"Error"}),l.jsx(ss,{children:i})]}),c?l.jsx(Bl,{...u,children:l.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-4",children:[l.jsx(ct,{control:u.control,name:"password",render:({field:h})=>l.jsxs(it,{children:[l.jsx(tt,{children:"New Password"}),l.jsx(at,{children:l.jsx(Re,{type:"password",placeholder:"Enter your new password",...h})}),l.jsx(ut,{})]})}),l.jsx(ct,{control:u.control,name:"confirmPassword",render:({field:h})=>l.jsxs(it,{children:[l.jsx(tt,{children:"Confirm Password"}),l.jsx(at,{children:l.jsx(Re,{type:"password",placeholder:"Confirm your new password",...h})}),l.jsx(ut,{})]})}),l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsx(re,{type:"submit",className:"w-full bg-gradient-to-r from-amber-500 to-terracotta-600 text-white",disabled:r,children:r?l.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}):"Reset Password"}),l.jsx(ot,{to:"/login",children:l.jsxs(re,{variant:"outline",className:"w-full flex items-center justify-center",type:"button",children:[l.jsx(uu,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})]})}):l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"The password reset link is invalid or has expired. Please request a new one."}),l.jsx(ot,{to:"/forgot-password",children:l.jsx(re,{className:"w-full bg-gradient-to-r from-amber-500 to-terracotta-600 text-white",children:"Request New Link"})})]})]})})]})})},Ene=()=>{const e=Tt(),[t,r]=p.useState(null);return p.useEffect(()=>{(async()=>{let o=new URLSearchParams(window.location.search).get("error_description");if(o){r(o),je.error(o);return}try{const{data:i,error:a}=await Y.auth.getSession();if(a)throw a;i!=null&&i.session?(je.success("Successfully signed in!"),e("/")):e("/login")}catch(i){console.error("Authentication error:",i),r(i.message||"An error occurred during authentication"),je.error(i.message||"Authentication failed"),setTimeout(()=>{e("/login")},2e3)}})()},[e]),t?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200 max-w-md",children:[l.jsx("h1",{className:"text-xl font-semibold text-red-600 mb-2",children:"Authentication Error"}),l.jsx("p",{className:"text-red-700",children:t}),l.jsx("button",{className:"mt-4 px-4 py-2 bg-red-100 text-red-800 rounded hover:bg-red-200 transition-colors",onClick:()=>e("/login"),children:"Back to Login"})]})}):l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Completing authentication..."})]})};var Lw="Collapsible",[kne,DA]=yn(Lw),[Nne,Dw]=kne(Lw),TA=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:o,onOpenChange:i,...a}=e,[c=!1,d]=mn({prop:n,defaultProp:s,onChange:i});return l.jsx(Nne,{scope:r,disabled:o,contentId:Xr(),open:c,onOpenToggle:p.useCallback(()=>d(u=>!u),[d]),children:l.jsx(be.div,{"data-state":Rw(c),"data-disabled":o?"":void 0,...a,ref:t})})});TA.displayName=Lw;var OA="CollapsibleTrigger",Tw=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=Dw(OA,r);return l.jsx(be.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Rw(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:de(e.onClick,s.onOpenToggle)})});Tw.displayName=OA;var Ow="CollapsibleContent",Aw=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Dw(Ow,e.__scopeCollapsible);return l.jsx(dr,{present:r||s.open,children:({present:o})=>l.jsx(Pne,{...n,ref:t,present:o})})});Aw.displayName=Ow;var Pne=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...o}=e,i=Dw(Ow,r),[a,c]=p.useState(n),d=p.useRef(null),u=Be(t,d),f=p.useRef(0),h=f.current,m=p.useRef(0),g=m.current,v=i.open||a,b=p.useRef(v),y=p.useRef();return p.useEffect(()=>{const x=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(x)},[]),er(()=>{const x=d.current;if(x){y.current=y.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const w=x.getBoundingClientRect();f.current=w.height,m.current=w.width,b.current||(x.style.transitionDuration=y.current.transitionDuration,x.style.animationName=y.current.animationName),c(n)}},[i.open,n]),l.jsx(be.div,{"data-state":Rw(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!v,...o,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:v&&s})});function Rw(e){return e?"open":"closed"}var AA=TA,Mne=Tw,Lne=Aw,oo="Accordion",Dne=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Iw,Tne,One]=Yp(oo),[Km,Rse]=yn(oo,[One,DA]),$w=DA(),RA=Z.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,o=n;return l.jsx(Iw.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?l.jsx($ne,{...o,ref:t}):l.jsx(Ine,{...s,ref:t})})});RA.displayName=oo;var[IA,Ane]=Km(oo),[$A,Rne]=Km(oo,{collapsible:!1}),Ine=Z.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:o=!1,...i}=e,[a,c]=mn({prop:r,defaultProp:n,onChange:s});return l.jsx(IA,{scope:e.__scopeAccordion,value:a?[a]:[],onItemOpen:c,onItemClose:Z.useCallback(()=>o&&c(""),[o,c]),children:l.jsx($A,{scope:e.__scopeAccordion,collapsible:o,children:l.jsx(FA,{...i,ref:t})})})}),$ne=Z.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=e,[i=[],a]=mn({prop:r,defaultProp:n,onChange:s}),c=Z.useCallback(u=>a((f=[])=>[...f,u]),[a]),d=Z.useCallback(u=>a((f=[])=>f.filter(h=>h!==u)),[a]);return l.jsx(IA,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:d,children:l.jsx($A,{scope:e.__scopeAccordion,collapsible:!0,children:l.jsx(FA,{...o,ref:t})})})}),[Fne,Zm]=Km(oo),FA=Z.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:o="vertical",...i}=e,a=Z.useRef(null),c=Be(a,t),d=Tne(r),f=Nl(s)==="ltr",h=de(e.onKeyDown,m=>{var k;if(!Dne.includes(m.key))return;const g=m.target,v=d().filter(E=>{var _;return!((_=E.ref.current)!=null&&_.disabled)}),b=v.findIndex(E=>E.ref.current===g),y=v.length;if(b===-1)return;m.preventDefault();let x=b;const w=0,S=y-1,j=()=>{x=b+1,x>S&&(x=w)},C=()=>{x=b-1,x<w&&(x=S)};switch(m.key){case"Home":x=w;break;case"End":x=S;break;case"ArrowRight":o==="horizontal"&&(f?j():C());break;case"ArrowDown":o==="vertical"&&j();break;case"ArrowLeft":o==="horizontal"&&(f?C():j());break;case"ArrowUp":o==="vertical"&&C();break}const M=x%y;(k=v[M].ref.current)==null||k.focus()});return l.jsx(Fne,{scope:r,disabled:n,direction:s,orientation:o,children:l.jsx(Iw.Slot,{scope:r,children:l.jsx(be.div,{...i,"data-orientation":o,ref:c,onKeyDown:n?void 0:h})})})}),vp="AccordionItem",[Bne,Fw]=Km(vp),BA=Z.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,o=Zm(vp,r),i=Ane(vp,r),a=$w(r),c=Xr(),d=n&&i.value.includes(n)||!1,u=o.disabled||e.disabled;return l.jsx(Bne,{scope:r,open:d,disabled:u,triggerId:c,children:l.jsx(AA,{"data-orientation":o.orientation,"data-state":GA(d),...a,...s,ref:t,disabled:u,open:d,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});BA.displayName=vp;var UA="AccordionHeader",zA=Z.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Zm(oo,r),o=Fw(UA,r);return l.jsx(be.h3,{"data-orientation":s.orientation,"data-state":GA(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:t})});zA.displayName=UA;var Dx="AccordionTrigger",WA=Z.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Zm(oo,r),o=Fw(Dx,r),i=Rne(Dx,r),a=$w(r);return l.jsx(Iw.ItemSlot,{scope:r,children:l.jsx(Mne,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...a,...n,ref:t})})});WA.displayName=Dx;var VA="AccordionContent",HA=Z.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Zm(oo,r),o=Fw(VA,r),i=$w(r);return l.jsx(Lne,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});HA.displayName=VA;function GA(e){return e?"open":"closed"}var Une=RA,zne=BA,Wne=zA,qA=WA,YA=HA;const Vne=Une,zf=p.forwardRef(({className:e,...t},r)=>l.jsx(zne,{ref:r,className:me("border-b",e),...t}));zf.displayName="AccordionItem";const Wf=p.forwardRef(({className:e,children:t,...r},n)=>l.jsx(Wne,{className:"flex",children:l.jsxs(qA,{ref:n,className:me("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,l.jsx(Bp,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Wf.displayName=qA.displayName;const Vf=p.forwardRef(({className:e,children:t,...r},n)=>l.jsx(YA,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:l.jsx("div",{className:me("pb-4 pt-0",e),children:t})}));Vf.displayName=YA.displayName;const Hne=()=>l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-5xl",children:[l.jsxs("div",{className:"space-y-2 text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Terms of Service"}),l.jsxs("p",{className:"text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]})]}),l.jsxs(ns,{className:"mb-8",children:[l.jsx(D2,{className:"h-4 w-4 mr-2"}),l.jsx(ss,{children:"Please read these terms carefully before using our platform. By accessing or using our services, you agree to be bound by these terms and our Privacy Policy."})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),l.jsx(mt,{className:"mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Welcome to Platform 2025. These Terms of Service govern your access to and use of our platform, including our website, applications, and other services. By using our platform, you agree to these terms."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Account Registration"}),l.jsx(mt,{className:"mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"To access certain features of our platform, you may need to register for an account. You must provide accurate and complete information when creating an account and keep your account information updated. You are responsible for safeguarding your account credentials and for all activities that occur under your account."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. User Conduct"}),l.jsx(mt,{className:"mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"You agree to use our platform only for lawful purposes and in accordance with these Terms. You agree not to engage in any activity that interferes with or disrupts our platform or services."}),l.jsxs("div",{className:"pl-4 border-l-2 border-muted mt-4",children:[l.jsx("p",{className:"text-muted-foreground mb-2",children:"You specifically agree not to:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground",children:[l.jsx("li",{children:"Use our platform in any way that violates any applicable law or regulation"}),l.jsx("li",{children:"Impersonate any person or entity, or falsely state or misrepresent your affiliation with a person or entity"}),l.jsx("li",{children:"Engage in any conduct that restricts or inhibits anyone's use or enjoyment of our platform"}),l.jsx("li",{children:"Attempt to gain unauthorized access to our platform, user accounts, or computer systems"}),l.jsx("li",{children:"Use our platform to transmit any malware, viruses, or other malicious code"})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Intellectual Property"}),l.jsx(mt,{className:"mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Our platform and its original content, features, and functionality are owned by Platform 2025 and are protected by international copyright, trademark, patent, trade secret, and other intellectual property laws."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Common Questions"}),l.jsx(mt,{className:"mb-4"}),l.jsxs(Vne,{type:"single",collapsible:!0,className:"w-full",children:[l.jsxs(zf,{value:"item-1",children:[l.jsx(Wf,{children:"Can I cancel my subscription?"}),l.jsx(Vf,{children:"Yes, you can cancel your subscription at any time through your account settings. Refunds are provided in accordance with our refund policy."})]}),l.jsxs(zf,{value:"item-2",children:[l.jsx(Wf,{children:"How do I delete my account?"}),l.jsx(Vf,{children:'You can request account deletion by going to your account settings and selecting "Delete Account". Please note that some information may be retained as required by law.'})]}),l.jsxs(zf,{value:"item-3",children:[l.jsx(Wf,{children:"How do you handle disputes?"}),l.jsx(Vf,{children:"Any disputes arising from these terms or your use of our platform will be resolved through binding arbitration in accordance with the rules of the American Arbitration Association."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Changes to Terms"}),l.jsx(mt,{className:"mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:'We may modify these terms at any time. We will provide notice of any material changes by posting the updated terms on our platform and updating the "Last updated" date. Your continued use of our platform after any such changes constitutes your acceptance of the new terms.'})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Contact Us"}),l.jsx(mt,{className:"mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"If you have any questions about these Terms, please contact us at legal@platform2025.com."})]})]})]})}),Gne=()=>l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-5xl",children:[l.jsxs("div",{className:"space-y-2 text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Privacy Policy"}),l.jsxs("p",{className:"text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]})]}),l.jsx(Oe,{className:"mb-8",children:l.jsxs(pt,{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Overview"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Your privacy is important to us. This policy outlines what data we collect, how we use it, and the control you have over your information."})]})}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Information We Collect"}),l.jsx(mt,{className:"mb-4"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium mb-2",children:"Personal Information"}),l.jsx("p",{className:"text-muted-foreground",children:"We collect information that you provide directly to us, such as when you create an account, update your profile, use interactive features, or contact support. This may include your name, email, profile picture, and demographic information."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium mb-2",children:"Usage Information"}),l.jsx("p",{className:"text-muted-foreground",children:"We collect information about your usage of our platform, including pages visited, features used, and interactions with content and other users."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium mb-2",children:"Device Information"}),l.jsx("p",{className:"text-muted-foreground",children:"We collect information about the devices you use to access our services, including hardware models, operating systems, unique device identifiers, and mobile network information."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"How We Use Your Information"}),l.jsx(mt,{className:"mb-4"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium mb-2",children:"Providing and Improving Services"}),l.jsx("p",{className:"text-muted-foreground",children:"We use your information to deliver, maintain, and improve our platform and services, develop new features, and provide customer support."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium mb-2",children:"Personalization"}),l.jsx("p",{className:"text-muted-foreground",children:"We use your information to personalize your experience, including recommending content that may be of interest to you."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium mb-2",children:"Communication"}),l.jsx("p",{className:"text-muted-foreground",children:"We use your information to communicate with you about our services, respond to your inquiries, and send you updates and promotional messages."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Rights and Choices"}),l.jsx(mt,{className:"mb-4"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium mb-2",children:"Access and Update"}),l.jsx("p",{className:"text-muted-foreground",children:"You can access and update certain information about yourself from within your account settings."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium mb-2",children:"Data Deletion"}),l.jsx("p",{className:"text-muted-foreground",children:"You can request deletion of your personal information by contacting us. We will respond to your request within a reasonable timeframe."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium mb-2",children:"Communication Preferences"}),l.jsx("p",{className:"text-muted-foreground",children:"You can opt out of receiving promotional emails by following the instructions in those emails or by adjusting your notification settings."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Contact Us"}),l.jsx(mt,{className:"mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"If you have any questions or concerns about our Privacy Policy, please contact us at privacy@platform2025.com."})]})]})]})}),qne=AA,Yne=Tw,Kne=Aw,Zne=()=>{const[e,t]=p.useState(""),r=[{icon:l.jsx(L2,{className:"h-6 w-6 text-primary"}),title:"Account",description:"Managing your profile and account settings",faqs:[{question:"How do I change my password?",answer:"Go to Settings > Security, then click on 'Change Password'. You'll need to enter your current password and your new password."},{question:"How do I update my profile information?",answer:"Navigate to your profile page, click the 'Edit Profile' button, make your changes, and click 'Save'."},{question:"Can I change my username?",answer:"Yes, you can change your username once every 30 days. Go to Settings > Account, then update your username and click 'Save'."}]},{icon:l.jsx(S5,{className:"h-6 w-6 text-primary"}),title:"Billing",description:"Subscription, payments, and invoices",faqs:[{question:"How do I update my payment method?",answer:"Go to Settings > Billing, click on 'Payment Methods', then 'Add New Method' or edit an existing one."},{question:"Can I get a refund?",answer:"Refunds are processed according to our refund policy. For subscription cancellations within 14 days, contact our support team."},{question:"Where can I find my invoices?",answer:"All your invoices can be found under Settings > Billing > Invoice History."}]},{icon:l.jsx($5,{className:"h-6 w-6 text-primary"}),title:"Features",description:"How to use platform features",faqs:[{question:"How do I create a new project?",answer:"From your dashboard, click 'New Project', fill in the project details, and click 'Create'."},{question:"Can I collaborate with others?",answer:"Yes! Go to your project, click 'Share', enter the email addresses of your collaborators, select their permissions, and click 'Invite'."},{question:"How do I export my data?",answer:"Navigate to Settings > Data, click on 'Export Data', select the data you want to export, and click 'Download'."}]},{icon:l.jsx(k5,{className:"h-6 w-6 text-primary"}),title:"Policies",description:"Terms, privacy, and guidelines",faqs:[{question:"What is your privacy policy?",answer:"Our privacy policy details how we collect, use, and protect your data. You can view it in full on our Privacy page."},{question:"What are the community guidelines?",answer:"Our community guidelines outline acceptable behavior on our platform. They help ensure a positive experience for all users."},{question:"How do you handle copyright claims?",answer:"We take copyright seriously. If you believe your work has been used without permission, please submit a copyright claim through our support portal."}]},{icon:l.jsx(L5,{className:"h-6 w-6 text-primary"}),title:"Troubleshooting",description:"Common issues and solutions",faqs:[{question:"The app is running slowly. What can I do?",answer:"Try clearing your browser cache, ensure you're using a supported browser, and check your internet connection. If problems persist, contact support."},{question:"I can't log in to my account",answer:"Try resetting your password, ensure you're using the correct email address, and check if your account is verified. If you're still having trouble, contact support."},{question:"How do I report a bug?",answer:"Go to Settings > Help > Report a Bug, describe the issue in detail, include any relevant screenshots, and submit the report."}]},{icon:l.jsx(rl,{className:"h-6 w-6 text-primary"}),title:"Contact Support",description:"Get help from our support team",faqs:[{question:"What are your support hours?",answer:"Our support team is available 24/7 to assist you with any questions or issues you may have."},{question:"What's the typical response time?",answer:"We aim to respond to all inquiries within 24 hours, but often respond much faster."},{question:"How do I contact support?",answer:"You can contact our support team through the chat widget in the bottom right corner, by emailing support@platform2025.com, or by submitting a ticket through the support portal."}]}],n=e?r.map(s=>({...s,faqs:s.faqs.filter(o=>o.question.toLowerCase().includes(e.toLowerCase())||o.answer.toLowerCase().includes(e.toLowerCase()))})).filter(s=>s.faqs.length>0):r;return l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-6xl",children:[l.jsxs("div",{className:"space-y-2 text-center mb-12",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(x5,{className:"h-12 w-12 text-primary"})}),l.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Help Center"}),l.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Find answers to common questions and learn how to get the most out of our platform."})]}),l.jsxs("div",{className:"relative max-w-lg mx-auto mb-12",children:[l.jsx(Qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Re,{type:"text",placeholder:"Search for help topics...",className:"pl-10",value:e,onChange:s=>t(s.target.value)}),e&&l.jsx(re,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>t(""),children:"×"})]}),l.jsxs(ra,{defaultValue:"categories",className:"mb-12",children:[l.jsxs(fi,{className:"mx-auto w-fit mb-8",children:[l.jsx(xt,{value:"categories",children:"Help Categories"}),l.jsx(xt,{value:"popular",children:"Popular Questions"}),l.jsx(xt,{value:"contact",children:"Contact Us"})]}),l.jsx(bt,{value:"categories",children:l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((s,o)=>l.jsxs(Oe,{className:"flex flex-col",children:[l.jsxs(ir,{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.icon,l.jsx(ar,{children:s.title})]}),l.jsx(ys,{children:s.description})]}),l.jsx(pt,{className:"flex-grow",children:l.jsx("div",{className:"space-y-4",children:s.faqs.slice(0,3).map((i,a)=>l.jsxs(qne,{children:[l.jsxs(Yne,{className:"flex items-center justify-between w-full text-left font-medium",children:[i.question,l.jsx(Bp,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Kne,{className:"pt-2 text-muted-foreground",children:i.answer})]},a))})}),l.jsx(Sb,{children:l.jsxs(re,{variant:"ghost",className:"w-full justify-start pl-0",children:["View all ",s.title," articles"]})})]},o))})}),l.jsx(bt,{value:"popular",children:l.jsxs(Oe,{children:[l.jsxs(ir,{children:[l.jsxs(ar,{className:"flex items-center",children:[l.jsx(m5,{className:"h-5 w-5 mr-2"}),"Most Frequently Asked Questions"]}),l.jsx(ys,{children:"Quick answers to our most common questions"})]}),l.jsx(pt,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"How do I reset my password?"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:'Click "Forgot Password" on the login page, enter your email address, and follow the instructions sent to your email to create a new password.'}),l.jsx(mt,{})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"How do I cancel my subscription?"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:'Go to Settings > Billing > Subscription, click "Cancel Subscription", and follow the prompts. Your subscription will remain active until the end of your current billing period.'}),l.jsx(mt,{})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Can I change my username?"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:'Yes, you can change your username once every 30 days. Go to Settings > Account, update your username, and click "Save Changes".'}),l.jsx(mt,{})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"How do I download my data?"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:`Go to Settings > Privacy > Download Data, select what data you want to download, and click "Request Download". You'll receive an email when your data is ready to download.`}),l.jsx(mt,{})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"How do I report inappropriate content?"}),l.jsx("p",{className:"text-muted-foreground",children:'Click the "..." menu next to the content, select "Report", choose the reason for reporting, and submit. Our team will review your report as soon as possible.'})]})]})})]})}),l.jsx(bt,{value:"contact",children:l.jsxs(Oe,{children:[l.jsxs(ir,{children:[l.jsxs(ar,{className:"flex items-center",children:[l.jsx(rl,{className:"h-5 w-5 mr-2"}),"Contact Our Support Team"]}),l.jsx(ys,{children:"We're here to help you with any questions or issues"})]}),l.jsx(pt,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-muted p-6 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Email Support"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Send us an email and we'll get back to you as soon as possible."}),l.jsx(re,{variant:"outline",className:"w-full",children:"Email support@platform2025.com"})]}),l.jsxs("div",{className:"bg-muted p-6 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Live Chat"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Chat with a member of our support team in real-time."}),l.jsx(re,{className:"w-full",children:"Start a Chat"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Support Hours"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Weekdays"}),l.jsxs("p",{className:"text-muted-foreground",children:["Monday - Friday",l.jsx("br",{}),"9am - 8pm EST"]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Weekends"}),l.jsxs("p",{className:"text-muted-foreground",children:["Saturday - Sunday",l.jsx("br",{}),"10am - 6pm EST"]})]})]})]})]})})]})})]}),l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-muted-foreground mb-6",children:["Can't find what you're looking for? Check our ",l.jsx("a",{href:"/docs",className:"text-primary hover:underline",children:"documentation"})," or ",l.jsx("a",{href:"/community",className:"text-primary hover:underline",children:"community forums"}),"."]})})]})})},Xne=()=>l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-5xl",children:[l.jsxs("div",{className:"space-y-2 text-center mb-12",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(F5,{className:"h-12 w-12 text-primary"})}),l.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Safety Center"}),l.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Your safety is our top priority. Learn about the tools and resources we provide to help keep you safe while using our platform."})]}),l.jsxs(ra,{defaultValue:"overview",className:"mb-12",children:[l.jsxs(fi,{className:"grid grid-cols-4 mb-8",children:[l.jsx(xt,{value:"overview",children:"Overview"}),l.jsx(xt,{value:"privacy",children:"Privacy"}),l.jsx(xt,{value:"reporting",children:"Reporting"}),l.jsx(xt,{value:"resources",children:"Resources"})]}),l.jsx(bt,{value:"overview",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs(Oe,{children:[l.jsxs(ir,{children:[l.jsxs(ar,{className:"flex items-center",children:[l.jsx(T5,{className:"h-5 w-5 mr-2"}),"Account Security"]}),l.jsx(ys,{children:"Tools to protect your account and personal information"})]}),l.jsx(pt,{children:l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx(or,{variant:"outline",className:"mr-2 mt-1",children:"Tip"}),l.jsx("span",{children:"Use a strong, unique password for your account"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx(or,{variant:"outline",className:"mr-2 mt-1",children:"Tip"}),l.jsx("span",{children:"Enable two-factor authentication for added security"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx(or,{variant:"outline",className:"mr-2 mt-1",children:"Tip"}),l.jsx("span",{children:"Regularly review your account activity for suspicious actions"})]})]})})]}),l.jsxs(Oe,{children:[l.jsxs(ir,{children:[l.jsxs(ar,{className:"flex items-center",children:[l.jsx(jl,{className:"h-5 w-5 mr-2"}),"Community Guidelines"]}),l.jsx(ys,{children:"Standards that help keep our community safe"})]}),l.jsx(pt,{children:l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx(or,{variant:"outline",className:"mr-2 mt-1",children:"Rule"}),l.jsx("span",{children:"Be respectful and considerate in all interactions"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx(or,{variant:"outline",className:"mr-2 mt-1",children:"Rule"}),l.jsx("span",{children:"Do not share personal information of others without consent"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx(or,{variant:"outline",className:"mr-2 mt-1",children:"Rule"}),l.jsx("span",{children:"Report harmful content or behavior immediately"})]})]})})]})]})}),l.jsx(bt,{value:"privacy",children:l.jsxs(Oe,{children:[l.jsxs(ir,{children:[l.jsxs(ar,{className:"flex items-center",children:[l.jsx(j5,{className:"h-5 w-5 mr-2"}),"Privacy Settings"]}),l.jsx(ys,{children:"Control who can see your content and information"})]}),l.jsx(pt,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Profile Privacy"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"You can control who can view your profile, posts, and personal information. Adjust these settings in your account preferences."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Content Visibility"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Choose whether your content is public, visible to friends only, or private. Different privacy settings can be applied to individual posts."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Data Usage"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Learn how we use your data and customize your data sharing preferences in the privacy settings section of your account."})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(re,{variant:"outline",children:"Review Your Privacy Settings"})})]})})]})}),l.jsx(bt,{value:"reporting",children:l.jsxs(Oe,{children:[l.jsxs(ir,{children:[l.jsxs(ar,{className:"flex items-center",children:[l.jsx(z5,{className:"h-5 w-5 mr-2"}),"Reporting Harmful Content"]}),l.jsx(ys,{children:"How to report content that violates our community guidelines"})]}),l.jsx(pt,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"How to Report"}),l.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-muted-foreground",children:[l.jsx("li",{children:"Find the content you want to report"}),l.jsx("li",{children:"Click the three dots (⋯) next to the content"}),l.jsx("li",{children:'Select "Report" from the dropdown menu'}),l.jsx("li",{children:"Choose the reason for your report"}),l.jsx("li",{children:"Add any additional details and submit"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"What Happens Next"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Our team reviews all reports within 24-48 hours. If we find that the content violates our guidelines, it will be removed and appropriate action will be taken."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Urgent Reports"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"For urgent safety concerns, such as immediate threats or dangerous situations, please contact our safety team directly at safety@platform2025.com."})]})]})})]})}),l.jsx(bt,{value:"resources",children:l.jsxs(Oe,{children:[l.jsxs(ir,{children:[l.jsxs(ar,{className:"flex items-center",children:[l.jsx(p5,{className:"h-5 w-5 mr-2"}),"Safety Resources"]}),l.jsx(ys,{children:"Additional resources to help you stay safe online"})]}),l.jsx(pt,{children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Safety Partners"}),l.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[l.jsx("li",{children:"National Cybersecurity Alliance"}),l.jsx("li",{children:"Internet Safety Coalition"}),l.jsx("li",{children:"Digital Citizenship Institute"}),l.jsx("li",{children:"Online Safety Foundation"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Helpful Guides"}),l.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[l.jsx("li",{children:"Guide to Digital Privacy"}),l.jsx("li",{children:"Online Safety for Families"}),l.jsx("li",{children:"Recognizing and Avoiding Scams"}),l.jsx("li",{children:"Protecting Personal Information"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Crisis Support"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"If you're experiencing a personal crisis or need immediate support, please contact one of these national helplines:"}),l.jsxs("div",{className:"bg-muted p-4 rounded-md",children:[l.jsx("p",{className:"font-medium",children:"Crisis Text Line: Text HOME to 741741"}),l.jsx("p",{className:"font-medium",children:"National Suicide Prevention Lifeline: 1-800-273-8255"})]})]})]})})]})})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Still Have Questions?"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Our safety team is here to help you with any questions or concerns."}),l.jsx(re,{children:"Contact Safety Team"})]})]})});function Qne(){const{user:e}=Bt(),[t,r]=p.useState([]),[n,s]=p.useState(!0),[o,i]=p.useState(null),[a,c]=p.useState(null),[d,u]=p.useState("");p.useEffect(()=>{const v=async()=>{if(e!=null&&e.id)try{s(!0);const y=await nX(e.id);r(y)}catch(y){console.error("Error fetching conversations:",y),i("Failed to load conversations")}finally{s(!1)}};v();const b=setInterval(v,6e4);return()=>clearInterval(b)},[e==null?void 0:e.id]);const f=d.trim()?t.filter(v=>{var b,y,x;return((y=(b=v.otherParticipant)==null?void 0:b.name)==null?void 0:y.toLowerCase().includes(d.toLowerCase()))||((x=v.title)==null?void 0:x.toLowerCase().includes(d.toLowerCase()))}):t,h=v=>v?v.split(" ").map(b=>b[0]).join("").toUpperCase().substring(0,2):"?",m=v=>{if(!v)return"";try{return bM(new Date(v),{addSuffix:!0})}catch{return""}},g=v=>{if(!v)return null;const b=v==="stay";return l.jsx(or,{variant:"outline",className:`${b?"bg-blue-50 text-blue-700 border-blue-200":"bg-amber-50 text-amber-700 border-amber-200"}`,children:b?"Stay":"Food"})};return l.jsxs("div",{className:"flex flex-col h-full border rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"border-b p-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Messages"}),l.jsxs("div",{className:"relative",children:[l.jsx(Qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Re,{placeholder:"Search conversations...",className:"pl-9",value:d,onChange:v=>u(v.target.value)}),d&&l.jsx(re,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6",onClick:()=>u(""),children:l.jsx(hu,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[l.jsx("div",{className:`border-r ${a?"hidden md:block md:w-1/3":"w-full"}`,children:n?l.jsxs("div",{className:"flex items-center justify-center h-full p-4",children:[l.jsx(rt,{className:"h-6 w-6 animate-spin text-primary mr-2"}),l.jsx("span",{children:"Loading conversations..."})]}):o?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:[l.jsx("p",{className:"text-red-500 mb-2",children:o}),l.jsx(re,{onClick:()=>window.location.reload(),children:"Retry"})]}):f.length===0?l.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:d?l.jsxs("p",{className:"text-muted-foreground",children:['No conversations matching "',d,'"']}):l.jsxs(l.Fragment,{children:[l.jsx(rl,{className:"h-12 w-12 text-muted-foreground mb-4"}),l.jsx("p",{className:"text-lg",children:"No conversations yet"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Messages from users will appear here"})]})}):l.jsx(ow,{className:"h-full",children:l.jsx("div",{className:"divide-y",children:f.map(v=>{var b,y,x,w,S;return l.jsx("div",{className:`p-4 hover:bg-muted cursor-pointer ${a===v.id?"bg-muted":""}`,onClick:()=>c(v.id),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs(Es,{children:[l.jsx(ks,{src:((b=v.otherParticipant)==null?void 0:b.avatar_url)||"",alt:((y=v.otherParticipant)==null?void 0:y.name)||"User"}),l.jsx(Ns,{children:h((x=v.otherParticipant)==null?void 0:x.name)})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h3",{className:"font-medium truncate",children:((w=v.otherParticipant)==null?void 0:w.name)||"User"}),l.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap ml-2",children:m(v.last_message_at)})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[g(v.listing_type),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:v.title||"No title"})]}),l.jsx("p",{className:"text-sm truncate mt-1",children:((S=v.lastMessage)==null?void 0:S.content)||"No messages yet"})]})]})},v.id)})})})}),l.jsx("div",{className:`${a?"flex flex-col flex-1":"hidden"}`,children:a?l.jsx(OT,{conversationId:a,onClose:()=>c(null),isHost:!0}):l.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center text-muted-foreground",children:l.jsx("p",{children:"Select a conversation to view messages"})})})]})]})}const Jne=()=>{const e=Tt(),[t,r]=p.useState([]),[n,s]=p.useState([]),[o,i]=p.useState(!0),[a,c]=p.useState(null),[d,u]=p.useState("listings");p.useEffect(()=>{f(),h()},[]);const f=async()=>{try{i(!0),c(null);const L=await dte();r(L)}catch(L){console.error("Error fetching food experiences:",L),c("Failed to load your food experiences. Please try again later.")}finally{i(!1)}},h=async()=>{try{i(!0),c(null);const L=await yte();s(L)}catch(L){console.error("Error fetching stays:",L),c("Failed to load your stays. Please try again later.")}finally{i(!1)}},m=async(L,A)=>{try{await pte(L.toString(),A),r($=>$.map(T=>T.id===L?{...T,status:A}:T))}catch($){console.error("Error changing status:",$),c("Failed to update status. Please try again.")}},g=async(L,A)=>{try{await wte(L.toString(),A),s($=>$.map(T=>T.id===L?{...T,status:A}:T))}catch($){console.error("Error changing stay status:",$),c("Failed to update status. Please try again.")}},v=async L=>{if(window.confirm("Are you sure you want to delete this food experience? This action cannot be undone."))try{await mte(L.toString()),r(A=>A.filter($=>$.id!==L))}catch(A){console.error("Error deleting food experience:",A),c("Failed to delete food experience. Please try again.")}},b=async L=>{if(window.confirm("Are you sure you want to delete this stay? This action cannot be undone."))try{await Ste(L.toString()),s(A=>A.filter($=>$.id!==L))}catch(A){console.error("Error deleting stay:",A),c("Failed to delete stay. Please try again.")}},y=L=>{switch(L.toLowerCase()){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}},x=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});if(o)return l.jsx("div",{className:"flex justify-center items-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const w=t.filter(L=>L.status==="published").length,S=t.filter(L=>L.status==="draft").length,j=t.filter(L=>L.status==="archived").length,C=n.filter(L=>L.status==="published").length,M=n.filter(L=>L.status==="draft").length,k=n.filter(L=>L.status==="archived").length,E=w+C,_=S+M,P=j+k,D=t.length+n.length;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sage-50 to-terracotta-50 p-6",children:[l.jsx("div",{className:"max-w-7xl mx-auto mb-8",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Host Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Manage your food experiences, stays, and messages"})]}),l.jsx("div",{className:"space-x-4",children:l.jsxs(re,{variant:"outline",onClick:()=>e("/"),className:"flex items-center gap-2",children:[l.jsx(Go,{className:"w-4 h-4"}),"Back to Home"]})})]})}),a&&l.jsx(ns,{variant:"destructive",className:"mb-8 max-w-7xl mx-auto",children:l.jsx(ss,{children:a})}),l.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[l.jsx(Oe,{children:l.jsx(pt,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(C5,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Active Listings"}),l.jsx("p",{className:"text-2xl font-bold",children:E})]})]})})}),l.jsx(Oe,{children:l.jsx(pt,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(jl,{className:"w-6 h-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Draft Listings"}),l.jsx("p",{className:"text-2xl font-bold",children:_})]})]})})}),l.jsx(Oe,{children:l.jsx(pt,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx($p,{className:"w-6 h-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Listings"}),l.jsx("p",{className:"text-2xl font-bold",children:D})]})]})})}),l.jsx(Oe,{children:l.jsx(pt,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:l.jsx(_s,{className:"w-6 h-6 text-yellow-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Archived"}),l.jsx("p",{className:"text-2xl font-bold",children:P})]})]})})})]}),l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs(ra,{defaultValue:"listings",onValueChange:u,className:"w-full",children:[l.jsxs(fi,{className:"mb-6",children:[l.jsxs(xt,{value:"listings",className:"flex items-center gap-2",children:[l.jsx(jg,{className:"w-4 h-4"}),"Listings"]}),l.jsxs(xt,{value:"messages",className:"flex items-center gap-2",children:[l.jsx(rl,{className:"w-4 h-4"}),"Messages"]})]}),l.jsxs(bt,{value:"listings",children:[l.jsx("div",{className:"mb-8",children:l.jsxs(Oe,{children:[l.jsx(ir,{children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs(ar,{className:"flex items-center gap-2",children:[l.jsx(fu,{className:"w-5 h-5"}),"Food Experiences"]}),l.jsxs(re,{variant:"outline",size:"sm",onClick:()=>e("/host/food/new"),className:"flex items-center gap-2",children:["Add New ",l.jsx(Ty,{className:"w-4 h-4"})]})]})}),l.jsx(pt,{children:l.jsx("div",{className:"divide-y",children:t.length>0?t.map(L=>l.jsxs("div",{className:"py-4 flex flex-wrap md:flex-nowrap items-center justify-between hover:bg-gray-50 rounded-lg transition-colors",children:[l.jsxs("div",{className:"flex-1 mb-2 md:mb-0",onClick:()=>e(`/host/food/edit/${L.id}`),children:[l.jsx("h3",{className:"font-medium cursor-pointer",children:L.title}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[l.jsxs("span",{children:["$",L.price_per_person," per person"]}),l.jsx(or,{className:y(L.status),children:L.status.charAt(0).toUpperCase()+L.status.slice(1)}),L.created_at&&l.jsxs("span",{children:["Created: ",x(L.created_at)]})]})]}),l.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[l.jsx(re,{variant:"outline",size:"sm",onClick:()=>e(`/food/${L.id}`),children:"Preview"}),l.jsx(re,{variant:"outline",size:"sm",onClick:()=>e(`/host/food/edit/${L.id}`),children:"Edit"}),L.status==="draft"&&l.jsxs(re,{variant:"outline",size:"sm",onClick:()=>m(L.id,"published"),className:"text-green-600",children:[l.jsx(ia,{className:"h-4 w-4 mr-1"}),"Publish"]}),L.status==="published"&&l.jsxs(re,{variant:"outline",size:"sm",onClick:()=>m(L.id,"archived"),className:"text-gray-600",children:[l.jsx(ia,{className:"h-4 w-4 mr-1"}),"Archive"]}),L.status==="archived"&&l.jsxs(re,{variant:"outline",size:"sm",onClick:()=>m(L.id,"published"),className:"text-green-600",children:[l.jsx(ia,{className:"h-4 w-4 mr-1"}),"Republish"]}),l.jsx(re,{variant:"outline",size:"sm",onClick:()=>v(L.id),className:"text-red-600",children:"Delete"})]})]},L.id)):l.jsxs("div",{className:"py-8 text-center",children:[l.jsx(fu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-lg font-medium text-gray-900 mb-1",children:"No food experiences yet"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first food experience to get started"}),l.jsx(re,{onClick:()=>e("/host/food/new"),children:"Create Food Experience"})]})})})]})}),l.jsx("div",{children:l.jsxs(Oe,{children:[l.jsx(ir,{children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs(ar,{className:"flex items-center gap-2",children:[l.jsx(jg,{className:"w-5 h-5"}),"Stays"]}),l.jsxs(re,{variant:"outline",size:"sm",onClick:()=>e("/host/stay/new"),className:"flex items-center gap-2",children:["Add New ",l.jsx(Ty,{className:"w-4 h-4"})]})]})}),l.jsx(pt,{children:l.jsx("div",{className:"divide-y",children:n.length>0?n.map(L=>l.jsxs("div",{className:"py-4 flex flex-wrap md:flex-nowrap items-center justify-between hover:bg-gray-50 rounded-lg transition-colors",children:[l.jsxs("div",{className:"flex-1 mb-2 md:mb-0",onClick:()=>e(`/host/stay/${L.id}`),children:[l.jsx("h3",{className:"font-medium cursor-pointer",children:L.title}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[l.jsxs("span",{children:["$",L.price_per_night," per night"]}),l.jsx(or,{className:y(L.status),children:L.status.charAt(0).toUpperCase()+L.status.slice(1)}),L.created_at&&l.jsxs("span",{children:["Created: ",x(L.created_at)]})]})]}),l.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[l.jsx(re,{variant:"outline",size:"sm",onClick:()=>e(`/stay/${L.id}`),children:"Preview"}),l.jsx(re,{variant:"outline",size:"sm",onClick:()=>e(`/host/stay/${L.id}`),children:"Edit"}),L.status==="draft"&&l.jsxs(re,{variant:"outline",size:"sm",onClick:()=>g(L.id,"published"),className:"text-green-600",children:[l.jsx(ia,{className:"h-4 w-4 mr-1"}),"Publish"]}),L.status==="published"&&l.jsxs(re,{variant:"outline",size:"sm",onClick:()=>g(L.id,"archived"),className:"text-gray-600",children:[l.jsx(ia,{className:"h-4 w-4 mr-1"}),"Archive"]}),L.status==="archived"&&l.jsxs(re,{variant:"outline",size:"sm",onClick:()=>g(L.id,"published"),className:"text-green-600",children:[l.jsx(ia,{className:"h-4 w-4 mr-1"}),"Republish"]}),l.jsx(re,{variant:"outline",size:"sm",onClick:()=>b(L.id),className:"text-red-600",children:"Delete"})]})]},L.id)):l.jsxs("div",{className:"py-8 text-center",children:[l.jsx(jg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-lg font-medium text-gray-900 mb-1",children:"No stays yet"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first stay to get started"}),l.jsx(re,{onClick:()=>e("/host/stay/new"),children:"Create Stay"})]})})})]})})]}),l.jsx(bt,{value:"messages",children:l.jsxs(Oe,{children:[l.jsx(ir,{children:l.jsxs(ar,{className:"flex items-center gap-2",children:[l.jsx(rl,{className:"w-5 h-5"}),"Messages"]})}),l.jsx(pt,{className:"p-0",children:l.jsx("div",{className:"h-[600px]",children:l.jsx(Qne,{})})})]})})]})})]})},$n=({children:e})=>{const{user:t,loading:r}=Bt(),n=ii();return r?l.jsx("div",{children:"Loading..."}):t?l.jsx(l.Fragment,{children:e}):l.jsx(p3,{to:"/login",state:{from:n},replace:!0})},ese=()=>{const{pathname:e}=ii();return p.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e]),null};var Bw="Switch",[tse,Ise]=yn(Bw),[rse,nse]=tse(Bw),KA=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,m]=p.useState(null),g=Be(t,w=>m(w)),v=p.useRef(!1),b=h?u||!!h.closest("form"):!0,[y=!1,x]=mn({prop:s,defaultProp:o,onChange:d});return l.jsxs(rse,{scope:r,checked:y,disabled:a,children:[l.jsx(be.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":QA(y),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:g,onClick:de(e.onClick,w=>{x(S=>!S),b&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),b&&l.jsx(sse,{control:h,bubbles:!v.current,name:n,value:c,checked:y,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});KA.displayName=Bw;var ZA="SwitchThumb",XA=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=nse(ZA,r);return l.jsx(be.span,{"data-state":QA(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});XA.displayName=ZA;var sse=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,o=p.useRef(null),i=bb(r),a=Y0(t);return p.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[i,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function QA(e){return e?"checked":"unchecked"}var JA=KA,ose=XA;const Hf=p.forwardRef(({className:e,...t},r)=>l.jsx(JA,{className:me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:l.jsx(ose,{className:me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Hf.displayName=JA.displayName;const bf=(e,t="stay")=>e?e.startsWith("http")?e:t==="stay"&&e.startsWith("stay-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${e}`:t==="food"&&e.startsWith("food-experience-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${e}`:t==="profile"&&e.startsWith("user-profiles/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${e}`:e:t==="food"?"/images/jollof.jpg":t==="profile"?"/images/kenji.jpg":"/images/mountain.jpg",ise=()=>{var T;const{user:e,refreshUser:t}=Bt(),r=Tt(),[n,s]=p.useState(!1),[o,i]=p.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:"+1234567890",language:"English",currency:"USD",timezone:"UTC-5",about:(e==null?void 0:e.about)||"I love connecting with travelers and sharing unique experiences."}),[a,c]=p.useState(!1),[d,u]=p.useState(!1),[f,h]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),m=p.useRef(null),[g,v]=p.useState({emailNotifications:!1,marketingEmails:!1,twoFactorAuth:!1}),[b,y]=p.useState([]),[x,w]=p.useState([]),[S,j]=p.useState(!1),[C,M]=p.useState(!1),k=async()=>{if(e!=null&&e.id)try{j(!0);const N=[],{data:O,error:R}=await Y.from("favorites").select("*").eq("user_id",e.id).eq("listing_type","food_experience");if(R)throw R;const{data:B,error:V}=await Y.from("user_favorites").select("*").eq("user_id",e.id);if(V)throw V;if(O&&O.length>0)for(const F of O){const{data:z,error:W}=await Y.from("food_experiences").select("id, title, price_per_person, host_id").eq("id",F.listing_id).single();if(W||!z)continue;const{data:I,error:q}=await Y.from("food_experience_images").select("image_path").eq("experience_id",F.listing_id).eq("is_primary",!0).single(),X=(I==null?void 0:I.image_path)||"";N.push({id:F.id,item_type:"food_experience",listing_id:F.listing_id,title:z.title,price:`$${z.price_per_person}/person`,image:bf(X,"food"),created_at:F.created_at})}if(B&&B.length>0)for(const F of B){const{data:z,error:W}=await Y.from("stays").select("id, title, price_per_night, host_id").eq("id",F.stay_id).single();if(W||!z)continue;const{data:I,error:q}=await Y.from("stay_images").select("image_path").eq("stay_id",F.stay_id).eq("is_primary",!0).single(),X=(I==null?void 0:I.image_path)||"";N.push({id:F.id,item_type:"stay",listing_id:F.stay_id,title:z.title,price:`$${z.price_per_night}/night`,image:bf(X,"stay"),created_at:F.created_at})}N.sort((F,z)=>new Date(z.created_at).getTime()-new Date(F.created_at).getTime()),y(N)}catch(N){console.error("Error fetching favorites:",N),je.error("Failed to load favorites")}finally{j(!1)}},E=async()=>{if(e!=null&&e.id)try{M(!0);const{data:N,error:O}=await Y.from("stay_bookings").select("id, stay_id, check_in_date, status, created_at").eq("user_id",e.id).order("check_in_date",{ascending:!0});if(O)throw O;const{data:R,error:B}=await Y.from("food_experience_bookings").select(`
          id, 
          experience_id, 
          status, 
          created_at,
          food_experience_availability!inner(date)
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(B)throw B;const V=[];if(N&&N.length>0)for(const F of N){const{data:z,error:W}=await Y.from("stays").select("title").eq("id",F.stay_id).single();if(W||!z)continue;const{data:I,error:q}=await Y.from("stay_images").select("image_path").eq("stay_id",F.stay_id).eq("is_primary",!0).single(),X=(I==null?void 0:I.image_path)||"";V.push({id:F.id,type:"stay",title:z.title,date:new Date(F.check_in_date).toLocaleDateString(),status:F.status,image:bf(X,"stay"),listing_id:F.stay_id})}if(R&&R.length>0)for(const F of R){const{data:z,error:W}=await Y.from("food_experiences").select("title").eq("id",F.experience_id).single();if(W||!z)continue;const{data:I,error:q}=await Y.from("food_experience_images").select("image_path").eq("experience_id",F.experience_id).eq("is_primary",!0).single(),X=(I==null?void 0:I.image_path)||"",Q=F.food_experience_availability,ne=(Q==null?void 0:Q.date)||new Date(F.created_at).toLocaleDateString();V.push({id:F.id,type:"food_experience",title:z.title,date:new Date(ne).toLocaleDateString(),status:F.status,image:bf(X,"food"),listing_id:F.experience_id})}V.sort((F,z)=>{const W=new Date(F.date),I=new Date(z.date),q=new Date;return W>=q&&I>=q?W.getTime()-I.getTime():W>=q&&I<q?-1:W<q&&I>=q?1:I.getTime()-W.getTime()}),w(V)}catch(N){console.error("Error fetching bookings:",N),je.error("Failed to load bookings")}finally{M(!1)}};p.useEffect(()=>{e!=null&&e.id&&(k(),E())},[e==null?void 0:e.id]);const _=async N=>{var R,B,V,F;const O=(R=N.target.files)==null?void 0:R[0];if(!(!O||!(e!=null&&e.id)))try{c(!0);const z=O.name.split(".").pop(),W=`${Math.random().toString(36).substring(2)}`,I=`${e.id}/${W}.${z}`,{data:q}=await Y.storage.listBuckets();if(!(q==null?void 0:q.some(G=>G.name==="user-profiles")))try{await Y.storage.createBucket("user-profiles",{public:!0,fileSizeLimit:5242880})}catch(G){console.log("Bucket may already exist, continuing:",G)}const{data:Q,error:ne}=await Y.storage.from("user-profiles").upload(I,O,{cacheControl:"3600",upsert:!0});if(ne)throw console.error("Upload error:",ne),new Error(`Upload failed: ${ne.message}`);const{data:J}=Y.storage.from("user-profiles").getPublicUrl(I);if(J!=null&&J.publicUrl){const G=J.publicUrl,{error:ie}=await Y.from("profiles").update({avatar_url:G,updated_at:new Date().toISOString()}).eq("id",e.id);if(ie)throw console.error("Profile update error:",ie),new Error(`Profile update failed: ${ie.message}`);const{error:_e}=await Y.auth.updateUser({data:{avatar_url:G,picture:G}});_e&&console.error("Auth update error:",_e),await new Promise(Ee=>setTimeout(Ee,500)),await t(),je.success("Profile picture updated successfully")}}catch(z){console.error("Error uploading image:",z),(B=z.message)!=null&&B.includes("row-level security policy")||(V=z.message)!=null&&V.includes("Unauthorized")?je.error("Permission denied. Please log out and log back in to update your profile."):(F=z.message)!=null&&F.includes("duplicate")?je.error("Image already exists. Please try with a different image."):je.error("Failed to update profile picture. Please try again later.")}finally{c(!1)}},P=async()=>{var N,O;if(e!=null&&e.id)try{c(!0);const{error:R}=await Y.from("profiles").update({name:o.name,about:o.about}).eq("id",e.id);if(R)throw R;const{error:B}=await Y.auth.updateUser({data:{name:o.name,full_name:o.name}});B&&console.error("Auth update error:",B),await new Promise(V=>setTimeout(V,500)),await t(),s(!1),je.success("Profile updated successfully")}catch(R){console.error("Error updating profile:",R),(N=R.message)!=null&&N.includes("row-level security policy")||(O=R.message)!=null&&O.includes("Unauthorized")?je.error("Permission denied. Please log out and log back in to update your profile."):je.error("Failed to update profile. Please try again later.")}finally{c(!1)}},D=async()=>{if(f.newPassword!==f.confirmPassword){je.error("New passwords do not match");return}try{c(!0);const{error:N}=await Y.auth.updateUser({password:f.newPassword});if(N)throw N;u(!1),h({currentPassword:"",newPassword:"",confirmPassword:""}),je.success("Password updated successfully")}catch(N){je.error(N.message||"Failed to update password"),console.error("Error updating password:",N)}finally{c(!1)}},L=async(N,O)=>{if(e!=null&&e.id)try{if(c(!0),O==="food_experience"){const{error:R}=await Y.from("favorites").delete().eq("id",N).eq("user_id",e.id);if(R)throw R}else{const{error:R}=await Y.from("user_favorites").delete().eq("id",N).eq("user_id",e.id);if(R)throw R}y(R=>R.filter(B=>B.id!==N)),je.success("Removed from favorites")}catch(R){je.error(R.message||"Failed to remove favorite"),console.error("Error removing favorite:",R)}finally{c(!1)}},A=(N,O)=>{r(N==="stay"?`/stays/${O}`:`/food/${O}`)},$=(N,O)=>{v({...g,[N]:O}),je.success(`${N} ${O?"enabled":"disabled"}`)};return l.jsxs(Ft,{children:[l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx(Oe,{className:"mb-8",children:l.jsx(pt,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[l.jsxs("div",{className:"relative",children:[l.jsxs(Es,{className:"w-24 h-24",children:[l.jsx(ks,{src:(e==null?void 0:e.picture)||(e==null?void 0:e.image)||"/images/kenji.jpg"}),l.jsx(Ns,{children:((T=e==null?void 0:e.name)==null?void 0:T.charAt(0))||"U"})]}),l.jsx("input",{type:"file",ref:m,className:"hidden",accept:"image/*",onChange:_}),l.jsx(re,{size:"icon",variant:"secondary",className:"absolute bottom-0 right-0 rounded-full",onClick:()=>{var N;return(N=m.current)==null?void 0:N.click()},disabled:a,children:a?l.jsx(rt,{className:"w-4 h-4 animate-spin"}):l.jsx(g5,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex-1 text-center md:text-left",children:[l.jsx("h1",{className:"text-2xl font-bold",children:(e==null?void 0:e.name)||"User"}),l.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.email)||"No email provided"}),(e==null?void 0:e.is_host)&&l.jsx("div",{className:"mt-2",children:l.jsx("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm",children:"Host"})})]}),l.jsxs(re,{variant:"outline",onClick:()=>s(!n),className:"md:self-start",children:[l.jsx(U5,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]})})}),n&&l.jsxs(Oe,{className:"mb-8 border-primary/50",children:[l.jsx(ir,{children:l.jsx(ar,{children:"Edit Profile"})}),l.jsxs(pt,{className:"space-y-4",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{children:"Full Name"}),l.jsx(Re,{value:o.name,onChange:N=>i({...o,name:N.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{children:"Email"}),l.jsx(Re,{value:o.email,disabled:!0,className:"opacity-70"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{children:"Phone"}),l.jsx(Re,{value:o.phone,onChange:N=>i({...o,phone:N.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{children:"Language"}),l.jsx(Re,{value:o.language,onChange:N=>i({...o,language:N.target.value})})]}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsx(Nt,{htmlFor:"about",children:"About"}),l.jsx("textarea",{id:"about",name:"about",rows:4,className:"w-full p-2 rounded-md border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Tell others about yourself...",value:o.about,onChange:N=>i({...o,about:N.target.value}),disabled:!n}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be displayed on your host listings and profile page"})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx(re,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),l.jsxs(re,{onClick:P,disabled:a,children:[a?l.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Save Changes"]})]})]})]}),l.jsxs(ra,{defaultValue:"bookings",className:"space-y-4",children:[l.jsxs(fi,{className:"grid grid-cols-4 md:w-[400px]",children:[l.jsx(xt,{value:"bookings",children:"Bookings"}),l.jsx(xt,{value:"favorites",children:"Favorites"}),l.jsx(xt,{value:"settings",children:"Settings"}),l.jsx(xt,{value:"security",children:"Security"})]}),l.jsxs(bt,{value:"bookings",className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Bookings"}),C?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(rt,{className:"w-8 h-8 animate-spin text-primary"})}):l.jsx("div",{className:"grid gap-4",children:x.length>0?x.map(N=>l.jsx(Oe,{className:"hover:border-primary/50 transition-colors",children:l.jsx(pt,{className:"p-4",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx("img",{src:N.image,alt:N.title,className:"w-24 h-24 object-cover rounded-lg"}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:N.type==="stay"?"Stay":"Food Experience"}),l.jsx("h3",{className:"font-semibold",children:N.title}),l.jsxs("p",{className:"text-sm",children:[l.jsx($p,{className:"w-4 h-4 inline mr-1"}),N.date]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[l.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${N.status==="confirmed"?"bg-green-100 text-green-800":N.status==="pending"?"bg-yellow-100 text-yellow-800":N.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:N.status.charAt(0).toUpperCase()+N.status.slice(1)}),l.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>A(N.type,N.listing_id),children:[l.jsx(_5,{className:"w-3 h-3 mr-1"}),"View"]})]})]})})]})})},N.id)):l.jsx("p",{className:"text-muted-foreground",children:"You have no bookings yet."})})]}),l.jsxs(bt,{value:"favorites",className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Favorites"}),S?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(rt,{className:"w-8 h-8 animate-spin text-primary"})}):l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:b.length>0?b.map(N=>l.jsx(Oe,{className:"hover:border-primary/50 transition-colors",children:l.jsx(pt,{className:"p-4",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx("img",{src:N.image,alt:N.title,className:"w-24 h-24 object-cover rounded-lg cursor-pointer",onClick:()=>A(N.item_type,N.listing_id)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:N.item_type==="stay"?"Stay":"Food Experience"}),l.jsx("h3",{className:"font-semibold hover:text-primary cursor-pointer",onClick:()=>A(N.item_type,N.listing_id),children:N.title}),l.jsx("p",{className:"text-sm font-medium",children:N.price})]}),l.jsx(re,{size:"icon",variant:"ghost",onClick:()=>L(N.id,N.item_type),disabled:a,children:a?l.jsx(rt,{className:"w-4 h-4 animate-spin"}):l.jsx(A0,{className:"w-4 h-4 text-red-500",fill:"currentColor"})})]})})},N.id)):l.jsx("p",{className:"text-muted-foreground md:col-span-2",children:"You have no favorites yet."})})]}),l.jsx(bt,{value:"settings",className:"space-y-6",children:l.jsxs(Oe,{children:[l.jsx(ir,{children:l.jsx(ar,{children:"Profile Settings"})}),l.jsxs(pt,{className:"space-y-4",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{children:"Full Name"}),l.jsx(Re,{value:o.name,onChange:N=>i({...o,name:N.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{children:"Email"}),l.jsx(Re,{value:o.email,disabled:!0,className:"opacity-70"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{children:"Phone"}),l.jsx(Re,{value:o.phone,onChange:N=>i({...o,phone:N.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{children:"Language"}),l.jsx(Re,{value:o.language,onChange:N=>i({...o,language:N.target.value})})]})]}),l.jsx(mt,{className:"my-6"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Preferences"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Nt,{children:"Email Notifications"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email about your bookings and account"})]}),l.jsx(Hf,{checked:g.emailNotifications,onCheckedChange:N=>$("emailNotifications",N)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Nt,{children:"Marketing Communications"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates about new experiences and offers"})]}),l.jsx(Hf,{checked:g.marketingEmails,onCheckedChange:N=>$("marketingEmails",N)})]})]}),l.jsx("div",{className:"flex justify-end pt-4",children:l.jsxs(re,{onClick:P,disabled:a,children:[a?l.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Save Changes"]})})]})]})}),l.jsx(bt,{value:"security",className:"space-y-4",children:l.jsxs(Oe,{children:[l.jsx(ir,{children:l.jsx(ar,{children:"Security Settings"})}),l.jsxs(pt,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Password"}),l.jsx(re,{variant:"outline",onClick:()=>u(!0),children:"Change Password"})]}),l.jsx(mt,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Two-Factor Authentication"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Nt,{children:"Enable 2FA"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),l.jsx(Hf,{checked:g.twoFactorAuth,onCheckedChange:N=>$("twoFactorAuth",N)})]})]})]})]})})]})]})}),l.jsx(lm,{open:d,onOpenChange:u,children:l.jsxs(ld,{children:[l.jsxs(GM,{children:[l.jsx(cm,{children:"Change Password"}),l.jsx(YM,{children:"Enter your current password and new password below."})]}),l.jsx("div",{className:"grid gap-4 py-4",children:(e==null?void 0:e.provider)==="google"?l.jsx("p",{className:"text-sm text-muted-foreground",children:"You are signed in with Google. Please use Google to manage your password."}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"currentPassword",children:"Current Password"}),l.jsx(Re,{id:"currentPassword",type:"password",value:f.currentPassword,onChange:N=>h({...f,currentPassword:N.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"newPassword",children:"New Password"}),l.jsx(Re,{id:"newPassword",type:"password",value:f.newPassword,onChange:N=>h({...f,newPassword:N.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"confirmPassword",children:"Confirm New Password"}),l.jsx(Re,{id:"confirmPassword",type:"password",value:f.confirmPassword,onChange:N=>h({...f,confirmPassword:N.target.value})})]})]})}),l.jsxs(qM,{children:[l.jsx(re,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),(e==null?void 0:e.provider)!=="google"&&l.jsxs(re,{onClick:D,disabled:a||!f.currentPassword||!f.newPassword||!f.confirmPassword,children:[a?l.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Change Password"]})]})]})})]})},ase=()=>{const{bookingId:e}=Zu(),[t,r]=p.useState(null),[n,s]=p.useState(!0),[o,i]=p.useState("");p.useEffect(()=>{(async()=>{if(e)try{s(!0);const S=await Uc.getBookingById(e);r(S)}catch(S){console.error("Error fetching booking:",S),i("Unable to load booking details. Please try again later.")}finally{s(!1)}})()},[e]);const a=async()=>{if(!(!e||!window.confirm("Are you sure you want to cancel this booking?")))try{await Uc.cancelBooking(e);const w=await Uc.getBookingById(e);r(w)}catch(w){console.error("Error cancelling booking:",w),i("Failed to cancel booking. Please try again later.")}};if(n)return l.jsx(Ft,{children:l.jsx("div",{className:"container max-w-3xl mx-auto px-4 py-12",children:l.jsx(Oe,{className:"p-8",children:l.jsxs("div",{className:"flex items-center justify-center h-60 flex-col gap-4",children:[l.jsx(rt,{className:"h-12 w-12 animate-spin text-primary"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading booking details..."})]})})})});if(o||!t)return l.jsx(Ft,{children:l.jsx("div",{className:"container max-w-3xl mx-auto px-4 py-12",children:l.jsxs(Oe,{className:"p-8",children:[l.jsxs(ns,{variant:"destructive",className:"mb-6",children:[l.jsx(O0,{className:"h-4 w-4"}),l.jsx(ss,{children:o||"Booking not found"})]}),l.jsx(re,{asChild:!0,children:l.jsx(ot,{to:"/bookings",children:"View All Bookings"})})]})})});const{stay:c}=t,d=new Date(t.check_in_date),u=new Date(t.check_out_date),f=kt(d,"EEE, MMM d, yyyy"),h=kt(u,"EEE, MMM d, yyyy"),m=Math.round((u.getTime()-d.getTime())/(1e3*60*60*24)),g=c.stay_images||[],v=g.find(w=>w.is_primary)||g[0],b=(v==null?void 0:v.image_path)||"/images/placeholder-stay.jpg",x=(w=>w.startsWith("http")?w:w.startsWith("stay-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${w}`:w)(b);return l.jsx(Ft,{children:l.jsx("div",{className:"container max-w-3xl mx-auto px-4 py-12",children:l.jsxs(Oe,{className:"p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Booking Confirmation"}),l.jsx(or,{variant:t.status==="confirmed"?"default":"destructive",children:t.status==="confirmed"?"Confirmed":"Cancelled"})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-1",children:c.title}),l.jsxs("p",{className:"text-muted-foreground",children:[c.location_name," • ",c.property_type]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[l.jsx("div",{children:l.jsx("img",{src:x,alt:c.title,className:"w-full h-48 object-cover rounded-md"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:"Your stay details"}),l.jsxs("p",{children:[m," ",m===1?"night":"nights"," • ",t.guest_count," ",t.guest_count===1?"guest":"guests"]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm text-muted-foreground",children:"Check-in"}),l.jsx("p",{children:f})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm text-muted-foreground",children:"Check-out"}),l.jsx("p",{children:h})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm text-muted-foreground",children:"Booked on"}),l.jsx("p",{children:kt(new Date(t.created_at),"MMM d, yyyy")})]})]})]}),l.jsx(mt,{className:"my-6"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Price Breakdown"}),l.jsxs("div",{className:"flex justify-between mb-4",children:[l.jsxs("p",{children:["$",c.price_per_night," × ",m," nights"]}),l.jsxs("p",{children:["$",c.price_per_night*m]})]}),l.jsx(mt,{className:"my-4"}),l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("p",{children:"Total"}),l.jsxs("p",{children:["$",t.total_price]})]})]}),l.jsxs("div",{className:"flex gap-4 justify-end mt-8",children:[l.jsx(re,{variant:"outline",asChild:!0,children:l.jsx(ot,{to:"/bookings",children:"View All Bookings"})}),t.status==="confirmed"&&l.jsx(re,{variant:"destructive",onClick:a,children:"Cancel Booking"})]})]})})})},lse=()=>{const{isAuthenticated:e}=Bt(),[t,r]=p.useState([]),[n,s]=p.useState(!0),[o,i]=p.useState("");p.useEffect(()=>{(async()=>{if(e)try{s(!0);const f=await Uc.getUserBookings();r(f)}catch(f){console.error("Error fetching bookings:",f),i("Unable to load your bookings. Please try again later.")}finally{s(!1)}})()},[e]);const a=u=>{if(!u||!u.stay_images||u.stay_images.length===0)return"/images/placeholder-stay.jpg";const h=(u.stay_images.find(m=>m.is_primary)||u.stay_images[0]).image_path||"/images/placeholder-stay.jpg";return h.startsWith("http")?h:h.startsWith("stay-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${h}`:h},c=u=>kt(new Date(u),"MMM d, yyyy"),d=u=>{switch(u){case"confirmed":return"default";case"cancelled":return"destructive";default:return"secondary"}};return n?l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-12",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Your Bookings"}),l.jsx("div",{className:"space-y-6",children:[1,2,3].map((u,f)=>l.jsx(Oe,{className:"w-full h-48 flex items-center justify-center",children:l.jsx(rt,{className:"h-8 w-8 animate-spin text-primary"})},f))})]})}):o?l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-12",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Your Bookings"}),l.jsx(ns,{variant:"destructive",children:l.jsx(ss,{children:o})})]})}):t.length===0?l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-12",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Your Bookings"}),l.jsxs(Oe,{className:"p-12 text-center",children:[l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"You don't have any bookings yet"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"When you book a stay, it will appear here."}),l.jsx(re,{asChild:!0,children:l.jsx(ot,{to:"/",children:"Explore Stays"})})]})]})}):l.jsx(Ft,{children:l.jsxs("div",{className:"container mx-auto px-4 py-12",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Your Bookings"}),l.jsx("div",{className:"space-y-6",children:t.map(u=>{const{stay:f}=u,h=new Date(u.check_in_date),m=new Date(u.check_out_date),g=Math.round((m.getTime()-h.getTime())/(1e3*60*60*24));return l.jsx(Oe,{className:"p-0 overflow-hidden",children:l.jsxs("div",{className:"flex flex-col md:flex-row",children:[l.jsx("div",{className:"md:w-1/3 h-48 md:h-auto",children:l.jsx("img",{src:a(f),alt:f.title,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold",children:f.title}),l.jsxs("p",{className:"text-muted-foreground text-sm",children:[f.property_type," in ",f.location_name]})]}),l.jsx(or,{variant:d(u.status),children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]}),l.jsx(mt,{className:"my-4"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(lS,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Check-in"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:c(u.check_in_date)})]})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(lS,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Check-out"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:c(u.check_out_date)})]})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(jl,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Guests"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:u.guest_count})]})]})]}),l.jsxs("div",{className:"mt-auto flex justify-between items-center",children:[l.jsx("div",{children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:[g," ",g===1?"night":"nights"," • $",u.total_price]})}),l.jsx(re,{variant:"outline",size:"sm",asChild:!0,children:l.jsx(ot,{to:`/bookings/${u.id}`,children:"View Details"})})]})]})]})},u.id)})})]})})},cse=({children:e})=>{const{user:t,loading:r}=Bt(),n=Tt();return p.useEffect(()=>{!r&&(!t||!t.is_host)&&n("/")},[t,r,n]),r?l.jsx("div",{children:"Loading..."}):t&&t.is_host?l.jsx(l.Fragment,{children:e}):null},use=()=>{const{refreshUser:e,user:t,isAuthenticated:r}=Bt();return p.useEffect(()=>{const n=(t==null?void 0:t.lastProfileCheck)||0,s=Date.now(),o=5*60*1e3;!r||!t||s-n>o?(console.log("Refreshing user data on app startup"),setTimeout(()=>{e()},500)):console.log("Using cached user data on app startup")},[e,t,r]),null},dse=()=>l.jsx(TF,{children:l.jsxs(xX,{children:[l.jsxs(_3,{children:[l.jsx(ese,{}),l.jsx(use,{}),l.jsxs(g3,{children:[l.jsx(ht,{path:"/",element:l.jsx(hV,{})}),l.jsx(ht,{path:"/food",element:l.jsx(qV,{})}),l.jsx(ht,{path:"/foods/:id",element:l.jsx(pj,{})}),l.jsx(ht,{path:"/food/:id",element:l.jsx(pj,{})}),l.jsx(ht,{path:"/stays",element:l.jsx(wJ,{})}),l.jsx(ht,{path:"/stays/:id",element:l.jsx(LJ,{})}),l.jsx(ht,{path:"/become-host",element:l.jsx(DJ,{})}),l.jsx(ht,{path:"/login",element:l.jsx(pne,{})}),l.jsx(ht,{path:"/signup",element:l.jsx(wne,{})}),l.jsx(ht,{path:"/forgot-password",element:l.jsx(Cne,{})}),l.jsx(ht,{path:"/reset-password",element:l.jsx(jne,{})}),l.jsx(ht,{path:"/auth/callback",element:l.jsx(Ene,{})}),l.jsx(ht,{path:"/terms",element:l.jsx(Hne,{})}),l.jsx(ht,{path:"/privacy",element:l.jsx(Gne,{})}),l.jsx(ht,{path:"/help",element:l.jsx(Zne,{})}),l.jsx(ht,{path:"/safety",element:l.jsx(Xne,{})}),l.jsx(ht,{path:"/bookings",element:l.jsx($n,{children:l.jsx(lse,{})})}),l.jsx(ht,{path:"/bookings/:bookingId",element:l.jsx($n,{children:l.jsx(ase,{})})}),l.jsx(ht,{path:"/host/dashboard",element:l.jsx($n,{children:l.jsx(cse,{children:l.jsx(Jne,{})})})}),l.jsx(ht,{path:"/host/food",element:l.jsx($n,{children:l.jsx(gf,{})})}),l.jsx(ht,{path:"/host/food/:id",element:l.jsx($n,{children:l.jsx(gf,{})})}),l.jsx(ht,{path:"/host/food/new",element:l.jsx($n,{children:l.jsx(gf,{})})}),l.jsx(ht,{path:"/host/food/edit/:id",element:l.jsx($n,{children:l.jsx(gf,{})})}),l.jsx(ht,{path:"/host/stay",element:l.jsx($n,{children:l.jsx(Dv,{})})}),l.jsx(ht,{path:"/host/stay/:id",element:l.jsx($n,{children:l.jsx(Dv,{})})}),l.jsx(ht,{path:"/host/stay/new",element:l.jsx($n,{children:l.jsx(Dv,{})})}),l.jsx(ht,{path:"/profile",element:l.jsx($n,{children:l.jsx(ise,{})})})]})]}),l.jsx(LF,{position:"top-center"})]})});c2(document.getElementById("root")).render(l.jsx(dse,{}));export{Tx as g};
