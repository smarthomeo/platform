function YT(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var mn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function KT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var gE={exports:{}},Qh={},vE={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pu=Symbol.for("react.element"),ZT=Symbol.for("react.portal"),XT=Symbol.for("react.fragment"),JT=Symbol.for("react.strict_mode"),QT=Symbol.for("react.profiler"),eR=Symbol.for("react.provider"),tR=Symbol.for("react.context"),rR=Symbol.for("react.forward_ref"),nR=Symbol.for("react.suspense"),sR=Symbol.for("react.memo"),oR=Symbol.for("react.lazy"),l0=Symbol.iterator;function iR(e){return e===null||typeof e!="object"?null:(e=l0&&e[l0]||e["@@iterator"],typeof e=="function"?e:null)}var yE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xE=Object.assign,bE={};function sl(e,t,r){this.props=e,this.context=t,this.refs=bE,this.updater=r||yE}sl.prototype.isReactComponent={};sl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wE(){}wE.prototype=sl.prototype;function ux(e,t,r){this.props=e,this.context=t,this.refs=bE,this.updater=r||yE}var dx=ux.prototype=new wE;dx.constructor=ux;xE(dx,sl.prototype);dx.isPureReactComponent=!0;var c0=Array.isArray,SE=Object.prototype.hasOwnProperty,fx={current:null},_E={key:!0,ref:!0,__self:!0,__source:!0};function CE(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)SE.call(t,n)&&!_E.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Pu,type:e,key:o,ref:i,props:s,_owner:fx.current}}function aR(e,t){return{$$typeof:Pu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pu}function lR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var u0=/\/+/g;function km(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lR(""+e.key):t.toString(36)}function df(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Pu:case ZT:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+km(i,0):n,c0(s)?(r="",e!=null&&(r=e.replace(u0,"$&/")+"/"),df(s,t,r,"",function(u){return u})):s!=null&&(hx(s)&&(s=aR(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(u0,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",c0(e))for(var a=0;a<e.length;a++){o=e[a];var c=n+km(o,a);i+=df(o,t,r,c,s)}else if(c=iR(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=n+km(o,a++),i+=df(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function bd(e,t,r){if(e==null)return e;var n=[],s=0;return df(e,n,"","",function(o){return t.call(r,o,s++)}),n}function cR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yr={current:null},ff={transition:null},uR={ReactCurrentDispatcher:yr,ReactCurrentBatchConfig:ff,ReactCurrentOwner:fx};function EE(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:bd,forEach:function(e,t,r){bd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bd(e,function(){t++}),t},toArray:function(e){return bd(e,function(t){return t})||[]},only:function(e){if(!hx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ze.Component=sl;ze.Fragment=XT;ze.Profiler=QT;ze.PureComponent=ux;ze.StrictMode=JT;ze.Suspense=nR;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uR;ze.act=EE;ze.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xE({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=fx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)SE.call(t,c)&&!_E.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Pu,type:e.type,key:s,ref:o,props:n,_owner:i}};ze.createContext=function(e){return e={$$typeof:tR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eR,_context:e},e.Consumer=e};ze.createElement=CE;ze.createFactory=function(e){var t=CE.bind(null,e);return t.type=e,t};ze.createRef=function(){return{current:null}};ze.forwardRef=function(e){return{$$typeof:rR,render:e}};ze.isValidElement=hx;ze.lazy=function(e){return{$$typeof:oR,_payload:{_status:-1,_result:e},_init:cR}};ze.memo=function(e,t){return{$$typeof:sR,type:e,compare:t===void 0?null:t}};ze.startTransition=function(e){var t=ff.transition;ff.transition={};try{e()}finally{ff.transition=t}};ze.unstable_act=EE;ze.useCallback=function(e,t){return yr.current.useCallback(e,t)};ze.useContext=function(e){return yr.current.useContext(e)};ze.useDebugValue=function(){};ze.useDeferredValue=function(e){return yr.current.useDeferredValue(e)};ze.useEffect=function(e,t){return yr.current.useEffect(e,t)};ze.useId=function(){return yr.current.useId()};ze.useImperativeHandle=function(e,t,r){return yr.current.useImperativeHandle(e,t,r)};ze.useInsertionEffect=function(e,t){return yr.current.useInsertionEffect(e,t)};ze.useLayoutEffect=function(e,t){return yr.current.useLayoutEffect(e,t)};ze.useMemo=function(e,t){return yr.current.useMemo(e,t)};ze.useReducer=function(e,t,r){return yr.current.useReducer(e,t,r)};ze.useRef=function(e){return yr.current.useRef(e)};ze.useState=function(e){return yr.current.useState(e)};ze.useSyncExternalStore=function(e,t,r){return yr.current.useSyncExternalStore(e,t,r)};ze.useTransition=function(){return yr.current.useTransition()};ze.version="18.3.1";vE.exports=ze;var d=vE.exports;const Y=cx(d),px=YT({__proto__:null,default:Y},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR=d,fR=Symbol.for("react.element"),hR=Symbol.for("react.fragment"),pR=Object.prototype.hasOwnProperty,mR=dR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gR={key:!0,ref:!0,__self:!0,__source:!0};function jE(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)pR.call(t,n)&&!gR.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:fR,type:e,key:o,ref:i,props:s,_owner:mR.current}}Qh.Fragment=hR;Qh.jsx=jE;Qh.jsxs=jE;gE.exports=Qh;var l=gE.exports,kE={exports:{}},en={},NE={exports:{}},PE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,L){var U=O.length;O.push(L);e:for(;0<U;){var W=U-1>>>1,T=O[W];if(0<s(T,L))O[W]=L,O[U]=T,U=W;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var L=O[0],U=O.pop();if(U!==L){O[0]=U;e:for(var W=0,T=O.length,H=T>>>1;W<H;){var K=2*(W+1)-1,R=O[K],J=K+1,Z=O[J];if(0>s(R,U))J<T&&0>s(Z,R)?(O[W]=Z,O[J]=U,W=J):(O[W]=R,O[K]=U,W=K);else if(J<T&&0>s(Z,U))O[W]=Z,O[J]=U,W=J;else break e}}return L}function s(O,L){var U=O.sortIndex-L.sortIndex;return U!==0?U:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],f=1,h=null,p=3,m=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=O)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function S(O){if(v=!1,w(O),!g)if(r(c)!==null)g=!0,$(_);else{var L=r(u);L!==null&&F(S,L.startTime-O)}}function _(O,L){g=!1,v&&(v=!1,x(N),N=-1),m=!0;var U=p;try{for(w(L),h=r(c);h!==null&&(!(h.expirationTime>L)||O&&!k());){var W=h.callback;if(typeof W=="function"){h.callback=null,p=h.priorityLevel;var T=W(h.expirationTime<=L);L=e.unstable_now(),typeof T=="function"?h.callback=T:h===r(c)&&n(c),w(L)}else n(c);h=r(c)}if(h!==null)var H=!0;else{var K=r(u);K!==null&&F(S,K.startTime-L),H=!1}return H}finally{h=null,p=U,m=!1}}var C=!1,j=null,N=-1,E=5,P=-1;function k(){return!(e.unstable_now()-P<E)}function M(){if(j!==null){var O=e.unstable_now();P=O;var L=!0;try{L=j(!0,O)}finally{L?D():(C=!1,j=null)}}else C=!1}var D;if(typeof y=="function")D=function(){y(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,B=I.port2;I.port1.onmessage=M,D=function(){B.postMessage(null)}}else D=function(){b(M,0)};function $(O){j=O,C||(C=!0,D())}function F(O,L){N=b(function(){O(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,$(_))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var U=p;p=L;try{return O()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=p;p=O;try{return L()}finally{p=U}},e.unstable_scheduleCallback=function(O,L,U){var W=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,O){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=U+T,O={id:f++,callback:L,priorityLevel:O,startTime:U,expirationTime:T,sortIndex:-1},U>W?(O.sortIndex=U,t(u,O),r(c)===null&&O===r(u)&&(v?(x(N),N=-1):v=!0,F(S,U-W))):(O.sortIndex=T,t(c,O),g||m||(g=!0,$(_))),O},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(O){var L=p;return function(){var U=p;p=L;try{return O.apply(this,arguments)}finally{p=U}}}})(PE);NE.exports=PE;var vR=NE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR=d,Qr=vR;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LE=new Set,Pc={};function Ri(e,t){Ta(e,t),Ta(e+"Capture",t)}function Ta(e,t){for(Pc[e]=t,e=0;e<t.length;e++)LE.add(t[e])}var Fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uv=Object.prototype.hasOwnProperty,xR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d0={},f0={};function bR(e){return uv.call(f0,e)?!0:uv.call(d0,e)?!1:xR.test(e)?f0[e]=!0:(d0[e]=!0,!1)}function wR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function SR(e,t,r,n){if(t===null||typeof t>"u"||wR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xr(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nr[e]=new xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nr[t]=new xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nr[e]=new xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nr[e]=new xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nr[e]=new xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nr[e]=new xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nr[e]=new xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nr[e]=new xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nr[e]=new xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var mx=/[\-:]([a-z])/g;function gx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mx,gx);nr[t]=new xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mx,gx);nr[t]=new xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mx,gx);nr[t]=new xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nr[e]=new xr(e,1,!1,e.toLowerCase(),null,!1,!1)});nr.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nr[e]=new xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function vx(e,t,r,n){var s=nr.hasOwnProperty(t)?nr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(SR(t,r,s,n)&&(r=null),n||s===null?bR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gs=yR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wd=Symbol.for("react.element"),la=Symbol.for("react.portal"),ca=Symbol.for("react.fragment"),yx=Symbol.for("react.strict_mode"),dv=Symbol.for("react.profiler"),ME=Symbol.for("react.provider"),DE=Symbol.for("react.context"),xx=Symbol.for("react.forward_ref"),fv=Symbol.for("react.suspense"),hv=Symbol.for("react.suspense_list"),bx=Symbol.for("react.memo"),no=Symbol.for("react.lazy"),OE=Symbol.for("react.offscreen"),h0=Symbol.iterator;function Nl(e){return e===null||typeof e!="object"?null:(e=h0&&e[h0]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Object.assign,Nm;function Xl(e){if(Nm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Nm=t&&t[1]||""}return`
`+Nm+e}var Pm=!1;function Lm(e,t){if(!e||Pm)return"";Pm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{Pm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Xl(e):""}function _R(e){switch(e.tag){case 5:return Xl(e.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return e=Lm(e.type,!1),e;case 11:return e=Lm(e.type.render,!1),e;case 1:return e=Lm(e.type,!0),e;default:return""}}function pv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ca:return"Fragment";case la:return"Portal";case dv:return"Profiler";case yx:return"StrictMode";case fv:return"Suspense";case hv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case DE:return(e.displayName||"Context")+".Consumer";case ME:return(e._context.displayName||"Context")+".Provider";case xx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bx:return t=e.displayName||null,t!==null?t:pv(e.type)||"Memo";case no:t=e._payload,e=e._init;try{return pv(e(t))}catch{}}return null}function CR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pv(t);case 8:return t===yx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function TE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ER(e){var t=TE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sd(e){e._valueTracker||(e._valueTracker=ER(e))}function RE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=TE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Of(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mv(e,t){var r=t.checked;return Ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function p0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Mo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function IE(e,t){t=t.checked,t!=null&&vx(e,"checked",t,!1)}function gv(e,t){IE(e,t);var r=Mo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vv(e,t.type,r):t.hasOwnProperty("defaultValue")&&vv(e,t.type,Mo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function m0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function vv(e,t,r){(t!=="number"||Of(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jl=Array.isArray;function wa(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mo(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function yv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function g0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(Jl(r)){if(1<r.length)throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mo(r)}}function AE(e,t){var r=Mo(t.value),n=Mo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function v0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $E(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$E(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _d,FE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_d=_d||document.createElement("div"),_d.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_d.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ic={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jR=["Webkit","ms","Moz","O"];Object.keys(ic).forEach(function(e){jR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ic[t]=ic[e]})});function BE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ic.hasOwnProperty(e)&&ic[e]?(""+t).trim():t+"px"}function UE(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=BE(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var kR=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bv(e,t){if(t){if(kR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function wv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sv=null;function wx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _v=null,Sa=null,_a=null;function y0(e){if(e=Du(e)){if(typeof _v!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=sp(t),_v(e.stateNode,e.type,t))}}function zE(e){Sa?_a?_a.push(e):_a=[e]:Sa=e}function WE(){if(Sa){var e=Sa,t=_a;if(_a=Sa=null,y0(e),t)for(e=0;e<t.length;e++)y0(t[e])}}function VE(e,t){return e(t)}function HE(){}var Mm=!1;function GE(e,t,r){if(Mm)return e(t,r);Mm=!0;try{return VE(e,t,r)}finally{Mm=!1,(Sa!==null||_a!==null)&&(HE(),WE())}}function Mc(e,t){var r=e.stateNode;if(r===null)return null;var n=sp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var Cv=!1;if(Fs)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){Cv=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{Cv=!1}function NR(e,t,r,n,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var ac=!1,Tf=null,Rf=!1,Ev=null,PR={onError:function(e){ac=!0,Tf=e}};function LR(e,t,r,n,s,o,i,a,c){ac=!1,Tf=null,NR.apply(PR,arguments)}function MR(e,t,r,n,s,o,i,a,c){if(LR.apply(this,arguments),ac){if(ac){var u=Tf;ac=!1,Tf=null}else throw Error(ne(198));Rf||(Rf=!0,Ev=u)}}function Ii(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x0(e){if(Ii(e)!==e)throw Error(ne(188))}function DR(e){var t=e.alternate;if(!t){if(t=Ii(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return x0(s),e;if(o===n)return x0(s),t;o=o.sibling}throw Error(ne(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function YE(e){return e=DR(e),e!==null?KE(e):null}function KE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=KE(e);if(t!==null)return t;e=e.sibling}return null}var ZE=Qr.unstable_scheduleCallback,b0=Qr.unstable_cancelCallback,OR=Qr.unstable_shouldYield,TR=Qr.unstable_requestPaint,Ot=Qr.unstable_now,RR=Qr.unstable_getCurrentPriorityLevel,Sx=Qr.unstable_ImmediatePriority,XE=Qr.unstable_UserBlockingPriority,If=Qr.unstable_NormalPriority,IR=Qr.unstable_LowPriority,JE=Qr.unstable_IdlePriority,ep=null,rs=null;function AR(e){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(ep,e,void 0,(e.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:BR,$R=Math.log,FR=Math.LN2;function BR(e){return e>>>=0,e===0?32:31-($R(e)/FR|0)|0}var Cd=64,Ed=4194304;function Ql(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Af(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=Ql(a):(o&=i,o!==0&&(n=Ql(o)))}else i=r&~s,i!==0?n=Ql(i):o!==0&&(n=Ql(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Tn(t),s=1<<r,n|=e[r],t&=~s;return n}function UR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Tn(o),a=1<<i,c=s[i];c===-1?(!(a&r)||a&n)&&(s[i]=UR(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function jv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QE(){var e=Cd;return Cd<<=1,!(Cd&4194240)&&(Cd=64),e}function Dm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Lu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tn(t),e[t]=r}function WR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Tn(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function _x(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Tn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var lt=0;function ej(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tj,Cx,rj,nj,sj,kv=!1,jd=[],go=null,vo=null,yo=null,Dc=new Map,Oc=new Map,ao=[],VR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w0(e,t){switch(e){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":Dc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(t.pointerId)}}function Ll(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Du(t),t!==null&&Cx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function HR(e,t,r,n,s){switch(t){case"focusin":return go=Ll(go,e,t,r,n,s),!0;case"dragenter":return vo=Ll(vo,e,t,r,n,s),!0;case"mouseover":return yo=Ll(yo,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return Dc.set(o,Ll(Dc.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Oc.set(o,Ll(Oc.get(o)||null,e,t,r,n,s)),!0}return!1}function oj(e){var t=di(e.target);if(t!==null){var r=Ii(t);if(r!==null){if(t=r.tag,t===13){if(t=qE(r),t!==null){e.blockedOn=t,sj(e.priority,function(){rj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Nv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Sv=n,r.target.dispatchEvent(n),Sv=null}else return t=Du(r),t!==null&&Cx(t),e.blockedOn=r,!1;t.shift()}return!0}function S0(e,t,r){hf(e)&&r.delete(t)}function GR(){kv=!1,go!==null&&hf(go)&&(go=null),vo!==null&&hf(vo)&&(vo=null),yo!==null&&hf(yo)&&(yo=null),Dc.forEach(S0),Oc.forEach(S0)}function Ml(e,t){e.blockedOn===t&&(e.blockedOn=null,kv||(kv=!0,Qr.unstable_scheduleCallback(Qr.unstable_NormalPriority,GR)))}function Tc(e){function t(s){return Ml(s,e)}if(0<jd.length){Ml(jd[0],e);for(var r=1;r<jd.length;r++){var n=jd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(go!==null&&Ml(go,e),vo!==null&&Ml(vo,e),yo!==null&&Ml(yo,e),Dc.forEach(t),Oc.forEach(t),r=0;r<ao.length;r++)n=ao[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ao.length&&(r=ao[0],r.blockedOn===null);)oj(r),r.blockedOn===null&&ao.shift()}var Ca=Gs.ReactCurrentBatchConfig,$f=!0;function qR(e,t,r,n){var s=lt,o=Ca.transition;Ca.transition=null;try{lt=1,Ex(e,t,r,n)}finally{lt=s,Ca.transition=o}}function YR(e,t,r,n){var s=lt,o=Ca.transition;Ca.transition=null;try{lt=4,Ex(e,t,r,n)}finally{lt=s,Ca.transition=o}}function Ex(e,t,r,n){if($f){var s=Nv(e,t,r,n);if(s===null)zm(e,t,n,Ff,r),w0(e,n);else if(HR(s,e,t,r,n))n.stopPropagation();else if(w0(e,n),t&4&&-1<VR.indexOf(e)){for(;s!==null;){var o=Du(s);if(o!==null&&tj(o),o=Nv(e,t,r,n),o===null&&zm(e,t,n,Ff,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else zm(e,t,n,null,r)}}var Ff=null;function Nv(e,t,r,n){if(Ff=null,e=wx(n),e=di(e),e!==null)if(t=Ii(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ff=e,null}function ij(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RR()){case Sx:return 1;case XE:return 4;case If:case IR:return 16;case JE:return 536870912;default:return 16}default:return 16}}var ho=null,jx=null,pf=null;function aj(){if(pf)return pf;var e,t=jx,r=t.length,n,s="value"in ho?ho.value:ho.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return pf=s.slice(e,1<n?1-n:void 0)}function mf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kd(){return!0}function _0(){return!1}function tn(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?kd:_0,this.isPropagationStopped=_0,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),t}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kx=tn(ol),Mu=Ct({},ol,{view:0,detail:0}),KR=tn(Mu),Om,Tm,Dl,tp=Ct({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dl&&(Dl&&e.type==="mousemove"?(Om=e.screenX-Dl.screenX,Tm=e.screenY-Dl.screenY):Tm=Om=0,Dl=e),Om)},movementY:function(e){return"movementY"in e?e.movementY:Tm}}),C0=tn(tp),ZR=Ct({},tp,{dataTransfer:0}),XR=tn(ZR),JR=Ct({},Mu,{relatedTarget:0}),Rm=tn(JR),QR=Ct({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),eI=tn(QR),tI=Ct({},ol,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rI=tn(tI),nI=Ct({},ol,{data:0}),E0=tn(nI),sI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iI[e])?!!t[e]:!1}function Nx(){return aI}var lI=Ct({},Mu,{key:function(e){if(e.key){var t=sI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nx,charCode:function(e){return e.type==="keypress"?mf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cI=tn(lI),uI=Ct({},tp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j0=tn(uI),dI=Ct({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nx}),fI=tn(dI),hI=Ct({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),pI=tn(hI),mI=Ct({},tp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gI=tn(mI),vI=[9,13,27,32],Px=Fs&&"CompositionEvent"in window,lc=null;Fs&&"documentMode"in document&&(lc=document.documentMode);var yI=Fs&&"TextEvent"in window&&!lc,lj=Fs&&(!Px||lc&&8<lc&&11>=lc),k0=" ",N0=!1;function cj(e,t){switch(e){case"keyup":return vI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function xI(e,t){switch(e){case"compositionend":return uj(t);case"keypress":return t.which!==32?null:(N0=!0,k0);case"textInput":return e=t.data,e===k0&&N0?null:e;default:return null}}function bI(e,t){if(ua)return e==="compositionend"||!Px&&cj(e,t)?(e=aj(),pf=jx=ho=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lj&&t.locale!=="ko"?null:t.data;default:return null}}var wI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wI[e.type]:t==="textarea"}function dj(e,t,r,n){zE(n),t=Bf(t,"onChange"),0<t.length&&(r=new kx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var cc=null,Rc=null;function SI(e){Sj(e,0)}function rp(e){var t=ha(e);if(RE(t))return e}function _I(e,t){if(e==="change")return t}var fj=!1;if(Fs){var Im;if(Fs){var Am="oninput"in document;if(!Am){var L0=document.createElement("div");L0.setAttribute("oninput","return;"),Am=typeof L0.oninput=="function"}Im=Am}else Im=!1;fj=Im&&(!document.documentMode||9<document.documentMode)}function M0(){cc&&(cc.detachEvent("onpropertychange",hj),Rc=cc=null)}function hj(e){if(e.propertyName==="value"&&rp(Rc)){var t=[];dj(t,Rc,e,wx(e)),GE(SI,t)}}function CI(e,t,r){e==="focusin"?(M0(),cc=t,Rc=r,cc.attachEvent("onpropertychange",hj)):e==="focusout"&&M0()}function EI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rp(Rc)}function jI(e,t){if(e==="click")return rp(t)}function kI(e,t){if(e==="input"||e==="change")return rp(t)}function NI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var An=typeof Object.is=="function"?Object.is:NI;function Ic(e,t){if(An(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!uv.call(t,s)||!An(e[s],t[s]))return!1}return!0}function D0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function O0(e,t){var r=D0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=D0(r)}}function pj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mj(){for(var e=window,t=Of();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Of(e.document)}return t}function Lx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PI(e){var t=mj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&pj(r.ownerDocument.documentElement,r)){if(n!==null&&Lx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=O0(r,o);var i=O0(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LI=Fs&&"documentMode"in document&&11>=document.documentMode,da=null,Pv=null,uc=null,Lv=!1;function T0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lv||da==null||da!==Of(n)||(n=da,"selectionStart"in n&&Lx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),uc&&Ic(uc,n)||(uc=n,n=Bf(Pv,"onSelect"),0<n.length&&(t=new kx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=da)))}function Nd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fa={animationend:Nd("Animation","AnimationEnd"),animationiteration:Nd("Animation","AnimationIteration"),animationstart:Nd("Animation","AnimationStart"),transitionend:Nd("Transition","TransitionEnd")},$m={},gj={};Fs&&(gj=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function np(e){if($m[e])return $m[e];if(!fa[e])return e;var t=fa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in gj)return $m[e]=t[r];return e}var vj=np("animationend"),yj=np("animationiteration"),xj=np("animationstart"),bj=np("transitionend"),wj=new Map,R0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wo(e,t){wj.set(e,t),Ri(t,[e])}for(var Fm=0;Fm<R0.length;Fm++){var Bm=R0[Fm],MI=Bm.toLowerCase(),DI=Bm[0].toUpperCase()+Bm.slice(1);Wo(MI,"on"+DI)}Wo(vj,"onAnimationEnd");Wo(yj,"onAnimationIteration");Wo(xj,"onAnimationStart");Wo("dblclick","onDoubleClick");Wo("focusin","onFocus");Wo("focusout","onBlur");Wo(bj,"onTransitionEnd");Ta("onMouseEnter",["mouseout","mouseover"]);Ta("onMouseLeave",["mouseout","mouseover"]);Ta("onPointerEnter",["pointerout","pointerover"]);Ta("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OI=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function I0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,MR(n,t,void 0,e),e.currentTarget=null}function Sj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;I0(s,a,u),o=c}else for(i=0;i<n.length;i++){if(a=n[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;I0(s,a,u),o=c}}}if(Rf)throw e=Ev,Rf=!1,Ev=null,e}function vt(e,t){var r=t[Rv];r===void 0&&(r=t[Rv]=new Set);var n=e+"__bubble";r.has(n)||(_j(t,e,2,!1),r.add(n))}function Um(e,t,r){var n=0;t&&(n|=4),_j(r,e,n,t)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function Ac(e){if(!e[Pd]){e[Pd]=!0,LE.forEach(function(r){r!=="selectionchange"&&(OI.has(r)||Um(r,!1,e),Um(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pd]||(t[Pd]=!0,Um("selectionchange",!1,t))}}function _j(e,t,r,n){switch(ij(t)){case 1:var s=qR;break;case 4:s=YR;break;default:s=Ex}r=s.bind(null,t,r,e),s=void 0,!Cv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function zm(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=di(a),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}a=a.parentNode}}n=n.return}GE(function(){var u=o,f=wx(r),h=[];e:{var p=wj.get(e);if(p!==void 0){var m=kx,g=e;switch(e){case"keypress":if(mf(r)===0)break e;case"keydown":case"keyup":m=cI;break;case"focusin":g="focus",m=Rm;break;case"focusout":g="blur",m=Rm;break;case"beforeblur":case"afterblur":m=Rm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=C0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=XR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=fI;break;case vj:case yj:case xj:m=eI;break;case bj:m=pI;break;case"scroll":m=KR;break;case"wheel":m=gI;break;case"copy":case"cut":case"paste":m=rI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=j0}var v=(t&4)!==0,b=!v&&e==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var y=u,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=Mc(y,x),S!=null&&v.push($c(y,S,w)))),b)break;y=y.return}0<v.length&&(p=new m(p,g,null,r,f),h.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==Sv&&(g=r.relatedTarget||r.fromElement)&&(di(g)||g[Bs]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?di(g):null,g!==null&&(b=Ii(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=C0,S="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=j0,S="onPointerLeave",x="onPointerEnter",y="pointer"),b=m==null?p:ha(m),w=g==null?p:ha(g),p=new v(S,y+"leave",m,r,f),p.target=b,p.relatedTarget=w,S=null,di(f)===u&&(v=new v(x,y+"enter",g,r,f),v.target=w,v.relatedTarget=b,S=v),b=S,m&&g)t:{for(v=m,x=g,y=0,w=v;w;w=Vi(w))y++;for(w=0,S=x;S;S=Vi(S))w++;for(;0<y-w;)v=Vi(v),y--;for(;0<w-y;)x=Vi(x),w--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=Vi(v),x=Vi(x)}v=null}else v=null;m!==null&&A0(h,p,m,v,!1),g!==null&&b!==null&&A0(h,b,g,v,!0)}}e:{if(p=u?ha(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=_I;else if(P0(p))if(fj)_=kI;else{_=EI;var C=CI}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=jI);if(_&&(_=_(e,u))){dj(h,_,r,f);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&vv(p,"number",p.value)}switch(C=u?ha(u):window,e){case"focusin":(P0(C)||C.contentEditable==="true")&&(da=C,Pv=u,uc=null);break;case"focusout":uc=Pv=da=null;break;case"mousedown":Lv=!0;break;case"contextmenu":case"mouseup":case"dragend":Lv=!1,T0(h,r,f);break;case"selectionchange":if(LI)break;case"keydown":case"keyup":T0(h,r,f)}var j;if(Px)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ua?cj(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(lj&&r.locale!=="ko"&&(ua||N!=="onCompositionStart"?N==="onCompositionEnd"&&ua&&(j=aj()):(ho=f,jx="value"in ho?ho.value:ho.textContent,ua=!0)),C=Bf(u,N),0<C.length&&(N=new E0(N,e,null,r,f),h.push({event:N,listeners:C}),j?N.data=j:(j=uj(r),j!==null&&(N.data=j)))),(j=yI?xI(e,r):bI(e,r))&&(u=Bf(u,"onBeforeInput"),0<u.length&&(f=new E0("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:u}),f.data=j))}Sj(h,t)})}function $c(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bf(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Mc(e,r),o!=null&&n.unshift($c(e,o,s)),o=Mc(e,t),o!=null&&n.push($c(e,o,s))),e=e.return}return n}function Vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function A0(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=Mc(r,o),c!=null&&i.unshift($c(r,c,a))):s||(c=Mc(r,o),c!=null&&i.push($c(r,c,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var TI=/\r\n?/g,RI=/\u0000|\uFFFD/g;function $0(e){return(typeof e=="string"?e:""+e).replace(TI,`
`).replace(RI,"")}function Ld(e,t,r){if(t=$0(t),$0(e)!==t&&r)throw Error(ne(425))}function Uf(){}var Mv=null,Dv=null;function Ov(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tv=typeof setTimeout=="function"?setTimeout:void 0,II=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,AI=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(e){return F0.resolve(null).then(e).catch($I)}:Tv;function $I(e){setTimeout(function(){throw e})}function Wm(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Tc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Tc(t)}function xo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function B0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var il=Math.random().toString(36).slice(2),es="__reactFiber$"+il,Fc="__reactProps$"+il,Bs="__reactContainer$"+il,Rv="__reactEvents$"+il,FI="__reactListeners$"+il,BI="__reactHandles$"+il;function di(e){var t=e[es];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Bs]||r[es]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=B0(e);e!==null;){if(r=e[es])return r;e=B0(e)}return t}e=r,r=e.parentNode}return null}function Du(e){return e=e[es]||e[Bs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ha(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function sp(e){return e[Fc]||null}var Iv=[],pa=-1;function Vo(e){return{current:e}}function yt(e){0>pa||(e.current=Iv[pa],Iv[pa]=null,pa--)}function ht(e,t){pa++,Iv[pa]=e.current,e.current=t}var Do={},cr=Vo(Do),Lr=Vo(!1),xi=Do;function Ra(e,t){var r=e.type.contextTypes;if(!r)return Do;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Mr(e){return e=e.childContextTypes,e!=null}function zf(){yt(Lr),yt(cr)}function U0(e,t,r){if(cr.current!==Do)throw Error(ne(168));ht(cr,t),ht(Lr,r)}function Cj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ne(108,CR(e)||"Unknown",s));return Ct({},r,n)}function Wf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Do,xi=cr.current,ht(cr,e),ht(Lr,Lr.current),!0}function z0(e,t,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=Cj(e,t,xi),n.__reactInternalMemoizedMergedChildContext=e,yt(Lr),yt(cr),ht(cr,e)):yt(Lr),ht(Lr,r)}var Ps=null,op=!1,Vm=!1;function Ej(e){Ps===null?Ps=[e]:Ps.push(e)}function UI(e){op=!0,Ej(e)}function Ho(){if(!Vm&&Ps!==null){Vm=!0;var e=0,t=lt;try{var r=Ps;for(lt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ps=null,op=!1}catch(s){throw Ps!==null&&(Ps=Ps.slice(e+1)),ZE(Sx,Ho),s}finally{lt=t,Vm=!1}}return null}var ma=[],ga=0,Vf=null,Hf=0,an=[],ln=0,bi=null,Ls=1,Ms="";function si(e,t){ma[ga++]=Hf,ma[ga++]=Vf,Vf=e,Hf=t}function jj(e,t,r){an[ln++]=Ls,an[ln++]=Ms,an[ln++]=bi,bi=e;var n=Ls;e=Ms;var s=32-Tn(n)-1;n&=~(1<<s),r+=1;var o=32-Tn(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Ls=1<<32-Tn(t)+s|r<<s|n,Ms=o+e}else Ls=1<<o|r<<s|n,Ms=e}function Mx(e){e.return!==null&&(si(e,1),jj(e,1,0))}function Dx(e){for(;e===Vf;)Vf=ma[--ga],ma[ga]=null,Hf=ma[--ga],ma[ga]=null;for(;e===bi;)bi=an[--ln],an[ln]=null,Ms=an[--ln],an[ln]=null,Ls=an[--ln],an[ln]=null}var Yr=null,Gr=null,xt=!1,Pn=null;function kj(e,t){var r=cn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function W0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yr=e,Gr=xo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yr=e,Gr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bi!==null?{id:Ls,overflow:Ms}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Yr=e,Gr=null,!0):!1;default:return!1}}function Av(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $v(e){if(xt){var t=Gr;if(t){var r=t;if(!W0(e,t)){if(Av(e))throw Error(ne(418));t=xo(r.nextSibling);var n=Yr;t&&W0(e,t)?kj(n,r):(e.flags=e.flags&-4097|2,xt=!1,Yr=e)}}else{if(Av(e))throw Error(ne(418));e.flags=e.flags&-4097|2,xt=!1,Yr=e}}}function V0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yr=e}function Md(e){if(e!==Yr)return!1;if(!xt)return V0(e),xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ov(e.type,e.memoizedProps)),t&&(t=Gr)){if(Av(e))throw Nj(),Error(ne(418));for(;t;)kj(e,t),t=xo(t.nextSibling)}if(V0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Gr=xo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Gr=null}}else Gr=Yr?xo(e.stateNode.nextSibling):null;return!0}function Nj(){for(var e=Gr;e;)e=xo(e.nextSibling)}function Ia(){Gr=Yr=null,xt=!1}function Ox(e){Pn===null?Pn=[e]:Pn.push(e)}var zI=Gs.ReactCurrentBatchConfig;function Ol(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function Dd(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function H0(e){var t=e._init;return t(e._payload)}function Pj(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=_o(x,y),x.index=0,x.sibling=null,x}function o(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,y,w,S){return y===null||y.tag!==6?(y=Xm(w,x.mode,S),y.return=x,y):(y=s(y,w),y.return=x,y)}function c(x,y,w,S){var _=w.type;return _===ca?f(x,y,w.props.children,S,w.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===no&&H0(_)===y.type)?(S=s(y,w.props),S.ref=Ol(x,y,w),S.return=x,S):(S=Sf(w.type,w.key,w.props,null,x.mode,S),S.ref=Ol(x,y,w),S.return=x,S)}function u(x,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Jm(w,x.mode,S),y.return=x,y):(y=s(y,w.children||[]),y.return=x,y)}function f(x,y,w,S,_){return y===null||y.tag!==7?(y=vi(w,x.mode,S,_),y.return=x,y):(y=s(y,w),y.return=x,y)}function h(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Xm(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wd:return w=Sf(y.type,y.key,y.props,null,x.mode,w),w.ref=Ol(x,null,y),w.return=x,w;case la:return y=Jm(y,x.mode,w),y.return=x,y;case no:var S=y._init;return h(x,S(y._payload),w)}if(Jl(y)||Nl(y))return y=vi(y,x.mode,w,null),y.return=x,y;Dd(x,y)}return null}function p(x,y,w,S){var _=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(x,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wd:return w.key===_?c(x,y,w,S):null;case la:return w.key===_?u(x,y,w,S):null;case no:return _=w._init,p(x,y,_(w._payload),S)}if(Jl(w)||Nl(w))return _!==null?null:f(x,y,w,S,null);Dd(x,w)}return null}function m(x,y,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,a(y,x,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wd:return x=x.get(S.key===null?w:S.key)||null,c(y,x,S,_);case la:return x=x.get(S.key===null?w:S.key)||null,u(y,x,S,_);case no:var C=S._init;return m(x,y,w,C(S._payload),_)}if(Jl(S)||Nl(S))return x=x.get(w)||null,f(y,x,S,_,null);Dd(y,S)}return null}function g(x,y,w,S){for(var _=null,C=null,j=y,N=y=0,E=null;j!==null&&N<w.length;N++){j.index>N?(E=j,j=null):E=j.sibling;var P=p(x,j,w[N],S);if(P===null){j===null&&(j=E);break}e&&j&&P.alternate===null&&t(x,j),y=o(P,y,N),C===null?_=P:C.sibling=P,C=P,j=E}if(N===w.length)return r(x,j),xt&&si(x,N),_;if(j===null){for(;N<w.length;N++)j=h(x,w[N],S),j!==null&&(y=o(j,y,N),C===null?_=j:C.sibling=j,C=j);return xt&&si(x,N),_}for(j=n(x,j);N<w.length;N++)E=m(j,x,N,w[N],S),E!==null&&(e&&E.alternate!==null&&j.delete(E.key===null?N:E.key),y=o(E,y,N),C===null?_=E:C.sibling=E,C=E);return e&&j.forEach(function(k){return t(x,k)}),xt&&si(x,N),_}function v(x,y,w,S){var _=Nl(w);if(typeof _!="function")throw Error(ne(150));if(w=_.call(w),w==null)throw Error(ne(151));for(var C=_=null,j=y,N=y=0,E=null,P=w.next();j!==null&&!P.done;N++,P=w.next()){j.index>N?(E=j,j=null):E=j.sibling;var k=p(x,j,P.value,S);if(k===null){j===null&&(j=E);break}e&&j&&k.alternate===null&&t(x,j),y=o(k,y,N),C===null?_=k:C.sibling=k,C=k,j=E}if(P.done)return r(x,j),xt&&si(x,N),_;if(j===null){for(;!P.done;N++,P=w.next())P=h(x,P.value,S),P!==null&&(y=o(P,y,N),C===null?_=P:C.sibling=P,C=P);return xt&&si(x,N),_}for(j=n(x,j);!P.done;N++,P=w.next())P=m(j,x,N,P.value,S),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?N:P.key),y=o(P,y,N),C===null?_=P:C.sibling=P,C=P);return e&&j.forEach(function(M){return t(x,M)}),xt&&si(x,N),_}function b(x,y,w,S){if(typeof w=="object"&&w!==null&&w.type===ca&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case wd:e:{for(var _=w.key,C=y;C!==null;){if(C.key===_){if(_=w.type,_===ca){if(C.tag===7){r(x,C.sibling),y=s(C,w.props.children),y.return=x,x=y;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===no&&H0(_)===C.type){r(x,C.sibling),y=s(C,w.props),y.ref=Ol(x,C,w),y.return=x,x=y;break e}r(x,C);break}else t(x,C);C=C.sibling}w.type===ca?(y=vi(w.props.children,x.mode,S,w.key),y.return=x,x=y):(S=Sf(w.type,w.key,w.props,null,x.mode,S),S.ref=Ol(x,y,w),S.return=x,x=S)}return i(x);case la:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=s(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=Jm(w,x.mode,S),y.return=x,x=y}return i(x);case no:return C=w._init,b(x,y,C(w._payload),S)}if(Jl(w))return g(x,y,w,S);if(Nl(w))return v(x,y,w,S);Dd(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=s(y,w),y.return=x,x=y):(r(x,y),y=Xm(w,x.mode,S),y.return=x,x=y),i(x)):r(x,y)}return b}var Aa=Pj(!0),Lj=Pj(!1),Gf=Vo(null),qf=null,va=null,Tx=null;function Rx(){Tx=va=qf=null}function Ix(e){var t=Gf.current;yt(Gf),e._currentValue=t}function Fv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ea(e,t){qf=e,Tx=va=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function gn(e){var t=e._currentValue;if(Tx!==e)if(e={context:e,memoizedValue:t,next:null},va===null){if(qf===null)throw Error(ne(308));va=e,qf.dependencies={lanes:0,firstContext:e}}else va=va.next=e;return t}var fi=null;function Ax(e){fi===null?fi=[e]:fi.push(e)}function Mj(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ax(t)):(r.next=s.next,s.next=r),t.interleaved=r,Us(e,n)}function Us(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var so=!1;function $x(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,qe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Us(e,r)}return s=n.interleaved,s===null?(t.next=t,Ax(n)):(t.next=s.next,s.next=t),n.interleaved=t,Us(e,r)}function gf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_x(e,r)}}function G0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Yf(e,t,r,n){var s=e.updateQueue;so=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==i&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;i=0,f=u=c=null,a=o;do{var p=a.lane,m=a.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(p=t,m=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(m,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(m,h,p):g,p==null)break e;h=Ct({},h,p);break e;case 2:so=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,c=h):f=f.next=m,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Si|=i,e.lanes=i,e.memoizedState=h}}function q0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ne(191,s));s.call(n)}}}var Ou={},ns=Vo(Ou),Bc=Vo(Ou),Uc=Vo(Ou);function hi(e){if(e===Ou)throw Error(ne(174));return e}function Fx(e,t){switch(ht(Uc,t),ht(Bc,e),ht(ns,Ou),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xv(t,e)}yt(ns),ht(ns,t)}function $a(){yt(ns),yt(Bc),yt(Uc)}function Oj(e){hi(Uc.current);var t=hi(ns.current),r=xv(t,e.type);t!==r&&(ht(Bc,e),ht(ns,r))}function Bx(e){Bc.current===e&&(yt(ns),yt(Bc))}var St=Vo(0);function Kf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hm=[];function Ux(){for(var e=0;e<Hm.length;e++)Hm[e]._workInProgressVersionPrimary=null;Hm.length=0}var vf=Gs.ReactCurrentDispatcher,Gm=Gs.ReactCurrentBatchConfig,wi=0,_t=null,Ft=null,qt=null,Zf=!1,dc=!1,zc=0,WI=0;function or(){throw Error(ne(321))}function zx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!An(e[r],t[r]))return!1;return!0}function Wx(e,t,r,n,s,o){if(wi=o,_t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vf.current=e===null||e.memoizedState===null?qI:YI,e=r(n,s),dc){o=0;do{if(dc=!1,zc=0,25<=o)throw Error(ne(301));o+=1,qt=Ft=null,t.updateQueue=null,vf.current=KI,e=r(n,s)}while(dc)}if(vf.current=Xf,t=Ft!==null&&Ft.next!==null,wi=0,qt=Ft=_t=null,Zf=!1,t)throw Error(ne(300));return e}function Vx(){var e=zc!==0;return zc=0,e}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?_t.memoizedState=qt=e:qt=qt.next=e,qt}function vn(){if(Ft===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var t=qt===null?_t.memoizedState:qt.next;if(t!==null)qt=t,Ft=e;else{if(e===null)throw Error(ne(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},qt===null?_t.memoizedState=qt=e:qt=qt.next=e}return qt}function Wc(e,t){return typeof t=="function"?t(e):t}function qm(e){var t=vn(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=Ft,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,c=null,u=o;do{var f=u.lane;if((wi&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,i=n):c=c.next=h,_t.lanes|=f,Si|=f}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=a,An(n,t.memoizedState)||(Nr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,_t.lanes|=o,Si|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ym(e){var t=vn(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);An(o,t.memoizedState)||(Nr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Tj(){}function Rj(e,t){var r=_t,n=vn(),s=t(),o=!An(n.memoizedState,s);if(o&&(n.memoizedState=s,Nr=!0),n=n.queue,Hx($j.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||qt!==null&&qt.memoizedState.tag&1){if(r.flags|=2048,Vc(9,Aj.bind(null,r,n,s,t),void 0,null),Yt===null)throw Error(ne(349));wi&30||Ij(r,t,s)}return s}function Ij(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Aj(e,t,r,n){t.value=r,t.getSnapshot=n,Fj(t)&&Bj(e)}function $j(e,t,r){return r(function(){Fj(t)&&Bj(e)})}function Fj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!An(e,r)}catch{return!0}}function Bj(e){var t=Us(e,1);t!==null&&Rn(t,e,1,-1)}function Y0(e){var t=Jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:e},t.queue=e,e=e.dispatch=GI.bind(null,_t,e),[t.memoizedState,e]}function Vc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Uj(){return vn().memoizedState}function yf(e,t,r,n){var s=Jn();_t.flags|=e,s.memoizedState=Vc(1|t,r,void 0,n===void 0?null:n)}function ip(e,t,r,n){var s=vn();n=n===void 0?null:n;var o=void 0;if(Ft!==null){var i=Ft.memoizedState;if(o=i.destroy,n!==null&&zx(n,i.deps)){s.memoizedState=Vc(t,r,o,n);return}}_t.flags|=e,s.memoizedState=Vc(1|t,r,o,n)}function K0(e,t){return yf(8390656,8,e,t)}function Hx(e,t){return ip(2048,8,e,t)}function zj(e,t){return ip(4,2,e,t)}function Wj(e,t){return ip(4,4,e,t)}function Vj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hj(e,t,r){return r=r!=null?r.concat([e]):null,ip(4,4,Vj.bind(null,t,e),r)}function Gx(){}function Gj(e,t){var r=vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qj(e,t){var r=vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Yj(e,t,r){return wi&21?(An(r,t)||(r=QE(),_t.lanes|=r,Si|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=r)}function VI(e,t){var r=lt;lt=r!==0&&4>r?r:4,e(!0);var n=Gm.transition;Gm.transition={};try{e(!1),t()}finally{lt=r,Gm.transition=n}}function Kj(){return vn().memoizedState}function HI(e,t,r){var n=So(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zj(e))Xj(t,r);else if(r=Mj(e,t,r,n),r!==null){var s=gr();Rn(r,e,n,s),Jj(r,t,n)}}function GI(e,t,r){var n=So(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zj(e))Xj(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,An(a,i)){var c=t.interleaved;c===null?(s.next=s,Ax(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Mj(e,t,s,n),r!==null&&(s=gr(),Rn(r,e,n,s),Jj(r,t,n))}}function Zj(e){var t=e.alternate;return e===_t||t!==null&&t===_t}function Xj(e,t){dc=Zf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Jj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_x(e,r)}}var Xf={readContext:gn,useCallback:or,useContext:or,useEffect:or,useImperativeHandle:or,useInsertionEffect:or,useLayoutEffect:or,useMemo:or,useReducer:or,useRef:or,useState:or,useDebugValue:or,useDeferredValue:or,useTransition:or,useMutableSource:or,useSyncExternalStore:or,useId:or,unstable_isNewReconciler:!1},qI={readContext:gn,useCallback:function(e,t){return Jn().memoizedState=[e,t===void 0?null:t],e},useContext:gn,useEffect:K0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,yf(4194308,4,Vj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yf(4194308,4,e,t)},useInsertionEffect:function(e,t){return yf(4,2,e,t)},useMemo:function(e,t){var r=Jn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Jn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=HI.bind(null,_t,e),[n.memoizedState,e]},useRef:function(e){var t=Jn();return e={current:e},t.memoizedState=e},useState:Y0,useDebugValue:Gx,useDeferredValue:function(e){return Jn().memoizedState=e},useTransition:function(){var e=Y0(!1),t=e[0];return e=VI.bind(null,e[1]),Jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=_t,s=Jn();if(xt){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=t(),Yt===null)throw Error(ne(349));wi&30||Ij(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,K0($j.bind(null,n,o,e),[e]),n.flags|=2048,Vc(9,Aj.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Jn(),t=Yt.identifierPrefix;if(xt){var r=Ms,n=Ls;r=(n&~(1<<32-Tn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=WI++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YI={readContext:gn,useCallback:Gj,useContext:gn,useEffect:Hx,useImperativeHandle:Hj,useInsertionEffect:zj,useLayoutEffect:Wj,useMemo:qj,useReducer:qm,useRef:Uj,useState:function(){return qm(Wc)},useDebugValue:Gx,useDeferredValue:function(e){var t=vn();return Yj(t,Ft.memoizedState,e)},useTransition:function(){var e=qm(Wc)[0],t=vn().memoizedState;return[e,t]},useMutableSource:Tj,useSyncExternalStore:Rj,useId:Kj,unstable_isNewReconciler:!1},KI={readContext:gn,useCallback:Gj,useContext:gn,useEffect:Hx,useImperativeHandle:Hj,useInsertionEffect:zj,useLayoutEffect:Wj,useMemo:qj,useReducer:Ym,useRef:Uj,useState:function(){return Ym(Wc)},useDebugValue:Gx,useDeferredValue:function(e){var t=vn();return Ft===null?t.memoizedState=e:Yj(t,Ft.memoizedState,e)},useTransition:function(){var e=Ym(Wc)[0],t=vn().memoizedState;return[e,t]},useMutableSource:Tj,useSyncExternalStore:Rj,useId:Kj,unstable_isNewReconciler:!1};function jn(e,t){if(e&&e.defaultProps){t=Ct({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ct({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ap={isMounted:function(e){return(e=e._reactInternals)?Ii(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gr(),s=So(e),o=Ts(n,s);o.payload=t,r!=null&&(o.callback=r),t=bo(e,o,s),t!==null&&(Rn(t,e,s,n),gf(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gr(),s=So(e),o=Ts(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=bo(e,o,s),t!==null&&(Rn(t,e,s,n),gf(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gr(),n=So(e),s=Ts(r,n);s.tag=2,t!=null&&(s.callback=t),t=bo(e,s,n),t!==null&&(Rn(t,e,n,r),gf(t,e,n))}};function Z0(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ic(r,n)||!Ic(s,o):!0}function Qj(e,t,r){var n=!1,s=Do,o=t.contextType;return typeof o=="object"&&o!==null?o=gn(o):(s=Mr(t)?xi:cr.current,n=t.contextTypes,o=(n=n!=null)?Ra(e,s):Do),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ap,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function X0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ap.enqueueReplaceState(t,t.state,null)}function Uv(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},$x(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=gn(o):(o=Mr(t)?xi:cr.current,s.context=Ra(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Bv(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ap.enqueueReplaceState(s,s.state,null),Yf(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fa(e,t){try{var r="",n=t;do r+=_R(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Km(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function zv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ZI=typeof WeakMap=="function"?WeakMap:Map;function ek(e,t,r){r=Ts(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Qf||(Qf=!0,Jv=n),zv(e,t)},r}function tk(e,t,r){r=Ts(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){zv(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){zv(e,t),typeof n!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function J0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ZI;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=uA.bind(null,e,t,r),t.then(e,e))}function Q0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function e1(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ts(-1,1),t.tag=2,bo(r,t,1))),r.lanes|=1),e)}var XI=Gs.ReactCurrentOwner,Nr=!1;function pr(e,t,r,n){t.child=e===null?Lj(t,null,r,n):Aa(t,e.child,r,n)}function t1(e,t,r,n,s){r=r.render;var o=t.ref;return Ea(t,s),n=Wx(e,t,r,n,o,s),r=Vx(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zs(e,t,s)):(xt&&r&&Mx(t),t.flags|=1,pr(e,t,n,s),t.child)}function r1(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!eb(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,rk(e,t,o,n,s)):(e=Sf(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ic,r(i,n)&&e.ref===t.ref)return zs(e,t,s)}return t.flags|=1,e=_o(o,n),e.ref=t.ref,e.return=t,t.child=e}function rk(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Ic(o,n)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,zs(e,t,s)}return Wv(e,t,r,n,s)}function nk(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(xa,Wr),Wr|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ht(xa,Wr),Wr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ht(xa,Wr),Wr|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,ht(xa,Wr),Wr|=n;return pr(e,t,s,r),t.child}function sk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Wv(e,t,r,n,s){var o=Mr(r)?xi:cr.current;return o=Ra(t,o),Ea(t,s),r=Wx(e,t,r,n,o,s),n=Vx(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zs(e,t,s)):(xt&&n&&Mx(t),t.flags|=1,pr(e,t,r,s),t.child)}function n1(e,t,r,n,s){if(Mr(r)){var o=!0;Wf(t)}else o=!1;if(Ea(t,s),t.stateNode===null)xf(e,t),Qj(t,r,n),Uv(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=gn(u):(u=Mr(r)?xi:cr.current,u=Ra(t,u));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||c!==u)&&X0(t,i,n,u),so=!1;var p=t.memoizedState;i.state=p,Yf(t,n,i,s),c=t.memoizedState,a!==n||p!==c||Lr.current||so?(typeof f=="function"&&(Bv(t,r,f,n),c=t.memoizedState),(a=so||Z0(t,r,a,n,p,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Dj(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:jn(t.type,a),i.props=u,h=t.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=gn(c):(c=Mr(r)?xi:cr.current,c=Ra(t,c));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||p!==c)&&X0(t,i,n,c),so=!1,p=t.memoizedState,i.state=p,Yf(t,n,i,s);var g=t.memoizedState;a!==h||p!==g||Lr.current||so?(typeof m=="function"&&(Bv(t,r,m,n),g=t.memoizedState),(u=so||Z0(t,r,u,n,p,g,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Vv(e,t,r,n,o,s)}function Vv(e,t,r,n,s,o){sk(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&z0(t,r,!1),zs(e,t,o);n=t.stateNode,XI.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Aa(t,e.child,null,o),t.child=Aa(t,null,a,o)):pr(e,t,a,o),t.memoizedState=n.state,s&&z0(t,r,!0),t.child}function ok(e){var t=e.stateNode;t.pendingContext?U0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&U0(e,t.context,!1),Fx(e,t.containerInfo)}function s1(e,t,r,n,s){return Ia(),Ox(s),t.flags|=256,pr(e,t,r,n),t.child}var Hv={dehydrated:null,treeContext:null,retryLane:0};function Gv(e){return{baseLanes:e,cachePool:null,transitions:null}}function ik(e,t,r){var n=t.pendingProps,s=St.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ht(St,s&1),e===null)return $v(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=up(i,n,0,null),e=vi(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Gv(r),t.memoizedState=Hv,e):qx(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return JI(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=_o(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=_o(a,o):(o=vi(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Gv(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Hv,n}return o=e.child,e=o.sibling,n=_o(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function qx(e,t){return t=up({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Od(e,t,r,n){return n!==null&&Ox(n),Aa(t,e.child,null,r),e=qx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function JI(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Km(Error(ne(422))),Od(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=up({mode:"visible",children:n.children},s,0,null),o=vi(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Aa(t,e.child,null,i),t.child.memoizedState=Gv(i),t.memoizedState=Hv,o);if(!(t.mode&1))return Od(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(ne(419)),n=Km(o,n,void 0),Od(e,t,i,n)}if(a=(i&e.childLanes)!==0,Nr||a){if(n=Yt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Us(e,s),Rn(n,e,s,-1))}return Qx(),n=Km(Error(ne(421))),Od(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=dA.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Gr=xo(s.nextSibling),Yr=t,xt=!0,Pn=null,e!==null&&(an[ln++]=Ls,an[ln++]=Ms,an[ln++]=bi,Ls=e.id,Ms=e.overflow,bi=t),t=qx(t,n.children),t.flags|=4096,t)}function o1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Fv(e.return,t,r)}function Zm(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function ak(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(pr(e,t,n.children,r),n=St.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&o1(e,r,t);else if(e.tag===19)o1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ht(St,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Kf(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Zm(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Kf(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Zm(t,!0,r,null,o);break;case"together":Zm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Si|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=_o(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_o(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function QI(e,t,r){switch(t.tag){case 3:ok(t),Ia();break;case 5:Oj(t);break;case 1:Mr(t.type)&&Wf(t);break;case 4:Fx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ht(Gf,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ht(St,St.current&1),t.flags|=128,null):r&t.child.childLanes?ik(e,t,r):(ht(St,St.current&1),e=zs(e,t,r),e!==null?e.sibling:null);ht(St,St.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ak(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ht(St,St.current),n)break;return null;case 22:case 23:return t.lanes=0,nk(e,t,r)}return zs(e,t,r)}var lk,qv,ck,uk;lk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qv=function(){};ck=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,hi(ns.current);var o=null;switch(r){case"input":s=mv(e,s),n=mv(e,n),o=[];break;case"select":s=Ct({},s,{value:void 0}),n=Ct({},n,{value:void 0}),o=[];break;case"textarea":s=yv(e,s),n=yv(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Uf)}bv(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&vt("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};uk=function(e,t,r,n){r!==n&&(t.flags|=4)};function Tl(e,t){if(!xt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ir(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function eA(e,t,r){var n=t.pendingProps;switch(Dx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(t),null;case 1:return Mr(t.type)&&zf(),ir(t),null;case 3:return n=t.stateNode,$a(),yt(Lr),yt(cr),Ux(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Md(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pn!==null&&(ty(Pn),Pn=null))),qv(e,t),ir(t),null;case 5:Bx(t);var s=hi(Uc.current);if(r=t.type,e!==null&&t.stateNode!=null)ck(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ne(166));return ir(t),null}if(e=hi(ns.current),Md(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[es]=t,n[Fc]=o,e=(t.mode&1)!==0,r){case"dialog":vt("cancel",n),vt("close",n);break;case"iframe":case"object":case"embed":vt("load",n);break;case"video":case"audio":for(s=0;s<ec.length;s++)vt(ec[s],n);break;case"source":vt("error",n);break;case"img":case"image":case"link":vt("error",n),vt("load",n);break;case"details":vt("toggle",n);break;case"input":p0(n,o),vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},vt("invalid",n);break;case"textarea":g0(n,o),vt("invalid",n)}bv(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ld(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ld(n.textContent,a,e),s=["children",""+a]):Pc.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&vt("scroll",n)}switch(r){case"input":Sd(n),m0(n,o,!0);break;case"textarea":Sd(n),v0(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Uf)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$E(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[es]=t,e[Fc]=n,lk(e,t,!1,!1),t.stateNode=e;e:{switch(i=wv(r,n),r){case"dialog":vt("cancel",e),vt("close",e),s=n;break;case"iframe":case"object":case"embed":vt("load",e),s=n;break;case"video":case"audio":for(s=0;s<ec.length;s++)vt(ec[s],e);s=n;break;case"source":vt("error",e),s=n;break;case"img":case"image":case"link":vt("error",e),vt("load",e),s=n;break;case"details":vt("toggle",e),s=n;break;case"input":p0(e,n),s=mv(e,n),vt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ct({},n,{value:void 0}),vt("invalid",e);break;case"textarea":g0(e,n),s=yv(e,n),vt("invalid",e);break;default:s=n}bv(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?UE(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&FE(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Lc(e,c):typeof c=="number"&&Lc(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Pc.hasOwnProperty(o)?c!=null&&o==="onScroll"&&vt("scroll",e):c!=null&&vx(e,o,c,i))}switch(r){case"input":Sd(e),m0(e,n,!1);break;case"textarea":Sd(e),v0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Mo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?wa(e,!!n.multiple,o,!1):n.defaultValue!=null&&wa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Uf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ir(t),null;case 6:if(e&&t.stateNode!=null)uk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ne(166));if(r=hi(Uc.current),hi(ns.current),Md(t)){if(n=t.stateNode,r=t.memoizedProps,n[es]=t,(o=n.nodeValue!==r)&&(e=Yr,e!==null))switch(e.tag){case 3:Ld(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ld(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[es]=t,t.stateNode=n}return ir(t),null;case 13:if(yt(St),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xt&&Gr!==null&&t.mode&1&&!(t.flags&128))Nj(),Ia(),t.flags|=98560,o=!1;else if(o=Md(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ne(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));o[es]=t}else Ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ir(t),o=!1}else Pn!==null&&(ty(Pn),Pn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||St.current&1?Vt===0&&(Vt=3):Qx())),t.updateQueue!==null&&(t.flags|=4),ir(t),null);case 4:return $a(),qv(e,t),e===null&&Ac(t.stateNode.containerInfo),ir(t),null;case 10:return Ix(t.type._context),ir(t),null;case 17:return Mr(t.type)&&zf(),ir(t),null;case 19:if(yt(St),o=t.memoizedState,o===null)return ir(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Tl(o,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Kf(e),i!==null){for(t.flags|=128,Tl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ht(St,St.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ot()>Ba&&(t.flags|=128,n=!0,Tl(o,!1),t.lanes=4194304)}else{if(!n)if(e=Kf(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!xt)return ir(t),null}else 2*Ot()-o.renderingStartTime>Ba&&r!==1073741824&&(t.flags|=128,n=!0,Tl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ot(),t.sibling=null,r=St.current,ht(St,n?r&1|2:r&1),t):(ir(t),null);case 22:case 23:return Jx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Wr&1073741824&&(ir(t),t.subtreeFlags&6&&(t.flags|=8192)):ir(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function tA(e,t){switch(Dx(t),t.tag){case 1:return Mr(t.type)&&zf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $a(),yt(Lr),yt(cr),Ux(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bx(t),null;case 13:if(yt(St),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));Ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return yt(St),null;case 4:return $a(),null;case 10:return Ix(t.type._context),null;case 22:case 23:return Jx(),null;case 24:return null;default:return null}}var Td=!1,ar=!1,rA=typeof WeakSet=="function"?WeakSet:Set,me=null;function ya(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Nt(e,t,n)}else r.current=null}function Yv(e,t,r){try{r()}catch(n){Nt(e,t,n)}}var i1=!1;function nA(e,t){if(Mv=$f,e=mj(),Lx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,c=-1,u=0,f=0,h=e,p=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(a=i+s),h!==o||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===r&&++u===s&&(a=i),p===o&&++f===n&&(c=i),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Dv={focusedElem:e,selectionRange:r},$f=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:jn(t.type,v),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(S){Nt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return g=i1,i1=!1,g}function fc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Yv(t,r,o)}s=s.next}while(s!==n)}}function lp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Kv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function dk(e){var t=e.alternate;t!==null&&(e.alternate=null,dk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[Fc],delete t[Rv],delete t[FI],delete t[BI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fk(e){return e.tag===5||e.tag===3||e.tag===4}function a1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Uf));else if(n!==4&&(e=e.child,e!==null))for(Zv(e,t,r),e=e.sibling;e!==null;)Zv(e,t,r),e=e.sibling}function Xv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Xv(e,t,r),e=e.sibling;e!==null;)Xv(e,t,r),e=e.sibling}var er=null,kn=!1;function Ys(e,t,r){for(r=r.child;r!==null;)hk(e,t,r),r=r.sibling}function hk(e,t,r){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(ep,r)}catch{}switch(r.tag){case 5:ar||ya(r,t);case 6:var n=er,s=kn;er=null,Ys(e,t,r),er=n,kn=s,er!==null&&(kn?(e=er,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):er.removeChild(r.stateNode));break;case 18:er!==null&&(kn?(e=er,r=r.stateNode,e.nodeType===8?Wm(e.parentNode,r):e.nodeType===1&&Wm(e,r),Tc(e)):Wm(er,r.stateNode));break;case 4:n=er,s=kn,er=r.stateNode.containerInfo,kn=!0,Ys(e,t,r),er=n,kn=s;break;case 0:case 11:case 14:case 15:if(!ar&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Yv(r,t,i),s=s.next}while(s!==n)}Ys(e,t,r);break;case 1:if(!ar&&(ya(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Nt(r,t,a)}Ys(e,t,r);break;case 21:Ys(e,t,r);break;case 22:r.mode&1?(ar=(n=ar)||r.memoizedState!==null,Ys(e,t,r),ar=n):Ys(e,t,r);break;default:Ys(e,t,r)}}function l1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new rA),t.forEach(function(n){var s=fA.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function _n(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:er=a.stateNode,kn=!1;break e;case 3:er=a.stateNode.containerInfo,kn=!0;break e;case 4:er=a.stateNode.containerInfo,kn=!0;break e}a=a.return}if(er===null)throw Error(ne(160));hk(o,i,s),er=null,kn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Nt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pk(t,e),t=t.sibling}function pk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),Yn(e),n&4){try{fc(3,e,e.return),lp(3,e)}catch(v){Nt(e,e.return,v)}try{fc(5,e,e.return)}catch(v){Nt(e,e.return,v)}}break;case 1:_n(t,e),Yn(e),n&512&&r!==null&&ya(r,r.return);break;case 5:if(_n(t,e),Yn(e),n&512&&r!==null&&ya(r,r.return),e.flags&32){var s=e.stateNode;try{Lc(s,"")}catch(v){Nt(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&IE(s,o),wv(a,i);var u=wv(a,o);for(i=0;i<c.length;i+=2){var f=c[i],h=c[i+1];f==="style"?UE(s,h):f==="dangerouslySetInnerHTML"?FE(s,h):f==="children"?Lc(s,h):vx(s,f,h,u)}switch(a){case"input":gv(s,o);break;case"textarea":AE(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?wa(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?wa(s,!!o.multiple,o.defaultValue,!0):wa(s,!!o.multiple,o.multiple?[]:"",!1))}s[Fc]=o}catch(v){Nt(e,e.return,v)}}break;case 6:if(_n(t,e),Yn(e),n&4){if(e.stateNode===null)throw Error(ne(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){Nt(e,e.return,v)}}break;case 3:if(_n(t,e),Yn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Tc(t.containerInfo)}catch(v){Nt(e,e.return,v)}break;case 4:_n(t,e),Yn(e);break;case 13:_n(t,e),Yn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Zx=Ot())),n&4&&l1(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(ar=(u=ar)||f,_n(t,e),ar=u):_n(t,e),Yn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(me=e,f=e.child;f!==null;){for(h=me=f;me!==null;){switch(p=me,m=p.child,p.tag){case 0:case 11:case 14:case 15:fc(4,p,p.return);break;case 1:ya(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Nt(n,r,v)}}break;case 5:ya(p,p.return);break;case 22:if(p.memoizedState!==null){u1(h);continue}}m!==null?(m.return=p,me=m):u1(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=BE("display",i))}catch(v){Nt(e,e.return,v)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Nt(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_n(t,e),Yn(e),n&4&&l1(e);break;case 21:break;default:_n(t,e),Yn(e)}}function Yn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(fk(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Lc(s,""),n.flags&=-33);var o=a1(e);Xv(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=a1(e);Zv(e,a,i);break;default:throw Error(ne(161))}}catch(c){Nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sA(e,t,r){me=e,mk(e)}function mk(e,t,r){for(var n=(e.mode&1)!==0;me!==null;){var s=me,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Td;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||ar;a=Td;var u=ar;if(Td=i,(ar=c)&&!u)for(me=s;me!==null;)i=me,c=i.child,i.tag===22&&i.memoizedState!==null?d1(s):c!==null?(c.return=i,me=c):d1(s);for(;o!==null;)me=o,mk(o),o=o.sibling;me=s,Td=a,ar=u}c1(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,me=o):c1(e)}}function c1(e){for(;me!==null;){var t=me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ar||lp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ar)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:jn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&q0(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}q0(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Tc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}ar||t.flags&512&&Kv(t)}catch(p){Nt(t,t.return,p)}}if(t===e){me=null;break}if(r=t.sibling,r!==null){r.return=t.return,me=r;break}me=t.return}}function u1(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,me=r;break}me=t.return}}function d1(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{lp(4,t)}catch(c){Nt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Nt(t,s,c)}}var o=t.return;try{Kv(t)}catch(c){Nt(t,o,c)}break;case 5:var i=t.return;try{Kv(t)}catch(c){Nt(t,i,c)}}}catch(c){Nt(t,t.return,c)}if(t===e){me=null;break}var a=t.sibling;if(a!==null){a.return=t.return,me=a;break}me=t.return}}var oA=Math.ceil,Jf=Gs.ReactCurrentDispatcher,Yx=Gs.ReactCurrentOwner,dn=Gs.ReactCurrentBatchConfig,qe=0,Yt=null,It=null,rr=0,Wr=0,xa=Vo(0),Vt=0,Hc=null,Si=0,cp=0,Kx=0,hc=null,jr=null,Zx=0,Ba=1/0,ks=null,Qf=!1,Jv=null,wo=null,Rd=!1,po=null,eh=0,pc=0,Qv=null,bf=-1,wf=0;function gr(){return qe&6?Ot():bf!==-1?bf:bf=Ot()}function So(e){return e.mode&1?qe&2&&rr!==0?rr&-rr:zI.transition!==null?(wf===0&&(wf=QE()),wf):(e=lt,e!==0||(e=window.event,e=e===void 0?16:ij(e.type)),e):1}function Rn(e,t,r,n){if(50<pc)throw pc=0,Qv=null,Error(ne(185));Lu(e,r,n),(!(qe&2)||e!==Yt)&&(e===Yt&&(!(qe&2)&&(cp|=r),Vt===4&&lo(e,rr)),Dr(e,n),r===1&&qe===0&&!(t.mode&1)&&(Ba=Ot()+500,op&&Ho()))}function Dr(e,t){var r=e.callbackNode;zR(e,t);var n=Af(e,e===Yt?rr:0);if(n===0)r!==null&&b0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&b0(r),t===1)e.tag===0?UI(f1.bind(null,e)):Ej(f1.bind(null,e)),AI(function(){!(qe&6)&&Ho()}),r=null;else{switch(ej(n)){case 1:r=Sx;break;case 4:r=XE;break;case 16:r=If;break;case 536870912:r=JE;break;default:r=If}r=_k(r,gk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function gk(e,t){if(bf=-1,wf=0,qe&6)throw Error(ne(327));var r=e.callbackNode;if(ja()&&e.callbackNode!==r)return null;var n=Af(e,e===Yt?rr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=th(e,n);else{t=n;var s=qe;qe|=2;var o=yk();(Yt!==e||rr!==t)&&(ks=null,Ba=Ot()+500,gi(e,t));do try{lA();break}catch(a){vk(e,a)}while(!0);Rx(),Jf.current=o,qe=s,It!==null?t=0:(Yt=null,rr=0,t=Vt)}if(t!==0){if(t===2&&(s=jv(e),s!==0&&(n=s,t=ey(e,s))),t===1)throw r=Hc,gi(e,0),lo(e,n),Dr(e,Ot()),r;if(t===6)lo(e,n);else{if(s=e.current.alternate,!(n&30)&&!iA(s)&&(t=th(e,n),t===2&&(o=jv(e),o!==0&&(n=o,t=ey(e,o))),t===1))throw r=Hc,gi(e,0),lo(e,n),Dr(e,Ot()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ne(345));case 2:oi(e,jr,ks);break;case 3:if(lo(e,n),(n&130023424)===n&&(t=Zx+500-Ot(),10<t)){if(Af(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){gr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Tv(oi.bind(null,e,jr,ks),t);break}oi(e,jr,ks);break;case 4:if(lo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Tn(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=Ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oA(n/1960))-n,10<n){e.timeoutHandle=Tv(oi.bind(null,e,jr,ks),n);break}oi(e,jr,ks);break;case 5:oi(e,jr,ks);break;default:throw Error(ne(329))}}}return Dr(e,Ot()),e.callbackNode===r?gk.bind(null,e):null}function ey(e,t){var r=hc;return e.current.memoizedState.isDehydrated&&(gi(e,t).flags|=256),e=th(e,t),e!==2&&(t=jr,jr=r,t!==null&&ty(t)),e}function ty(e){jr===null?jr=e:jr.push.apply(jr,e)}function iA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!An(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lo(e,t){for(t&=~Kx,t&=~cp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Tn(t),n=1<<r;e[r]=-1,t&=~n}}function f1(e){if(qe&6)throw Error(ne(327));ja();var t=Af(e,0);if(!(t&1))return Dr(e,Ot()),null;var r=th(e,t);if(e.tag!==0&&r===2){var n=jv(e);n!==0&&(t=n,r=ey(e,n))}if(r===1)throw r=Hc,gi(e,0),lo(e,t),Dr(e,Ot()),r;if(r===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oi(e,jr,ks),Dr(e,Ot()),null}function Xx(e,t){var r=qe;qe|=1;try{return e(t)}finally{qe=r,qe===0&&(Ba=Ot()+500,op&&Ho())}}function _i(e){po!==null&&po.tag===0&&!(qe&6)&&ja();var t=qe;qe|=1;var r=dn.transition,n=lt;try{if(dn.transition=null,lt=1,e)return e()}finally{lt=n,dn.transition=r,qe=t,!(qe&6)&&Ho()}}function Jx(){Wr=xa.current,yt(xa)}function gi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,II(r)),It!==null)for(r=It.return;r!==null;){var n=r;switch(Dx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zf();break;case 3:$a(),yt(Lr),yt(cr),Ux();break;case 5:Bx(n);break;case 4:$a();break;case 13:yt(St);break;case 19:yt(St);break;case 10:Ix(n.type._context);break;case 22:case 23:Jx()}r=r.return}if(Yt=e,It=e=_o(e.current,null),rr=Wr=t,Vt=0,Hc=null,Kx=cp=Si=0,jr=hc=null,fi!==null){for(t=0;t<fi.length;t++)if(r=fi[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}fi=null}return e}function vk(e,t){do{var r=It;try{if(Rx(),vf.current=Xf,Zf){for(var n=_t.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Zf=!1}if(wi=0,qt=Ft=_t=null,dc=!1,zc=0,Yx.current=null,r===null||r.return===null){Vt=1,Hc=t,It=null;break}e:{var o=e,i=r.return,a=r,c=t;if(t=rr,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=Q0(i);if(m!==null){m.flags&=-257,e1(m,i,a,o,t),m.mode&1&&J0(o,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){J0(o,u,t),Qx();break e}c=Error(ne(426))}}else if(xt&&a.mode&1){var b=Q0(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),e1(b,i,a,o,t),Ox(Fa(c,a));break e}}o=c=Fa(c,a),Vt!==4&&(Vt=2),hc===null?hc=[o]:hc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=ek(o,c,t);G0(o,x);break e;case 1:a=c;var y=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(wo===null||!wo.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=tk(o,a,t);G0(o,S);break e}}o=o.return}while(o!==null)}bk(r)}catch(_){t=_,It===r&&r!==null&&(It=r=r.return);continue}break}while(!0)}function yk(){var e=Jf.current;return Jf.current=Xf,e===null?Xf:e}function Qx(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Yt===null||!(Si&268435455)&&!(cp&268435455)||lo(Yt,rr)}function th(e,t){var r=qe;qe|=2;var n=yk();(Yt!==e||rr!==t)&&(ks=null,gi(e,t));do try{aA();break}catch(s){vk(e,s)}while(!0);if(Rx(),qe=r,Jf.current=n,It!==null)throw Error(ne(261));return Yt=null,rr=0,Vt}function aA(){for(;It!==null;)xk(It)}function lA(){for(;It!==null&&!OR();)xk(It)}function xk(e){var t=Sk(e.alternate,e,Wr);e.memoizedProps=e.pendingProps,t===null?bk(e):It=t,Yx.current=null}function bk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=tA(r,t),r!==null){r.flags&=32767,It=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,It=null;return}}else if(r=eA(r,t,Wr),r!==null){It=r;return}if(t=t.sibling,t!==null){It=t;return}It=t=e}while(t!==null);Vt===0&&(Vt=5)}function oi(e,t,r){var n=lt,s=dn.transition;try{dn.transition=null,lt=1,cA(e,t,r,n)}finally{dn.transition=s,lt=n}return null}function cA(e,t,r,n){do ja();while(po!==null);if(qe&6)throw Error(ne(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(WR(e,o),e===Yt&&(It=Yt=null,rr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rd||(Rd=!0,_k(If,function(){return ja(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=dn.transition,dn.transition=null;var i=lt;lt=1;var a=qe;qe|=4,Yx.current=null,nA(e,r),pk(r,e),PI(Dv),$f=!!Mv,Dv=Mv=null,e.current=r,sA(r),TR(),qe=a,lt=i,dn.transition=o}else e.current=r;if(Rd&&(Rd=!1,po=e,eh=s),o=e.pendingLanes,o===0&&(wo=null),AR(r.stateNode),Dr(e,Ot()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Qf)throw Qf=!1,e=Jv,Jv=null,e;return eh&1&&e.tag!==0&&ja(),o=e.pendingLanes,o&1?e===Qv?pc++:(pc=0,Qv=e):pc=0,Ho(),null}function ja(){if(po!==null){var e=ej(eh),t=dn.transition,r=lt;try{if(dn.transition=null,lt=16>e?16:e,po===null)var n=!1;else{if(e=po,po=null,eh=0,qe&6)throw Error(ne(331));var s=qe;for(qe|=4,me=e.current;me!==null;){var o=me,i=o.child;if(me.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(me=u;me!==null;){var f=me;switch(f.tag){case 0:case 11:case 15:fc(8,f,o)}var h=f.child;if(h!==null)h.return=f,me=h;else for(;me!==null;){f=me;var p=f.sibling,m=f.return;if(dk(f),f===u){me=null;break}if(p!==null){p.return=m,me=p;break}me=m}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}me=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,me=i;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fc(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,me=x;break e}me=o.return}}var y=e.current;for(me=y;me!==null;){i=me;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,me=w;else e:for(i=y;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lp(9,a)}}catch(_){Nt(a,a.return,_)}if(a===i){me=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,me=S;break e}me=a.return}}if(qe=s,Ho(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(ep,e)}catch{}n=!0}return n}finally{lt=r,dn.transition=t}}return!1}function h1(e,t,r){t=Fa(r,t),t=ek(e,t,1),e=bo(e,t,1),t=gr(),e!==null&&(Lu(e,1,t),Dr(e,t))}function Nt(e,t,r){if(e.tag===3)h1(e,e,r);else for(;t!==null;){if(t.tag===3){h1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wo===null||!wo.has(n))){e=Fa(r,e),e=tk(t,e,1),t=bo(t,e,1),e=gr(),t!==null&&(Lu(t,1,e),Dr(t,e));break}}t=t.return}}function uA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gr(),e.pingedLanes|=e.suspendedLanes&r,Yt===e&&(rr&r)===r&&(Vt===4||Vt===3&&(rr&130023424)===rr&&500>Ot()-Zx?gi(e,0):Kx|=r),Dr(e,t)}function wk(e,t){t===0&&(e.mode&1?(t=Ed,Ed<<=1,!(Ed&130023424)&&(Ed=4194304)):t=1);var r=gr();e=Us(e,t),e!==null&&(Lu(e,t,r),Dr(e,r))}function dA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),wk(e,r)}function fA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(t),wk(e,r)}var Sk;Sk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lr.current)Nr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Nr=!1,QI(e,t,r);Nr=!!(e.flags&131072)}else Nr=!1,xt&&t.flags&1048576&&jj(t,Hf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;xf(e,t),e=t.pendingProps;var s=Ra(t,cr.current);Ea(t,r),s=Wx(null,t,n,e,s,r);var o=Vx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(n)?(o=!0,Wf(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$x(t),s.updater=ap,t.stateNode=s,s._reactInternals=t,Uv(t,n,e,r),t=Vv(null,t,n,!0,o,r)):(t.tag=0,xt&&o&&Mx(t),pr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(xf(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=pA(n),e=jn(n,e),s){case 0:t=Wv(null,t,n,e,r);break e;case 1:t=n1(null,t,n,e,r);break e;case 11:t=t1(null,t,n,e,r);break e;case 14:t=r1(null,t,n,jn(n.type,e),r);break e}throw Error(ne(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),Wv(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),n1(e,t,n,s,r);case 3:e:{if(ok(t),e===null)throw Error(ne(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Dj(e,t),Yf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Fa(Error(ne(423)),t),t=s1(e,t,n,r,s);break e}else if(n!==s){s=Fa(Error(ne(424)),t),t=s1(e,t,n,r,s);break e}else for(Gr=xo(t.stateNode.containerInfo.firstChild),Yr=t,xt=!0,Pn=null,r=Lj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ia(),n===s){t=zs(e,t,r);break e}pr(e,t,n,r)}t=t.child}return t;case 5:return Oj(t),e===null&&$v(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Ov(n,s)?i=null:o!==null&&Ov(n,o)&&(t.flags|=32),sk(e,t),pr(e,t,i,r),t.child;case 6:return e===null&&$v(t),null;case 13:return ik(e,t,r);case 4:return Fx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Aa(t,null,n,r):pr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),t1(e,t,n,s,r);case 7:return pr(e,t,t.pendingProps,r),t.child;case 8:return pr(e,t,t.pendingProps.children,r),t.child;case 12:return pr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,ht(Gf,n._currentValue),n._currentValue=i,o!==null)if(An(o.value,i)){if(o.children===s.children&&!Lr.current){t=zs(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Ts(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Fv(o.return,r,t),a.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ne(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Fv(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}pr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ea(t,r),s=gn(s),n=n(s),t.flags|=1,pr(e,t,n,r),t.child;case 14:return n=t.type,s=jn(n,t.pendingProps),s=jn(n.type,s),r1(e,t,n,s,r);case 15:return rk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),xf(e,t),t.tag=1,Mr(n)?(e=!0,Wf(t)):e=!1,Ea(t,r),Qj(t,n,s),Uv(t,n,s,r),Vv(null,t,n,!0,e,r);case 19:return ak(e,t,r);case 22:return nk(e,t,r)}throw Error(ne(156,t.tag))};function _k(e,t){return ZE(e,t)}function hA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,r,n){return new hA(e,t,r,n)}function eb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pA(e){if(typeof e=="function")return eb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xx)return 11;if(e===bx)return 14}return 2}function _o(e,t){var r=e.alternate;return r===null?(r=cn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sf(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")eb(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ca:return vi(r.children,s,o,t);case yx:i=8,s|=8;break;case dv:return e=cn(12,r,t,s|2),e.elementType=dv,e.lanes=o,e;case fv:return e=cn(13,r,t,s),e.elementType=fv,e.lanes=o,e;case hv:return e=cn(19,r,t,s),e.elementType=hv,e.lanes=o,e;case OE:return up(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ME:i=10;break e;case DE:i=9;break e;case xx:i=11;break e;case bx:i=14;break e;case no:i=16,n=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=cn(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function vi(e,t,r,n){return e=cn(7,e,n,t),e.lanes=r,e}function up(e,t,r,n){return e=cn(22,e,n,t),e.elementType=OE,e.lanes=r,e.stateNode={isHidden:!1},e}function Xm(e,t,r){return e=cn(6,e,null,t),e.lanes=r,e}function Jm(e,t,r){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mA(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dm(0),this.expirationTimes=Dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tb(e,t,r,n,s,o,i,a,c){return e=new mA(e,t,r,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=cn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$x(o),e}function gA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:la,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ck(e){if(!e)return Do;e=e._reactInternals;e:{if(Ii(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var r=e.type;if(Mr(r))return Cj(e,r,t)}return t}function Ek(e,t,r,n,s,o,i,a,c){return e=tb(r,n,!0,e,s,o,i,a,c),e.context=Ck(null),r=e.current,n=gr(),s=So(r),o=Ts(n,s),o.callback=t??null,bo(r,o,s),e.current.lanes=s,Lu(e,s,n),Dr(e,n),e}function dp(e,t,r,n){var s=t.current,o=gr(),i=So(s);return r=Ck(r),t.context===null?t.context=r:t.pendingContext=r,t=Ts(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bo(s,t,i),e!==null&&(Rn(e,s,i,o),gf(e,s,i)),i}function rh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function p1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function rb(e,t){p1(e,t),(e=e.alternate)&&p1(e,t)}function vA(){return null}var jk=typeof reportError=="function"?reportError:function(e){console.error(e)};function nb(e){this._internalRoot=e}fp.prototype.render=nb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));dp(e,t,null,null)};fp.prototype.unmount=nb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_i(function(){dp(null,e,null,null)}),t[Bs]=null}};function fp(e){this._internalRoot=e}fp.prototype.unstable_scheduleHydration=function(e){if(e){var t=nj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ao.length&&t!==0&&t<ao[r].priority;r++);ao.splice(r,0,e),r===0&&oj(e)}};function sb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function m1(){}function yA(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=rh(i);o.call(u)}}var i=Ek(t,n,e,0,null,!1,!1,"",m1);return e._reactRootContainer=i,e[Bs]=i.current,Ac(e.nodeType===8?e.parentNode:e),_i(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=rh(c);a.call(u)}}var c=tb(e,0,!1,null,null,!1,!1,"",m1);return e._reactRootContainer=c,e[Bs]=c.current,Ac(e.nodeType===8?e.parentNode:e),_i(function(){dp(t,c,r,n)}),c}function pp(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=rh(i);a.call(c)}}dp(t,i,e,s)}else i=yA(r,t,e,s,n);return rh(i)}tj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ql(t.pendingLanes);r!==0&&(_x(t,r|1),Dr(t,Ot()),!(qe&6)&&(Ba=Ot()+500,Ho()))}break;case 13:_i(function(){var n=Us(e,1);if(n!==null){var s=gr();Rn(n,e,1,s)}}),rb(e,1)}};Cx=function(e){if(e.tag===13){var t=Us(e,134217728);if(t!==null){var r=gr();Rn(t,e,134217728,r)}rb(e,134217728)}};rj=function(e){if(e.tag===13){var t=So(e),r=Us(e,t);if(r!==null){var n=gr();Rn(r,e,t,n)}rb(e,t)}};nj=function(){return lt};sj=function(e,t){var r=lt;try{return lt=e,t()}finally{lt=r}};_v=function(e,t,r){switch(t){case"input":if(gv(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=sp(n);if(!s)throw Error(ne(90));RE(n),gv(n,s)}}}break;case"textarea":AE(e,r);break;case"select":t=r.value,t!=null&&wa(e,!!r.multiple,t,!1)}};VE=Xx;HE=_i;var xA={usingClientEntryPoint:!1,Events:[Du,ha,sp,zE,WE,Xx]},Rl={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bA={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=YE(e),e===null?null:e.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance||vA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{ep=Id.inject(bA),rs=Id}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xA;en.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sb(t))throw Error(ne(200));return gA(e,t,null,r)};en.createRoot=function(e,t){if(!sb(e))throw Error(ne(299));var r=!1,n="",s=jk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=tb(e,1,!1,null,null,r,!1,n,s),e[Bs]=t.current,Ac(e.nodeType===8?e.parentNode:e),new nb(t)};en.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=YE(t),e=e===null?null:e.stateNode,e};en.flushSync=function(e){return _i(e)};en.hydrate=function(e,t,r){if(!hp(t))throw Error(ne(200));return pp(null,e,t,!0,r)};en.hydrateRoot=function(e,t,r){if(!sb(e))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=jk;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Ek(t,null,e,1,r??null,s,!1,o,i),e[Bs]=t.current,Ac(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new fp(t)};en.render=function(e,t,r){if(!hp(t))throw Error(ne(200));return pp(null,e,t,!1,r)};en.unmountComponentAtNode=function(e){if(!hp(e))throw Error(ne(40));return e._reactRootContainer?(_i(function(){pp(null,null,e,!1,function(){e._reactRootContainer=null,e[Bs]=null})}),!0):!1};en.unstable_batchedUpdates=Xx;en.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hp(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return pp(e,t,r,!1,n)};en.version="18.3.1-next-f1338f8080-20240426";function kk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kk)}catch(e){console.error(e)}}kk(),kE.exports=en;var br=kE.exports;const mp=cx(br);var Nk,g1=br;Nk=g1.createRoot,g1.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gc.apply(this,arguments)}var mo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mo||(mo={}));const v1="popstate";function wA(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:a}=n.location;return ry("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:nh(s)}return _A(t,r,null,e)}function Tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pk(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SA(){return Math.random().toString(36).substr(2,8)}function y1(e,t){return{usr:e.state,key:e.key,idx:t}}function ry(e,t,r,n){return r===void 0&&(r=null),Gc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?al(t):t,{state:r,key:t&&t.key||n||SA()})}function nh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function al(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function _A(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=mo.Pop,c=null,u=f();u==null&&(u=0,i.replaceState(Gc({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function h(){a=mo.Pop;let b=f(),x=b==null?null:b-u;u=b,c&&c({action:a,location:v.location,delta:x})}function p(b,x){a=mo.Push;let y=ry(v.location,b,x);u=f()+1;let w=y1(y,u),S=v.createHref(y);try{i.pushState(w,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}o&&c&&c({action:a,location:v.location,delta:1})}function m(b,x){a=mo.Replace;let y=ry(v.location,b,x);u=f();let w=y1(y,u),S=v.createHref(y);i.replaceState(w,"",S),o&&c&&c({action:a,location:v.location,delta:0})}function g(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:nh(b);return y=y.replace(/ $/,"%20"),Tt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return a},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(v1,h),c=b,()=>{s.removeEventListener(v1,h),c=null}},createHref(b){return t(s,b)},createURL:g,encodeLocation(b){let x=g(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(b){return i.go(b)}};return v}var x1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(x1||(x1={}));function CA(e,t,r){return r===void 0&&(r="/"),EA(e,t,r,!1)}function EA(e,t,r,n){let s=typeof t=="string"?al(t):t,o=ob(s.pathname||"/",r);if(o==null)return null;let i=Lk(e);jA(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=AA(o);a=RA(i[c],u,n)}return a}function Lk(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Tt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Co([n,c.relativePath]),f=r.concat(c);o.children&&o.children.length>0&&(Tt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Lk(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:OA(u,o.index),routesMeta:f})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of Mk(o.path))s(o,i,c)}),t}function Mk(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=Mk(n.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function jA(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:TA(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kA=/^:[\w-]+$/,NA=3,PA=2,LA=1,MA=10,DA=-2,b1=e=>e==="*";function OA(e,t){let r=e.split("/"),n=r.length;return r.some(b1)&&(n+=DA),t&&(n+=PA),r.filter(s=>!b1(s)).reduce((s,o)=>s+(kA.test(o)?NA:o===""?LA:MA),n)}function TA(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function RA(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,f=o==="/"?t:t.slice(o.length)||"/",h=w1({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),p=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=w1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:Co([o,h.pathname]),pathnameBase:UA(Co([o,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(o=Co([o,h.pathnameBase]))}return i}function w1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=IA(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,f,h)=>{let{paramName:p,isOptional:m}=f;if(p==="*"){let v=a[h]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[h];return m&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function IA(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Pk(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function AA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pk(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ob(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function $A(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?al(e):e;return{pathname:r?r.startsWith("/")?r:FA(r,t):t,search:zA(n),hash:WA(s)}}function FA(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Qm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BA(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ib(e,t){let r=BA(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ab(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=al(e):(s=Gc({},e),Tt(!s.pathname||!s.pathname.includes("?"),Qm("?","pathname","search",s)),Tt(!s.pathname||!s.pathname.includes("#"),Qm("#","pathname","hash",s)),Tt(!s.search||!s.search.includes("#"),Qm("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?t[h]:"/"}let c=$A(s,a),u=i&&i!=="/"&&i.endsWith("/"),f=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Co=e=>e.join("/").replace(/\/\/+/g,"/"),UA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function VA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Dk=["post","put","patch","delete"];new Set(Dk);const HA=["get",...Dk];new Set(HA);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qc.apply(this,arguments)}const lb=d.createContext(null),GA=d.createContext(null),Go=d.createContext(null),gp=d.createContext(null),qs=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Ok=d.createContext(null);function qA(e,t){let{relative:r}=t===void 0?{}:t;ll()||Tt(!1);let{basename:n,navigator:s}=d.useContext(Go),{hash:o,pathname:i,search:a}=Rk(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Co([n,i])),s.createHref({pathname:c,search:a,hash:o})}function ll(){return d.useContext(gp)!=null}function Ai(){return ll()||Tt(!1),d.useContext(gp).location}function Tk(e){d.useContext(Go).static||d.useLayoutEffect(e)}function Mt(){let{isDataRoute:e}=d.useContext(qs);return e?i$():YA()}function YA(){ll()||Tt(!1);let e=d.useContext(lb),{basename:t,future:r,navigator:n}=d.useContext(Go),{matches:s}=d.useContext(qs),{pathname:o}=Ai(),i=JSON.stringify(ib(s,r.v7_relativeSplatPath)),a=d.useRef(!1);return Tk(()=>{a.current=!0}),d.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=ab(u,JSON.parse(i),o,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Co([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,i,o,e])}function Tu(){let{matches:e}=d.useContext(qs),t=e[e.length-1];return t?t.params:{}}function Rk(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=d.useContext(Go),{matches:s}=d.useContext(qs),{pathname:o}=Ai(),i=JSON.stringify(ib(s,n.v7_relativeSplatPath));return d.useMemo(()=>ab(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function KA(e,t){return ZA(e,t)}function ZA(e,t,r,n){ll()||Tt(!1);let{navigator:s}=d.useContext(Go),{matches:o}=d.useContext(qs),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ai(),f;if(t){var h;let b=typeof t=="string"?al(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Tt(!1),f=b}else f=u;let p=f.pathname||"/",m=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=CA(e,{pathname:m}),v=t$(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Co([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Co([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return t&&v?d.createElement(gp.Provider,{value:{location:qc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:mo.Pop}},v):v}function XA(){let e=o$(),t=VA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),r?d.createElement("pre",{style:s},r):null,null)}const JA=d.createElement(XA,null);class QA extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?d.createElement(qs.Provider,{value:this.props.routeContext},d.createElement(Ok.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function e$(e){let{routeContext:t,match:r,children:n}=e,s=d.useContext(lb);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),d.createElement(qs.Provider,{value:t},n)}function t$(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let f=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||Tt(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:m}=r,g=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,h,p)=>{let m,g=!1,v=null,b=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||JA,c&&(u<0&&p===0?(g=!0,b=null):u===p&&(g=!0,b=h.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,p+1)),y=()=>{let w;return m?w=v:g?w=b:h.route.Component?w=d.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=f,d.createElement(e$,{match:h,routeContext:{outlet:f,matches:x,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?d.createElement(QA,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var Ik=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ik||{}),sh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sh||{});function r$(e){let t=d.useContext(lb);return t||Tt(!1),t}function n$(e){let t=d.useContext(GA);return t||Tt(!1),t}function s$(e){let t=d.useContext(qs);return t||Tt(!1),t}function Ak(e){let t=s$(),r=t.matches[t.matches.length-1];return r.route.id||Tt(!1),r.route.id}function o$(){var e;let t=d.useContext(Ok),r=n$(sh.UseRouteError),n=Ak(sh.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function i$(){let{router:e}=r$(Ik.UseNavigateStable),t=Ak(sh.UseNavigateStable),r=d.useRef(!1);return Tk(()=>{r.current=!0}),d.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,qc({fromRouteId:t},o)))},[e,t])}function a$(e){let{to:t,replace:r,state:n,relative:s}=e;ll()||Tt(!1);let{future:o,static:i}=d.useContext(Go),{matches:a}=d.useContext(qs),{pathname:c}=Ai(),u=Mt(),f=ab(t,ib(a,o.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(f);return d.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function ut(e){Tt(!1)}function l$(e){let{basename:t="/",children:r=null,location:n,navigationType:s=mo.Pop,navigator:o,static:i=!1,future:a}=e;ll()&&Tt(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:o,static:i,future:qc({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof n=="string"&&(n=al(n));let{pathname:f="/",search:h="",hash:p="",state:m=null,key:g="default"}=n,v=d.useMemo(()=>{let b=ob(f,c);return b==null?null:{location:{pathname:b,search:h,hash:p,state:m,key:g},navigationType:s}},[c,f,h,p,m,g,s]);return v==null?null:d.createElement(Go.Provider,{value:u},d.createElement(gp.Provider,{children:r,value:v}))}function c$(e){let{children:t,location:r}=e;return KA(ny(t),r)}new Promise(()=>{});function ny(e,t){t===void 0&&(t=[]);let r=[];return d.Children.forEach(e,(n,s)=>{if(!d.isValidElement(n))return;let o=[...t,s];if(n.type===d.Fragment){r.push.apply(r,ny(n.props.children,o));return}n.type!==ut&&Tt(!1),!n.props.index||!n.props.children||Tt(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=ny(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(this,arguments)}function u$(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function d$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function f$(e,t){return e.button===0&&(!t||t==="_self")&&!d$(e)}function oy(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function h$(e,t){let r=oy(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const p$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m$="6";try{window.__reactRouterVersion=m$}catch{}const g$="startTransition",S1=px[g$];function v$(e){let{basename:t,children:r,future:n,window:s}=e,o=d.useRef();o.current==null&&(o.current=wA({window:s,v5Compat:!0}));let i=o.current,[a,c]=d.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},f=d.useCallback(h=>{u&&S1?S1(()=>c(h)):c(h)},[c,u]);return d.useLayoutEffect(()=>i.listen(f),[i,f]),d.createElement(l$,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}const y$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=d.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:a,target:c,to:u,preventScrollReset:f,viewTransition:h}=t,p=u$(t,p$),{basename:m}=d.useContext(Go),g,v=!1;if(typeof u=="string"&&x$.test(u)&&(g=u,y$))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),_=ob(S.pathname,m);S.origin===w.origin&&_!=null?u=_+S.search+S.hash:v=!0}catch{}let b=qA(u,{relative:s}),x=b$(u,{replace:i,state:a,target:c,preventScrollReset:f,relative:s,viewTransition:h});function y(w){n&&n(w),w.defaultPrevented||x(w)}return d.createElement("a",sy({},p,{href:g||b,onClick:v||o?n:y,ref:r,target:c}))});var _1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_1||(_1={}));var C1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(C1||(C1={}));function b$(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,c=Mt(),u=Ai(),f=Rk(e,{relative:i});return d.useCallback(h=>{if(f$(h,r)){h.preventDefault();let p=n!==void 0?n:nh(u)===nh(f);c(e,{replace:p,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,c,f,n,s,r,e,o,i,a])}function $k(e){let t=d.useRef(oy(e)),r=d.useRef(!1),n=Ai(),s=d.useMemo(()=>h$(n.search,r.current?null:t.current),[n.search]),o=Mt(),i=d.useCallback((a,c)=>{const u=oy(typeof a=="function"?a(s):a);r.current=!0,o("?"+u,c)},[o,s]);return[s,i]}function w$(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function vp(...e){return t=>e.forEach(r=>w$(r,t))}function Fe(...e){return d.useCallback(vp(...e),e)}var as=d.forwardRef((e,t)=>{const{children:r,...n}=e,s=d.Children.toArray(r),o=s.find(S$);if(o){const i=o.props.children,a=s.map(c=>c===o?d.Children.count(i)>1?d.Children.only(null):d.isValidElement(i)?i.props.children:null:c);return l.jsx(iy,{...n,ref:t,children:d.isValidElement(i)?d.cloneElement(i,void 0,a):null})}return l.jsx(iy,{...n,ref:t,children:r})});as.displayName="Slot";var iy=d.forwardRef((e,t)=>{const{children:r,...n}=e;if(d.isValidElement(r)){const s=C$(r);return d.cloneElement(r,{..._$(n,r.props),ref:t?vp(t,s):s})}return d.Children.count(r)>1?d.Children.only(null):null});iy.displayName="SlotClone";var Fk=({children:e})=>l.jsx(l.Fragment,{children:e});function S$(e){return d.isValidElement(e)&&e.type===Fk}function _$(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{o(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function C$(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Bk(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Bk(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Uk(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Bk(e))&&(n&&(n+=" "),n+=t);return n}const E1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,j1=Uk,yp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return j1(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],h=o==null?void 0:o[u];if(f===null)return null;const p=E1(f)||E1(h);return s[u][p]}),a=r&&Object.entries(r).reduce((u,f)=>{let[h,p]=f;return p===void 0||(u[h]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:h,className:p,...m}=f;return Object.entries(m).every(g=>{let[v,b]=g;return Array.isArray(b)?b.includes({...o,...a}[v]):{...o,...a}[v]===b})?[...u,h,p]:u},[]);return j1(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},cb="-",E$=e=>{const t=k$(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(cb);return a[0]===""&&a.length!==1&&a.shift(),zk(a,t)||j$(i)},getConflictingClassGroupIds:(i,a)=>{const c=r[i]||[];return a&&n[i]?[...c,...n[i]]:c}}},zk=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?zk(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(cb);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},k1=/^\[(.+)\]$/,j$=e=>{if(k1.test(e)){const t=k1.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},k$=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return P$(Object.entries(e.classGroups),r).forEach(([o,i])=>{ay(i,n,o,t)}),n},ay=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:N1(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(N$(s)){ay(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{ay(i,N1(t,o),r,n)})})},N1=(e,t)=>{let r=e;return t.split(cb).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},N$=e=>e.isThemeGetter,P$=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,L$=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},Wk="!",M$=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,f=0,h;for(let b=0;b<a.length;b++){let x=a[b];if(u===0){if(x===s&&(n||a.slice(b,b+o)===t)){c.push(a.slice(f,b)),f=b+o;continue}if(x==="/"){h=b;continue}}x==="["?u++:x==="]"&&u--}const p=c.length===0?a:a.substring(f),m=p.startsWith(Wk),g=m?p.substring(1):p,v=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};return r?a=>r({className:a,parseClassName:i}):i},D$=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},O$=e=>({cache:L$(e.cacheSize),parseClassName:M$(e),...E$(e)}),T$=/\s+/,R$=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(T$);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=r(u);let g=!!m,v=n(g?p.substring(0,m):p);if(!v){if(!g){a=u+(a.length>0?" "+a:a);continue}if(v=n(p),!v){a=u+(a.length>0?" "+a:a);continue}g=!1}const b=D$(f).join(":"),x=h?b+Wk:b,y=x+v;if(o.includes(y))continue;o.push(y);const w=s(v,g);for(let S=0;S<w.length;++S){const _=w[S];o.push(x+_)}a=u+(a.length>0?" "+a:a)}return a};function I$(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Vk(t))&&(n&&(n+=" "),n+=r);return n}const Vk=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Vk(e[n]))&&(r&&(r+=" "),r+=t);return r};function A$(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((f,h)=>h(f),e());return r=O$(u),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const u=n(c);if(u)return u;const f=R$(c,r);return s(c,f),f}return function(){return o(I$.apply(null,arguments))}}const gt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Hk=/^\[(?:([a-z-]+):)?(.+)\]$/i,$$=/^\d+\/\d+$/,F$=new Set(["px","full","screen"]),B$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,U$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,z$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,W$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,V$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_s=e=>ka(e)||F$.has(e)||$$.test(e),Ks=e=>cl(e,"length",J$),ka=e=>!!e&&!Number.isNaN(Number(e)),eg=e=>cl(e,"number",ka),Il=e=>!!e&&Number.isInteger(Number(e)),H$=e=>e.endsWith("%")&&ka(e.slice(0,-1)),Oe=e=>Hk.test(e),Zs=e=>B$.test(e),G$=new Set(["length","size","percentage"]),q$=e=>cl(e,G$,Gk),Y$=e=>cl(e,"position",Gk),K$=new Set(["image","url"]),Z$=e=>cl(e,K$,e4),X$=e=>cl(e,"",Q$),Al=()=>!0,cl=(e,t,r)=>{const n=Hk.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},J$=e=>U$.test(e)&&!z$.test(e),Gk=()=>!1,Q$=e=>W$.test(e),e4=e=>V$.test(e),t4=()=>{const e=gt("colors"),t=gt("spacing"),r=gt("blur"),n=gt("brightness"),s=gt("borderColor"),o=gt("borderRadius"),i=gt("borderSpacing"),a=gt("borderWidth"),c=gt("contrast"),u=gt("grayscale"),f=gt("hueRotate"),h=gt("invert"),p=gt("gap"),m=gt("gradientColorStops"),g=gt("gradientColorStopPositions"),v=gt("inset"),b=gt("margin"),x=gt("opacity"),y=gt("padding"),w=gt("saturate"),S=gt("scale"),_=gt("sepia"),C=gt("skew"),j=gt("space"),N=gt("translate"),E=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Oe,t],M=()=>[Oe,t],D=()=>["",_s,Ks],I=()=>["auto",ka,Oe],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Oe],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[ka,Oe];return{cacheSize:500,separator:":",theme:{colors:[Al],spacing:[_s,Ks],blur:["none","",Zs,Oe],brightness:W(),borderColor:[e],borderRadius:["none","","full",Zs,Oe],borderSpacing:M(),borderWidth:D(),contrast:W(),grayscale:L(),hueRotate:W(),invert:L(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[H$,Ks],inset:k(),margin:k(),opacity:W(),padding:M(),saturate:W(),scale:W(),sepia:L(),skew:W(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Oe]}],container:["container"],columns:[{columns:[Zs]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Oe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Il,Oe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Oe]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Il,Oe]}],"grid-cols":[{"grid-cols":[Al]}],"col-start-end":[{col:["auto",{span:["full",Il,Oe]},Oe]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Al]}],"row-start-end":[{row:["auto",{span:[Il,Oe]},Oe]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Oe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Oe,t]}],"min-w":[{"min-w":[Oe,t,"min","max","fit"]}],"max-w":[{"max-w":[Oe,t,"none","full","min","max","fit","prose",{screen:[Zs]},Zs]}],h:[{h:[Oe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Oe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Zs,Ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eg]}],"font-family":[{font:[Al]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Oe]}],"line-clamp":[{"line-clamp":["none",ka,eg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_s,Oe]}],"list-image":[{"list-image":["none",Oe]}],"list-style-type":[{list:["none","disc","decimal",Oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_s,Ks]}],"underline-offset":[{"underline-offset":["auto",_s,Oe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),Y$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",q$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Z$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[_s,Oe]}],"outline-w":[{outline:[_s,Ks]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[_s,Ks]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Zs,X$]}],"shadow-color":[{shadow:[Al]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Zs,Oe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Oe]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Oe]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Il,Oe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Oe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[_s,Ks,eg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},r4=A$(t4);function pe(...e){return r4(Uk(e))}const ly=yp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=d.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?as:"button";return l.jsx(i,{className:pe(ly({variant:t,size:r,className:e})),ref:o,...s})});ee.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qk=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},c)=>d.createElement("svg",{ref:c,...s4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:qk("lucide",s),...a},[...i.map(([u,f])=>d.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const r=d.forwardRef(({className:n,...s},o)=>d.createElement(o4,{ref:o,iconNode:t,className:qk(`lucide-${n4(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=Se("Bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=Se("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=Se("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Se("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=Se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=Se("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Se("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=Se("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=Se("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=Se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=Se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=Se("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=Se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=Se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Se("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=Se("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=Se("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=Se("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Se("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=Se("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=Se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=Se("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=Se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=Se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=Se("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=Se("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Se("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=Se("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),N4="modulepreload",P4=function(e){return"/"+e},D1={},za=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=P4(c),c in D1)return;D1[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":N4,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},L4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>za(async()=>{const{default:n}=await Promise.resolve().then(()=>dl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class hb extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class M4 extends hb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class D4 extends hb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class O4 extends hb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var dy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(dy||(dy={}));var T4=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(h){i(h)}}function c(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class R4{constructor(t,{headers:r={},customFetch:n,region:s=dy.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=L4(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return T4(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let a={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(a["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(a["Content-Type"]="application/json",u=JSON.stringify(i)));const f=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(g=>{throw new M4(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new D4(f);if(!f.ok)throw new O4(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var kr={},pb={},wp={},Iu={},Sp={},_p={},I4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wa=I4();const A4=Wa.fetch,Qk=Wa.fetch.bind(Wa),eN=Wa.Headers,$4=Wa.Request,F4=Wa.Response,dl=Object.freeze(Object.defineProperty({__proto__:null,Headers:eN,Request:$4,Response:F4,default:Qk,fetch:A4},Symbol.toStringTag,{value:"Module"})),B4=KT(dl);var Cp={};Object.defineProperty(Cp,"__esModule",{value:!0});let U4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Cp.default=U4;var tN=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_p,"__esModule",{value:!0});const z4=tN(B4),W4=tN(Cp);let V4=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=z4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,c;let u=null,f=null,h=null,p=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){const x=await o.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=x:f=JSON.parse(x))}const v=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,m="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const v=await o.text();try{u=JSON.parse(v),Array.isArray(u)&&o.status===404&&(f=[],u=null,p=200,m="OK")}catch{o.status===404&&v===""?(p=204,m="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,m="OK"),u&&this.shouldThrowOnError)throw new W4.default(u)}return{error:u,data:f,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};_p.default=V4;var H4=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sp,"__esModule",{value:!0});const G4=H4(_p);let q4=class extends G4.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Sp.default=q4;var Y4=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Iu,"__esModule",{value:!0});const K4=Y4(Sp);let Z4=class extends K4.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Iu.default=Z4;var X4=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wp,"__esModule",{value:!0});const $l=X4(Iu);let J4=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new $l.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(i.length>0){const a=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new $l.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new $l.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new $l.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new $l.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wp.default=J4;var Ep={},jp={};Object.defineProperty(jp,"__esModule",{value:!0});jp.version=void 0;jp.version="0.0.0-automated";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.DEFAULT_HEADERS=void 0;const Q4=jp;Ep.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Q4.version}`};var rN=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pb,"__esModule",{value:!0});const eF=rN(wp),tF=rN(Iu),rF=Ep;let nF=class nN{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},rF.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new eF.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new nN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{a.searchParams.append(f,h)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new tF.default({method:i,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};pb.default=nF;var fl=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kr,"__esModule",{value:!0});kr.PostgrestError=kr.PostgrestBuilder=kr.PostgrestTransformBuilder=kr.PostgrestFilterBuilder=kr.PostgrestQueryBuilder=kr.PostgrestClient=void 0;const sN=fl(pb);kr.PostgrestClient=sN.default;const oN=fl(wp);kr.PostgrestQueryBuilder=oN.default;const iN=fl(Iu);kr.PostgrestFilterBuilder=iN.default;const aN=fl(Sp);kr.PostgrestTransformBuilder=aN.default;const lN=fl(_p);kr.PostgrestBuilder=lN.default;const cN=fl(Cp);kr.PostgrestError=cN.default;var sF=kr.default={PostgrestClient:sN.default,PostgrestQueryBuilder:oN.default,PostgrestFilterBuilder:iN.default,PostgrestTransformBuilder:aN.default,PostgrestBuilder:lN.default,PostgrestError:cN.default};const{PostgrestClient:oF,PostgrestQueryBuilder:Cre,PostgrestFilterBuilder:Ere,PostgrestTransformBuilder:jre,PostgrestBuilder:kre,PostgrestError:Nre}=sF,iF="2.11.2",aF={"X-Client-Info":`realtime-js/${iF}`},lF="1.0.0",uN=1e4,cF=1e3;var Na;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Na||(Na={}));var Ur;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ur||(Ur={}));var Nn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Nn||(Nn={}));var fy;(function(e){e.websocket="websocket"})(fy||(fy={}));var ci;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ci||(ci={}));class uF{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class dN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ft||(ft={}));const O1=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=dF(i,e,t,s),o),{})},dF=(e,t,r,n)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?fN(o,i):hy(i)},fN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return mF(t,r)}switch(e){case ft.bool:return fF(t);case ft.float4:case ft.float8:case ft.int2:case ft.int4:case ft.int8:case ft.numeric:case ft.oid:return hF(t);case ft.json:case ft.jsonb:return pF(t);case ft.timestamp:return gF(t);case ft.abstime:case ft.date:case ft.daterange:case ft.int4range:case ft.int8range:case ft.money:case ft.reltime:case ft.text:case ft.time:case ft.timestamptz:case ft.timetz:case ft.tsrange:case ft.tstzrange:return hy(t);default:return hy(t)}},hy=e=>e,fF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},pF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},mF=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>fN(t,a))}return e},gF=e=>typeof e=="string"?e.replace(" ","T"):e,hN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class rg{constructor(t,r,n={},s=uN){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var T1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(T1||(T1={}));class mc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mc.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=mc.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=mc.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),a={},c={};return this.map(o,(u,f)=>{i[u]||(c[u]=f)}),this.map(i,(u,f)=>{const h=o[u];if(h){const p=f.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),g=f.filter(b=>m.indexOf(b.presence_ref)<0),v=h.filter(b=>p.indexOf(b.presence_ref)<0);g.length>0&&(a[u]=g),v.length>0&&(c[u]=v)}else a[u]=f}),this.syncDiff(o,{joins:a,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const f=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),f.length>0){const h=t[a].map(m=>m.presence_ref),p=f.filter(m=>h.indexOf(m.presence_ref)<0);t[a].unshift(...p)}n(a,f,c)}),this.map(i,(a,c)=>{let u=t[a];if(!u)return;const f=c.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var R1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(R1||(R1={}));var I1;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(I1||(I1={}));var Ns;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ns||(Ns={}));class mb{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ur.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rg(this,Nn.join,this.params,this.timeout),this.rejoinTimer=new dN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ur.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ur.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new mc(this),this.broadcastEndpointURL=hN(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(f=>t==null?void 0:t(Ns.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Ns.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var h;if(this.socket.setAuth(),f===void 0){t==null||t(Ns.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,g=[];for(let v=0;v<m;v++){const b=p[v],{filter:{event:x,schema:y,table:w,filter:S}}=b,_=f&&f[v];if(_&&_.event===x&&_.schema===y&&_.table===w&&_.filter===S)g.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),t==null||t(Ns.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ns.SUBSCRIBED);return}}).receive("error",f=>{t==null||t(Ns.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ns.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ur.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new rg(this,Nn.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new rg(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:f}=Nn;if(n&&[a,c,u,f].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,v,b;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(v=m.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(m=>m.callback(p,n)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var g,v,b,x,y,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const S=m.id,_=(g=m.filter)===null||g===void 0?void 0:g.event;return S&&((v=r.ids)===null||v===void 0?void 0:v.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(y=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:v,table:b,commit_timestamp:x,type:y,errors:w}=g;p=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:x,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(p,n)})}_isClosed(){return this.state===Ur.closed}_isJoined(){return this.state===Ur.joined}_isJoining(){return this.state===Ur.joining}_isLeaving(){return this.state===Ur.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&mb.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Nn.close,{},t)}_onError(t){this._on(Nn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ur.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=O1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=O1(t.columns,t.old_record)),r}}const vF=()=>{},yF=typeof WebSocket<"u",xF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bF{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=aF,this.params={},this.timeout=uN,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=vF,this.conn=null,this.sendBuffer=[],this.serializer=new uF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>za(async()=>{const{default:c}=await Promise.resolve().then(()=>dl);return{default:c}},void 0).then(({default:c})=>c(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${fy.websocket}`,this.httpEndpoint=hN(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new dN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(yF){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new wF(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),za(async()=>{const{default:t}=await import("./browser-COl0Tc8t.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lF}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Na.connecting:return ci.Connecting;case Na.open:return ci.Open;case Na.closing:return ci.Closing;default:return ci.Closed}}isConnected(){return this.connectionState()===ci.Open}channel(t,r={config:{}}){const n=new mb(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Nn.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(cF,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Nn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([xF],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class wF{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Na.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class gb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Gt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class SF extends gb{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class py extends gb{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var _F=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(h){i(h)}}function c(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const pN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>za(async()=>{const{default:n}=await Promise.resolve().then(()=>dl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},CF=()=>_F(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield za(()=>Promise.resolve().then(()=>dl),void 0)).Response:Response}),my=e=>{if(Array.isArray(e))return e.map(r=>my(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=my(n)}),t};var $i=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(h){i(h)}}function c(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const ng=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EF=(e,t,r)=>$i(void 0,void 0,void 0,function*(){const n=yield CF();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new SF(ng(s),e.status||500))}).catch(s=>{t(new py(ng(s),s))}):t(new py(ng(e),e))}),jF=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Au(e,t,r,n,s,o){return $i(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,jF(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>EF(c,a,n))})})}function ih(e,t,r,n){return $i(this,void 0,void 0,function*(){return Au(e,"GET",t,r,n)})}function oo(e,t,r,n,s){return $i(this,void 0,void 0,function*(){return Au(e,"POST",t,n,s,r)})}function kF(e,t,r,n,s){return $i(this,void 0,void 0,function*(){return Au(e,"PUT",t,n,s,r)})}function NF(e,t,r,n){return $i(this,void 0,void 0,function*(){return Au(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function mN(e,t,r,n,s){return $i(this,void 0,void 0,function*(){return Au(e,"DELETE",t,n,s,r)})}var Sr=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(h){i(h)}}function c(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const PF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},A1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class LF{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=pN(s)}uploadOrUpdate(t,r,n,s){return Sr(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},A1),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),p=yield h.json();return h.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(Gt(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Sr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Sr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:A1.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:f}),p=yield h.json();return h.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(Gt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Sr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield oo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new gb("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(n){if(Gt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Sr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Sr(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Gt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Sr(this,void 0,void 0,function*(){try{return{data:{path:(yield oo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Gt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Sr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield oo(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Gt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Sr(this,void 0,void 0,function*(){try{const s=yield oo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Gt(s))return{data:null,error:s};throw s}})}download(t,r){return Sr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ih(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Gt(a))return{data:null,error:a};throw a}})}info(t){return Sr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ih(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:my(n),error:null}}catch(n){if(Gt(n))return{data:null,error:n};throw n}})}exists(t){return Sr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield NF(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Gt(n)&&n instanceof py){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Sr(this,void 0,void 0,function*(){try{return{data:yield mN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Gt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Sr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},PF),r),{prefix:t||""});return{data:yield oo(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Gt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const MF="2.7.1",DF={"X-Client-Info":`storage-js/${MF}`};var qi=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(h){i(h)}}function c(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class OF{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},DF),r),this.fetch=pN(n)}listBuckets(){return qi(this,void 0,void 0,function*(){try{return{data:yield ih(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Gt(t))return{data:null,error:t};throw t}})}getBucket(t){return qi(this,void 0,void 0,function*(){try{return{data:yield ih(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Gt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return qi(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Gt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return qi(this,void 0,void 0,function*(){try{return{data:yield kF(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Gt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return qi(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Gt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return qi(this,void 0,void 0,function*(){try{return{data:yield mN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Gt(r))return{data:null,error:r};throw r}})}}class TF extends OF{constructor(t,r={},n){super(t,r,n)}from(t){return new LF(this.url,this.headers,t,this.fetch)}}const RF="2.49.3";let tc="";typeof Deno<"u"?tc="deno":typeof document<"u"?tc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tc="react-native":tc="node";const IF={"X-Client-Info":`supabase-js-${tc}/${RF}`},AF={headers:IF},$F={schema:"public"},FF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},BF={};var UF=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(h){i(h)}}function c(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const zF=e=>{let t;return e?t=e:typeof fetch>"u"?t=Qk:t=fetch,(...r)=>t(...r)},WF=()=>typeof Headers>"u"?eN:Headers,VF=(e,t,r)=>{const n=zF(r),s=WF();return(o,i)=>UF(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var HF=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(h){i(h)}}function c(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};function GF(e){return e.replace(/\/$/,"")}function qF(e,t){const{db:r,auth:n,realtime:s,global:o}=e,{db:i,auth:a,realtime:c,global:u}=t,f={db:Object.assign(Object.assign({},i),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o),accessToken:()=>HF(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const gN="2.69.1",sa=30*1e3,gy=3,sg=gy*sa,YF="http://localhost:9999",KF="supabase.auth.token",ZF={"X-Client-Info":`gotrue-js/${gN}`},vy="X-Supabase-Api-Version",vN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JF=6e5;class vb extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class QF extends vb{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function e3(e){return Te(e)&&e.name==="AuthApiError"}class yN extends vb{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class qo extends vb{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Js extends qo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function t3(e){return Te(e)&&e.name==="AuthSessionMissingError"}class og extends qo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $d extends qo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fd extends qo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function r3(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class $1 extends qo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yy extends qo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ig(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class F1 extends qo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class gc extends qo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const B1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),U1=` 	
\r=`.split(""),n3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<U1.length;t+=1)e[U1[t].charCodeAt(0)]=-2;for(let t=0;t<B1.length;t+=1)e[B1[t].charCodeAt(0)]=t;return e})();function xN(e,t,r){const n=n3[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function z1(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{i3(i,n,r)};for(let i=0;i<e.length;i+=1)xN(e.charCodeAt(i),s,o);return t.join("")}function s3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function o3(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}s3(n,t)}}function i3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function a3(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)xN(e.charCodeAt(s),r,n);return new Uint8Array(t)}function l3(e){const t=[];return o3(e,r=>t.push(r)),new Uint8Array(t)}function c3(e){return Math.round(Date.now()/1e3)+e}function u3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Zn=()=>typeof window<"u"&&typeof document<"u",ei={tested:!1,writable:!1},vc=()=>{if(!Zn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ei.tested)return ei.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ei.tested=!0,ei.writable=!0}catch{ei.tested=!0,ei.writable=!1}return ei.writable};function d3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const bN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>za(async()=>{const{default:n}=await Promise.resolve().then(()=>dl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},f3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wN=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Bd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ud=async(e,t)=>{await e.removeItem(t)};class kp{constructor(){this.promise=new kp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}kp.promiseConstructor=Promise;function ag(e){const t=e.split(".");if(t.length!==3)throw new gc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!XF.test(t[n]))throw new gc("JWT not in base64url format");return{header:JSON.parse(z1(t[0])),payload:JSON.parse(z1(t[1])),signature:a3(t[2]),raw:{header:t[0],payload:t[1]}}}async function h3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function p3(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function m3(e){return("0"+e.toString(16)).substr(-2)}function g3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,m3).join("")}async function v3(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function y3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await v3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yi(e,t,r=!1){const n=g3();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await wN(e,`${t}-code-verifier`,s);const o=await y3(n);return[o,n===o?"plain":"s256"]}const x3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function b3(e){const t=e.headers.get(vy);if(!t||!t.match(x3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function w3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function S3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var _3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ii=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),C3=[502,503,504];async function W1(e){var t;if(!f3(e))throw new yy(ii(e),0);if(C3.includes(e.status))throw new yy(ii(e),e.status);let r;try{r=await e.json()}catch(o){throw new yN(ii(o),o)}let n;const s=b3(e);if(s&&s.getTime()>=vN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new F1(ii(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Js}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new F1(ii(r),e.status,r.weak_password.reasons);throw new QF(ii(r),e.status||500,n)}const E3=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function We(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[vy]||(o[vy]=vN["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await j3(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function j3(e,t,r,n,s,o){const i=E3(t,n,s,o);let a;try{a=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new yy(ii(c),0)}if(a.ok||await W1(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await W1(c)}}function Qs(e){var t;let r=null;L3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=c3(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function V1(e){const t=Qs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function co(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function k3(e){return{data:e,error:null}}function N3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=_3(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function P3(e){return e}function L3(e){return e.access_token&&e.refresh_token&&e.expires_in}var M3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class D3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=bN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:co})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=M3(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:N3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:co})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},f=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:P3});if(f.error)throw f.error;const h=await f.json(),p=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Te(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:co})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:co})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:co})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}}const O3={getItem:e=>vc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{vc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{vc()&&globalThis.localStorage.removeItem(e)}};function H1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function T3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ki={debug:!!(globalThis&&vc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class SN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class R3 extends SN{}async function I3(e,t,r){Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new R3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ki.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}T3();const A3={url:YF,storageKey:KF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function G1(e,t,r){return await r()}class Jc{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jc.nextInstanceID,Jc.nextInstanceID+=1,this.instanceID>0&&Zn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},A3),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new D3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=bN(s.fetch),this.lock=s.lock||G1,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Zn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=I3:this.lock=G1,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:vc()?this.storage=O3:(this.memoryStorage={},this.storage=H1(this.memoryStorage)):(this.memoryStorage={},this.storage=H1(this.memoryStorage)),Zn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=d3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Zn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),r3(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Te(r)?{error:r}:{error:new yN("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qs}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:f,password:h,options:p}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Yi(this.storage,this.storageKey)),o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:f,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:g},xform:Qs})}else if("phone"in t){const{phone:f,password:h,options:p}=t;o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Qs})}else throw new $d("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:a}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:V1})}else if("phone"in t){const{phone:o,password:i,options:a}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:V1})}else throw new $d("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new og}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Bd(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Qs});if(await Ud(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new og}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(Te(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,a=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qs}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new og}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Yi(this.storage,this.storageKey));const{error:h}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:f}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new $d("You must provide either an email or phone number.")}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Qs});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Yi(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:k3})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Js;const{error:s}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Te(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await We(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:a}=await We(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new $d("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Bd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<sg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:co}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Js}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:co})})}catch(r){if(Te(r))return t3(r)&&(await this._removeSession(),await Ud(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Js;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Yi(this.storage,this.storageKey));const{data:u,error:f}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:co});if(f)throw f;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Js;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=ag(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Js;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Zn())throw new Fd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $1("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!i||!u)throw new Fd("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(a);let p=f+h;c&&(p=parseInt(c));const m=p-f;m*1e3<=sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=p-h;f-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,f):f-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,f);const{data:v,error:b}=await this._getUser(o);if(b)throw b;const x={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:p,refresh_token:i,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(Te(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Bd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(e3(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ud(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=u3(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Yi(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,c,u,f;const{data:h,error:p}=o;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",m,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Zn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Te(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await p3(async s=>(s>0&&await h3(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qs})),(s,o)=>{const i=200*Math.pow(2,s);return o&&ig(o)&&Date.now()+i-n<sa})}catch(n){if(this._debug(r,"error",n),Te(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Zn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Bd(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<sg;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${sg}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),ig(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Js;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new kp;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Js;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),Te(o)){const i={session:null,error:o};return ig(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await wN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ud(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Zn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${sa}ms, refresh threshold is ${gy} ticks`),s<=gy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof SN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Yi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await We(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:a}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ag(s.access_token);let a=null;i.aal&&(a=i.aal);let c=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=i.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+JF>Date.now()))return n;const{data:s,error:o}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new gc("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new gc("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=ag(n);if(w3(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:o,header:s,signature:i},error:null}}const u=S3(s.alg),f=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",f,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,l3(`${a}.${c}`)))throw new gc("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}}Jc.nextInstanceID=0;const $3=Jc;class F3 extends $3{constructor(t){super(t)}}var B3=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(h){i(h)}}function c(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class U3{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=GF(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:$F,realtime:BF,auth:Object.assign(Object.assign({},FF),{storageKey:c}),global:AF},f=qF(n??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=VF(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new oF(`${a}/rest/v1`,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new R4(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new TF(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return B3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:a,debug:c},u,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F3({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:a,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new bF(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const z3=(e,t,r)=>new U3(e,t,r),W3="https://bbrgntyiwuniovyoryta.supabase.co",V3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJicmdudHlpd3VuaW92eW9yeXRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwMDM5MDYsImV4cCI6MjA1ODU3OTkwNn0.zo6_Cr0CuRcBvX19QDNl0Ai6yA2oJfvarfdDm1-5nP0",V=z3(W3,V3);var H3=e=>{switch(e){case"success":return Y3;case"info":return Z3;case"warning":return K3;case"error":return X3;default:return null}},G3=Array(12).fill(0),q3=({visible:e})=>Y.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},Y.createElement("div",{className:"sonner-spinner"},G3.map((t,r)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Y3=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),K3=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Z3=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),X3=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),J3=()=>{let[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},xy=1,Q3=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:xy++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async o=>{if(t5(o)&&!o.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,a=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:i,description:a})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(o):t.success,a=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:i,description:a})}}).catch(async o=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(o):t.error,a=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:i,description:a})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||xy++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},zr=new Q3,e5=(e,t)=>{let r=(t==null?void 0:t.id)||xy++;return zr.addToast({title:e,...t,id:r}),r},t5=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",r5=e5,n5=()=>zr.toasts,be=Object.assign(r5,{success:zr.success,info:zr.info,warning:zr.warning,error:zr.error,custom:zr.custom,message:zr.message,promise:zr.promise,dismiss:zr.dismiss,loading:zr.loading},{getHistory:n5});function s5(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}s5(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function zd(e){return e.label!==void 0}var o5=3,i5="32px",a5=4e3,l5=356,c5=14,u5=20,d5=200;function f5(...e){return e.filter(Boolean).join(" ")}var h5=e=>{var t,r,n,s,o,i,a,c,u,f;let{invert:h,toast:p,unstyled:m,interacting:g,setHeights:v,visibleToasts:b,heights:x,index:y,toasts:w,expanded:S,removeToast:_,defaultRichColors:C,closeButton:j,style:N,cancelButtonStyle:E,actionButtonStyle:P,className:k="",descriptionClassName:M="",duration:D,position:I,gap:B,loadingIcon:$,expandByDefault:F,classNames:O,icons:L,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:W,cn:T}=e,[H,K]=Y.useState(!1),[R,J]=Y.useState(!1),[Z,Q]=Y.useState(!1),[le,te]=Y.useState(!1),[G,de]=Y.useState(0),[Ce,Ae]=Y.useState(0),ve=Y.useRef(null),Xe=Y.useRef(null),Et=y===0,A=y+1<=b,z=p.type,q=p.dismissible!==!1,oe=p.className||"",ie=p.descriptionClassName||"",re=Y.useMemo(()=>x.findIndex(Le=>Le.toastId===p.id)||0,[x,p.id]),xe=Y.useMemo(()=>{var Le;return(Le=p.closeButton)!=null?Le:j},[p.closeButton,j]),Pe=Y.useMemo(()=>p.duration||D||a5,[p.duration,D]),mt=Y.useRef(0),Je=Y.useRef(0),Ar=Y.useRef(0),$r=Y.useRef(null),[ws,Gn]=I.split("-"),Qo=Y.useMemo(()=>x.reduce((Le,Qe,st)=>st>=re?Le:Le+Qe.height,0),[x,re]),qn=J3(),zi=p.invert||h,wn=z==="loading";Je.current=Y.useMemo(()=>re*B+Qo,[re,Qo]),Y.useEffect(()=>{K(!0)},[]),Y.useLayoutEffect(()=>{if(!H)return;let Le=Xe.current,Qe=Le.style.height;Le.style.height="auto";let st=Le.getBoundingClientRect().height;Le.style.height=Qe,Ae(st),v(Fr=>Fr.find(Br=>Br.toastId===p.id)?Fr.map(Br=>Br.toastId===p.id?{...Br,height:st}:Br):[{toastId:p.id,height:st,position:p.position},...Fr])},[H,p.title,p.description,v,p.id]);let Sn=Y.useCallback(()=>{J(!0),de(Je.current),v(Le=>Le.filter(Qe=>Qe.toastId!==p.id)),setTimeout(()=>{_(p)},d5)},[p,_,v,Je]);Y.useEffect(()=>{if(p.promise&&z==="loading"||p.duration===1/0||p.type==="loading")return;let Le,Qe=Pe;return S||g||W&&qn?(()=>{if(Ar.current<mt.current){let st=new Date().getTime()-mt.current;Qe=Qe-st}Ar.current=new Date().getTime()})():Qe!==1/0&&(mt.current=new Date().getTime(),Le=setTimeout(()=>{var st;(st=p.onAutoClose)==null||st.call(p,p),Sn()},Qe)),()=>clearTimeout(Le)},[S,g,F,p,Pe,Sn,p.promise,z,W,qn]),Y.useEffect(()=>{let Le=Xe.current;if(Le){let Qe=Le.getBoundingClientRect().height;return Ae(Qe),v(st=>[{toastId:p.id,height:Qe,position:p.position},...st]),()=>v(st=>st.filter(Fr=>Fr.toastId!==p.id))}},[v,p.id]),Y.useEffect(()=>{p.delete&&Sn()},[Sn,p.delete]);function Wi(){return L!=null&&L.loading?Y.createElement("div",{className:"sonner-loader","data-visible":z==="loading"},L.loading):$?Y.createElement("div",{className:"sonner-loader","data-visible":z==="loading"},$):Y.createElement(q3,{visible:z==="loading"})}return Y.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Xe,className:T(k,oe,O==null?void 0:O.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[z],(r=p==null?void 0:p.classNames)==null?void 0:r[z]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:C,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":H,"data-promise":!!p.promise,"data-removed":R,"data-visible":A,"data-y-position":ws,"data-x-position":Gn,"data-index":y,"data-front":Et,"data-swiping":Z,"data-dismissible":q,"data-type":z,"data-invert":zi,"data-swipe-out":le,"data-expanded":!!(S||F&&H),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${R?G:Je.current}px`,"--initial-height":F?"auto":`${Ce}px`,...N,...p.style},onPointerDown:Le=>{wn||!q||(ve.current=new Date,de(Je.current),Le.target.setPointerCapture(Le.pointerId),Le.target.tagName!=="BUTTON"&&(Q(!0),$r.current={x:Le.clientX,y:Le.clientY}))},onPointerUp:()=>{var Le,Qe,st,Fr;if(le||!q)return;$r.current=null;let Br=Number(((Le=Xe.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ss=new Date().getTime()-((Qe=ve.current)==null?void 0:Qe.getTime()),vd=Math.abs(Br)/Ss;if(Math.abs(Br)>=u5||vd>.11){de(Je.current),(st=p.onDismiss)==null||st.call(p,p),Sn(),te(!0);return}(Fr=Xe.current)==null||Fr.style.setProperty("--swipe-amount","0px"),Q(!1)},onPointerMove:Le=>{var Qe;if(!$r.current||!q)return;let st=Le.clientY-$r.current.y,Fr=Le.clientX-$r.current.x,Br=(ws==="top"?Math.min:Math.max)(0,st),Ss=Le.pointerType==="touch"?10:2;Math.abs(Br)>Ss?(Qe=Xe.current)==null||Qe.style.setProperty("--swipe-amount",`${st}px`):Math.abs(Fr)>Ss&&($r.current=null)}},xe&&!p.jsx?Y.createElement("button",{"aria-label":U,"data-disabled":wn,"data-close-button":!0,onClick:wn||!q?()=>{}:()=>{var Le;Sn(),(Le=p.onDismiss)==null||Le.call(p,p)},className:T(O==null?void 0:O.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||Y.isValidElement(p.title)?p.jsx||p.title:Y.createElement(Y.Fragment,null,z||p.icon||p.promise?Y.createElement("div",{"data-icon":"",className:T(O==null?void 0:O.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Wi():null,p.type!=="loading"?p.icon||(L==null?void 0:L[z])||H3(z):null):null,Y.createElement("div",{"data-content":"",className:T(O==null?void 0:O.content,(i=p==null?void 0:p.classNames)==null?void 0:i.content)},Y.createElement("div",{"data-title":"",className:T(O==null?void 0:O.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?Y.createElement("div",{"data-description":"",className:T(M,ie,O==null?void 0:O.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},p.description):null),Y.isValidElement(p.cancel)?p.cancel:p.cancel&&zd(p.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||E,onClick:Le=>{var Qe,st;zd(p.cancel)&&q&&((st=(Qe=p.cancel).onClick)==null||st.call(Qe,Le),Sn())},className:T(O==null?void 0:O.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,Y.isValidElement(p.action)?p.action:p.action&&zd(p.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||P,onClick:Le=>{var Qe,st;zd(p.action)&&(Le.defaultPrevented||((st=(Qe=p.action).onClick)==null||st.call(Qe,Le),Sn()))},className:T(O==null?void 0:O.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function q1(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var p5=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:a,theme:c="light",richColors:u,duration:f,style:h,visibleToasts:p=o5,toastOptions:m,dir:g=q1(),gap:v=c5,loadingIcon:b,icons:x,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:S=f5}=e,[_,C]=Y.useState([]),j=Y.useMemo(()=>Array.from(new Set([r].concat(_.filter(W=>W.position).map(W=>W.position)))),[_,r]),[N,E]=Y.useState([]),[P,k]=Y.useState(!1),[M,D]=Y.useState(!1),[I,B]=Y.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=Y.useRef(null),F=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=Y.useRef(null),L=Y.useRef(!1),U=Y.useCallback(W=>{var T;(T=_.find(H=>H.id===W.id))!=null&&T.delete||zr.dismiss(W.id),C(H=>H.filter(({id:K})=>K!==W.id))},[_]);return Y.useEffect(()=>zr.subscribe(W=>{if(W.dismiss){C(T=>T.map(H=>H.id===W.id?{...H,delete:!0}:H));return}setTimeout(()=>{mp.flushSync(()=>{C(T=>{let H=T.findIndex(K=>K.id===W.id);return H!==-1?[...T.slice(0,H),{...T[H],...W},...T.slice(H+1)]:[W,...T]})})})}),[]),Y.useEffect(()=>{if(c!=="system"){B(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{B(W?"dark":"light")})},[c]),Y.useEffect(()=>{_.length<=1&&k(!1)},[_]),Y.useEffect(()=>{let W=T=>{var H,K;n.every(R=>T[R]||T.code===R)&&(k(!0),(H=$.current)==null||H.focus()),T.code==="Escape"&&(document.activeElement===$.current||(K=$.current)!=null&&K.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[n]),Y.useEffect(()=>{if($.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,L.current=!1)}},[$.current]),_.length?Y.createElement("section",{"aria-label":`${y} ${F}`,tabIndex:-1},j.map((W,T)=>{var H;let[K,R]=W.split("-");return Y.createElement("ol",{key:W,dir:g==="auto"?q1():g,tabIndex:-1,ref:$,className:i,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":K,"data-x-position":R,style:{"--front-toast-height":`${((H=N[0])==null?void 0:H.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||i5,"--width":`${l5}px`,"--gap":`${v}px`,...h},onBlur:J=>{L.current&&!J.currentTarget.contains(J.relatedTarget)&&(L.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||L.current||(L.current=!0,O.current=J.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{M||k(!1)},onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},_.filter(J=>!J.position&&T===0||J.position===W).map((J,Z)=>{var Q,le;return Y.createElement(h5,{key:J.id,icons:x,index:Z,toast:J,defaultRichColors:u,duration:(Q=m==null?void 0:m.duration)!=null?Q:f,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:p,closeButton:(le=m==null?void 0:m.closeButton)!=null?le:o,interacting:M,position:W,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:U,toasts:_.filter(te=>te.position==J.position),heights:N.filter(te=>te.position==J.position),setHeights:E,expandByDefault:s,gap:v,loadingIcon:b,expanded:P,pauseWhenPageIsHidden:w,cn:S})}))})):null};const m5=1e3,_N=d.createContext(void 0);function g5({children:e}){const[t,r]=d.useState(null),[n,s]=d.useState(null),[o,i]=d.useState(!1),[a,c]=d.useState(!0),u=d.useRef(null),f=d.useRef(!1),h=d.useRef({}),p=()=>{if(n!=null&&n.access_token)return{Authorization:`Bearer ${n.access_token}`}},m=C=>({id:C.id,email:C.email||"",name:C.user_metadata.name||C.user_metadata.full_name||"",picture:C.user_metadata.picture||C.user_metadata.avatar_url,is_host:C.user_metadata.is_host||!1,provider:C.app_metadata.provider==="google"?"google":"email",lastProfileCheck:Date.now()}),g=C=>{u.current&&clearTimeout(u.current),!f.current&&(u.current=setTimeout(()=>{if(f.current=!0,C!=null&&C.user){if(!t||t.id!==C.user.id){const j=m(C.user);r(j),i(!0),s(C)}}else r(null),i(!1),s(null);f.current=!1},m5))};d.useEffect(()=>{let C=!0;const j=async()=>{try{const{data:{session:E}}=await V.auth.getSession();if(C&&(E!=null&&E.user)){const P=m(E.user);r(P),i(!0),s(E)}}catch(E){console.error("Error initializing auth:",E)}finally{C&&c(!1)}},{data:{subscription:N}}=V.auth.onAuthStateChange(async(E,P)=>{console.log("Auth state changed:",E),C&&g(P)});return j(),()=>{C=!1,u.current&&clearTimeout(u.current),N.unsubscribe()}},[]);const v=async(C,j)=>{try{const{data:N,error:E}=await V.auth.signInWithPassword({email:C,password:j});if(E)throw E;be.success("Successfully signed in!")}catch(N){throw console.error("Login error:",N),be.error(N.message||"Failed to login"),N}},b=async(C,j,N)=>{var E;try{console.log("Registering user with name:",C);const{data:P,error:k}=await V.auth.signUp({email:j,password:N,options:{data:{name:C,full_name:C,is_host:!1}}});if(k)throw k;console.log("User registered with metadata:",(E=P==null?void 0:P.user)==null?void 0:E.user_metadata),be.success("Registration successful!"),P.session||be.info("Please check your email for a confirmation link.")}catch(P){throw console.error("Registration error:",P),be.error(P.message||"Failed to register"),P}},x=async()=>{try{const{error:C}=await V.auth.signOut();if(C)throw C;r(null),s(null),i(!1),h.current={},be.success("Successfully signed out!")}catch(C){console.error("Logout error:",C),be.error(C.message||"Failed to logout")}},y=async()=>{try{if(!(n!=null&&n.user))return;const C=n.user.id,j=Date.now();console.log("Fetching fresh profile data");const{data:N,error:E}=await V.from("profiles").select("*").eq("id",C).single();if(!E&&N){const P={...t,is_host:N.is_host,name:N.name,picture:N.avatar_url,lastProfileCheck:j};h.current[C]={profile:N,timestamp:j},r(P)}}catch(C){console.error("Error refreshing user data:",C)}},w=C=>{r(C),i(!!C)},S=async C=>{try{const{error:j}=await V.auth.resetPasswordForEmail(C,{redirectTo:`${window.location.origin}/reset-password`});if(j)throw j;be.success("Password reset email sent! Check your inbox.")}catch(j){throw console.error("Password reset error:",j),be.error(j.message||"Failed to send reset email"),j}},_=async C=>{try{const{error:j}=await V.auth.updateUser({password:C});if(j)throw j;be.success("Password updated successfully!")}catch(j){throw console.error("Password update error:",j),be.error(j.message||"Failed to update password"),j}};return l.jsx(_N.Provider,{value:{user:t,isAuthenticated:o,loading:a,setUser:w,loginWithEmail:v,register:b,getAuthHeader:p,logout:x,refreshUser:y,session:n,resetPassword:S,updatePassword:_},children:e})}function Dt(){const e=d.useContext(_N);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function ue(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function v5(e,t){const r=d.createContext(t),n=o=>{const{children:i,...a}=o,c=d.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=d.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Wn(e,t=[]){let r=[];function n(o,i){const a=d.createContext(i),c=r.length;r=[...r,i];const u=h=>{var x;const{scope:p,children:m,...g}=h,v=((x=p==null?void 0:p[e])==null?void 0:x[c])||a,b=d.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:b,children:m})};u.displayName=o+"Provider";function f(h,p){var v;const m=((v=p==null?void 0:p[e])==null?void 0:v[c])||a,g=d.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,f]}const s=()=>{const o=r.map(i=>d.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return d.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,y5(s,...t)]}function y5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function At(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function cs({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=x5({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,a=At(r),c=d.useCallback(u=>{if(o){const h=typeof u=="function"?u(e):u;h!==e&&a(h)}else s(u)},[o,e,s,a]);return[i,c]}function x5({defaultProp:e,onChange:t}){const r=d.useState(e),[n]=r,s=d.useRef(n),o=At(t);return d.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var b5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_e=b5.reduce((e,t)=>{const r=d.forwardRef((n,s)=>{const{asChild:o,...i}=n,a=o?as:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function CN(e,t){e&&br.flushSync(()=>e.dispatchEvent(t))}function w5(e,t=[]){let r=[];function n(o,i){const a=d.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:p,children:m,...g}=h,v=(p==null?void 0:p[e][c])||a,b=d.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:b,children:m})}function f(h,p){const m=(p==null?void 0:p[e][c])||a,g=d.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(i=>d.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return d.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,S5(s,...t)]}function S5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function yb(e){const t=e+"CollectionProvider",[r,n]=w5(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:g,children:v}=m,b=Y.useRef(null),x=Y.useRef(new Map).current;return l.jsx(s,{scope:g,itemMap:x,collectionRef:b,children:v})};i.displayName=t;const a=e+"CollectionSlot",c=Y.forwardRef((m,g)=>{const{scope:v,children:b}=m,x=o(a,v),y=Fe(g,x.collectionRef);return l.jsx(as,{ref:y,children:b})});c.displayName=a;const u=e+"CollectionItemSlot",f="data-radix-collection-item",h=Y.forwardRef((m,g)=>{const{scope:v,children:b,...x}=m,y=Y.useRef(null),w=Fe(g,y),S=o(u,v);return Y.useEffect(()=>(S.itemMap.set(y,{ref:y,...x}),()=>void S.itemMap.delete(y))),l.jsx(as,{[f]:"",ref:w,children:b})});h.displayName=u;function p(m){const g=o(e+"CollectionConsumer",m);return Y.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((S,_)=>x.indexOf(S.ref.current)-x.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},p,n]}var _5=d.createContext(void 0);function $u(e){const t=d.useContext(_5);return e||t||"ltr"}function C5(e,t=globalThis==null?void 0:globalThis.document){const r=At(e);d.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var E5="DismissableLayer",by="dismissableLayer.update",j5="dismissableLayer.pointerDownOutside",k5="dismissableLayer.focusOutside",Y1,EN=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hl=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=d.useContext(EN),[f,h]=d.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=d.useState({}),g=Fe(t,j=>h(j)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(b),y=f?v.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=x,_=L5(j=>{const N=j.target,E=[...u.branches].some(P=>P.contains(N));!S||E||(s==null||s(j),i==null||i(j),j.defaultPrevented||a==null||a())},p),C=M5(j=>{const N=j.target;[...u.branches].some(P=>P.contains(N))||(o==null||o(j),i==null||i(j),j.defaultPrevented||a==null||a())},p);return C5(j=>{y===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},p),d.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Y1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),K1(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Y1)}},[f,p,r,u]),d.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),K1())},[f,u]),d.useEffect(()=>{const j=()=>m({});return document.addEventListener(by,j),()=>document.removeEventListener(by,j)},[]),l.jsx(_e.div,{...c,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:ue(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ue(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ue(e.onPointerDownCapture,_.onPointerDownCapture)})});hl.displayName=E5;var N5="DismissableLayerBranch",P5=d.forwardRef((e,t)=>{const r=d.useContext(EN),n=d.useRef(null),s=Fe(t,n);return d.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),l.jsx(_e.div,{...e,ref:s})});P5.displayName=N5;function L5(e,t=globalThis==null?void 0:globalThis.document){const r=At(e),n=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){jN(j5,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function M5(e,t=globalThis==null?void 0:globalThis.document){const r=At(e),n=d.useRef(!1);return d.useEffect(()=>{const s=o=>{o.target&&!n.current&&jN(k5,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function K1(){const e=new CustomEvent(by);document.dispatchEvent(e)}function jN(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?CN(s,o):s.dispatchEvent(o)}var lg=0;function Np(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Z1()),document.body.insertAdjacentElement("beforeend",e[1]??Z1()),lg++,()=>{lg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lg--}},[])}function Z1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cg="focusScope.autoFocusOnMount",ug="focusScope.autoFocusOnUnmount",X1={bubbles:!1,cancelable:!0},D5="FocusScope",Fu=d.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=d.useState(null),u=At(s),f=At(o),h=d.useRef(null),p=Fe(t,v=>c(v)),m=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(n){let v=function(w){if(m.paused||!a)return;const S=w.target;a.contains(S)?h.current=S:eo(h.current,{select:!0})},b=function(w){if(m.paused||!a)return;const S=w.relatedTarget;S!==null&&(a.contains(S)||eo(h.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&eo(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),y.disconnect()}}},[n,a,m.paused]),d.useEffect(()=>{if(a){Q1.add(m);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(cg,X1);a.addEventListener(cg,u),a.dispatchEvent(x),x.defaultPrevented||(O5($5(kN(a)),{select:!0}),document.activeElement===v&&eo(a))}return()=>{a.removeEventListener(cg,u),setTimeout(()=>{const x=new CustomEvent(ug,X1);a.addEventListener(ug,f),a.dispatchEvent(x),x.defaultPrevented||eo(v??document.body,{select:!0}),a.removeEventListener(ug,f),Q1.remove(m)},0)}}},[a,u,f,m]);const g=d.useCallback(v=>{if(!r&&!n||m.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(b&&x){const y=v.currentTarget,[w,S]=T5(y);w&&S?!v.shiftKey&&x===S?(v.preventDefault(),r&&eo(w,{select:!0})):v.shiftKey&&x===w&&(v.preventDefault(),r&&eo(S,{select:!0})):x===y&&v.preventDefault()}},[r,n,m.paused]);return l.jsx(_e.div,{tabIndex:-1,...i,ref:p,onKeyDown:g})});Fu.displayName=D5;function O5(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(eo(n,{select:t}),document.activeElement!==r)return}function T5(e){const t=kN(e),r=J1(t,e),n=J1(t.reverse(),e);return[r,n]}function kN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function J1(e,t){for(const r of e)if(!R5(r,{upTo:t}))return r}function R5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function I5(e){return e instanceof HTMLInputElement&&"select"in e}function eo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&I5(e)&&t&&e.select()}}var Q1=A5();function A5(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=eS(e,t),e.unshift(t)},remove(t){var r;e=eS(e,t),(r=e[0])==null||r.resume()}}}function eS(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function $5(e){return e.filter(t=>t.tagName!=="A")}var Zt=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},F5=px.useId||(()=>{}),B5=0;function fn(e){const[t,r]=d.useState(F5());return Zt(()=>{r(n=>n??String(B5++))},[e]),t?`radix-${t}`:""}const U5=["top","right","bottom","left"],To=Math.min,Vr=Math.max,ah=Math.round,Wd=Math.floor,Ro=e=>({x:e,y:e}),z5={left:"right",right:"left",bottom:"top",top:"bottom"},W5={start:"end",end:"start"};function wy(e,t,r){return Vr(e,To(t,r))}function Ws(e,t){return typeof e=="function"?e(t):e}function Vs(e){return e.split("-")[0]}function pl(e){return e.split("-")[1]}function xb(e){return e==="x"?"y":"x"}function bb(e){return e==="y"?"height":"width"}function Io(e){return["top","bottom"].includes(Vs(e))?"y":"x"}function wb(e){return xb(Io(e))}function V5(e,t,r){r===void 0&&(r=!1);const n=pl(e),s=wb(e),o=bb(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=lh(i)),[i,lh(i)]}function H5(e){const t=lh(e);return[Sy(e),t,Sy(t)]}function Sy(e){return e.replace(/start|end/g,t=>W5[t])}function G5(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function q5(e,t,r,n){const s=pl(e);let o=G5(Vs(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Sy)))),o}function lh(e){return e.replace(/left|right|bottom|top/g,t=>z5[t])}function Y5(e){return{top:0,right:0,bottom:0,left:0,...e}}function NN(e){return typeof e!="number"?Y5(e):{top:e,right:e,bottom:e,left:e}}function ch(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function tS(e,t,r){let{reference:n,floating:s}=e;const o=Io(t),i=wb(t),a=bb(i),c=Vs(t),u=o==="y",f=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,p=n[a]/2-s[a]/2;let m;switch(c){case"top":m={x:f,y:n.y-s.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-s.width,y:h};break;default:m={x:n.x,y:n.y}}switch(pl(t)){case"start":m[i]-=p*(r&&u?-1:1);break;case"end":m[i]+=p*(r&&u?-1:1);break}return m}const K5=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:h}=tS(u,n,c),p=n,m={},g=0;for(let v=0;v<a.length;v++){const{name:b,fn:x}=a[v],{x:y,y:w,data:S,reset:_}=await x({x:f,y:h,initialPlacement:n,placement:p,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});f=y??f,h=w??h,m={...m,[b]:{...m[b],...S}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:f,y:h}=tS(u,p,c)),v=-1)}return{x:f,y:h,placement:p,strategy:s,middlewareData:m}};async function Qc(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Ws(t,e),g=NN(m),b=a[p?h==="floating"?"reference":"floating":h],x=ch(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:c})),y=h==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},_=ch(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-_.top+g.top)/S.y,bottom:(_.bottom-x.bottom+g.bottom)/S.y,left:(x.left-_.left+g.left)/S.x,right:(_.right-x.right+g.right)/S.x}}const Z5=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:u,padding:f=0}=Ws(e,t)||{};if(u==null)return{};const h=NN(f),p={x:r,y:n},m=wb(s),g=bb(m),v=await i.getDimensions(u),b=m==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[m]-p[m]-o.floating[g],_=p[m]-o.reference[m],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=C?C[w]:0;(!j||!await(i.isElement==null?void 0:i.isElement(C)))&&(j=a.floating[w]||o.floating[g]);const N=S/2-_/2,E=j/2-v[g]/2-1,P=To(h[x],E),k=To(h[y],E),M=P,D=j-v[g]-k,I=j/2-v[g]/2+N,B=wy(M,I,D),$=!c.arrow&&pl(s)!=null&&I!==B&&o.reference[g]/2-(I<M?P:k)-v[g]/2<0,F=$?I<M?I-M:I-D:0;return{[m]:p[m]+F,data:{[m]:B,centerOffset:I-B-F,...$&&{alignmentOffset:F}},reset:$}}}),X5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=Ws(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const x=Vs(s),y=Io(a),w=Vs(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=p||(w||!v?[lh(a)]:H5(a)),C=g!=="none";!p&&C&&_.push(...q5(a,v,g,S));const j=[a,..._],N=await Qc(t,b),E=[];let P=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&E.push(N[x]),h){const I=V5(s,i,S);E.push(N[I[0]],N[I[1]])}if(P=[...P,{placement:s,overflows:E}],!E.every(I=>I<=0)){var k,M;const I=(((k=o.flip)==null?void 0:k.index)||0)+1,B=j[I];if(B)return{data:{index:I,overflows:P},reset:{placement:B}};let $=(M=P.filter(F=>F.overflows[0]<=0).sort((F,O)=>F.overflows[1]-O.overflows[1])[0])==null?void 0:M.placement;if(!$)switch(m){case"bestFit":{var D;const F=(D=P.filter(O=>{if(C){const L=Io(O.placement);return L===y||L==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(L=>L>0).reduce((L,U)=>L+U,0)]).sort((O,L)=>O[1]-L[1])[0])==null?void 0:D[0];F&&($=F);break}case"initialPlacement":$=a;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function rS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function nS(e){return U5.some(t=>e[t]>=0)}const J5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Ws(e,t);switch(n){case"referenceHidden":{const o=await Qc(t,{...s,elementContext:"reference"}),i=rS(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:nS(i)}}}case"escaped":{const o=await Qc(t,{...s,altBoundary:!0}),i=rS(o,r.floating);return{data:{escapedOffsets:i,escaped:nS(i)}}}default:return{}}}}};async function Q5(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Vs(r),a=pl(r),c=Io(r)==="y",u=["left","top"].includes(i)?-1:1,f=o&&c?-1:1,h=Ws(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),c?{x:m*f,y:p*u}:{x:p*u,y:m*f}}const eB=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await Q5(t,e);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},tB=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x,y}=b;return{x,y}}},...c}=Ws(e,t),u={x:r,y:n},f=await Qc(t,c),h=Io(Vs(s)),p=xb(h);let m=u[p],g=u[h];if(o){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=m+f[b],w=m-f[x];m=wy(y,m,w)}if(i){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=g+f[b],w=g-f[x];g=wy(y,g,w)}const v=a.fn({...t,[p]:m,[h]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[p]:o,[h]:i}}}}}},rB=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Ws(e,t),f={x:r,y:n},h=Io(s),p=xb(h);let m=f[p],g=f[h];const v=Ws(a,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=p==="y"?"height":"width",S=o.reference[p]-o.floating[w]+b.mainAxis,_=o.reference[p]+o.reference[w]-b.mainAxis;m<S?m=S:m>_&&(m=_)}if(u){var x,y;const w=p==="y"?"width":"height",S=["top","left"].includes(Vs(s)),_=o.reference[h]-o.floating[w]+(S&&((x=i.offset)==null?void 0:x[h])||0)+(S?0:b.crossAxis),C=o.reference[h]+o.reference[w]+(S?0:((y=i.offset)==null?void 0:y[h])||0)-(S?b.crossAxis:0);g<_?g=_:g>C&&(g=C)}return{[p]:m,[h]:g}}}},nB=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...u}=Ws(e,t),f=await Qc(t,u),h=Vs(s),p=pl(s),m=Io(s)==="y",{width:g,height:v}=o.floating;let b,x;h==="top"||h==="bottom"?(b=h,x=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,b=p==="end"?"top":"bottom");const y=v-f.top-f.bottom,w=g-f.left-f.right,S=To(v-f[b],y),_=To(g-f[x],w),C=!t.middlewareData.shift;let j=S,N=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=y),C&&!p){const P=Vr(f.left,0),k=Vr(f.right,0),M=Vr(f.top,0),D=Vr(f.bottom,0);m?N=g-2*(P!==0||k!==0?P+k:Vr(f.left,f.right)):j=v-2*(M!==0||D!==0?M+D:Vr(f.top,f.bottom))}await c({...t,availableWidth:N,availableHeight:j});const E=await i.getDimensions(a.floating);return g!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function Pp(){return typeof window<"u"}function ml(e){return PN(e)?(e.nodeName||"").toLowerCase():"#document"}function Kr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xs(e){var t;return(t=(PN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function PN(e){return Pp()?e instanceof Node||e instanceof Kr(e).Node:!1}function $n(e){return Pp()?e instanceof Element||e instanceof Kr(e).Element:!1}function us(e){return Pp()?e instanceof HTMLElement||e instanceof Kr(e).HTMLElement:!1}function sS(e){return!Pp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kr(e).ShadowRoot}function Bu(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Fn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function sB(e){return["table","td","th"].includes(ml(e))}function Lp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Sb(e){const t=_b(),r=$n(e)?Fn(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function oB(e){let t=Ao(e);for(;us(t)&&!Va(t);){if(Sb(t))return t;if(Lp(t))return null;t=Ao(t)}return null}function _b(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Va(e){return["html","body","#document"].includes(ml(e))}function Fn(e){return Kr(e).getComputedStyle(e)}function Mp(e){return $n(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ao(e){if(ml(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sS(e)&&e.host||xs(e);return sS(t)?t.host:t}function LN(e){const t=Ao(e);return Va(t)?e.ownerDocument?e.ownerDocument.body:e.body:us(t)&&Bu(t)?t:LN(t)}function eu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=LN(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Kr(s);if(o){const a=_y(i);return t.concat(i,i.visualViewport||[],Bu(s)?s:[],a&&r?eu(a):[])}return t.concat(s,eu(s,[],r))}function _y(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function MN(e){const t=Fn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=us(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=ah(r)!==o||ah(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function Cb(e){return $n(e)?e:e.contextElement}function Pa(e){const t=Cb(e);if(!us(t))return Ro(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=MN(t);let i=(o?ah(r.width):r.width)/n,a=(o?ah(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const iB=Ro(0);function DN(e){const t=Kr(e);return!_b()||!t.visualViewport?iB:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function aB(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Kr(e)?!1:t}function Ci(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Cb(e);let i=Ro(1);t&&(n?$n(n)&&(i=Pa(n)):i=Pa(e));const a=aB(o,r,n)?DN(o):Ro(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,f=s.width/i.x,h=s.height/i.y;if(o){const p=Kr(o),m=n&&$n(n)?Kr(n):n;let g=p,v=_y(g);for(;v&&n&&m!==g;){const b=Pa(v),x=v.getBoundingClientRect(),y=Fn(v),w=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*b.x,S=x.top+(v.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,h*=b.y,c+=w,u+=S,g=Kr(v),v=_y(g)}}return ch({width:f,height:h,x:c,y:u})}function lB(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=xs(n),a=t?Lp(t.floating):!1;if(n===i||a&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Ro(1);const f=Ro(0),h=us(n);if((h||!h&&!o)&&((ml(n)!=="body"||Bu(i))&&(c=Mp(n)),us(n))){const p=Ci(n);u=Pa(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x,y:r.y*u.y-c.scrollTop*u.y+f.y}}function cB(e){return Array.from(e.getClientRects())}function Cy(e,t){const r=Mp(e).scrollLeft;return t?t.left+r:Ci(xs(e)).left+r}function uB(e){const t=xs(e),r=Mp(e),n=e.ownerDocument.body,s=Vr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Vr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Cy(e);const a=-r.scrollTop;return Fn(n).direction==="rtl"&&(i+=Vr(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function dB(e,t){const r=Kr(e),n=xs(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const u=_b();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}function fB(e,t){const r=Ci(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=us(e)?Pa(e):Ro(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:a,x:c,y:u}}function oS(e,t,r){let n;if(t==="viewport")n=dB(e,r);else if(t==="document")n=uB(xs(e));else if($n(t))n=fB(t,r);else{const s=DN(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return ch(n)}function ON(e,t){const r=Ao(e);return r===t||!$n(r)||Va(r)?!1:Fn(r).position==="fixed"||ON(r,t)}function hB(e,t){const r=t.get(e);if(r)return r;let n=eu(e,[],!1).filter(a=>$n(a)&&ml(a)!=="body"),s=null;const o=Fn(e).position==="fixed";let i=o?Ao(e):e;for(;$n(i)&&!Va(i);){const a=Fn(i),c=Sb(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Bu(i)&&!c&&ON(e,i))?n=n.filter(f=>f!==i):s=a,i=Ao(i)}return t.set(e,n),n}function pB(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Lp(t)?[]:hB(t,this._c):[].concat(r),n],a=i[0],c=i.reduce((u,f)=>{const h=oS(t,f,s);return u.top=Vr(h.top,u.top),u.right=To(h.right,u.right),u.bottom=To(h.bottom,u.bottom),u.left=Vr(h.left,u.left),u},oS(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function mB(e){const{width:t,height:r}=MN(e);return{width:t,height:r}}function gB(e,t,r){const n=us(t),s=xs(t),o=r==="fixed",i=Ci(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Ro(0);if(n||!n&&!o)if((ml(t)!=="body"||Bu(s))&&(a=Mp(t)),n){const m=Ci(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=Cy(s));let u=0,f=0;if(s&&!n&&!o){const m=s.getBoundingClientRect();f=m.top+a.scrollTop,u=m.left+a.scrollLeft-Cy(s,m)}const h=i.left+a.scrollLeft-c.x-u,p=i.top+a.scrollTop-c.y-f;return{x:h,y:p,width:i.width,height:i.height}}function dg(e){return Fn(e).position==="static"}function iS(e,t){if(!us(e)||Fn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return xs(e)===r&&(r=r.ownerDocument.body),r}function TN(e,t){const r=Kr(e);if(Lp(e))return r;if(!us(e)){let s=Ao(e);for(;s&&!Va(s);){if($n(s)&&!dg(s))return s;s=Ao(s)}return r}let n=iS(e,t);for(;n&&sB(n)&&dg(n);)n=iS(n,t);return n&&Va(n)&&dg(n)&&!Sb(n)?r:n||oB(e)||r}const vB=async function(e){const t=this.getOffsetParent||TN,r=this.getDimensions,n=await r(e.floating);return{reference:gB(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function yB(e){return Fn(e).direction==="rtl"}const xB={convertOffsetParentRelativeRectToViewportRelativeRect:lB,getDocumentElement:xs,getClippingRect:pB,getOffsetParent:TN,getElementRects:vB,getClientRects:cB,getDimensions:mB,getScale:Pa,isElement:$n,isRTL:yB};function bB(e,t){let r=null,n;const s=xs(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:u,top:f,width:h,height:p}=e.getBoundingClientRect();if(a||t(),!h||!p)return;const m=Wd(f),g=Wd(s.clientWidth-(u+h)),v=Wd(s.clientHeight-(f+p)),b=Wd(u),y={rootMargin:-m+"px "+-g+"px "+-v+"px "+-b+"px",threshold:Vr(0,To(1,c))||1};let w=!0;function S(_){const C=_[0].intersectionRatio;if(C!==c){if(!w)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(S,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,y)}r.observe(e)}return i(!0),o}function wB(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Cb(e),f=s||o?[...u?eu(u):[],...eu(t)]:[];f.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),o&&x.addEventListener("resize",r)});const h=u&&a?bB(u,r):null;let p=-1,m=null;i&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,v=c?Ci(e):null;c&&b();function b(){const x=Ci(e);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&r(),v=x,g=requestAnimationFrame(b)}return r(),()=>{var x;f.forEach(y=>{s&&y.removeEventListener("scroll",r),o&&y.removeEventListener("resize",r)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const SB=eB,_B=tB,CB=X5,EB=nB,jB=J5,aS=Z5,kB=rB,NB=(e,t,r)=>{const n=new Map,s={platform:xB,...r},o={...s.platform,_c:n};return K5(e,t,{...s,platform:o})};var Cf=typeof document<"u"?d.useLayoutEffect:d.useEffect;function uh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!uh(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!uh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function RN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lS(e,t){const r=RN(e);return Math.round(t*r)/r}function fg(e){const t=d.useRef(e);return Cf(()=>{t.current=e}),t}function PB(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[f,h]=d.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=d.useState(n);uh(p,n)||m(n);const[g,v]=d.useState(null),[b,x]=d.useState(null),y=d.useCallback(O=>{O!==C.current&&(C.current=O,v(O))},[]),w=d.useCallback(O=>{O!==j.current&&(j.current=O,x(O))},[]),S=o||g,_=i||b,C=d.useRef(null),j=d.useRef(null),N=d.useRef(f),E=c!=null,P=fg(c),k=fg(s),M=fg(u),D=d.useCallback(()=>{if(!C.current||!j.current)return;const O={placement:t,strategy:r,middleware:p};k.current&&(O.platform=k.current),NB(C.current,j.current,O).then(L=>{const U={...L,isPositioned:M.current!==!1};I.current&&!uh(N.current,U)&&(N.current=U,br.flushSync(()=>{h(U)}))})},[p,t,r,k,M]);Cf(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(O=>({...O,isPositioned:!1})))},[u]);const I=d.useRef(!1);Cf(()=>(I.current=!0,()=>{I.current=!1}),[]),Cf(()=>{if(S&&(C.current=S),_&&(j.current=_),S&&_){if(P.current)return P.current(S,_,D);D()}},[S,_,D,P,E]);const B=d.useMemo(()=>({reference:C,floating:j,setReference:y,setFloating:w}),[y,w]),$=d.useMemo(()=>({reference:S,floating:_}),[S,_]),F=d.useMemo(()=>{const O={position:r,left:0,top:0};if(!$.floating)return O;const L=lS($.floating,f.x),U=lS($.floating,f.y);return a?{...O,transform:"translate("+L+"px, "+U+"px)",...RN($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:U}},[r,a,$.floating,f.x,f.y]);return d.useMemo(()=>({...f,update:D,refs:B,elements:$,floatingStyles:F}),[f,D,B,$,F])}const LB=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?aS({element:n.current,padding:s}).fn(r):{}:n?aS({element:n,padding:s}).fn(r):{}}}},MB=(e,t)=>({...SB(e),options:[e,t]}),DB=(e,t)=>({..._B(e),options:[e,t]}),OB=(e,t)=>({...kB(e),options:[e,t]}),TB=(e,t)=>({...CB(e),options:[e,t]}),RB=(e,t)=>({...EB(e),options:[e,t]}),IB=(e,t)=>({...jB(e),options:[e,t]}),AB=(e,t)=>({...LB(e),options:[e,t]});var $B="Arrow",IN=d.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return l.jsx(_e.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});IN.displayName=$B;var FB=IN;function BB(e,t=[]){let r=[];function n(o,i){const a=d.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:p,children:m,...g}=h,v=(p==null?void 0:p[e][c])||a,b=d.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:b,children:m})}function f(h,p){const m=(p==null?void 0:p[e][c])||a,g=d.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(i=>d.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return d.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,UB(s,...t)]}function UB(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Eb(e){const[t,r]=d.useState(void 0);return Zt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var jb="Popper",[AN,Yo]=BB(jb),[zB,$N]=AN(jb),FN=e=>{const{__scopePopper:t,children:r}=e,[n,s]=d.useState(null);return l.jsx(zB,{scope:t,anchor:n,onAnchorChange:s,children:r})};FN.displayName=jb;var BN="PopperAnchor",UN=d.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=$N(BN,r),i=d.useRef(null),a=Fe(t,i);return d.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:l.jsx(_e.div,{...s,ref:a})});UN.displayName=BN;var kb="PopperContent",[WB,VB]=AN(kb),zN=d.forwardRef((e,t)=>{var Z,Q,le,te,G,de;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:g,...v}=e,b=$N(kb,r),[x,y]=d.useState(null),w=Fe(t,Ce=>y(Ce)),[S,_]=d.useState(null),C=Eb(S),j=(C==null?void 0:C.width)??0,N=(C==null?void 0:C.height)??0,E=n+(o!=="center"?"-"+o:""),P=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},k=Array.isArray(u)?u:[u],M=k.length>0,D={padding:P,boundary:k.filter(GB),altBoundary:M},{refs:I,floatingStyles:B,placement:$,isPositioned:F,middlewareData:O}=PB({strategy:"fixed",placement:E,whileElementsMounted:(...Ce)=>wB(...Ce,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[MB({mainAxis:s+N,alignmentAxis:i}),c&&DB({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?OB():void 0,...D}),c&&TB({...D}),RB({...D,apply:({elements:Ce,rects:Ae,availableWidth:ve,availableHeight:Xe})=>{const{width:Et,height:A}=Ae.reference,z=Ce.floating.style;z.setProperty("--radix-popper-available-width",`${ve}px`),z.setProperty("--radix-popper-available-height",`${Xe}px`),z.setProperty("--radix-popper-anchor-width",`${Et}px`),z.setProperty("--radix-popper-anchor-height",`${A}px`)}}),S&&AB({element:S,padding:a}),qB({arrowWidth:j,arrowHeight:N}),p&&IB({strategy:"referenceHidden",...D})]}),[L,U]=HN($),W=At(g);Zt(()=>{F&&(W==null||W())},[F,W]);const T=(Z=O.arrow)==null?void 0:Z.x,H=(Q=O.arrow)==null?void 0:Q.y,K=((le=O.arrow)==null?void 0:le.centerOffset)!==0,[R,J]=d.useState();return Zt(()=>{x&&J(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:F?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:R,"--radix-popper-transform-origin":[(te=O.transformOrigin)==null?void 0:te.x,(G=O.transformOrigin)==null?void 0:G.y].join(" "),...((de=O.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(WB,{scope:r,placedSide:L,onArrowChange:_,arrowX:T,arrowY:H,shouldHideArrow:K,children:l.jsx(_e.div,{"data-side":L,"data-align":U,...v,ref:w,style:{...v.style,animation:F?void 0:"none"}})})})});zN.displayName=kb;var WN="PopperArrow",HB={top:"bottom",right:"left",bottom:"top",left:"right"},VN=d.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=VB(WN,n),i=HB[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(FB,{...s,ref:r,style:{...s.style,display:"block"}})})});VN.displayName=WN;function GB(e){return e!==null}var qB=e=>({name:"transformOrigin",options:e,fn(t){var b,x,y;const{placement:r,rects:n,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=HN(r),h={start:"0%",center:"50%",end:"100%"}[f],p=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let g="",v="";return u==="bottom"?(g=i?h:`${p}px`,v=`${-c}px`):u==="top"?(g=i?h:`${p}px`,v=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,v=i?h:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,v=i?h:`${m}px`),{data:{x:g,y:v}}}});function HN(e){const[t,r="center"]=e.split("-");return[t,r]}var Dp=FN,Uu=UN,Op=zN,Tp=VN,YB="Portal",zu=d.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,o]=d.useState(!1);Zt(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?mp.createPortal(l.jsx(_e.div,{...n,ref:t}),i):null});zu.displayName=YB;function KB(e,t){return d.useReducer((r,n)=>t[r][n]??r,e)}var sr=e=>{const{present:t,children:r}=e,n=ZB(t),s=typeof r=="function"?r({present:n.isPresent}):d.Children.only(r),o=Fe(n.ref,XB(s));return typeof r=="function"||n.isPresent?d.cloneElement(s,{ref:o}):null};sr.displayName="Presence";function ZB(e){const[t,r]=d.useState(),n=d.useRef({}),s=d.useRef(e),o=d.useRef("none"),i=e?"mounted":"unmounted",[a,c]=KB(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=Vd(n.current);o.current=a==="mounted"?u:"none"},[a]),Zt(()=>{const u=n.current,f=s.current;if(f!==e){const p=o.current,m=Vd(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Zt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=m=>{const v=Vd(n.current).includes(m.animationName);if(m.target===t&&v&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=m=>{m.target===t&&(o.current=Vd(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Vd(e){return(e==null?void 0:e.animationName)||"none"}function XB(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function JB(e,t=[]){let r=[];function n(o,i){const a=d.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:p,children:m,...g}=h,v=(p==null?void 0:p[e][c])||a,b=d.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:b,children:m})}function f(h,p){const m=(p==null?void 0:p[e][c])||a,g=d.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(i=>d.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return d.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,QB(s,...t)]}function QB(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var hg="rovingFocusGroup.onEntryFocus",e6={bubbles:!1,cancelable:!0},Rp="RovingFocusGroup",[Ey,GN,t6]=yb(Rp),[r6,Ip]=JB(Rp,[t6]),[n6,s6]=r6(Rp),qN=d.forwardRef((e,t)=>l.jsx(Ey.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Ey.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(o6,{...e,ref:t})})}));qN.displayName=Rp;var o6=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,p=d.useRef(null),m=Fe(t,p),g=$u(o),[v=null,b]=cs({prop:i,defaultProp:a,onChange:c}),[x,y]=d.useState(!1),w=At(u),S=GN(r),_=d.useRef(!1),[C,j]=d.useState(0);return d.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(hg,w),()=>N.removeEventListener(hg,w)},[w]),l.jsx(n6,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:v,onItemFocus:d.useCallback(N=>b(N),[b]),onItemShiftTab:d.useCallback(()=>y(!0),[]),onFocusableItemAdd:d.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:d.useCallback(()=>j(N=>N-1),[]),children:l.jsx(_e.div,{tabIndex:x||C===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:ue(e.onMouseDown,()=>{_.current=!0}),onFocus:ue(e.onFocus,N=>{const E=!_.current;if(N.target===N.currentTarget&&E&&!x){const P=new CustomEvent(hg,e6);if(N.currentTarget.dispatchEvent(P),!P.defaultPrevented){const k=S().filter($=>$.focusable),M=k.find($=>$.active),D=k.find($=>$.id===v),B=[M,D,...k].filter(Boolean).map($=>$.ref.current);ZN(B,f)}}_.current=!1}),onBlur:ue(e.onBlur,()=>y(!1))})})}),YN="RovingFocusGroupItem",KN=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...i}=e,a=fn(),c=o||a,u=s6(YN,r),f=u.currentTabStopId===c,h=GN(r),{onFocusableItemAdd:p,onFocusableItemRemove:m}=u;return d.useEffect(()=>{if(n)return p(),()=>m()},[n,p,m]),l.jsx(Ey.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:l.jsx(_e.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:ue(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:ue(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:ue(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=l6(g,u.orientation,u.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=h().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const y=x.indexOf(g.currentTarget);x=u.loop?c6(x,y+1):x.slice(y+1)}setTimeout(()=>ZN(x))}})})})});KN.displayName=YN;var i6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function a6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function l6(e,t,r){const n=a6(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return i6[n]}function ZN(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function c6(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var XN=qN,JN=KN,u6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Zi=new WeakMap,Hd=new WeakMap,Gd={},pg=0,QN=function(e){return e&&(e.host||QN(e.parentNode))},d6=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=QN(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},f6=function(e,t,r,n){var s=d6(t,Array.isArray(e)?e:[e]);Gd[r]||(Gd[r]=new WeakMap);var o=Gd[r],i=[],a=new Set,c=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))f(p);else try{var m=p.getAttribute(n),g=m!==null&&m!=="false",v=(Zi.get(p)||0)+1,b=(o.get(p)||0)+1;Zi.set(p,v),o.set(p,b),i.push(p),v===1&&g&&Hd.set(p,!0),b===1&&p.setAttribute(r,"true"),g||p.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return f(t),a.clear(),pg++,function(){i.forEach(function(h){var p=Zi.get(h)-1,m=o.get(h)-1;Zi.set(h,p),o.set(h,m),p||(Hd.has(h)||h.removeAttribute(n),Hd.delete(h)),m||h.removeAttribute(r)}),pg--,pg||(Zi=new WeakMap,Zi=new WeakMap,Hd=new WeakMap,Gd={})}},Wu=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=u6(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),f6(n,s,r,"aria-hidden")):function(){return null}},lr=function(){return lr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},lr.apply(this,arguments)};function Nb(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function eP(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var yc="right-scroll-bar-position",xc="width-before-scroll-bar",h6="with-scroll-bars-hidden",p6="--removed-body-scroll-bar-size";function mg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function m6(e,t){var r=d.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var g6=typeof window<"u"?d.useLayoutEffect:d.useEffect,cS=new WeakMap;function tP(e,t){var r=m6(null,function(n){return e.forEach(function(s){return mg(s,n)})});return g6(function(){var n=cS.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||mg(a,null)}),o.forEach(function(a){s.has(a)||mg(a,i)})}cS.set(r,e)},[e]),r}function v6(e){return e}function y6(e,t){t===void 0&&(t=v6);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var c=function(){var f=i;i=[],f.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),r}}}};return s}function rP(e){e===void 0&&(e={});var t=y6(null);return t.options=lr({async:!0,ssr:!1},e),t}var nP=function(e){var t=e.sideCar,r=Nb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return d.createElement(n,lr({},r))};nP.isSideCarExport=!0;function sP(e,t){return e.useMedium(t),nP}var oP=rP(),gg=function(){},Ap=d.forwardRef(function(e,t){var r=d.useRef(null),n=d.useState({onScrollCapture:gg,onWheelCapture:gg,onTouchMoveCapture:gg}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,p=e.sideCar,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,y=e.gapMode,w=Nb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,_=tP([r,t]),C=lr(lr({},w),s);return d.createElement(d.Fragment,null,f&&d.createElement(S,{sideCar:oP,removeScrollBar:u,shards:h,noIsolation:m,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:r,gapMode:y}),i?d.cloneElement(d.Children.only(a),lr(lr({},C),{ref:_})):d.createElement(x,lr({},C,{className:c,ref:_}),a))});Ap.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ap.classNames={fullWidth:xc,zeroRight:yc};var x6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function b6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=x6();return t&&e.setAttribute("nonce",t),e}function w6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function S6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _6=function(){var e=0,t=null;return{add:function(r){e==0&&(t=b6())&&(w6(t,r),S6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},C6=function(){var e=_6();return function(t,r){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Pb=function(){var e=C6(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},E6={left:0,top:0,right:0,gap:0},vg=function(e){return parseInt(e||"",10)||0},j6=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[vg(r),vg(n),vg(s)]},k6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return E6;var t=j6(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},N6=Pb(),La="data-scroll-locked",P6=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(h6,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(La,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yc,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(xc,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(yc," .").concat(yc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(xc," .").concat(xc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(La,`] {
    `).concat(p6,": ").concat(a,`px;
  }
`)},uS=function(){var e=parseInt(document.body.getAttribute(La)||"0",10);return isFinite(e)?e:0},L6=function(){d.useEffect(function(){return document.body.setAttribute(La,(uS()+1).toString()),function(){var e=uS()-1;e<=0?document.body.removeAttribute(La):document.body.setAttribute(La,e.toString())}},[])},iP=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;L6();var o=d.useMemo(function(){return k6(s)},[s]);return d.createElement(N6,{styles:P6(o,!t,s,r?"":"!important")})},jy=!1;if(typeof window<"u")try{var qd=Object.defineProperty({},"passive",{get:function(){return jy=!0,!0}});window.addEventListener("test",qd,qd),window.removeEventListener("test",qd,qd)}catch{jy=!1}var Xi=jy?{passive:!1}:!1,M6=function(e){return e.tagName==="TEXTAREA"},aP=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!M6(e)&&r[t]==="visible")},D6=function(e){return aP(e,"overflowY")},O6=function(e){return aP(e,"overflowX")},dS=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=lP(e,n);if(s){var o=cP(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},T6=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},R6=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},lP=function(e,t){return e==="v"?D6(t):O6(t)},cP=function(e,t){return e==="v"?T6(t):R6(t)},I6=function(e,t){return e==="h"&&t==="rtl"?-1:1},A6=function(e,t,r,n,s){var o=I6(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,c=t.contains(a),u=!1,f=i>0,h=0,p=0;do{var m=cP(e,a),g=m[0],v=m[1],b=m[2],x=v-b-o*g;(g||x)&&lP(e,a)&&(h+=x,p+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(p)<1||!s))&&(u=!0),u},Yd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fS=function(e){return[e.deltaX,e.deltaY]},hS=function(e){return e&&"current"in e?e.current:e},$6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},F6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},B6=0,Ji=[];function U6(e){var t=d.useRef([]),r=d.useRef([0,0]),n=d.useRef(),s=d.useState(B6++)[0],o=d.useState(Pb)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=eP([e.lockRef.current],(e.shards||[]).map(hS),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=d.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var x=Yd(v),y=r.current,w="deltaX"in v?v.deltaX:y[0]-x[0],S="deltaY"in v?v.deltaY:y[1]-x[1],_,C=v.target,j=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in v&&j==="h"&&C.type==="range")return!1;var N=dS(j,C);if(!N)return!0;if(N?_=j:(_=j==="v"?"h":"v",N=dS(j,C)),!N)return!1;if(!n.current&&"changedTouches"in v&&(w||S)&&(n.current=_),!_)return!0;var E=n.current||_;return A6(E,b,v,E==="h"?w:S,!0)},[]),c=d.useCallback(function(v){var b=v;if(!(!Ji.length||Ji[Ji.length-1]!==o)){var x="deltaY"in b?fS(b):Yd(b),y=t.current.filter(function(_){return _.name===b.type&&(_.target===b.target||b.target===_.shadowParent)&&$6(_.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(i.current.shards||[]).map(hS).filter(Boolean).filter(function(_){return _.contains(b.target)}),S=w.length>0?a(b,w[0]):!i.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=d.useCallback(function(v,b,x,y){var w={name:v,delta:b,target:x,should:y,shadowParent:z6(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),f=d.useCallback(function(v){r.current=Yd(v),n.current=void 0},[]),h=d.useCallback(function(v){u(v.type,fS(v),v.target,a(v,e.lockRef.current))},[]),p=d.useCallback(function(v){u(v.type,Yd(v),v.target,a(v,e.lockRef.current))},[]);d.useEffect(function(){return Ji.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Xi),document.addEventListener("touchmove",c,Xi),document.addEventListener("touchstart",f,Xi),function(){Ji=Ji.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Xi),document.removeEventListener("touchmove",c,Xi),document.removeEventListener("touchstart",f,Xi)}},[]);var m=e.removeScrollBar,g=e.inert;return d.createElement(d.Fragment,null,g?d.createElement(o,{styles:F6(s)}):null,m?d.createElement(iP,{gapMode:e.gapMode}):null)}function z6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const W6=sP(oP,U6);var Vu=d.forwardRef(function(e,t){return d.createElement(Ap,lr({},e,{ref:t,sideCar:W6}))});Vu.classNames=Ap.classNames;var ky=["Enter"," "],V6=["ArrowDown","PageUp","Home"],uP=["ArrowUp","PageDown","End"],H6=[...V6,...uP],G6={ltr:[...ky,"ArrowRight"],rtl:[...ky,"ArrowLeft"]},q6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hu="Menu",[tu,Y6,K6]=yb(Hu),[Fi,dP]=Wn(Hu,[K6,Yo,Ip]),$p=Yo(),fP=Ip(),[Z6,Bi]=Fi(Hu),[X6,Gu]=Fi(Hu),hP=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,a=$p(t),[c,u]=d.useState(null),f=d.useRef(!1),h=At(o),p=$u(s);return d.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),l.jsx(Dp,{...a,children:l.jsx(Z6,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:l.jsx(X6,{scope:t,onClose:d.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:p,modal:i,children:n})})})};hP.displayName=Hu;var J6="MenuAnchor",Lb=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=$p(r);return l.jsx(Uu,{...s,...n,ref:t})});Lb.displayName=J6;var Mb="MenuPortal",[Q6,pP]=Fi(Mb,{forceMount:void 0}),mP=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=Bi(Mb,t);return l.jsx(Q6,{scope:t,forceMount:r,children:l.jsx(sr,{present:r||o.open,children:l.jsx(zu,{asChild:!0,container:s,children:n})})})};mP.displayName=Mb;var hn="MenuContent",[e8,Db]=Fi(hn),gP=d.forwardRef((e,t)=>{const r=pP(hn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Bi(hn,e.__scopeMenu),i=Gu(hn,e.__scopeMenu);return l.jsx(tu.Provider,{scope:e.__scopeMenu,children:l.jsx(sr,{present:n||o.open,children:l.jsx(tu.Slot,{scope:e.__scopeMenu,children:i.modal?l.jsx(t8,{...s,ref:t}):l.jsx(r8,{...s,ref:t})})})})}),t8=d.forwardRef((e,t)=>{const r=Bi(hn,e.__scopeMenu),n=d.useRef(null),s=Fe(t,n);return d.useEffect(()=>{const o=n.current;if(o)return Wu(o)},[]),l.jsx(Ob,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ue(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),r8=d.forwardRef((e,t)=>{const r=Bi(hn,e.__scopeMenu);return l.jsx(Ob,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Ob=d.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:m,disableOutsideScroll:g,...v}=e,b=Bi(hn,r),x=Gu(hn,r),y=$p(r),w=fP(r),S=Y6(r),[_,C]=d.useState(null),j=d.useRef(null),N=Fe(t,j,b.onContentChange),E=d.useRef(0),P=d.useRef(""),k=d.useRef(0),M=d.useRef(null),D=d.useRef("right"),I=d.useRef(0),B=g?Vu:d.Fragment,$=g?{as,allowPinchZoom:!0}:void 0,F=L=>{var Z,Q;const U=P.current+L,W=S().filter(le=>!le.disabled),T=document.activeElement,H=(Z=W.find(le=>le.ref.current===T))==null?void 0:Z.textValue,K=W.map(le=>le.textValue),R=p8(K,U,H),J=(Q=W.find(le=>le.textValue===R))==null?void 0:Q.ref.current;(function le(te){P.current=te,window.clearTimeout(E.current),te!==""&&(E.current=window.setTimeout(()=>le(""),1e3))})(U),J&&setTimeout(()=>J.focus())};d.useEffect(()=>()=>window.clearTimeout(E.current),[]),Np();const O=d.useCallback(L=>{var W,T;return D.current===((W=M.current)==null?void 0:W.side)&&g8(L,(T=M.current)==null?void 0:T.area)},[]);return l.jsx(e8,{scope:r,searchRef:P,onItemEnter:d.useCallback(L=>{O(L)&&L.preventDefault()},[O]),onItemLeave:d.useCallback(L=>{var U;O(L)||((U=j.current)==null||U.focus(),C(null))},[O]),onTriggerLeave:d.useCallback(L=>{O(L)&&L.preventDefault()},[O]),pointerGraceTimerRef:k,onPointerGraceIntentChange:d.useCallback(L=>{M.current=L},[]),children:l.jsx(B,{...$,children:l.jsx(Fu,{asChild:!0,trapped:s,onMountAutoFocus:ue(o,L=>{var U;L.preventDefault(),(U=j.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(hl,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:m,children:l.jsx(XN,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:C,onEntryFocus:ue(c,L=>{x.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Op,{role:"menu","aria-orientation":"vertical","data-state":DP(b.open),"data-radix-menu-content":"",dir:x.dir,...y,...v,ref:N,style:{outline:"none",...v.style},onKeyDown:ue(v.onKeyDown,L=>{const W=L.target.closest("[data-radix-menu-content]")===L.currentTarget,T=L.ctrlKey||L.altKey||L.metaKey,H=L.key.length===1;W&&(L.key==="Tab"&&L.preventDefault(),!T&&H&&F(L.key));const K=j.current;if(L.target!==K||!H6.includes(L.key))return;L.preventDefault();const J=S().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);uP.includes(L.key)&&J.reverse(),f8(J)}),onBlur:ue(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(E.current),P.current="")}),onPointerMove:ue(e.onPointerMove,ru(L=>{const U=L.target,W=I.current!==L.clientX;if(L.currentTarget.contains(U)&&W){const T=L.clientX>I.current?"right":"left";D.current=T,I.current=L.clientX}}))})})})})})})});gP.displayName=hn;var n8="MenuGroup",Tb=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(_e.div,{role:"group",...n,ref:t})});Tb.displayName=n8;var s8="MenuLabel",vP=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(_e.div,{...n,ref:t})});vP.displayName=s8;var dh="MenuItem",pS="menu.itemSelect",Fp=d.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=d.useRef(null),i=Gu(dh,e.__scopeMenu),a=Db(dh,e.__scopeMenu),c=Fe(t,o),u=d.useRef(!1),f=()=>{const h=o.current;if(!r&&h){const p=new CustomEvent(pS,{bubbles:!0,cancelable:!0});h.addEventListener(pS,m=>n==null?void 0:n(m),{once:!0}),CN(h,p),p.defaultPrevented?u.current=!1:i.onClose()}};return l.jsx(yP,{...s,ref:c,disabled:r,onClick:ue(e.onClick,f),onPointerDown:h=>{var p;(p=e.onPointerDown)==null||p.call(e,h),u.current=!0},onPointerUp:ue(e.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:ue(e.onKeyDown,h=>{const p=a.searchRef.current!=="";r||p&&h.key===" "||ky.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Fp.displayName=dh;var yP=d.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=Db(dh,r),a=fP(r),c=d.useRef(null),u=Fe(t,c),[f,h]=d.useState(!1),[p,m]=d.useState("");return d.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[o.children]),l.jsx(tu.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:l.jsx(JN,{asChild:!0,...a,focusable:!n,children:l.jsx(_e.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:ue(e.onPointerMove,ru(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ue(e.onPointerLeave,ru(g=>i.onItemLeave(g))),onFocus:ue(e.onFocus,()=>h(!0)),onBlur:ue(e.onBlur,()=>h(!1))})})})}),o8="MenuCheckboxItem",xP=d.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return l.jsx(CP,{scope:e.__scopeMenu,checked:r,children:l.jsx(Fp,{role:"menuitemcheckbox","aria-checked":fh(r)?"mixed":r,...s,ref:t,"data-state":Ib(r),onSelect:ue(s.onSelect,()=>n==null?void 0:n(fh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});xP.displayName=o8;var bP="MenuRadioGroup",[i8,a8]=Fi(bP,{value:void 0,onValueChange:()=>{}}),wP=d.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=At(n);return l.jsx(i8,{scope:e.__scopeMenu,value:r,onValueChange:o,children:l.jsx(Tb,{...s,ref:t})})});wP.displayName=bP;var SP="MenuRadioItem",_P=d.forwardRef((e,t)=>{const{value:r,...n}=e,s=a8(SP,e.__scopeMenu),o=r===s.value;return l.jsx(CP,{scope:e.__scopeMenu,checked:o,children:l.jsx(Fp,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":Ib(o),onSelect:ue(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});_P.displayName=SP;var Rb="MenuItemIndicator",[CP,l8]=Fi(Rb,{checked:!1}),EP=d.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=l8(Rb,r);return l.jsx(sr,{present:n||fh(o.checked)||o.checked===!0,children:l.jsx(_e.span,{...s,ref:t,"data-state":Ib(o.checked)})})});EP.displayName=Rb;var c8="MenuSeparator",jP=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(_e.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});jP.displayName=c8;var u8="MenuArrow",kP=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=$p(r);return l.jsx(Tp,{...s,...n,ref:t})});kP.displayName=u8;var d8="MenuSub",[Pre,NP]=Fi(d8),rc="MenuSubTrigger",PP=d.forwardRef((e,t)=>{const r=Bi(rc,e.__scopeMenu),n=Gu(rc,e.__scopeMenu),s=NP(rc,e.__scopeMenu),o=Db(rc,e.__scopeMenu),i=d.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},f=d.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return d.useEffect(()=>f,[f]),d.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),c(null)}},[a,c]),l.jsx(Lb,{asChild:!0,...u,children:l.jsx(yP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":DP(r.open),...e,ref:vp(t,s.onTriggerChange),onClick:h=>{var p;(p=e.onClick)==null||p.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ue(e.onPointerMove,ru(h=>{o.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:ue(e.onPointerLeave,ru(h=>{var m,g;f();const p=(m=r.content)==null?void 0:m.getBoundingClientRect();if(p){const v=(g=r.content)==null?void 0:g.dataset.side,b=v==="right",x=b?-5:5,y=p[b?"left":"right"],w=p[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:y,y:p.top},{x:w,y:p.top},{x:w,y:p.bottom},{x:y,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ue(e.onKeyDown,h=>{var m;const p=o.searchRef.current!=="";e.disabled||p&&h.key===" "||G6[n.dir].includes(h.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),h.preventDefault())})})})});PP.displayName=rc;var LP="MenuSubContent",MP=d.forwardRef((e,t)=>{const r=pP(hn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Bi(hn,e.__scopeMenu),i=Gu(hn,e.__scopeMenu),a=NP(LP,e.__scopeMenu),c=d.useRef(null),u=Fe(t,c);return l.jsx(tu.Provider,{scope:e.__scopeMenu,children:l.jsx(sr,{present:n||o.open,children:l.jsx(tu.Slot,{scope:e.__scopeMenu,children:l.jsx(Ob,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ue(e.onFocusOutside,f=>{f.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ue(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:ue(e.onKeyDown,f=>{var m;const h=f.currentTarget.contains(f.target),p=q6[i.dir].includes(f.key);h&&p&&(o.onOpenChange(!1),(m=a.trigger)==null||m.focus(),f.preventDefault())})})})})})});MP.displayName=LP;function DP(e){return e?"open":"closed"}function fh(e){return e==="indeterminate"}function Ib(e){return fh(e)?"indeterminate":e?"checked":"unchecked"}function f8(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function h8(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function p8(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=h8(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function m8(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,c=t[o].y,u=t[i].x,f=t[i].y;c>n!=f>n&&r<(u-a)*(n-c)/(f-c)+a&&(s=!s)}return s}function g8(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return m8(r,t)}function ru(e){return t=>t.pointerType==="mouse"?e(t):void 0}var v8=hP,y8=Lb,x8=mP,b8=gP,w8=Tb,S8=vP,_8=Fp,C8=xP,E8=wP,j8=_P,k8=EP,N8=jP,P8=kP,L8=PP,M8=MP,Ab="DropdownMenu",[D8,Lre]=Wn(Ab,[dP]),wr=dP(),[O8,OP]=D8(Ab),TP=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,c=wr(t),u=d.useRef(null),[f=!1,h]=cs({prop:s,defaultProp:o,onChange:i});return l.jsx(O8,{scope:t,triggerId:fn(),triggerRef:u,contentId:fn(),open:f,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(p=>!p),[h]),modal:a,children:l.jsx(v8,{...c,open:f,onOpenChange:h,dir:n,modal:a,children:r})})};TP.displayName=Ab;var RP="DropdownMenuTrigger",IP=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=OP(RP,r),i=wr(r);return l.jsx(y8,{asChild:!0,...i,children:l.jsx(_e.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:vp(t,o.triggerRef),onPointerDown:ue(e.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:ue(e.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});IP.displayName=RP;var T8="DropdownMenuPortal",AP=e=>{const{__scopeDropdownMenu:t,...r}=e,n=wr(t);return l.jsx(x8,{...n,...r})};AP.displayName=T8;var $P="DropdownMenuContent",FP=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=OP($P,r),o=wr(r),i=d.useRef(!1);return l.jsx(b8,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:ue(e.onCloseAutoFocus,a=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:ue(e.onInteractOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!s.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FP.displayName=$P;var R8="DropdownMenuGroup",I8=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return l.jsx(w8,{...s,...n,ref:t})});I8.displayName=R8;var A8="DropdownMenuLabel",BP=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return l.jsx(S8,{...s,...n,ref:t})});BP.displayName=A8;var $8="DropdownMenuItem",UP=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return l.jsx(_8,{...s,...n,ref:t})});UP.displayName=$8;var F8="DropdownMenuCheckboxItem",zP=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return l.jsx(C8,{...s,...n,ref:t})});zP.displayName=F8;var B8="DropdownMenuRadioGroup",U8=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return l.jsx(E8,{...s,...n,ref:t})});U8.displayName=B8;var z8="DropdownMenuRadioItem",WP=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return l.jsx(j8,{...s,...n,ref:t})});WP.displayName=z8;var W8="DropdownMenuItemIndicator",VP=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return l.jsx(k8,{...s,...n,ref:t})});VP.displayName=W8;var V8="DropdownMenuSeparator",HP=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return l.jsx(N8,{...s,...n,ref:t})});HP.displayName=V8;var H8="DropdownMenuArrow",G8=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return l.jsx(P8,{...s,...n,ref:t})});G8.displayName=H8;var q8="DropdownMenuSubTrigger",GP=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return l.jsx(L8,{...s,...n,ref:t})});GP.displayName=q8;var Y8="DropdownMenuSubContent",qP=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return l.jsx(M8,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qP.displayName=Y8;var K8=TP,Z8=IP,X8=AP,YP=FP,KP=BP,ZP=UP,XP=zP,JP=WP,QP=VP,e2=HP,t2=GP,r2=qP;const J8=K8,Q8=Z8,eU=d.forwardRef(({className:e,inset:t,children:r,...n},s)=>l.jsxs(t2,{ref:s,className:pe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,l.jsx(oh,{className:"ml-auto h-4 w-4"})]}));eU.displayName=t2.displayName;const tU=d.forwardRef(({className:e,...t},r)=>l.jsx(r2,{ref:r,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));tU.displayName=r2.displayName;const n2=d.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(X8,{children:l.jsx(YP,{ref:n,sideOffset:t,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));n2.displayName=YP.displayName;const oa=d.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(ZP,{ref:n,className:pe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));oa.displayName=ZP.displayName;const rU=d.forwardRef(({className:e,children:t,checked:r,...n},s)=>l.jsxs(XP,{ref:s,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(QP,{children:l.jsx(bp,{className:"h-4 w-4"})})}),t]}));rU.displayName=XP.displayName;const nU=d.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(JP,{ref:n,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(QP,{children:l.jsx(d4,{className:"h-2 w-2 fill-current"})})}),t]}));nU.displayName=JP.displayName;const sU=d.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(KP,{ref:n,className:pe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));sU.displayName=KP.displayName;const Ny=d.forwardRef(({className:e,...t},r)=>l.jsx(e2,{ref:r,className:pe("-mx-1 my-1 h-px bg-muted",e),...t}));Ny.displayName=e2.displayName;var $b="Avatar",[oU,Mre]=Wn($b),[iU,s2]=oU($b),o2=d.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=d.useState("idle");return l.jsx(iU,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:l.jsx(_e.span,{...n,ref:t})})});o2.displayName=$b;var i2="AvatarImage",a2=d.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,i=s2(i2,r),a=aU(n,o.referrerPolicy),c=At(u=>{s(u),i.onImageLoadingStatusChange(u)});return Zt(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(_e.img,{...o,ref:t,src:n}):null});a2.displayName=i2;var l2="AvatarFallback",c2=d.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=s2(l2,r),[i,a]=d.useState(n===void 0);return d.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?l.jsx(_e.span,{...s,ref:t}):null});c2.displayName=l2;function aU(e,t){const[r,n]=d.useState("idle");return Zt(()=>{if(!e){n("error");return}let s=!0;const o=new window.Image,i=a=>()=>{s&&n(a)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var u2=o2,d2=a2,f2=c2;const ds=d.forwardRef(({className:e,...t},r)=>l.jsx(u2,{ref:r,className:pe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ds.displayName=u2.displayName;const fs=d.forwardRef(({className:e,...t},r)=>l.jsx(d2,{ref:r,className:pe("aspect-square h-full w-full",e),...t}));fs.displayName=d2.displayName;const hs=d.forwardRef(({className:e,...t},r)=>l.jsx(f2,{ref:r,className:pe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));hs.displayName=f2.displayName;const Re=d.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Re.displayName="Input";function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function lU(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cU(e){var t=lU(e,"string");return nu(t)=="symbol"?t:t+""}function X(e,t,r){return(t=cU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yg,mS;function uU(){if(mS)return yg;mS=1;var e=function(r,n,s,o,i,a,c,u){if(!r){var f;if(n===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[s,o,i,a,c,u],p=0;f=new Error(n.replace(/%s/g,function(){return h[p++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return yg=e,yg}var dU=uU(),Ht=h2(dU),Ie=d.createContext(null);function fU(){Ht(!!d.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=d.useContext(Ie);return Ht(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}function hU(e,t,r){return Object.keys(e).reduce(function(s,o){return t(s,e[o],o)},r)}function pU(e,t){Object.keys(e).forEach(r=>t(e[r],r))}function mU(e,t,r,n){var s={},o=(i,a)=>{var c=r[a];c!==t[a]&&(s[a]=c,i(n,c))};return pU(e,o),s}function gU(e,t,r){var n=hU(r,function(o,i,a){return typeof e[a]=="function"&&o.push(google.maps.event.addListener(t,i,e[a])),o},[]);return n}function vU(e){google.maps.event.removeListener(e)}function Ue(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.forEach(vU)}function Be(e){var{updaterMap:t,eventMap:r,prevProps:n,nextProps:s,instance:o}=e,i=gU(s,o,r);return mU(t,n,s,o),i}var gS={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},vS={extraMapTypes(e,t){t.forEach(function(n,s){e.mapTypes.set(String(s),n)})},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};function yU(e){var{children:t,options:r,id:n,mapContainerStyle:s,mapContainerClassName:o,center:i,onClick:a,onDblClick:c,onDrag:u,onDragEnd:f,onDragStart:h,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseDown:v,onMouseUp:b,onRightClick:x,onCenterChanged:y,onLoad:w,onUnmount:S}=e,[_,C]=d.useState(null),j=d.useRef(null),[N,E]=d.useState(null),[P,k]=d.useState(null),[M,D]=d.useState(null),[I,B]=d.useState(null),[$,F]=d.useState(null),[O,L]=d.useState(null),[U,W]=d.useState(null),[T,H]=d.useState(null),[K,R]=d.useState(null),[J,Z]=d.useState(null),[Q,le]=d.useState(null),[te,G]=d.useState(null);return d.useEffect(()=>{r&&_!==null&&_.setOptions(r)},[_,r]),d.useEffect(()=>{_!==null&&typeof i<"u"&&_.setCenter(i)},[_,i]),d.useEffect(()=>{_&&c&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(_,"dblclick",c)))},[c]),d.useEffect(()=>{_&&f&&(M!==null&&google.maps.event.removeListener(M),D(google.maps.event.addListener(_,"dragend",f)))},[f]),d.useEffect(()=>{_&&h&&(I!==null&&google.maps.event.removeListener(I),B(google.maps.event.addListener(_,"dragstart",h)))},[h]),d.useEffect(()=>{_&&v&&($!==null&&google.maps.event.removeListener($),F(google.maps.event.addListener(_,"mousedown",v)))},[v]),d.useEffect(()=>{_&&p&&(O!==null&&google.maps.event.removeListener(O),L(google.maps.event.addListener(_,"mousemove",p)))},[p]),d.useEffect(()=>{_&&m&&(U!==null&&google.maps.event.removeListener(U),W(google.maps.event.addListener(_,"mouseout",m)))},[m]),d.useEffect(()=>{_&&g&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(_,"mouseover",g)))},[g]),d.useEffect(()=>{_&&b&&(K!==null&&google.maps.event.removeListener(K),R(google.maps.event.addListener(_,"mouseup",b)))},[b]),d.useEffect(()=>{_&&x&&(J!==null&&google.maps.event.removeListener(J),Z(google.maps.event.addListener(_,"rightclick",x)))},[x]),d.useEffect(()=>{_&&a&&(Q!==null&&google.maps.event.removeListener(Q),le(google.maps.event.addListener(_,"click",a)))},[a]),d.useEffect(()=>{_&&u&&(te!==null&&google.maps.event.removeListener(te),G(google.maps.event.addListener(_,"drag",u)))},[u]),d.useEffect(()=>{_&&y&&(N!==null&&google.maps.event.removeListener(N),E(google.maps.event.addListener(_,"center_changed",y)))},[a]),d.useEffect(()=>{var de=j.current===null?null:new google.maps.Map(j.current,r);return C(de),de!==null&&w&&w(de),()=>{de!==null&&S&&S(de)}},[]),l.jsx("div",{id:n,ref:j,style:s,className:o,children:l.jsx(Ie.Provider,{value:_,children:_!==null?t:null})})}d.memo(yU);class qu extends d.PureComponent{constructor(){super(...arguments),X(this,"state",{map:null}),X(this,"registeredEvents",[]),X(this,"mapRef",null),X(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),X(this,"panTo",t=>{var r=this.getInstance();r&&r.panTo(t)}),X(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),X(this,"getRef",t=>{this.mapRef=t})}componentDidMount(){var t=this.getInstance();this.registeredEvents=Be({updaterMap:vS,eventMap:gS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{map:t}},this.setMapCallback)}componentDidUpdate(t){this.state.map!==null&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:vS,eventMap:gS,prevProps:t,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Ue(this.registeredEvents))}render(){return l.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:l.jsx(Ie.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function yS(e,t,r,n,s,o,i){try{var a=e[o](i),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,s)}function p2(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var o=e.apply(t,r);function i(c){yS(o,n,s,i,a,"next",c)}function a(c){yS(o,n,s,i,a,"throw",c)}i(void 0)})}}function m2(e){var{googleMapsApiKey:t,googleMapsClientId:r,version:n="weekly",language:s,region:o,libraries:i,channel:a,mapIds:c,authReferrerPolicy:u}=e,f=[];return Ht(t&&r||!(t&&r),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?f.push("key=".concat(t)):r&&f.push("client=".concat(r)),n&&f.push("v=".concat(n)),s&&f.push("language=".concat(s)),o&&f.push("region=".concat(o)),i&&i.length&&f.push("libraries=".concat(i.sort().join(","))),a&&f.push("channel=".concat(a)),c&&c.length&&f.push("map_ids=".concat(c.join(","))),u&&f.push("auth_referrer_policy=".concat(u)),f.push("loading=async"),f.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(f.join("&"))}var pi=typeof document<"u";function g2(e){var{url:t,id:r,nonce:n}=e;return pi?new Promise(function(o,i){var a=document.getElementById(r),c=window;if(a){var u=a.getAttribute("data-state");if(a.src===t&&u!=="error"){if(u==="ready")return o(r);var f=c.initMap,h=a.onerror;c.initMap=function(){f&&f(),o(r)},a.onerror=function(m){h&&h(m),i(m)};return}else a.remove()}var p=document.createElement("script");p.type="text/javascript",p.src=t,p.id=r,p.async=!0,p.nonce=n||"",p.onerror=function(g){p.setAttribute("data-state","error"),i(g)},c.initMap=function(){p.setAttribute("data-state","ready"),o(r)},document.head.appendChild(p)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function xS(e){var t=e.href;return t&&(t.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:e.tagName.toLowerCase()==="style"&&e.styleSheet&&e.styleSheet.cssText&&e.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(e.styleSheet.cssText="",!0):e.tagName.toLowerCase()==="style"&&e.innerHTML&&e.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(e.innerHTML="",!0):e.tagName.toLowerCase()==="style"&&!e.styleSheet&&!e.innerHTML}function v2(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(s,o){return xS(s)||Reflect.apply(t,e,[s,o]),s};var r=e.appendChild.bind(e);e.appendChild=function(s){return xS(s)||Reflect.apply(r,e,[s]),s}}}var Fl=!1;function y2(){return l.jsx("div",{children:"Loading..."})}var Py={id:"script-loader",version:"weekly"};class xU extends d.PureComponent{constructor(){super(...arguments),X(this,"check",d.createRef()),X(this,"state",{loaded:!1}),X(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),X(this,"isCleaningUp",p2(function*(){function t(r){if(!Fl)r();else if(pi)var n=window.setInterval(function(){Fl||(window.clearInterval(n),r())},1)}return new Promise(t)})),X(this,"cleanup",()=>{Fl=!0;var t=document.getElementById(this.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(n){return typeof n.src=="string"&&n.src.includes("maps.googleapis")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(n){return n.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(n){return n.innerText!==void 0&&n.innerText.length>0&&n.innerText.includes(".gm-")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)})}),X(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&v2(),Ht(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var t={id:this.props.id,nonce:this.props.nonce,url:m2(this.props)};g2(t).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(r=>{this.props.onError&&this.props.onError(r),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})})}componentDidMount(){if(pi){if(window.google&&window.google.maps&&!Fl){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}}componentDidUpdate(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),pi&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(pi){this.cleanup();var t=()=>{this.check.current||(delete window.google,Fl=!1)};window.setTimeout(t,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||l.jsx(y2,{})]})}}X(xU,"defaultProps",Py);function bU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}function Fb(e,t){if(e==null)return{};var r,n,s=bU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var bS;function gl(e){var{id:t=Py.id,version:r=Py.version,nonce:n,googleMapsApiKey:s,googleMapsClientId:o,language:i,region:a,libraries:c,preventGoogleFontsLoading:u,channel:f,mapIds:h,authReferrerPolicy:p}=e,m=d.useRef(!1),[g,v]=d.useState(!1),[b,x]=d.useState(void 0);d.useEffect(function(){return m.current=!0,()=>{m.current=!1}},[]),d.useEffect(function(){pi&&u&&v2()},[u]),d.useEffect(function(){g&&Ht(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[g]);var y=m2({version:r,googleMapsApiKey:s,googleMapsClientId:o,language:i,region:a,libraries:c,channel:f,mapIds:h,authReferrerPolicy:p});d.useEffect(function(){if(!pi)return;function _(){m.current&&(v(!0),bS=y)}if(window.google&&window.google.maps&&bS===y){_();return}g2({id:t,url:y,nonce:n}).then(_).catch(function(j){m.current&&x(j),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(o||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(j)})},[t,y,n]);var w=d.useRef();return d.useEffect(function(){w.current&&c!==w.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),w.current=c},[c]),{isLoaded:g,loadError:b,url:y}}var wU=["loadingElement","onLoad","onError","onUnmount","children"],SU=l.jsx(y2,{});function _U(e){var{loadingElement:t,onLoad:r,onError:n,onUnmount:s,children:o}=e,i=Fb(e,wU),{isLoaded:a,loadError:c}=gl(i);return d.useEffect(function(){a&&typeof r=="function"&&r()},[a,r]),d.useEffect(function(){c&&typeof n=="function"&&n(c)},[c,n]),d.useEffect(function(){return()=>{s&&s()}},[s]),a?o:t||SU}d.memo(_U);var wS;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(wS||(wS={}));function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var _S={},CS={options(e,t){e.setOptions(t)}};function CU(e){var{options:t,onLoad:r,onUnmount:n}=e,s=d.useContext(Ie),[o,i]=d.useState(null);return d.useEffect(()=>{o!==null&&o.setMap(s)},[s]),d.useEffect(()=>{t&&o!==null&&o.setOptions(t)},[o,t]),d.useEffect(()=>{var a=new google.maps.TrafficLayer(hh(hh({},t),{},{map:s}));return i(a),r&&r(a),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}d.memo(CU);class EU extends d.PureComponent{constructor(){super(...arguments),X(this,"state",{trafficLayer:null}),X(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),X(this,"registeredEvents",[])}componentDidMount(){var t=new google.maps.TrafficLayer(hh(hh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:CS,eventMap:_S,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)}componentDidUpdate(t){this.state.trafficLayer!==null&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:CS,eventMap:_S,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ue(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}X(EU,"contextType",Ie);function jU(e){var{onLoad:t,onUnmount:r}=e,n=d.useContext(Ie),[s,o]=d.useState(null);return d.useEffect(()=>{s!==null&&s.setMap(n)},[n]),d.useEffect(()=>{var i=new google.maps.BicyclingLayer;return o(i),i.setMap(n),t&&t(i),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}d.memo(jU);class kU extends d.PureComponent{constructor(){super(...arguments),X(this,"state",{bicyclingLayer:null}),X(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var t=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:t}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}X(kU,"contextType",Ie);function NU(e){var{onLoad:t,onUnmount:r}=e,n=d.useContext(Ie),[s,o]=d.useState(null);return d.useEffect(()=>{s!==null&&s.setMap(n)},[n]),d.useEffect(()=>{var i=new google.maps.TransitLayer;return o(i),i.setMap(n),t&&t(i),()=>{s!==null&&(r&&r(s),s.setMap(null))}},[]),null}d.memo(NU);class PU extends d.PureComponent{constructor(){super(...arguments),X(this,"state",{transitLayer:null}),X(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}X(PU,"contextType",Ie);function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var jS={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},kS={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};function LU(e){var{options:t,drawingMode:r,onCircleComplete:n,onMarkerComplete:s,onOverlayComplete:o,onPolygonComplete:i,onPolylineComplete:a,onRectangleComplete:c,onLoad:u,onUnmount:f}=e,h=d.useContext(Ie),[p,m]=d.useState(null),[g,v]=d.useState(null),[b,x]=d.useState(null),[y,w]=d.useState(null),[S,_]=d.useState(null),[C,j]=d.useState(null),[N,E]=d.useState(null);return d.useEffect(()=>{p!==null&&p.setMap(h)},[h]),d.useEffect(()=>{t&&p!==null&&p.setOptions(t)},[p,t]),d.useEffect(()=>{p!==null&&p.setDrawingMode(r??null)},[p,r]),d.useEffect(()=>{p&&n&&(g!==null&&google.maps.event.removeListener(g),v(google.maps.event.addListener(p,"circlecomplete",n)))},[p,n]),d.useEffect(()=>{p&&s&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(p,"markercomplete",s)))},[p,s]),d.useEffect(()=>{p&&o&&(y!==null&&google.maps.event.removeListener(y),w(google.maps.event.addListener(p,"overlaycomplete",o)))},[p,o]),d.useEffect(()=>{p&&i&&(S!==null&&google.maps.event.removeListener(S),_(google.maps.event.addListener(p,"polygoncomplete",i)))},[p,i]),d.useEffect(()=>{p&&a&&(C!==null&&google.maps.event.removeListener(C),j(google.maps.event.addListener(p,"polylinecomplete",a)))},[p,a]),d.useEffect(()=>{p&&c&&(N!==null&&google.maps.event.removeListener(N),E(google.maps.event.addListener(p,"rectanglecomplete",c)))},[p,c]),d.useEffect(()=>{Ht(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var P=new google.maps.drawing.DrawingManager(ph(ph({},t),{},{map:h}));return r&&P.setDrawingMode(r),n&&v(google.maps.event.addListener(P,"circlecomplete",n)),s&&x(google.maps.event.addListener(P,"markercomplete",s)),o&&w(google.maps.event.addListener(P,"overlaycomplete",o)),i&&_(google.maps.event.addListener(P,"polygoncomplete",i)),a&&j(google.maps.event.addListener(P,"polylinecomplete",a)),c&&E(google.maps.event.addListener(P,"rectanglecomplete",c)),m(P),u&&u(P),()=>{p!==null&&(g&&google.maps.event.removeListener(g),b&&google.maps.event.removeListener(b),y&&google.maps.event.removeListener(y),S&&google.maps.event.removeListener(S),C&&google.maps.event.removeListener(C),N&&google.maps.event.removeListener(N),f&&f(p),p.setMap(null))}},[]),null}d.memo(LU);class MU extends d.PureComponent{constructor(t){super(t),X(this,"registeredEvents",[]),X(this,"state",{drawingManager:null}),X(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Ht(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var t=new google.maps.drawing.DrawingManager(ph(ph({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:kS,eventMap:jS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)}componentDidUpdate(t){this.state.drawingManager!==null&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:kS,eventMap:jS,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ue(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}X(MU,"contextType",Ie);function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var PS={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},LS={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},mh={};function DU(e){var{position:t,options:r,clusterer:n,noClustererRedraw:s,children:o,draggable:i,visible:a,animation:c,clickable:u,cursor:f,icon:h,label:p,opacity:m,shape:g,title:v,zIndex:b,onClick:x,onDblClick:y,onDrag:w,onDragEnd:S,onDragStart:_,onMouseOut:C,onMouseOver:j,onMouseUp:N,onMouseDown:E,onRightClick:P,onClickableChanged:k,onCursorChanged:M,onAnimationChanged:D,onDraggableChanged:I,onFlatChanged:B,onIconChanged:$,onPositionChanged:F,onShapeChanged:O,onTitleChanged:L,onVisibleChanged:U,onZindexChanged:W,onLoad:T,onUnmount:H}=e,K=d.useContext(Ie),[R,J]=d.useState(null),[Z,Q]=d.useState(null),[le,te]=d.useState(null),[G,de]=d.useState(null),[Ce,Ae]=d.useState(null),[ve,Xe]=d.useState(null),[Et,A]=d.useState(null),[z,q]=d.useState(null),[oe,ie]=d.useState(null),[re,xe]=d.useState(null),[Pe,mt]=d.useState(null),[Je,Ar]=d.useState(null),[$r,ws]=d.useState(null),[Gn,Qo]=d.useState(null),[qn,zi]=d.useState(null),[wn,Sn]=d.useState(null),[Wi,Le]=d.useState(null),[Qe,st]=d.useState(null),[Fr,Br]=d.useState(null),[Ss,vd]=d.useState(null),[yd,i0]=d.useState(null),[xd,a0]=d.useState(null);d.useEffect(()=>{R!==null&&R.setMap(K)},[K]),d.useEffect(()=>{typeof r<"u"&&R!==null&&R.setOptions(r)},[R,r]),d.useEffect(()=>{typeof i<"u"&&R!==null&&R.setDraggable(i)},[R,i]),d.useEffect(()=>{t&&R!==null&&R.setPosition(t)},[R,t]),d.useEffect(()=>{typeof a<"u"&&R!==null&&R.setVisible(a)},[R,a]),d.useEffect(()=>{R==null||R.setAnimation(c)},[R,c]),d.useEffect(()=>{R&&u!==void 0&&R.setClickable(u)},[R,u]),d.useEffect(()=>{R&&f!==void 0&&R.setCursor(f)},[R,f]),d.useEffect(()=>{R&&h!==void 0&&R.setIcon(h)},[R,h]),d.useEffect(()=>{R&&p!==void 0&&R.setLabel(p)},[R,p]),d.useEffect(()=>{R&&m!==void 0&&R.setOpacity(m)},[R,m]),d.useEffect(()=>{R&&g!==void 0&&R.setShape(g)},[R,g]),d.useEffect(()=>{R&&v!==void 0&&R.setTitle(v)},[R,v]),d.useEffect(()=>{R&&b!==void 0&&R.setZIndex(b)},[R,b]),d.useEffect(()=>{R&&y&&(Z!==null&&google.maps.event.removeListener(Z),Q(google.maps.event.addListener(R,"dblclick",y)))},[y]),d.useEffect(()=>{R&&S&&(le!==null&&google.maps.event.removeListener(le),te(google.maps.event.addListener(R,"dragend",S)))},[S]),d.useEffect(()=>{R&&_&&(G!==null&&google.maps.event.removeListener(G),de(google.maps.event.addListener(R,"dragstart",_)))},[_]),d.useEffect(()=>{R&&E&&(Ce!==null&&google.maps.event.removeListener(Ce),Ae(google.maps.event.addListener(R,"mousedown",E)))},[E]),d.useEffect(()=>{R&&C&&(ve!==null&&google.maps.event.removeListener(ve),Xe(google.maps.event.addListener(R,"mouseout",C)))},[C]),d.useEffect(()=>{R&&j&&(Et!==null&&google.maps.event.removeListener(Et),A(google.maps.event.addListener(R,"mouseover",j)))},[j]),d.useEffect(()=>{R&&N&&(z!==null&&google.maps.event.removeListener(z),q(google.maps.event.addListener(R,"mouseup",N)))},[N]),d.useEffect(()=>{R&&P&&(oe!==null&&google.maps.event.removeListener(oe),ie(google.maps.event.addListener(R,"rightclick",P)))},[P]),d.useEffect(()=>{R&&x&&(re!==null&&google.maps.event.removeListener(re),xe(google.maps.event.addListener(R,"click",x)))},[x]),d.useEffect(()=>{R&&w&&(Pe!==null&&google.maps.event.removeListener(Pe),mt(google.maps.event.addListener(R,"drag",w)))},[w]),d.useEffect(()=>{R&&k&&(Je!==null&&google.maps.event.removeListener(Je),Ar(google.maps.event.addListener(R,"clickable_changed",k)))},[k]),d.useEffect(()=>{R&&M&&($r!==null&&google.maps.event.removeListener($r),ws(google.maps.event.addListener(R,"cursor_changed",M)))},[M]),d.useEffect(()=>{R&&D&&(Gn!==null&&google.maps.event.removeListener(Gn),Qo(google.maps.event.addListener(R,"animation_changed",D)))},[D]),d.useEffect(()=>{R&&I&&(qn!==null&&google.maps.event.removeListener(qn),zi(google.maps.event.addListener(R,"draggable_changed",I)))},[I]),d.useEffect(()=>{R&&B&&(wn!==null&&google.maps.event.removeListener(wn),Sn(google.maps.event.addListener(R,"flat_changed",B)))},[B]),d.useEffect(()=>{R&&$&&(Wi!==null&&google.maps.event.removeListener(Wi),Le(google.maps.event.addListener(R,"icon_changed",$)))},[$]),d.useEffect(()=>{R&&F&&(Qe!==null&&google.maps.event.removeListener(Qe),st(google.maps.event.addListener(R,"position_changed",F)))},[F]),d.useEffect(()=>{R&&O&&(Fr!==null&&google.maps.event.removeListener(Fr),Br(google.maps.event.addListener(R,"shape_changed",O)))},[O]),d.useEffect(()=>{R&&L&&(Ss!==null&&google.maps.event.removeListener(Ss),vd(google.maps.event.addListener(R,"title_changed",L)))},[L]),d.useEffect(()=>{R&&U&&(yd!==null&&google.maps.event.removeListener(yd),i0(google.maps.event.addListener(R,"visible_changed",U)))},[U]),d.useEffect(()=>{R&&W&&(xd!==null&&google.maps.event.removeListener(xd),a0(google.maps.event.addListener(R,"zindex_changed",W)))},[W]),d.useEffect(()=>{var kl=Ma(Ma(Ma({},r||mh),n?mh:{map:K}),{},{position:t}),Me=new google.maps.Marker(kl);return n?n.addMarker(Me,!!s):Me.setMap(K),t&&Me.setPosition(t),typeof a<"u"&&Me.setVisible(a),typeof i<"u"&&Me.setDraggable(i),typeof u<"u"&&Me.setClickable(u),typeof f=="string"&&Me.setCursor(f),h&&Me.setIcon(h),typeof p<"u"&&Me.setLabel(p),typeof m<"u"&&Me.setOpacity(m),g&&Me.setShape(g),typeof v=="string"&&Me.setTitle(v),typeof b=="number"&&Me.setZIndex(b),y&&Q(google.maps.event.addListener(Me,"dblclick",y)),S&&te(google.maps.event.addListener(Me,"dragend",S)),_&&de(google.maps.event.addListener(Me,"dragstart",_)),E&&Ae(google.maps.event.addListener(Me,"mousedown",E)),C&&Xe(google.maps.event.addListener(Me,"mouseout",C)),j&&A(google.maps.event.addListener(Me,"mouseover",j)),N&&q(google.maps.event.addListener(Me,"mouseup",N)),P&&ie(google.maps.event.addListener(Me,"rightclick",P)),x&&xe(google.maps.event.addListener(Me,"click",x)),w&&mt(google.maps.event.addListener(Me,"drag",w)),k&&Ar(google.maps.event.addListener(Me,"clickable_changed",k)),M&&ws(google.maps.event.addListener(Me,"cursor_changed",M)),D&&Qo(google.maps.event.addListener(Me,"animation_changed",D)),I&&zi(google.maps.event.addListener(Me,"draggable_changed",I)),B&&Sn(google.maps.event.addListener(Me,"flat_changed",B)),$&&Le(google.maps.event.addListener(Me,"icon_changed",$)),F&&st(google.maps.event.addListener(Me,"position_changed",F)),O&&Br(google.maps.event.addListener(Me,"shape_changed",O)),L&&vd(google.maps.event.addListener(Me,"title_changed",L)),U&&i0(google.maps.event.addListener(Me,"visible_changed",U)),W&&a0(google.maps.event.addListener(Me,"zindex_changed",W)),J(Me),T&&T(Me),()=>{Z!==null&&google.maps.event.removeListener(Z),le!==null&&google.maps.event.removeListener(le),G!==null&&google.maps.event.removeListener(G),Ce!==null&&google.maps.event.removeListener(Ce),ve!==null&&google.maps.event.removeListener(ve),Et!==null&&google.maps.event.removeListener(Et),z!==null&&google.maps.event.removeListener(z),oe!==null&&google.maps.event.removeListener(oe),re!==null&&google.maps.event.removeListener(re),Je!==null&&google.maps.event.removeListener(Je),$r!==null&&google.maps.event.removeListener($r),Gn!==null&&google.maps.event.removeListener(Gn),qn!==null&&google.maps.event.removeListener(qn),wn!==null&&google.maps.event.removeListener(wn),Wi!==null&&google.maps.event.removeListener(Wi),Qe!==null&&google.maps.event.removeListener(Qe),Ss!==null&&google.maps.event.removeListener(Ss),yd!==null&&google.maps.event.removeListener(yd),xd!==null&&google.maps.event.removeListener(xd),H&&H(Me),n?n.removeMarker(Me,!!s):Me&&Me.setMap(null)}},[]);var qT=d.useMemo(()=>o?d.Children.map(o,kl=>{if(!d.isValidElement(kl))return kl;var Me=kl;return d.cloneElement(Me,{anchor:R})}):null,[o,R]);return l.jsx(l.Fragment,{children:qT})||null}var Ha=d.memo(DU);class OU extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[])}componentDidMount(){var t=this;return p2(function*(){var r=Ma(Ma(Ma({},t.props.options||mh),t.props.clusterer?mh:{map:t.context}),{},{position:t.props.position});t.marker=new google.maps.Marker(r),t.props.clusterer?t.props.clusterer.addMarker(t.marker,!!t.props.noClustererRedraw):t.marker.setMap(t.context),t.registeredEvents=Be({updaterMap:LS,eventMap:PS,prevProps:{},nextProps:t.props,instance:t.marker}),t.props.onLoad&&t.props.onLoad(t.marker)})()}componentDidUpdate(t){this.marker&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:LS,eventMap:PS,prevProps:t,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ue(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var t=this.props.children?d.Children.map(this.props.children,r=>{if(!d.isValidElement(r))return r;var n=r;return d.cloneElement(n,{anchor:this.marker})}):null;return t||null}}X(OU,"contextType",Ie);var TU=function(){function e(t,r){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=r,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(t){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var r=this.cluster.getClusterer();if(google.maps.event.trigger(r,"click",this.cluster),google.maps.event.trigger(r,"clusterclick",this.cluster),r.getZoomOnClick()){var n=r.getMaxZoom(),s=this.cluster.getBounds(),o=r.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(s),this.timeOut=window.setTimeout(function(){var i=r.getMap();if(i!==null){"fitBounds"in i&&i.fitBounds(s);var a=i.getZoom()||0;n!==null&&a>n&&i.setZoom(n+1)}},100)}t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var t;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(t=this.getPanes())===null||t===void 0||t.overlayMouseTarget.appendChild(this.div);var r=this.getMap();r!==null&&(this.boundsChangedListener=google.maps.event.addListener(r,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var t=this.getPosFromLatLng(this.center);this.div.style.top=t!==null?"".concat(t.y,"px"):"0",this.div.style.left=t!==null?"".concat(t.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var t,r,n,s,o,i;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),u=parseInt(((t=c[0])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),f=parseInt(((r=c[1])===null||r===void 0?void 0:r.replace(/^\s+|\s+$/g,""))||"0",10),h=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(h!==null?"".concat(h.y,"px"):"0","; left: ").concat(h!==null?"".concat(h.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var p=document.createElement("img");p.alt=a,p.src=this.url,p.width=this.width,p.height=this.height,p.setAttribute("style","position: absolute; top: ".concat(f,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(p.style.clip="rect(-".concat(f,"px, -").concat(u+this.width,"px, -").concat(f+this.height,", -").concat(u,")"));var m=document.createElement("div");m.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((n=this.sums)===null||n===void 0)&&n.text&&(m.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((o=this.sums)===null||o===void 0)&&o.html&&(m.innerHTML="".concat((i=this.sums)===null||i===void 0?void 0:i.html)),this.div.innerHTML="",this.div.appendChild(p),this.div.appendChild(m),this.div.title=a,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(t){this.sums=t;var r=this.cluster.getClusterer().getStyles(),n=r[Math.min(r.length-1,Math.max(0,t.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(t){this.center=t},e.prototype.getPosFromLatLng=function(t){var r=this.getProjection().fromLatLngToDivPixel(t);return r!==null&&(r.x-=this.anchorIcon[1],r.y-=this.anchorIcon[0]),r},e}(),RU=function(){function e(t){this.markerClusterer=t,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new TU(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center,this.center),r=this.getMarkers(),n=0,s=r;n<s.length;n++){var o=s[n],i=o.getPosition();i&&t.extend(i)}return t},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(t){var r;if(this.isMarkerAlreadyAdded(t))return!1;if(this.center){if(this.averageCenter){var n=t.getPosition();if(n){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+n.lat())/s,(this.center.lng()*(s-1)+n.lng())/s),this.calculateBounds()}}}else{var n=t.getPosition();n&&(this.center=n,this.calculateBounds())}t.isAdded=!0,this.markers.push(t);var o=this.markers.length,i=this.markerClusterer.getMaxZoom(),a=(r=this.map)===null||r===void 0?void 0:r.getZoom();if(i!==null&&typeof a<"u"&&a>i)t.getMap()!==this.map&&t.setMap(this.map);else if(o<this.minClusterSize)t.getMap()!==this.map&&t.setMap(this.map);else if(o===this.minClusterSize)for(var c=0,u=this.markers;c<u.length;c++){var f=u[c];f.setMap(null)}else t.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(t){if(this.bounds!==null){var r=t.getPosition();if(r)return this.bounds.contains(r)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var t,r=this.markers.length,n=this.markerClusterer.getMaxZoom(),s=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(n!==null&&typeof s<"u"&&s>n){this.clusterIcon.hide();return}if(r<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},e.prototype.isMarkerAlreadyAdded=function(t){if(this.markers.includes)return this.markers.includes(t);for(var r=0;r<this.markers.length;r++)if(t===this.markers[r])return!0;return!1},e}();function IU(e,t){var r=e.length,n=r.toString().length,s=Math.min(n,t);return{text:r.toString(),index:s,title:""}}var AU=2e3,$U=500,FU="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",BU="png",UU=[53,56,66,78,90],zU="cluster",x2=function(){function e(t,r,n){r===void 0&&(r=[]),n===void 0&&(n={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=n.gridSize||60,this.minClusterSize=n.minimumClusterSize||2,this.maxZoom=n.maxZoom||null,this.styles=n.styles||[],this.title=n.title||"",this.zoomOnClick=!0,n.zoomOnClick!==void 0&&(this.zoomOnClick=n.zoomOnClick),this.averageCenter=!1,n.averageCenter!==void 0&&(this.averageCenter=n.averageCenter),this.ignoreHidden=!1,n.ignoreHidden!==void 0&&(this.ignoreHidden=n.ignoreHidden),this.enableRetinaIcons=!1,n.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=n.enableRetinaIcons),this.imagePath=n.imagePath||FU,this.imageExtension=n.imageExtension||BU,this.imageSizes=n.imageSizes||UU,this.calculator=n.calculator||IU,this.batchSize=n.batchSize||AU,this.batchSizeIE=n.batchSizeIE||$U,this.clusterClass=n.clusterClass||zU,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(r,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var t,r;this.resetViewport(!1),(((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===(this.get("minZoom")||0)||((r=this.getMap())===null||r===void 0?void 0:r.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var t=this.getMap();this.activeMap=t,this.ready=!0,this.repaint(),t!==null&&(this.listeners=[google.maps.event.addListener(t,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(t,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var t=0,r=this.markers;t<r.length;t++){var n=r[t];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var s=0,o=this.clusters;s<o.length;s++){var i=o[s];i.remove()}this.clusters=[];for(var a=0,c=this.listeners;a<c.length;a++){var u=c[a];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var t=0;t<this.imageSizes.length;t++)this.styles.push({url:"".concat(this.imagePath+(t+1),".").concat(this.imageExtension),height:this.imageSizes[t]||0,width:this.imageSizes[t]||0})},e.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),r=new google.maps.LatLngBounds,n=0,s=t;n<s.length;n++){var o=s[n],i=o.getPosition();i&&r.extend(i)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(r)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(t){this.gridSize=t},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(t){this.minClusterSize=t},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(t){this.maxZoom=t},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(t){this.styles=t},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(t){this.title=t},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(t){this.zoomOnClick=t},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(t){this.averageCenter=t},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(t){this.ignoreHidden=t},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons=t},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(t){this.imageExtension=t},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(t){this.imagePath=t},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(t){this.imageSizes=t},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(t){this.calculator=t},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(t){this.batchSizeIE=t},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(t){this.clusterClass=t},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(t,r){this.pushMarkerTo(t),r||this.redraw()},e.prototype.addMarkers=function(t,r){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=t[n];s&&this.pushMarkerTo(s)}r||this.redraw()},e.prototype.pushMarkerTo=function(t){var r=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){r.ready&&(t.isAdded=!1,r.repaint())}),t.isAdded=!1,this.markers.push(t)},e.prototype.removeMarker_=function(t){var r=-1;if(this.markers.indexOf)r=this.markers.indexOf(t);else for(var n=0;n<this.markers.length;n++)if(t===this.markers[n]){r=n;break}return r===-1?!1:(t.setMap(null),this.markers.splice(r,1),!0)},e.prototype.removeMarker=function(t,r){var n=this.removeMarker_(t);return!r&&n&&this.repaint(),n},e.prototype.removeMarkers=function(t,r){for(var n=!1,s=0,o=t;s<o.length;s++){var i=o[s];n=n||this.removeMarker_(i)}return!r&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var t=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var n=0,s=t;n<s.length;n++){var o=s[n];o.remove()}},0)},e.prototype.getExtendedBounds=function(t){var r=this.getProjection(),n=r.fromLatLngToDivPixel(new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()));n!==null&&(n.x+=this.gridSize,n.y-=this.gridSize);var s=r.fromLatLngToDivPixel(new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),n!==null){var o=r.fromDivPixelToLatLng(n);o!==null&&t.extend(o)}if(s!==null){var i=r.fromDivPixelToLatLng(s);i!==null&&t.extend(i)}return t},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(t){for(var r=0,n=this.clusters;r<n.length;r++){var s=n[r];s.remove()}this.clusters=[];for(var o=0,i=this.markers;o<i.length;o++){var a=i[o];a.isAdded=!1,t&&a.setMap(null)}},e.prototype.distanceBetweenPoints=function(t,r){var n=6371,s=(r.lat()-t.lat())*Math.PI/180,o=(r.lng()-t.lng())*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(r.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return n*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))},e.prototype.isMarkerInBounds=function(t,r){var n=t.getPosition();return n?r.contains(n):!1},e.prototype.addToClosestCluster=function(t){for(var r,n=4e4,s=null,o=0,i=this.clusters;o<i.length;o++){var a=i[o];r=a;var c=r.getCenter(),u=t.getPosition();if(c&&u){var f=this.distanceBetweenPoints(c,u);f<n&&(n=f,s=r)}}s&&s.isMarkerInClusterBounds(t)?s.addMarker(t):(r=new RU(this),r.addMarker(t),this.clusters.push(r))},e.prototype.createClusters=function(t){var r=this;if(this.ready){t===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),s=n!==null&&("getBounds"in n)?n.getBounds():null,o=(n==null?void 0:n.getZoom())||0,i=o>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(i),c=Math.min(t+this.batchSize,this.markers.length),u=t;u<c;u++){var f=this.markers[u];f&&!f.isAdded&&this.isMarkerInBounds(f,a)&&(!this.ignoreHidden||this.ignoreHidden&&f.getVisible())&&this.addToClosestCluster(f)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){r.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var h=0,p=this.clusters;h<p.length;h++){var m=p[h];m.updateIcon()}}}},e.prototype.extend=function(t,r){return(function(s){for(var o in s.prototype){var i=o;this.prototype[i]=s.prototype[i]}return this}).apply(t,[r])},e}();function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var sn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Ye={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},VU={};function HU(e){var{children:t,options:r,averageCenter:n,batchSizeIE:s,calculator:o,clusterClass:i,enableRetinaIcons:a,gridSize:c,ignoreHidden:u,imageExtension:f,imagePath:h,imageSizes:p,maxZoom:m,minimumClusterSize:g,styles:v,title:b,zoomOnClick:x,onClick:y,onClusteringBegin:w,onClusteringEnd:S,onMouseOver:_,onMouseOut:C,onLoad:j,onUnmount:N}=e,[E,P]=d.useState(null),k=d.useContext(Ie),[M,D]=d.useState(null),[I,B]=d.useState(null),[$,F]=d.useState(null),[O,L]=d.useState(null),[U,W]=d.useState(null);return d.useEffect(()=>{E&&C&&(O!==null&&google.maps.event.removeListener(O),L(google.maps.event.addListener(E,sn.onMouseOut,C)))},[C]),d.useEffect(()=>{E&&_&&(U!==null&&google.maps.event.removeListener(U),W(google.maps.event.addListener(E,sn.onMouseOver,_)))},[_]),d.useEffect(()=>{E&&y&&(M!==null&&google.maps.event.removeListener(M),D(google.maps.event.addListener(E,sn.onClick,y)))},[y]),d.useEffect(()=>{E&&w&&(I!==null&&google.maps.event.removeListener(I),B(google.maps.event.addListener(E,sn.onClusteringBegin,w)))},[w]),d.useEffect(()=>{E&&S&&($!==null&&google.maps.event.removeListener($),B(google.maps.event.addListener(E,sn.onClusteringEnd,S)))},[S]),d.useEffect(()=>{typeof n<"u"&&E!==null&&Ye.averageCenter(E,n)},[E,n]),d.useEffect(()=>{typeof s<"u"&&E!==null&&Ye.batchSizeIE(E,s)},[E,s]),d.useEffect(()=>{typeof o<"u"&&E!==null&&Ye.calculator(E,o)},[E,o]),d.useEffect(()=>{typeof i<"u"&&E!==null&&Ye.clusterClass(E,i)},[E,i]),d.useEffect(()=>{typeof a<"u"&&E!==null&&Ye.enableRetinaIcons(E,a)},[E,a]),d.useEffect(()=>{typeof c<"u"&&E!==null&&Ye.gridSize(E,c)},[E,c]),d.useEffect(()=>{typeof u<"u"&&E!==null&&Ye.ignoreHidden(E,u)},[E,u]),d.useEffect(()=>{typeof f<"u"&&E!==null&&Ye.imageExtension(E,f)},[E,f]),d.useEffect(()=>{typeof h<"u"&&E!==null&&Ye.imagePath(E,h)},[E,h]),d.useEffect(()=>{typeof p<"u"&&E!==null&&Ye.imageSizes(E,p)},[E,p]),d.useEffect(()=>{typeof m<"u"&&E!==null&&Ye.maxZoom(E,m)},[E,m]),d.useEffect(()=>{typeof g<"u"&&E!==null&&Ye.minimumClusterSize(E,g)},[E,g]),d.useEffect(()=>{typeof v<"u"&&E!==null&&Ye.styles(E,v)},[E,v]),d.useEffect(()=>{typeof b<"u"&&E!==null&&Ye.title(E,b)},[E,b]),d.useEffect(()=>{typeof x<"u"&&E!==null&&Ye.zoomOnClick(E,x)},[E,x]),d.useEffect(()=>{if(k){var T=WU({},r||VU),H=new x2(k,[],T);return n&&Ye.averageCenter(H,n),s&&Ye.batchSizeIE(H,s),o&&Ye.calculator(H,o),i&&Ye.clusterClass(H,i),a&&Ye.enableRetinaIcons(H,a),c&&Ye.gridSize(H,c),u&&Ye.ignoreHidden(H,u),f&&Ye.imageExtension(H,f),h&&Ye.imagePath(H,h),p&&Ye.imageSizes(H,p),m&&Ye.maxZoom(H,m),g&&Ye.minimumClusterSize(H,g),v&&Ye.styles(H,v),b&&Ye.title(H,b),x&&Ye.zoomOnClick(H,x),C&&L(google.maps.event.addListener(H,sn.onMouseOut,C)),_&&W(google.maps.event.addListener(H,sn.onMouseOver,_)),y&&D(google.maps.event.addListener(H,sn.onClick,y)),w&&B(google.maps.event.addListener(H,sn.onClusteringBegin,w)),S&&F(google.maps.event.addListener(H,sn.onClusteringEnd,S)),P(H),j&&j(H),()=>{O!==null&&google.maps.event.removeListener(O),U!==null&&google.maps.event.removeListener(U),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),$!==null&&google.maps.event.removeListener($),N&&N(H)}}},[]),E!==null&&t(E)||null}d.memo(HU);class GU extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{markerClusterer:null}),X(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var t=new x2(this.context,[],this.props.options);this.registeredEvents=Be({updaterMap:Ye,eventMap:sn,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({markerClusterer:t}),this.setClustererCallback)}}componentDidUpdate(t){this.state.markerClusterer&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:Ye,eventMap:sn,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ue(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}X(GU,"contextType",Ie);function DS(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var b2=function(){function e(t){t===void 0&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",t.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),typeof t.visible>"u"&&(typeof t.isHidden>"u"?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var t=this,r=function(f){f.returnValue=!1,f.preventDefault&&f.preventDefault(),t.enableEventPropagation||DS(f)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var n=this.getPanes();if(n!==null&&n[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],i=0,a=o;i<a.length;i++){var c=a[i];this.eventListeners.push(google.maps.event.addListener(this.div,c,DS))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){t.div&&(t.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",r),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var t="";return this.closeBoxURL!==""&&(t='<img alt=""',t+=' aria-hidden="true"',t+=" src='"+this.closeBoxURL+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin+";",t+="'>"),t},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(t){if(this.div&&!t){var r=this.getMap();if(r instanceof google.maps.Map){var n=0,s=0,o=r.getBounds();o&&!o.contains(this.position)&&r.setCenter(this.position);var i=r.getDiv(),a=i.offsetWidth,c=i.offsetHeight,u=this.pixelOffset.width,f=this.pixelOffset.height,h=this.div.offsetWidth,p=this.div.offsetHeight,m=this.infoBoxClearance.width,g=this.infoBoxClearance.height,v=this.getProjection(),b=v.fromLatLngToContainerPixel(this.position);b!==null&&(b.x<-u+m?n=b.x+u-m:b.x+h+u+m>a&&(n=b.x+h+u+m-a),this.alignBottom?b.y<-f+g+p?s=b.y+f-g-p:b.y+f+g>c&&(s=b.y+f+g-c):b.y<-f+g?s=b.y+f-g:b.y+p+f+g>c&&(s=b.y+p+f+g-c)),n===0&&s===0||r.panBy(n,s)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var t=this.boxStyle;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.div.style[r]=t[r]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+n*100+')"',this.div.style.filter="alpha(opacity="+n*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var t={top:0,bottom:0,left:0,right:0};if(!this.div)return t;if(document.defaultView){var r=this.div.ownerDocument,n=r&&r.defaultView?r.defaultView.getComputedStyle(this.div,""):null;n&&(t.top=parseInt(n.borderTopWidth||"",10)||0,t.bottom=parseInt(n.borderBottomWidth||"",10)||0,t.left=parseInt(n.borderLeftWidth||"",10)||0,t.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(t.top=parseInt(s.borderTopWidth||"",10)||0,t.bottom=parseInt(s.borderBottomWidth||"",10)||0,t.left=parseInt(s.borderLeftWidth||"",10)||0,t.right=parseInt(s.borderRightWidth||"",10)||0)}return t},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var t=this.getProjection(),r=t.fromLatLngToDivPixel(this.position);r!==null&&(this.div.style.left=r.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(r.y+this.pixelOffset.height)+"px":this.div.style.top=r.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(t){t===void 0&&(t={}),typeof t.boxClass<"u"&&(this.boxClass=t.boxClass,this.setBoxStyle()),typeof t.boxStyle<"u"&&(this.boxStyle=t.boxStyle,this.setBoxStyle()),typeof t.content<"u"&&this.setContent(t.content),typeof t.disableAutoPan<"u"&&(this.disableAutoPan=t.disableAutoPan),typeof t.maxWidth<"u"&&(this.maxWidth=t.maxWidth),typeof t.pixelOffset<"u"&&(this.pixelOffset=t.pixelOffset),typeof t.alignBottom<"u"&&(this.alignBottom=t.alignBottom),typeof t.position<"u"&&this.setPosition(t.position),typeof t.zIndex<"u"&&this.setZIndex(t.zIndex),typeof t.closeBoxMargin<"u"&&(this.closeBoxMargin=t.closeBoxMargin),typeof t.closeBoxURL<"u"&&(this.closeBoxURL=t.closeBoxURL),typeof t.infoBoxClearance<"u"&&(this.infoBoxClearance=t.infoBoxClearance),typeof t.isHidden<"u"&&(this.isHidden=t.isHidden),typeof t.visible<"u"&&(this.isHidden=!t.visible),typeof t.enableEventPropagation<"u"&&(this.enableEventPropagation=t.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(t){this.content=t,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(t){this.position=t,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(t){this.isHidden=!t,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var t=this.getMap();return typeof t>"u"||t===null?!1:!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(t,r){var n=this;r&&(this.position=r.getPosition(),this.moveListener=google.maps.event.addListener(r,"position_changed",function(){var s=r.getPosition();n.setPosition(s)}),this.mapListener=google.maps.event.addListener(r,"map_changed",function(){n.setMap(r.map)})),this.setMap(t),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var t=0,r=this.eventListeners;t<r.length;t++){var n=r[t];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(t,r){return(function(s){for(var o in s.prototype)Object.prototype.hasOwnProperty.call(this,o)||(this.prototype[o]=s.prototype[o]);return this}).apply(t,[r])},e}(),qU=["position"],YU=["position"];function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var TS={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},RS={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},KU={};function ZU(e){var{children:t,anchor:r,options:n,position:s,zIndex:o,onCloseClick:i,onDomReady:a,onContentChanged:c,onPositionChanged:u,onZindexChanged:f,onLoad:h,onUnmount:p}=e,m=d.useContext(Ie),[g,v]=d.useState(null),[b,x]=d.useState(null),[y,w]=d.useState(null),[S,_]=d.useState(null),[C,j]=d.useState(null),[N,E]=d.useState(null),P=d.useRef(null);return d.useEffect(()=>{m&&g!==null&&(g.close(),r?g.open(m,r):g.getPosition()&&g.open(m))},[m,g,r]),d.useEffect(()=>{n&&g!==null&&g.setOptions(n)},[g,n]),d.useEffect(()=>{if(s&&g!==null){var k=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);g.setPosition(k)}},[s]),d.useEffect(()=>{typeof o=="number"&&g!==null&&g.setZIndex(o)},[o]),d.useEffect(()=>{g&&i&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(g,"closeclick",i)))},[i]),d.useEffect(()=>{g&&a&&(y!==null&&google.maps.event.removeListener(y),w(google.maps.event.addListener(g,"domready",a)))},[a]),d.useEffect(()=>{g&&c&&(S!==null&&google.maps.event.removeListener(S),_(google.maps.event.addListener(g,"content_changed",c)))},[c]),d.useEffect(()=>{g&&u&&(C!==null&&google.maps.event.removeListener(C),j(google.maps.event.addListener(g,"position_changed",u)))},[u]),d.useEffect(()=>{g&&f&&(N!==null&&google.maps.event.removeListener(N),E(google.maps.event.addListener(g,"zindex_changed",f)))},[f]),d.useEffect(()=>{if(m){var k=n||KU,{position:M}=k,D=Fb(k,qU),I;M&&!(M instanceof google.maps.LatLng)&&(I=new google.maps.LatLng(M.lat,M.lng));var B=new b2(gh(gh({},D),I?{position:I}:{}));P.current=document.createElement("div"),v(B),i&&x(google.maps.event.addListener(B,"closeclick",i)),a&&w(google.maps.event.addListener(B,"domready",a)),c&&_(google.maps.event.addListener(B,"content_changed",c)),u&&j(google.maps.event.addListener(B,"position_changed",u)),f&&E(google.maps.event.addListener(B,"zindex_changed",f)),B.setContent(P.current),r?B.open(m,r):B.getPosition()?B.open(m):Ht(!1,"You must provide either an anchor or a position prop for <InfoBox>."),h&&h(B)}return()=>{g!==null&&(b&&google.maps.event.removeListener(b),S&&google.maps.event.removeListener(S),y&&google.maps.event.removeListener(y),C&&google.maps.event.removeListener(C),N&&google.maps.event.removeListener(N),p&&p(g),g.close())}},[]),P.current?br.createPortal(d.Children.only(t),P.current):null}d.memo(ZU);class XU extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"containerElement",null),X(this,"state",{infoBox:null}),X(this,"open",(t,r)=>{r?this.context!==null&&t.open(this.context,r):t.getPosition()?this.context!==null&&t.open(this.context):Ht(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),X(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var t=this.props.options||{},{position:r}=t,n=Fb(t,YU),s;r&&!(r instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(r.lat,r.lng));var o=new b2(gh(gh({},n),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:RS,eventMap:TS,prevProps:{},nextProps:this.props,instance:o}),this.setState({infoBox:o},this.setInfoBoxCallback)}componentDidUpdate(t){var{infoBox:r}=this.state;r!==null&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:RS,eventMap:TS,prevProps:t,nextProps:this.props,instance:r}))}componentWillUnmount(){var{onUnmount:t}=this.props,{infoBox:r}=this.state;r!==null&&(t&&t(r),Ue(this.registeredEvents),r.close())}render(){return this.containerElement?br.createPortal(d.Children.only(this.props.children),this.containerElement):null}}X(XU,"contextType",Ie);var xg,IS;function JU(){return IS||(IS=1,xg=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[s]))return!1;for(s=n;s--!==0;){var i=o[s];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}),xg}var QU=JU(),AS=h2(QU),$S=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],bg=1,Bl=8;class Bb{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[r,n]=new Uint8Array(t,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=n>>4;if(s!==bg)throw new Error("Got v".concat(s," data when expected v").concat(bg,"."));var o=$S[n&15];if(!o)throw new Error("Unrecognized array type.");var[i]=new Uint16Array(t,2,1),[a]=new Uint32Array(t,4,1);return new Bb(a,i,o,t)}constructor(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var o=$S.indexOf(this.ArrayType),i=t*2*this.ArrayType.BYTES_PER_ELEMENT,a=t*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-a%8)%8;if(o<0)throw new Error("Unexpected typed array class: ".concat(n,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,Bl,t),this.coords=new this.ArrayType(this.data,Bl+a+c,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(Bl+i+a+c),this.ids=new this.IndexArrayType(this.data,Bl,t),this.coords=new this.ArrayType(this.data,Bl+a+c,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(bg<<4)+o]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t)}add(t,r){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=r,n}finish(){var t=this._pos>>1;if(t!==this.numItems)throw new Error("Added ".concat(t," items when expected ").concat(this.numItems,"."));return Ly(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,r,n,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:i,nodeSize:a}=this,c=[0,o.length-1,0],u=[];c.length;){var f=c.pop()||0,h=c.pop()||0,p=c.pop()||0;if(h-p<=a){for(var m=p;m<=h;m++){var g=i[2*m],v=i[2*m+1];g>=t&&g<=n&&v>=r&&v<=s&&u.push(o[m])}continue}var b=p+h>>1,x=i[2*b],y=i[2*b+1];x>=t&&x<=n&&y>=r&&y<=s&&u.push(o[b]),(f===0?t<=x:r<=y)&&(c.push(p),c.push(b-1),c.push(1-f)),(f===0?n>=x:s>=y)&&(c.push(b+1),c.push(h),c.push(1-f))}return u}within(t,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:o,nodeSize:i}=this,a=[0,s.length-1,0],c=[],u=n*n;a.length;){var f=a.pop()||0,h=a.pop()||0,p=a.pop()||0;if(h-p<=i){for(var m=p;m<=h;m++)FS(o[2*m],o[2*m+1],t,r)<=u&&c.push(s[m]);continue}var g=p+h>>1,v=o[2*g],b=o[2*g+1];FS(v,b,t,r)<=u&&c.push(s[g]),(f===0?t-n<=v:r-n<=b)&&(a.push(p),a.push(g-1),a.push(1-f)),(f===0?t+n>=v:r+n>=b)&&(a.push(g+1),a.push(h),a.push(1-f))}return c}}function Ly(e,t,r,n,s,o){if(!(s-n<=r)){var i=n+s>>1;w2(e,t,i,n,s,o),Ly(e,t,r,n,i-1,1-o),Ly(e,t,r,i+1,s,1-o)}}function w2(e,t,r,n,s,o){for(;s>n;){if(s-n>600){var i=s-n+1,a=r-n+1,c=Math.log(i),u=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*u*(i-u)/i)*(a-i/2<0?-1:1),h=Math.max(n,Math.floor(r-a*u/i+f)),p=Math.min(s,Math.floor(r+(i-a)*u/i+f));w2(e,t,r,h,p,o)}var m=t[2*r+o],g=n,v=s;for(Ul(e,t,n,r),t[2*s+o]>m&&Ul(e,t,n,s);g<v;){for(Ul(e,t,g,v),g++,v--;t[2*g+o]<m;)g++;for(;t[2*v+o]>m;)v--}t[2*n+o]===m?Ul(e,t,n,v):(v++,Ul(e,t,v,s)),v<=r&&(n=v+1),r<=v&&(s=v-1)}}function Ul(e,t,r,n){wg(e,r,n),wg(t,2*r,2*n),wg(t,2*r+1,2*n+1)}function wg(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function FS(e,t,r,n){var s=e-r,o=t-n;return s*s+o*o}var ez={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},BS=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),ti=2,io=3,Sg=4,to=5,S2=6;class tz{constructor(t){this.options=Object.assign(Object.create(ez),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){var{log:r,minZoom:n,maxZoom:s}=this.options;r&&console.time("total time");var o="prepare ".concat(t.length," points");r&&console.time(o),this.points=t;for(var i=[],a=0;a<t.length;a++){var c=t[a];if(c.geometry){var[u,f]=c.geometry.coordinates,h=BS(Kd(u)),p=BS(Zd(f));i.push(h,p,1/0,a,-1,1),this.options.reduce&&i.push(0)}}var m=this.trees[s+1]=this._createTree(i);r&&console.timeEnd(o);for(var g=s;g>=n;g--){var v=+Date.now();m=this.trees[g]=this._createTree(this._cluster(m,g)),r&&console.log("z%d: %d clusters in %dms",g,m.numItems,+Date.now()-v)}return r&&console.timeEnd("total time"),this}getClusters(t,r){var n=((t[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,t[1])),o=t[2]===180?180:((t[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,o=180;else if(n>o){var a=this.getClusters([n,s,180,i],r),c=this.getClusters([-180,s,o,i],r);return a.concat(c)}var u=this.trees[this._limitZoom(r)],f=u.range(Kd(n),Zd(i),Kd(o),Zd(s)),h=u.data,p=[];for(var m of f){var g=this.stride*m;p.push(h[g+to]>1?US(h,g,this.clusterProps):this.points[h[g+io]])}return p}getChildren(t){var r=this._getOriginId(t),n=this._getOriginZoom(t),s="No cluster with the specified id.",o=this.trees[n];if(!o)throw new Error(s);var i=o.data;if(r*this.stride>=i.length)throw new Error(s);var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),c=i[r*this.stride],u=i[r*this.stride+1],f=o.within(c,u,a),h=[];for(var p of f){var m=p*this.stride;i[m+Sg]===t&&h.push(i[m+to]>1?US(i,m,this.clusterProps):this.points[i[m+io]])}if(h.length===0)throw new Error(s);return h}getLeaves(t,r,n){r=r||10,n=n||0;var s=[];return this._appendLeaves(s,t,r,n,0),s}getTile(t,r,n){var s=this.trees[this._limitZoom(t)],o=Math.pow(2,t),{extent:i,radius:a}=this.options,c=a/i,u=(n-c)/o,f=(n+1+c)/o,h={features:[]};return this._addTileFeatures(s.range((r-c)/o,u,(r+1+c)/o,f),s.data,r,n,o,h),r===0&&this._addTileFeatures(s.range(1-c/o,u,1,f),s.data,o,n,o,h),r===o-1&&this._addTileFeatures(s.range(0,u,c/o,f),s.data,-1,n,o,h),h.features.length?h:null}getClusterExpansionZoom(t){for(var r=this._getOriginZoom(t)-1;r<=this.options.maxZoom;){var n=this.getChildren(t);if(r++,n.length!==1)break;t=n[0].properties.cluster_id}return r}_appendLeaves(t,r,n,s,o){var i=this.getChildren(r);for(var a of i){var c=a.properties;if(c&&c.cluster?o+c.point_count<=s?o+=c.point_count:o=this._appendLeaves(t,c.cluster_id,n,s,o):o<s?o++:t.push(a),t.length===n)break}return o}_createTree(t){for(var r=new Bb(t.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<t.length;n+=this.stride)r.add(t[n],t[n+1]);return r.finish(),r.data=t,r}_addTileFeatures(t,r,n,s,o,i){for(var a of t){var c=a*this.stride,u=r[c+to]>1,f=void 0,h=void 0,p=void 0;if(u)f=_2(r,c,this.clusterProps),h=r[c],p=r[c+1];else{var m=this.points[r[c+io]];f=m.properties;var[g,v]=m.geometry.coordinates;h=Kd(g),p=Zd(v)}var b={type:1,geometry:[[Math.round(this.options.extent*(h*o-n)),Math.round(this.options.extent*(p*o-s))]],tags:f},x=void 0;u||this.options.generateId?x=r[c+io]:x=this.points[r[c+io]].id,x!==void 0&&(b.id=x),i.features.push(b)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,r){for(var{radius:n,extent:s,reduce:o,minPoints:i}=this.options,a=n/(s*Math.pow(2,r)),c=t.data,u=[],f=this.stride,h=0;h<c.length;h+=f)if(!(c[h+ti]<=r)){c[h+ti]=r;var p=c[h],m=c[h+1],g=t.within(c[h],c[h+1],a),v=c[h+to],b=v;for(var x of g){var y=x*f;c[y+ti]>r&&(b+=c[y+to])}if(b>v&&b>=i){var w=p*v,S=m*v,_=void 0,C=-1,j=((h/f|0)<<5)+(r+1)+this.points.length;for(var N of g){var E=N*f;if(!(c[E+ti]<=r)){c[E+ti]=r;var P=c[E+to];w+=c[E]*P,S+=c[E+1]*P,c[E+Sg]=j,o&&(_||(_=this._map(c,h,!0),C=this.clusterProps.length,this.clusterProps.push(_)),o(_,this._map(c,E)))}}c[h+Sg]=j,u.push(w/b,S/b,1/0,j,-1,b),o&&u.push(C)}else{for(var k=0;k<f;k++)u.push(c[h+k]);if(b>1)for(var M of g){var D=M*f;if(!(c[D+ti]<=r)){c[D+ti]=r;for(var I=0;I<f;I++)u.push(c[D+I])}}}}return u}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,r,n){if(t[r+to]>1){var s=this.clusterProps[t[r+S2]];return n?Object.assign({},s):s}var o=this.points[t[r+io]].properties,i=this.options.map(o);return n&&i===o?Object.assign({},i):i}}function US(e,t,r){return{type:"Feature",id:e[t+io],properties:_2(e,t,r),geometry:{type:"Point",coordinates:[rz(e[t]),nz(e[t+1])]}}}function _2(e,t,r){var n=e[t+to],s=n>=1e4?"".concat(Math.round(n/1e3),"k"):n>=1e3?"".concat(Math.round(n/100)/10,"k"):n,o=e[t+S2],i=o===-1?{}:Object.assign({},r[o]);return Object.assign(i,{cluster:!0,cluster_id:e[t+io],point_count:n,point_count_abbreviated:s})}function Kd(e){return e/360+.5}function Zd(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function rz(e){return(e-.5)*360}function nz(e){var t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function sz(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}class Hr{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,r){this.isAdvancedMarker(t)?t.map=r:t.setMap(r)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class My{constructor(t){var{markers:r,position:n}=t;this.markers=r,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(!(this.markers.length===0&&!this._position)){var t=new google.maps.LatLngBounds(this._position,this._position);for(var r of this.markers)t.extend(Hr.getPosition(r));return t}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>Hr.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(Hr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class oz{constructor(t){var{maxZoom:r=16}=t;this.maxZoom=r}noop(t){var{markers:r}=t;return iz(r)}}var iz=e=>{var t=e.map(r=>new My({position:Hr.getPosition(r),markers:[r]}));return t};class az extends oz{constructor(t){var{maxZoom:r,radius:n=60}=t,s=sz(t,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new tz(Object.assign({maxZoom:this.maxZoom,radius:n},s))}calculate(t){var r=!1,n={zoom:t.map.getZoom()};if(!AS(t.markers,this.markers)){r=!0,this.markers=[...t.markers];var s=this.markers.map(o=>{var i=Hr.getPosition(o),a=[i.lng(),i.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:a},properties:{marker:o}}});this.superCluster.load(s)}return r||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(r=!AS(this.state,n)),this.state=n,r&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:r}}cluster(t){var{map:r}=t;return this.superCluster.getClusters([-180,-90,180,90],Math.round(r.getZoom())).map(n=>this.transformCluster(n))}transformCluster(t){var{geometry:{coordinates:[r,n]},properties:s}=t;if(s.cluster)return new My({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:n,lng:r}});var o=s.marker;return new My({markers:[o],position:Hr.getPosition(o)})}}class lz{constructor(t,r){this.markers={sum:t.length};var n=r.map(o=>o.count),s=n.reduce((o,i)=>o+i,0);this.clusters={count:r.length,markers:{mean:s/r.length,sum:s,min:Math.min(...n),max:Math.max(...n)}}}}class cz{render(t,r,n){var{count:s,position:o}=t,i=s>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff",a='<svg fill="'.concat(i,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),c="Cluster of ".concat(s," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+s;if(Hr.isAdvancedMarkerAvailable(n)){var f=new DOMParser,h=f.parseFromString(a,"image/svg+xml").documentElement;h.setAttribute("transform","translate(0 25)");var p={map:n,position:o,zIndex:u,title:c,content:h};return new google.maps.marker.AdvancedMarkerElement(p)}var m={position:o,zIndex:u,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(a)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(m)}}function uz(e,t){for(var r in t.prototype)e.prototype[r]=t.prototype[r]}class Ub{constructor(){uz(Ub,google.maps.OverlayView)}}var bc;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(bc||(bc={}));var dz=(e,t,r)=>{r.fitBounds(t.bounds)};class fz extends Ub{constructor(t){var{map:r,markers:n=[],algorithmOptions:s={},algorithm:o=new az(s),renderer:i=new cz,onClusterClick:a=dz}=t;super(),this.markers=[...n],this.clusters=[],this.algorithm=o,this.renderer=i,this.onClusterClick=a,r&&this.setMap(r)}addMarker(t,r){this.markers.includes(t)||(this.markers.push(t),r||this.render())}addMarkers(t,r){t.forEach(n=>{this.addMarker(n,!0)}),r||this.render()}removeMarker(t,r){var n=this.markers.indexOf(t);return n===-1?!1:(Hr.setMap(t,null),this.markers.splice(n,1),r||this.render(),!0)}removeMarkers(t,r){var n=!1;return t.forEach(s=>{n=this.removeMarker(s,!0)||n}),n&&!r&&this.render(),n}clearMarkers(t){this.markers.length=0,t||this.render()}render(){var t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,bc.CLUSTERING_BEGIN,this);var{clusters:r,changed:n}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(n||n==null){var s=new Set;for(var o of r)o.markers.length==1&&s.add(o.markers[0]);var i=[];for(var a of this.clusters)a.marker!=null&&(a.markers.length==1?s.has(a.marker)||Hr.setMap(a.marker,null):i.push(a.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>i.forEach(c=>Hr.setMap(c,null)))}google.maps.event.trigger(this,bc.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>Hr.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){var t=new lz(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,t,r),n.markers.forEach(s=>Hr.setMap(s,null)),this.onClusterClick&&n.marker.addListener("click",s=>{google.maps.event.trigger(this,bc.CLUSTER_CLICK,n),this.onClusterClick(s,n,r)})),Hr.setMap(n.marker,r)})}}function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hz(e){var t=fU(),[r,n]=d.useState(null);return d.useEffect(()=>{if(t&&r===null){var s=new fz(WS(WS({},e),{},{map:t}));n(s)}},[t]),r}function pz(e){var{children:t,options:r}=e,n=hz(r);return n!==null?t(n):null}d.memo(pz);var VS={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},HS={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};function mz(e){var{children:t,anchor:r,options:n,position:s,zIndex:o,onCloseClick:i,onDomReady:a,onContentChanged:c,onPositionChanged:u,onZindexChanged:f,onLoad:h,onUnmount:p}=e,m=d.useContext(Ie),[g,v]=d.useState(null),[b,x]=d.useState(null),[y,w]=d.useState(null),[S,_]=d.useState(null),[C,j]=d.useState(null),[N,E]=d.useState(null),P=d.useRef(null);return d.useEffect(()=>{g!==null&&(g.close(),r?g.open(m,r):g.getPosition()&&g.open(m))},[m,g,r]),d.useEffect(()=>{n&&g!==null&&g.setOptions(n)},[g,n]),d.useEffect(()=>{s&&g!==null&&g.setPosition(s)},[s]),d.useEffect(()=>{typeof o=="number"&&g!==null&&g.setZIndex(o)},[o]),d.useEffect(()=>{g&&i&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(g,"closeclick",i)))},[i]),d.useEffect(()=>{g&&a&&(y!==null&&google.maps.event.removeListener(y),w(google.maps.event.addListener(g,"domready",a)))},[a]),d.useEffect(()=>{g&&c&&(S!==null&&google.maps.event.removeListener(S),_(google.maps.event.addListener(g,"content_changed",c)))},[c]),d.useEffect(()=>{g&&u&&(C!==null&&google.maps.event.removeListener(C),j(google.maps.event.addListener(g,"position_changed",u)))},[u]),d.useEffect(()=>{g&&f&&(N!==null&&google.maps.event.removeListener(N),E(google.maps.event.addListener(g,"zindex_changed",f)))},[f]),d.useEffect(()=>{var k=new google.maps.InfoWindow(n);return v(k),P.current=document.createElement("div"),i&&x(google.maps.event.addListener(k,"closeclick",i)),a&&w(google.maps.event.addListener(k,"domready",a)),c&&_(google.maps.event.addListener(k,"content_changed",c)),u&&j(google.maps.event.addListener(k,"position_changed",u)),f&&E(google.maps.event.addListener(k,"zindex_changed",f)),k.setContent(P.current),s&&k.setPosition(s),o&&k.setZIndex(o),r?k.open(m,r):k.getPosition()?k.open(m):Ht(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),h&&h(k),()=>{b&&google.maps.event.removeListener(b),S&&google.maps.event.removeListener(S),y&&google.maps.event.removeListener(y),C&&google.maps.event.removeListener(C),N&&google.maps.event.removeListener(N),p&&p(k),k.close()}},[]),P.current?br.createPortal(d.Children.only(t),P.current):null}d.memo(mz);class gz extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"containerElement",null),X(this,"state",{infoWindow:null}),X(this,"open",(t,r)=>{r?t.open(this.context,r):t.getPosition()?t.open(this.context):Ht(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),X(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var t=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:HS,eventMap:VS,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({infoWindow:t}),this.setInfoWindowCallback)}componentDidUpdate(t){this.state.infoWindow!==null&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:HS,eventMap:VS,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Ue(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?br.createPortal(d.Children.only(this.props.children),this.containerElement):null}}X(gz,"contextType",Ie);function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var qS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},YS={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},vz={};function yz(e){var{options:t,draggable:r,editable:n,visible:s,path:o,onDblClick:i,onDragEnd:a,onDragStart:c,onMouseDown:u,onMouseMove:f,onMouseOut:h,onMouseOver:p,onMouseUp:m,onRightClick:g,onClick:v,onDrag:b,onLoad:x,onUnmount:y}=e,w=d.useContext(Ie),[S,_]=d.useState(null),[C,j]=d.useState(null),[N,E]=d.useState(null),[P,k]=d.useState(null),[M,D]=d.useState(null),[I,B]=d.useState(null),[$,F]=d.useState(null),[O,L]=d.useState(null),[U,W]=d.useState(null),[T,H]=d.useState(null),[K,R]=d.useState(null),[J,Z]=d.useState(null);return d.useEffect(()=>{S!==null&&S.setMap(w)},[w]),d.useEffect(()=>{typeof t<"u"&&S!==null&&S.setOptions(t)},[S,t]),d.useEffect(()=>{typeof r<"u"&&S!==null&&S.setDraggable(r)},[S,r]),d.useEffect(()=>{typeof n<"u"&&S!==null&&S.setEditable(n)},[S,n]),d.useEffect(()=>{typeof s<"u"&&S!==null&&S.setVisible(s)},[S,s]),d.useEffect(()=>{typeof o<"u"&&S!==null&&S.setPath(o)},[S,o]),d.useEffect(()=>{S&&i&&(C!==null&&google.maps.event.removeListener(C),j(google.maps.event.addListener(S,"dblclick",i)))},[i]),d.useEffect(()=>{S&&a&&(N!==null&&google.maps.event.removeListener(N),E(google.maps.event.addListener(S,"dragend",a)))},[a]),d.useEffect(()=>{S&&c&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(S,"dragstart",c)))},[c]),d.useEffect(()=>{S&&u&&(M!==null&&google.maps.event.removeListener(M),D(google.maps.event.addListener(S,"mousedown",u)))},[u]),d.useEffect(()=>{S&&f&&(I!==null&&google.maps.event.removeListener(I),B(google.maps.event.addListener(S,"mousemove",f)))},[f]),d.useEffect(()=>{S&&h&&($!==null&&google.maps.event.removeListener($),F(google.maps.event.addListener(S,"mouseout",h)))},[h]),d.useEffect(()=>{S&&p&&(O!==null&&google.maps.event.removeListener(O),L(google.maps.event.addListener(S,"mouseover",p)))},[p]),d.useEffect(()=>{S&&m&&(U!==null&&google.maps.event.removeListener(U),W(google.maps.event.addListener(S,"mouseup",m)))},[m]),d.useEffect(()=>{S&&g&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(S,"rightclick",g)))},[g]),d.useEffect(()=>{S&&v&&(K!==null&&google.maps.event.removeListener(K),R(google.maps.event.addListener(S,"click",v)))},[v]),d.useEffect(()=>{S&&b&&(J!==null&&google.maps.event.removeListener(J),Z(google.maps.event.addListener(S,"drag",b)))},[b]),d.useEffect(()=>{var Q=new google.maps.Polyline(vh(vh({},t||vz),{},{map:w}));return o&&Q.setPath(o),typeof s<"u"&&Q.setVisible(s),typeof n<"u"&&Q.setEditable(n),typeof r<"u"&&Q.setDraggable(r),i&&j(google.maps.event.addListener(Q,"dblclick",i)),a&&E(google.maps.event.addListener(Q,"dragend",a)),c&&k(google.maps.event.addListener(Q,"dragstart",c)),u&&D(google.maps.event.addListener(Q,"mousedown",u)),f&&B(google.maps.event.addListener(Q,"mousemove",f)),h&&F(google.maps.event.addListener(Q,"mouseout",h)),p&&L(google.maps.event.addListener(Q,"mouseover",p)),m&&W(google.maps.event.addListener(Q,"mouseup",m)),g&&H(google.maps.event.addListener(Q,"rightclick",g)),v&&R(google.maps.event.addListener(Q,"click",v)),b&&Z(google.maps.event.addListener(Q,"drag",b)),_(Q),x&&x(Q),()=>{C!==null&&google.maps.event.removeListener(C),N!==null&&google.maps.event.removeListener(N),P!==null&&google.maps.event.removeListener(P),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),$!==null&&google.maps.event.removeListener($),O!==null&&google.maps.event.removeListener(O),U!==null&&google.maps.event.removeListener(U),T!==null&&google.maps.event.removeListener(T),K!==null&&google.maps.event.removeListener(K),y&&y(Q),Q.setMap(null)}},[]),null}d.memo(yz);class xz extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{polyline:null}),X(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var t=new google.maps.Polyline(vh(vh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:YS,eventMap:qS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)}componentDidUpdate(t){this.state.polyline!==null&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:YS,eventMap:qS,prevProps:t,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ue(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}X(xz,"contextType",Ie);function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var XS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},JS={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};function bz(e){var{options:t,draggable:r,editable:n,visible:s,path:o,paths:i,onDblClick:a,onDragEnd:c,onDragStart:u,onMouseDown:f,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:g,onRightClick:v,onClick:b,onDrag:x,onLoad:y,onUnmount:w,onEdit:S}=e,_=d.useContext(Ie),[C,j]=d.useState(null),[N,E]=d.useState(null),[P,k]=d.useState(null),[M,D]=d.useState(null),[I,B]=d.useState(null),[$,F]=d.useState(null),[O,L]=d.useState(null),[U,W]=d.useState(null),[T,H]=d.useState(null),[K,R]=d.useState(null),[J,Z]=d.useState(null),[Q,le]=d.useState(null);return d.useEffect(()=>{C!==null&&C.setMap(_)},[_]),d.useEffect(()=>{typeof t<"u"&&C!==null&&C.setOptions(t)},[C,t]),d.useEffect(()=>{typeof r<"u"&&C!==null&&C.setDraggable(r)},[C,r]),d.useEffect(()=>{typeof n<"u"&&C!==null&&C.setEditable(n)},[C,n]),d.useEffect(()=>{typeof s<"u"&&C!==null&&C.setVisible(s)},[C,s]),d.useEffect(()=>{typeof o<"u"&&C!==null&&C.setPath(o)},[C,o]),d.useEffect(()=>{typeof i<"u"&&C!==null&&C.setPaths(i)},[C,i]),d.useEffect(()=>{C&&typeof a=="function"&&(N!==null&&google.maps.event.removeListener(N),E(google.maps.event.addListener(C,"dblclick",a)))},[a]),d.useEffect(()=>{C&&(google.maps.event.addListener(C.getPath(),"insert_at",()=>{S==null||S(C)}),google.maps.event.addListener(C.getPath(),"set_at",()=>{S==null||S(C)}),google.maps.event.addListener(C.getPath(),"remove_at",()=>{S==null||S(C)}))},[C,S]),d.useEffect(()=>{C&&typeof c=="function"&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(C,"dragend",c)))},[c]),d.useEffect(()=>{C&&typeof u=="function"&&(M!==null&&google.maps.event.removeListener(M),D(google.maps.event.addListener(C,"dragstart",u)))},[u]),d.useEffect(()=>{C&&typeof f=="function"&&(I!==null&&google.maps.event.removeListener(I),B(google.maps.event.addListener(C,"mousedown",f)))},[f]),d.useEffect(()=>{C&&typeof h=="function"&&($!==null&&google.maps.event.removeListener($),F(google.maps.event.addListener(C,"mousemove",h)))},[h]),d.useEffect(()=>{C&&typeof p=="function"&&(O!==null&&google.maps.event.removeListener(O),L(google.maps.event.addListener(C,"mouseout",p)))},[p]),d.useEffect(()=>{C&&typeof m=="function"&&(U!==null&&google.maps.event.removeListener(U),W(google.maps.event.addListener(C,"mouseover",m)))},[m]),d.useEffect(()=>{C&&typeof g=="function"&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(C,"mouseup",g)))},[g]),d.useEffect(()=>{C&&typeof v=="function"&&(K!==null&&google.maps.event.removeListener(K),R(google.maps.event.addListener(C,"rightclick",v)))},[v]),d.useEffect(()=>{C&&typeof b=="function"&&(J!==null&&google.maps.event.removeListener(J),Z(google.maps.event.addListener(C,"click",b)))},[b]),d.useEffect(()=>{C&&typeof x=="function"&&(Q!==null&&google.maps.event.removeListener(Q),le(google.maps.event.addListener(C,"drag",x)))},[x]),d.useEffect(()=>{var te=new google.maps.Polygon(ZS(ZS({},t),{},{map:_}));return o&&te.setPath(o),i&&te.setPaths(i),typeof s<"u"&&te.setVisible(s),typeof n<"u"&&te.setEditable(n),typeof r<"u"&&te.setDraggable(r),a&&E(google.maps.event.addListener(te,"dblclick",a)),c&&k(google.maps.event.addListener(te,"dragend",c)),u&&D(google.maps.event.addListener(te,"dragstart",u)),f&&B(google.maps.event.addListener(te,"mousedown",f)),h&&F(google.maps.event.addListener(te,"mousemove",h)),p&&L(google.maps.event.addListener(te,"mouseout",p)),m&&W(google.maps.event.addListener(te,"mouseover",m)),g&&H(google.maps.event.addListener(te,"mouseup",g)),v&&R(google.maps.event.addListener(te,"rightclick",v)),b&&Z(google.maps.event.addListener(te,"click",b)),x&&le(google.maps.event.addListener(te,"drag",x)),j(te),y&&y(te),()=>{N!==null&&google.maps.event.removeListener(N),P!==null&&google.maps.event.removeListener(P),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),$!==null&&google.maps.event.removeListener($),O!==null&&google.maps.event.removeListener(O),U!==null&&google.maps.event.removeListener(U),T!==null&&google.maps.event.removeListener(T),K!==null&&google.maps.event.removeListener(K),J!==null&&google.maps.event.removeListener(J),w&&w(te),te.setMap(null)}},[]),null}d.memo(bz);class wz extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[])}componentDidMount(){var t=this.props.options||{};this.polygon=new google.maps.Polygon(t),this.polygon.setMap(this.context),this.registeredEvents=Be({updaterMap:JS,eventMap:XS,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(t){this.polygon&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:JS,eventMap:XS,prevProps:t,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ue(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}X(wz,"contextType",Ie);function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var e_={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},t_={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};function Sz(e){var{options:t,bounds:r,draggable:n,editable:s,visible:o,onDblClick:i,onDragEnd:a,onDragStart:c,onMouseDown:u,onMouseMove:f,onMouseOut:h,onMouseOver:p,onMouseUp:m,onRightClick:g,onClick:v,onDrag:b,onBoundsChanged:x,onLoad:y,onUnmount:w}=e,S=d.useContext(Ie),[_,C]=d.useState(null),[j,N]=d.useState(null),[E,P]=d.useState(null),[k,M]=d.useState(null),[D,I]=d.useState(null),[B,$]=d.useState(null),[F,O]=d.useState(null),[L,U]=d.useState(null),[W,T]=d.useState(null),[H,K]=d.useState(null),[R,J]=d.useState(null),[Z,Q]=d.useState(null),[le,te]=d.useState(null);return d.useEffect(()=>{_!==null&&_.setMap(S)},[S]),d.useEffect(()=>{typeof t<"u"&&_!==null&&_.setOptions(t)},[_,t]),d.useEffect(()=>{typeof n<"u"&&_!==null&&_.setDraggable(n)},[_,n]),d.useEffect(()=>{typeof s<"u"&&_!==null&&_.setEditable(s)},[_,s]),d.useEffect(()=>{typeof o<"u"&&_!==null&&_.setVisible(o)},[_,o]),d.useEffect(()=>{typeof r<"u"&&_!==null&&_.setBounds(r)},[_,r]),d.useEffect(()=>{_&&i&&(j!==null&&google.maps.event.removeListener(j),N(google.maps.event.addListener(_,"dblclick",i)))},[i]),d.useEffect(()=>{_&&a&&(E!==null&&google.maps.event.removeListener(E),P(google.maps.event.addListener(_,"dragend",a)))},[a]),d.useEffect(()=>{_&&c&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(_,"dragstart",c)))},[c]),d.useEffect(()=>{_&&u&&(D!==null&&google.maps.event.removeListener(D),I(google.maps.event.addListener(_,"mousedown",u)))},[u]),d.useEffect(()=>{_&&f&&(B!==null&&google.maps.event.removeListener(B),$(google.maps.event.addListener(_,"mousemove",f)))},[f]),d.useEffect(()=>{_&&h&&(F!==null&&google.maps.event.removeListener(F),O(google.maps.event.addListener(_,"mouseout",h)))},[h]),d.useEffect(()=>{_&&p&&(L!==null&&google.maps.event.removeListener(L),U(google.maps.event.addListener(_,"mouseover",p)))},[p]),d.useEffect(()=>{_&&m&&(W!==null&&google.maps.event.removeListener(W),T(google.maps.event.addListener(_,"mouseup",m)))},[m]),d.useEffect(()=>{_&&g&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(_,"rightclick",g)))},[g]),d.useEffect(()=>{_&&v&&(R!==null&&google.maps.event.removeListener(R),J(google.maps.event.addListener(_,"click",v)))},[v]),d.useEffect(()=>{_&&b&&(Z!==null&&google.maps.event.removeListener(Z),Q(google.maps.event.addListener(_,"drag",b)))},[b]),d.useEffect(()=>{_&&x&&(le!==null&&google.maps.event.removeListener(le),te(google.maps.event.addListener(_,"bounds_changed",x)))},[x]),d.useEffect(()=>{var G=new google.maps.Rectangle(yh(yh({},t),{},{map:S}));return typeof o<"u"&&G.setVisible(o),typeof s<"u"&&G.setEditable(s),typeof n<"u"&&G.setDraggable(n),typeof r<"u"&&G.setBounds(r),i&&N(google.maps.event.addListener(G,"dblclick",i)),a&&P(google.maps.event.addListener(G,"dragend",a)),c&&M(google.maps.event.addListener(G,"dragstart",c)),u&&I(google.maps.event.addListener(G,"mousedown",u)),f&&$(google.maps.event.addListener(G,"mousemove",f)),h&&O(google.maps.event.addListener(G,"mouseout",h)),p&&U(google.maps.event.addListener(G,"mouseover",p)),m&&T(google.maps.event.addListener(G,"mouseup",m)),g&&K(google.maps.event.addListener(G,"rightclick",g)),v&&J(google.maps.event.addListener(G,"click",v)),b&&Q(google.maps.event.addListener(G,"drag",b)),x&&te(google.maps.event.addListener(G,"bounds_changed",x)),C(G),y&&y(G),()=>{j!==null&&google.maps.event.removeListener(j),E!==null&&google.maps.event.removeListener(E),k!==null&&google.maps.event.removeListener(k),D!==null&&google.maps.event.removeListener(D),B!==null&&google.maps.event.removeListener(B),F!==null&&google.maps.event.removeListener(F),L!==null&&google.maps.event.removeListener(L),W!==null&&google.maps.event.removeListener(W),H!==null&&google.maps.event.removeListener(H),R!==null&&google.maps.event.removeListener(R),Z!==null&&google.maps.event.removeListener(Z),le!==null&&google.maps.event.removeListener(le),w&&w(G),G.setMap(null)}},[]),null}d.memo(Sz);class _z extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{rectangle:null}),X(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var t=new google.maps.Rectangle(yh(yh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:t_,eventMap:e_,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)}componentDidUpdate(t){this.state.rectangle!==null&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:t_,eventMap:e_,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ue(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}X(_z,"contextType",Ie);function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var n_={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},s_={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},Cz={};function Ez(e){var{options:t,center:r,radius:n,draggable:s,editable:o,visible:i,onDblClick:a,onDragEnd:c,onDragStart:u,onMouseDown:f,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:g,onRightClick:v,onClick:b,onDrag:x,onCenterChanged:y,onRadiusChanged:w,onLoad:S,onUnmount:_}=e,C=d.useContext(Ie),[j,N]=d.useState(null),[E,P]=d.useState(null),[k,M]=d.useState(null),[D,I]=d.useState(null),[B,$]=d.useState(null),[F,O]=d.useState(null),[L,U]=d.useState(null),[W,T]=d.useState(null),[H,K]=d.useState(null),[R,J]=d.useState(null),[Z,Q]=d.useState(null),[le,te]=d.useState(null),[G,de]=d.useState(null),[Ce,Ae]=d.useState(null);return d.useEffect(()=>{j!==null&&j.setMap(C)},[C]),d.useEffect(()=>{typeof t<"u"&&j!==null&&j.setOptions(t)},[j,t]),d.useEffect(()=>{typeof s<"u"&&j!==null&&j.setDraggable(s)},[j,s]),d.useEffect(()=>{typeof o<"u"&&j!==null&&j.setEditable(o)},[j,o]),d.useEffect(()=>{typeof i<"u"&&j!==null&&j.setVisible(i)},[j,i]),d.useEffect(()=>{typeof n=="number"&&j!==null&&j.setRadius(n)},[j,n]),d.useEffect(()=>{typeof r<"u"&&j!==null&&j.setCenter(r)},[j,r]),d.useEffect(()=>{j&&a&&(E!==null&&google.maps.event.removeListener(E),P(google.maps.event.addListener(j,"dblclick",a)))},[a]),d.useEffect(()=>{j&&c&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(j,"dragend",c)))},[c]),d.useEffect(()=>{j&&u&&(D!==null&&google.maps.event.removeListener(D),I(google.maps.event.addListener(j,"dragstart",u)))},[u]),d.useEffect(()=>{j&&f&&(B!==null&&google.maps.event.removeListener(B),$(google.maps.event.addListener(j,"mousedown",f)))},[f]),d.useEffect(()=>{j&&h&&(F!==null&&google.maps.event.removeListener(F),O(google.maps.event.addListener(j,"mousemove",h)))},[h]),d.useEffect(()=>{j&&p&&(L!==null&&google.maps.event.removeListener(L),U(google.maps.event.addListener(j,"mouseout",p)))},[p]),d.useEffect(()=>{j&&m&&(W!==null&&google.maps.event.removeListener(W),T(google.maps.event.addListener(j,"mouseover",m)))},[m]),d.useEffect(()=>{j&&g&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(j,"mouseup",g)))},[g]),d.useEffect(()=>{j&&v&&(R!==null&&google.maps.event.removeListener(R),J(google.maps.event.addListener(j,"rightclick",v)))},[v]),d.useEffect(()=>{j&&b&&(Z!==null&&google.maps.event.removeListener(Z),Q(google.maps.event.addListener(j,"click",b)))},[b]),d.useEffect(()=>{j&&x&&(le!==null&&google.maps.event.removeListener(le),te(google.maps.event.addListener(j,"drag",x)))},[x]),d.useEffect(()=>{j&&y&&(G!==null&&google.maps.event.removeListener(G),de(google.maps.event.addListener(j,"center_changed",y)))},[b]),d.useEffect(()=>{j&&w&&(Ce!==null&&google.maps.event.removeListener(Ce),Ae(google.maps.event.addListener(j,"radius_changed",w)))},[w]),d.useEffect(()=>{var ve=new google.maps.Circle(xh(xh({},t||Cz),{},{map:C}));return typeof n=="number"&&ve.setRadius(n),typeof r<"u"&&ve.setCenter(r),typeof n=="number"&&ve.setRadius(n),typeof i<"u"&&ve.setVisible(i),typeof o<"u"&&ve.setEditable(o),typeof s<"u"&&ve.setDraggable(s),a&&P(google.maps.event.addListener(ve,"dblclick",a)),c&&M(google.maps.event.addListener(ve,"dragend",c)),u&&I(google.maps.event.addListener(ve,"dragstart",u)),f&&$(google.maps.event.addListener(ve,"mousedown",f)),h&&O(google.maps.event.addListener(ve,"mousemove",h)),p&&U(google.maps.event.addListener(ve,"mouseout",p)),m&&T(google.maps.event.addListener(ve,"mouseover",m)),g&&K(google.maps.event.addListener(ve,"mouseup",g)),v&&J(google.maps.event.addListener(ve,"rightclick",v)),b&&Q(google.maps.event.addListener(ve,"click",b)),x&&te(google.maps.event.addListener(ve,"drag",x)),y&&de(google.maps.event.addListener(ve,"center_changed",y)),w&&Ae(google.maps.event.addListener(ve,"radius_changed",w)),N(ve),S&&S(ve),()=>{E!==null&&google.maps.event.removeListener(E),k!==null&&google.maps.event.removeListener(k),D!==null&&google.maps.event.removeListener(D),B!==null&&google.maps.event.removeListener(B),F!==null&&google.maps.event.removeListener(F),L!==null&&google.maps.event.removeListener(L),W!==null&&google.maps.event.removeListener(W),H!==null&&google.maps.event.removeListener(H),R!==null&&google.maps.event.removeListener(R),Z!==null&&google.maps.event.removeListener(Z),G!==null&&google.maps.event.removeListener(G),Ce!==null&&google.maps.event.removeListener(Ce),_&&_(ve),ve.setMap(null)}},[]),null}d.memo(Ez);class jz extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{circle:null}),X(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var t=new google.maps.Circle(xh(xh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:s_,eventMap:n_,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)}componentDidUpdate(t){this.state.circle!==null&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:s_,eventMap:n_,prevProps:t,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var t;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ue(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null)}}render(){return null}}X(jz,"contextType",Ie);function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var i_={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},a_={add(e,t){e.add(t)},addgeojson(e,t,r){e.addGeoJson(t,r)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,r,n){e.loadGeoJson(t,r,n)},overridestyle(e,t,r){e.overrideStyle(t,r)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};function kz(e){var{options:t,onClick:r,onDblClick:n,onMouseDown:s,onMouseMove:o,onMouseOut:i,onMouseOver:a,onMouseUp:c,onRightClick:u,onAddFeature:f,onRemoveFeature:h,onRemoveProperty:p,onSetGeometry:m,onSetProperty:g,onLoad:v,onUnmount:b}=e,x=d.useContext(Ie),[y,w]=d.useState(null),[S,_]=d.useState(null),[C,j]=d.useState(null),[N,E]=d.useState(null),[P,k]=d.useState(null),[M,D]=d.useState(null),[I,B]=d.useState(null),[$,F]=d.useState(null),[O,L]=d.useState(null),[U,W]=d.useState(null),[T,H]=d.useState(null),[K,R]=d.useState(null),[J,Z]=d.useState(null),[Q,le]=d.useState(null);return d.useEffect(()=>{y!==null&&y.setMap(x)},[x]),d.useEffect(()=>{y&&n&&(S!==null&&google.maps.event.removeListener(S),_(google.maps.event.addListener(y,"dblclick",n)))},[n]),d.useEffect(()=>{y&&s&&(C!==null&&google.maps.event.removeListener(C),j(google.maps.event.addListener(y,"mousedown",s)))},[s]),d.useEffect(()=>{y&&o&&(N!==null&&google.maps.event.removeListener(N),E(google.maps.event.addListener(y,"mousemove",o)))},[o]),d.useEffect(()=>{y&&i&&(P!==null&&google.maps.event.removeListener(P),k(google.maps.event.addListener(y,"mouseout",i)))},[i]),d.useEffect(()=>{y&&a&&(M!==null&&google.maps.event.removeListener(M),D(google.maps.event.addListener(y,"mouseover",a)))},[a]),d.useEffect(()=>{y&&c&&(I!==null&&google.maps.event.removeListener(I),B(google.maps.event.addListener(y,"mouseup",c)))},[c]),d.useEffect(()=>{y&&u&&($!==null&&google.maps.event.removeListener($),F(google.maps.event.addListener(y,"rightclick",u)))},[u]),d.useEffect(()=>{y&&r&&(O!==null&&google.maps.event.removeListener(O),L(google.maps.event.addListener(y,"click",r)))},[r]),d.useEffect(()=>{y&&f&&(U!==null&&google.maps.event.removeListener(U),W(google.maps.event.addListener(y,"addfeature",f)))},[f]),d.useEffect(()=>{y&&h&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(y,"removefeature",h)))},[h]),d.useEffect(()=>{y&&p&&(K!==null&&google.maps.event.removeListener(K),R(google.maps.event.addListener(y,"removeproperty",p)))},[p]),d.useEffect(()=>{y&&m&&(J!==null&&google.maps.event.removeListener(J),Z(google.maps.event.addListener(y,"setgeometry",m)))},[m]),d.useEffect(()=>{y&&g&&(Q!==null&&google.maps.event.removeListener(Q),le(google.maps.event.addListener(y,"setproperty",g)))},[g]),d.useEffect(()=>{if(x!==null){var te=new google.maps.Data(bh(bh({},t),{},{map:x}));n&&_(google.maps.event.addListener(te,"dblclick",n)),s&&j(google.maps.event.addListener(te,"mousedown",s)),o&&E(google.maps.event.addListener(te,"mousemove",o)),i&&k(google.maps.event.addListener(te,"mouseout",i)),a&&D(google.maps.event.addListener(te,"mouseover",a)),c&&B(google.maps.event.addListener(te,"mouseup",c)),u&&F(google.maps.event.addListener(te,"rightclick",u)),r&&L(google.maps.event.addListener(te,"click",r)),f&&W(google.maps.event.addListener(te,"addfeature",f)),h&&H(google.maps.event.addListener(te,"removefeature",h)),p&&R(google.maps.event.addListener(te,"removeproperty",p)),m&&Z(google.maps.event.addListener(te,"setgeometry",m)),g&&le(google.maps.event.addListener(te,"setproperty",g)),w(te),v&&v(te)}return()=>{y&&(S!==null&&google.maps.event.removeListener(S),C!==null&&google.maps.event.removeListener(C),N!==null&&google.maps.event.removeListener(N),P!==null&&google.maps.event.removeListener(P),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),$!==null&&google.maps.event.removeListener($),O!==null&&google.maps.event.removeListener(O),U!==null&&google.maps.event.removeListener(U),T!==null&&google.maps.event.removeListener(T),K!==null&&google.maps.event.removeListener(K),J!==null&&google.maps.event.removeListener(J),Q!==null&&google.maps.event.removeListener(Q),b&&b(y),y.setMap(null))}},[]),null}d.memo(kz);class Nz extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{data:null}),X(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var t=new google.maps.Data(bh(bh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:a_,eventMap:i_,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({data:t}),this.setDataCallback)}}componentDidUpdate(t){this.state.data!==null&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:a_,eventMap:i_,prevProps:t,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ue(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}X(Nz,"contextType",Ie);function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function c_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var u_={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},d_={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class Pz extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{kmlLayer:null}),X(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var t=new google.maps.KmlLayer(c_(c_({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:d_,eventMap:u_,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)}componentDidUpdate(t){this.state.kmlLayer!==null&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:d_,eventMap:u_,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ue(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}X(Pz,"contextType",Ie);function C2(e,t){return typeof t=="function"?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function Lz(e,t){return new t(e.lat,e.lng)}function Mz(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function Dz(e,t,r){return e instanceof t?e:r(e,t)}function Oz(e,t,r){return e instanceof t?e:r(e,t)}function Tz(e,t,r){var n=e&&e.fromLatLngToDivPixel(r.getNorthEast()),s=e&&e.fromLatLngToDivPixel(r.getSouthWest());return n&&s?{left:"".concat(s.x+t.x,"px"),top:"".concat(n.y+t.y,"px"),width:"".concat(n.x-s.x-t.x,"px"),height:"".concat(s.y-n.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}function Rz(e,t,r){var n=e&&e.fromLatLngToDivPixel(r);if(n){var{x:s,y:o}=n;return{left:"".concat(s+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}function E2(e,t,r,n){return r!==void 0?Tz(e,t,Oz(r,google.maps.LatLngBounds,Mz)):Rz(e,t,Dz(n,google.maps.LatLng,Lz))}function Iz(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.height&&e.height===t.height}function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Az(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $z(e,t,r,n,s){class o extends google.maps.OverlayView{constructor(a,c,u,f){super(),this.container=a,this.pane=c,this.position=u,this.bounds=f}onAdd(){var a,c=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];c==null||c.appendChild(this.container)}draw(){var a=this.getProjection(),c=Az({},this.container?C2(this.container,s):{x:0,y:0}),u=E2(a,c,this.bounds,this.position);for(var[f,h]of Object.entries(u))this.container.style[f]=h}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new o(e,t,r,n)}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p_(e){if(!e)return"";var t=e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng);return t+""}function m_(e){if(!e)return"";var t=e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west));return t+""}function Bz(e){var{position:t,bounds:r,mapPaneName:n,zIndex:s,onLoad:o,onUnmount:i,getPixelPositionOffset:a,children:c}=e,u=d.useContext(Ie),f=d.useMemo(()=>{var p=document.createElement("div");return p.style.position="absolute",p},[]),h=d.useMemo(()=>$z(f,n,t,r,a),[f,n,t,r]);return d.useEffect(()=>(o==null||o(h),h==null||h.setMap(u),()=>{i==null||i(h),h==null||h.setMap(null)}),[u,h]),d.useEffect(()=>{f.style.zIndex="".concat(s)},[s,f]),br.createPortal(c,f)}d.memo(Bz);class vl extends d.PureComponent{constructor(t){super(t),X(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),X(this,"updatePane",()=>{var n=this.props.mapPaneName,s=this.overlayView.getPanes();Ht(!!n,"OverlayView requires props.mapPaneName but got %s",n),s?this.setState({paneEl:s[n]}):this.setState({paneEl:null})}),X(this,"onAdd",()=>{var n,s;this.updatePane(),(n=(s=this.props).onLoad)===null||n===void 0||n.call(s,this.overlayView)}),X(this,"onPositionElement",()=>{var n=this.overlayView.getProjection(),s=Fz({x:0,y:0},this.containerRef.current?C2(this.containerRef.current,this.props.getPixelPositionOffset):{}),o=E2(n,s,this.props.bounds,this.props.position);if(!Iz(o,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var i,a,c,u;this.setState({containerStyle:{top:(i=o.top)!==null&&i!==void 0?i:0,left:(a=o.left)!==null&&a!==void 0?a:0,width:(c=o.width)!==null&&c!==void 0?c:0,height:(u=o.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),X(this,"draw",()=>{this.onPositionElement()}),X(this,"onRemove",()=>{var n,s;this.setState(()=>({paneEl:null})),(n=(s=this.props).onUnmount)===null||n===void 0||n.call(s,this.overlayView)}),this.containerRef=d.createRef();var r=new google.maps.OverlayView;r.onAdd=this.onAdd,r.draw=this.draw,r.onRemove=this.onRemove,this.overlayView=r}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(t){var r=p_(t.position),n=p_(this.props.position),s=m_(t.bounds),o=m_(this.props.bounds);(r!==n||s!==o)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var t=this.state.paneEl;return t?br.createPortal(l.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:d.Children.only(this.props.children)}),t):null}}X(vl,"FLOAT_PANE","floatPane");X(vl,"MAP_PANE","mapPane");X(vl,"MARKER_LAYER","markerLayer");X(vl,"OVERLAY_LAYER","overlayLayer");X(vl,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");X(vl,"contextType",Ie);function Uz(){}function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function v_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var y_={onDblClick:"dblclick",onClick:"click"},x_={opacity(e,t){e.setOpacity(t)}};function zz(e){var{url:t,bounds:r,options:n,visible:s}=e,o=d.useContext(Ie),i=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),a=d.useMemo(()=>new google.maps.GroundOverlay(t,i,n),[]);return d.useEffect(()=>{a!==null&&a.setMap(o)},[o]),d.useEffect(()=>{typeof t<"u"&&a!==null&&(a.set("url",t),a.setMap(o))},[a,t]),d.useEffect(()=>{typeof s<"u"&&a!==null&&a.setOpacity(s?1:0)},[a,s]),d.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));typeof r<"u"&&a!==null&&(a.set("bounds",c),a.setMap(o))},[a,r]),null}d.memo(zz);class j2 extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{groundOverlay:null}),X(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Ht(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,v_(v_({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:x_,eventMap:y_,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)}componentDidUpdate(t){this.state.groundOverlay!==null&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:x_,eventMap:y_,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}X(j2,"defaultProps",{onLoad:Uz});X(j2,"contextType",Ie);function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var w_={},S_={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};function Wz(e){var{data:t,onLoad:r,onUnmount:n,options:s}=e,o=d.useContext(Ie),[i,a]=d.useState(null);return d.useEffect(()=>{google.maps.visualization||Ht(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),d.useEffect(()=>{Ht(!!t,"data property is required in HeatmapLayer %s",t)},[t]),d.useEffect(()=>{i!==null&&i.setMap(o)},[o]),d.useEffect(()=>{s&&i!==null&&i.setOptions(s)},[i,s]),d.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(wh(wh({},s),{},{data:t,map:o}));return a(c),r&&r(c),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}d.memo(Wz);class Vz extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{heatmapLayer:null}),X(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Ht(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Ht(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(wh(wh({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Be({updaterMap:S_,eventMap:w_,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)}componentDidUpdate(t){Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:S_,eventMap:w_,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ue(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}X(Vz,"contextType",Ie);var __={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},C_={register(e,t,r){e.registerPanoProvider(t,r)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class Hz extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{streetViewPanorama:null}),X(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var t,r,n=(t=(r=this.context)===null||r===void 0?void 0:r.getStreetView())!==null&&t!==void 0?t:null;this.registeredEvents=Be({updaterMap:C_,eventMap:__,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({streetViewPanorama:n}),this.setStreetViewPanoramaCallback)}componentDidUpdate(t){this.state.streetViewPanorama!==null&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:C_,eventMap:__,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ue(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}X(Hz,"contextType",Ie);class Gz extends d.PureComponent{constructor(){super(...arguments),X(this,"state",{streetViewService:null}),X(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}X(Gz,"contextType",Ie);var E_={onDirectionsChanged:"directions_changed"},j_={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class qz extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"state",{directionsRenderer:null}),X(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Be({updaterMap:j_,eventMap:E_,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)}componentDidUpdate(t){this.state.directionsRenderer!==null&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:j_,eventMap:E_,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ue(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}X(qz,"contextType",Ie);var k_={onPlacesChanged:"places_changed"},N_={bounds(e,t){e.setBounds(t)}};class Yz extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"containerElement",d.createRef()),X(this,"state",{searchBox:null}),X(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Ht(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var r=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=Be({updaterMap:N_,eventMap:k_,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}}componentDidUpdate(t){this.state.searchBox!==null&&(Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:N_,eventMap:k_,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ue(this.registeredEvents))}render(){return l.jsx("div",{ref:this.containerElement,children:d.Children.only(this.props.children)})}}X(Yz,"contextType",Ie);var P_={onPlaceChanged:"place_changed"},L_={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class k2 extends d.PureComponent{constructor(){super(...arguments),X(this,"registeredEvents",[]),X(this,"containerElement",d.createRef()),X(this,"state",{autocomplete:null}),X(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var t;Ht(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(r){var n=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=Be({updaterMap:L_,eventMap:P_,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(t){Ue(this.registeredEvents),this.registeredEvents=Be({updaterMap:L_,eventMap:P_,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Ue(this.registeredEvents)}render(){return l.jsx("div",{ref:this.containerElement,className:this.props.className,children:d.Children.only(this.props.children)})}}X(k2,"defaultProps",{className:""});X(k2,"contextType",Ie);const N2=({className:e="w-6 h-6"})=>l.jsx(Ze,{className:`animate-spin ${e}`}),Kz=()=>l.jsx("div",{className:"w-full h-[300px] bg-gray-100 rounded-lg flex items-center justify-center",children:l.jsx(N2,{className:"w-8 h-8 text-primary"})});function Ne(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Rr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Bt(e,t){const r=Ne(e);return isNaN(t)?Rr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Bn(e,t){const r=Ne(e);if(isNaN(t))return Rr(e,NaN);if(!t)return r;const n=r.getDate(),s=Rr(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const o=s.getDate();return n>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const zb=6048e5,Zz=864e5,P2=6e4,L2=36e5,Xd=43200,M_=1440;let Xz={};function yl(){return Xz}function ps(e,t){var a,c,u,f;const r=yl(),n=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=Ne(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Ei(e){return ps(e,{weekStartsOn:1})}function M2(e){const t=Ne(e),r=t.getFullYear(),n=Rr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Ei(n),o=Rr(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Ei(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Ga(e){const t=Ne(e);return t.setHours(0,0,0,0),t}function qa(e){const t=Ne(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Mn(e,t){const r=Ga(e),n=Ga(t),s=+r-qa(r),o=+n-qa(n);return Math.round((s-o)/Zz)}function Jz(e){const t=M2(e),r=Rr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ei(r)}function Dy(e,t){const r=t*7;return Bt(e,r)}function Qz(e,t){return Bn(e,t*12)}function eW(e){let t;return e.forEach(function(r){const n=Ne(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function tW(e){let t;return e.forEach(r=>{const n=Ne(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Ef(e,t){const r=Ne(e),n=Ne(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function rW(e){return Rr(e,Date.now())}function Pr(e,t){const r=Ga(e),n=Ga(t);return+r==+n}function Wb(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nW(e){if(!Wb(e)&&typeof e!="number")return!1;const t=Ne(e);return!isNaN(Number(t))}function Ya(e,t){const r=Ne(e),n=Ne(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function sW(e,t,r){const n=ps(e,r),s=ps(t,r),o=+n-qa(n),i=+s-qa(s);return Math.round((o-i)/zb)}function D2(e,t){const r=Ne(e),n=Ne(t),s=D_(r,n),o=Math.abs(Mn(r,n));r.setDate(r.getDate()-s*o);const i=+(D_(r,n)===-s),a=s*(o-i);return a===0?0:a}function D_(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function oW(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function iW(e,t){return+Ne(e)-+Ne(t)}function aW(e){const t=Ne(e);return t.setHours(23,59,59,999),t}function Bp(e){const t=Ne(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function lW(e){const t=Ne(e);return+aW(t)==+Bp(t)}function cW(e,t){const r=Ne(e),n=Ne(t),s=Ef(r,n),o=Math.abs(Ya(r,n));let i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);let a=Ef(r,n)===-s;lW(Ne(e))&&o===1&&Ef(e,n)===1&&(a=!1),i=s*(o-Number(a))}return i===0?0:i}function uW(e,t,r){const n=iW(e,t)/1e3;return oW(r==null?void 0:r.roundingMethod)(n)}function Or(e){const t=Ne(e);return t.setDate(1),t.setHours(0,0,0,0),t}function O2(e){const t=Ne(e),r=Rr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Vb(e,t){var a,c,u,f;const r=yl(),n=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=Ne(e),o=s.getDay(),i=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function T2(e){return Vb(e,{weekStartsOn:1})}const dW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fW=(e,t,r)=>{let n;const s=dW[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function _g(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const hW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gW={date:_g({formats:hW,defaultWidth:"full"}),time:_g({formats:pW,defaultWidth:"full"}),dateTime:_g({formats:mW,defaultWidth:"full"})},vW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yW=(e,t,r,n)=>vW[e];function zl(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const xW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_W={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EW=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},jW={ordinalNumber:EW,era:zl({values:xW,defaultWidth:"wide"}),quarter:zl({values:bW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:zl({values:wW,defaultWidth:"wide"}),day:zl({values:SW,defaultWidth:"wide"}),dayPeriod:zl({values:_W,defaultWidth:"wide",formattingValues:CW,defaultFormattingWidth:"wide"})};function Wl(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?NW(a,h=>h.test(i)):kW(a,h=>h.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(i.length);return{value:u,rest:f}}}function kW(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function NW(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function PW(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const LW=/^(\d+)(th|st|nd|rd)?/i,MW=/\d+/i,DW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},OW={any:[/^b/i,/^(a|c)/i]},TW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RW={any:[/1/i,/2/i,/3/i,/4/i]},IW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},AW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$W={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zW={ordinalNumber:PW({matchPattern:LW,parsePattern:MW,valueCallback:e=>parseInt(e,10)}),era:Wl({matchPatterns:DW,defaultMatchWidth:"wide",parsePatterns:OW,defaultParseWidth:"any"}),quarter:Wl({matchPatterns:TW,defaultMatchWidth:"wide",parsePatterns:RW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Wl({matchPatterns:IW,defaultMatchWidth:"wide",parsePatterns:AW,defaultParseWidth:"any"}),day:Wl({matchPatterns:$W,defaultMatchWidth:"wide",parsePatterns:FW,defaultParseWidth:"any"}),dayPeriod:Wl({matchPatterns:BW,defaultMatchWidth:"any",parsePatterns:UW,defaultParseWidth:"any"})},Hb={code:"en-US",formatDistance:fW,formatLong:gW,formatRelative:yW,localize:jW,match:zW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function WW(e){const t=Ne(e);return Mn(t,O2(t))+1}function R2(e){const t=Ne(e),r=+Ei(t)-+Jz(t);return Math.round(r/zb)+1}function I2(e,t){var f,h,p,m;const r=Ne(e),n=r.getFullYear(),s=yl(),o=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=Rr(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const a=ps(i,t),c=Rr(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=ps(c,t);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function VW(e,t){var a,c,u,f;const r=yl(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=I2(e,t),o=Rr(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),ps(o,t)}function A2(e,t){const r=Ne(e),n=+ps(r,t)-+VW(r,t);return Math.round(n/zb)+1}function ot(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Xs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ot(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ot(r+1,2)},d(e,t){return ot(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ot(e.getHours()%12||12,t.length)},H(e,t){return ot(e.getHours(),t.length)},m(e,t){return ot(e.getMinutes(),t.length)},s(e,t){return ot(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ot(s,t.length)}},Qi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},O_={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Xs.y(e,t)},Y:function(e,t,r,n){const s=I2(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return ot(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):ot(o,t.length)},R:function(e,t){const r=M2(e);return ot(r,t.length)},u:function(e,t){const r=e.getFullYear();return ot(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ot(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ot(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Xs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ot(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=A2(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):ot(s,t.length)},I:function(e,t,r){const n=R2(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ot(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Xs.d(e,t)},D:function(e,t,r){const n=WW(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ot(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ot(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ot(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return ot(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Qi.noon:n===0?s=Qi.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Qi.evening:n>=12?s=Qi.afternoon:n>=4?s=Qi.morning:s=Qi.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Xs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Xs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ot(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ot(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Xs.s(e,t)},S:function(e,t){return Xs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return R_(n);case"XXXX":case"XX":return ai(n);case"XXXXX":case"XXX":default:return ai(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return R_(n);case"xxxx":case"xx":return ai(n);case"xxxxx":case"xxx":default:return ai(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+T_(n,":");case"OOOO":default:return"GMT"+ai(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+T_(n,":");case"zzzz":default:return"GMT"+ai(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ot(n,t.length)},T:function(e,t,r){const n=e.getTime();return ot(n,t.length)}};function T_(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+ot(o,2)}function R_(e,t){return e%60===0?(e>0?"-":"+")+ot(Math.abs(e)/60,2):ai(e,t)}function ai(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=ot(Math.trunc(n/60),2),o=ot(n%60,2);return r+s+t+o}const I_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},HW=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return I_(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",I_(n,t)).replace("{{time}}",$2(s,t))},GW={p:$2,P:HW},qW=/^D+$/,YW=/^Y+$/,KW=["D","DD","YY","YYYY"];function ZW(e){return qW.test(e)}function XW(e){return YW.test(e)}function JW(e,t,r){const n=QW(e,t,r);if(console.warn(n),KW.includes(e))throw new RangeError(n)}function QW(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rV=/^'([^]*?)'?$/,nV=/''/g,sV=/[a-zA-Z]/;function bt(e,t,r){var f,h,p,m,g,v,b,x;const n=yl(),s=(r==null?void 0:r.locale)??n.locale??Hb,o=(r==null?void 0:r.firstWeekContainsDate)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((v=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((x=(b=n.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,a=Ne(e);if(!nW(a))throw new RangeError("Invalid time value");let c=t.match(tV).map(y=>{const w=y[0];if(w==="p"||w==="P"){const S=GW[w];return S(y,s.formatLong)}return y}).join("").match(eV).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:oV(y)};if(O_[w])return{isToken:!0,value:y};if(w.match(sV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&XW(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&ZW(w))&&JW(w,t,String(e));const S=O_[w[0]];return S(a,w,s.localize,u)}).join("")}function oV(e){const t=e.match(rV);return t?t[1].replace(nV,"'"):e}function iV(e,t,r){const n=yl(),s=(r==null?void 0:r.locale)??n.locale??Hb,o=2520,i=Ef(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let c,u;i>0?(c=Ne(t),u=Ne(e)):(c=Ne(e),u=Ne(t));const f=uW(u,c),h=(qa(u)-qa(c))/1e3,p=Math.round((f-h)/60);let m;if(p<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,a):f<10?s.formatDistance("lessThanXSeconds",10,a):f<20?s.formatDistance("lessThanXSeconds",20,a):f<40?s.formatDistance("halfAMinute",0,a):f<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):p===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",p,a);if(p<45)return s.formatDistance("xMinutes",p,a);if(p<90)return s.formatDistance("aboutXHours",1,a);if(p<M_){const g=Math.round(p/60);return s.formatDistance("aboutXHours",g,a)}else{if(p<o)return s.formatDistance("xDays",1,a);if(p<Xd){const g=Math.round(p/M_);return s.formatDistance("xDays",g,a)}else if(p<Xd*2)return m=Math.round(p/Xd),s.formatDistance("aboutXMonths",m,a)}if(m=cW(u,c),m<12){const g=Math.round(p/Xd);return s.formatDistance("xMonths",g,a)}else{const g=m%12,v=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",v,a):g<9?s.formatDistance("overXYears",v,a):s.formatDistance("almostXYears",v+1,a)}}function F2(e,t){return iV(e,rW(e),t)}function aV(e){const t=Ne(e),r=t.getFullYear(),n=t.getMonth(),s=Rr(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function lV(e){return Math.trunc(+Ne(e)/1e3)}function cV(e){const t=Ne(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function uV(e,t){return sW(cV(e),Or(e),t)+1}function Oy(e,t){const r=Ne(e),n=Ne(t);return r.getTime()>n.getTime()}function B2(e,t){const r=Ne(e),n=Ne(t);return+r<+n}function Gb(e,t){const r=Ne(e),n=Ne(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function dV(e,t){const r=Ne(e),n=Ne(t);return r.getFullYear()===n.getFullYear()}function Cg(e,t){return Bt(e,-t)}function A_(e,t){const n=mV(e);let s;if(n.date){const c=gV(n.date,2);s=vV(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const o=s.getTime();let i=0,a;if(n.time&&(i=yV(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(a=xV(n.timezone),isNaN(a))return new Date(NaN)}else{const c=new Date(o+i),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(o+i+a)}const Jd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hV=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pV=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mV(e){const t={},r=e.split(Jd.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Jd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Jd.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Jd.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function gV(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function vV(e,t){if(t===null)return new Date(NaN);const r=e.match(fV);if(!r)return new Date(NaN);const n=!!r[4],s=Vl(r[1]),o=Vl(r[2])-1,i=Vl(r[3]),a=Vl(r[4]),c=Vl(r[5])-1;if(n)return CV(t,a,c)?bV(t,a,c):new Date(NaN);{const u=new Date(0);return!SV(t,o,i)||!_V(t,s)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(s,i)),u)}}function Vl(e){return e?parseInt(e):1}function yV(e){const t=e.match(hV);if(!t)return NaN;const r=Eg(t[1]),n=Eg(t[2]),s=Eg(t[3]);return EV(r,n,s)?r*L2+n*P2+s*1e3:NaN}function Eg(e){return e&&parseFloat(e.replace(",","."))||0}function xV(e){if(e==="Z")return 0;const t=e.match(pV);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return jV(n,s)?r*(n*L2+s*P2):NaN}function bV(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,o=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const wV=[31,null,31,30,31,30,31,31,30,31,30,31];function U2(e){return e%400===0||e%4===0&&e%100!==0}function SV(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(wV[t]||(U2(e)?29:28))}function _V(e,t){return t>=1&&t<=(U2(e)?366:365)}function CV(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function EV(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function jV(e,t){return t>=0&&t<=59}function jg(e,t){const r=Ne(e),n=r.getFullYear(),s=r.getDate(),o=Rr(e,0);o.setFullYear(n,t,15),o.setHours(0,0,0,0);const i=aV(o);return r.setMonth(t,Math.min(s,i)),r}function $_(e,t){const r=Ne(e);return isNaN(+r)?Rr(e,NaN):(r.setFullYear(t),r)}const ri=e=>e?e.startsWith("http")?e:e.startsWith("stay-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${e}`:`${e}`:"/images/placeholder-stay.jpg",kg=e=>{const t=[],r=new Date;for(let n=0;n<30;n++){const s=Bt(r,n),o=s.getDay()===0||s.getDay()===6;let i=e;o&&(i+=Math.round(e*.25)),t.push({date:bt(s,"yyyy-MM-dd"),price:i,is_available:!0})}return t},wc={async getStays(e={}){try{console.log("Fetching stays with options:",e);let t=V.from("stays").select(`
          id, 
          title, 
          description, 
          price_per_night,
          status,
          property_type,
          bedrooms,
          beds,
          bathrooms,
          max_guests,
          amenities,
          location_name,
          zipcode,
          latitude,
          longitude,
          host_id,
          host:profiles!host_id(id, name, avatar_url),
          stay_images:stay_images(id, image_path, is_primary, display_order),
          stay_amenities:stay_amenities(amenity_id, amenities:amenities(id, name))
        `).eq("status","published");if(e.zipcode&&(t=t.eq("zipcode",e.zipcode)),e.location&&(t=t.ilike("location_name",`%${e.location}%`)),e.search&&(t=t.or(`title.ilike.%${e.search}%,description.ilike.%${e.search}%,location_name.ilike.%${e.search}%`)),e.propertyType&&e.propertyType.length>0&&(t=t.in("property_type",e.propertyType)),e.sort)switch(e.sort){case"price_asc":t=t.order("price_per_night",{ascending:!0});break;case"price_desc":t=t.order("price_per_night",{ascending:!1});break;default:t=t.order("id",{ascending:!0});break}e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching stays:",n),new Error("Failed to fetch stays");if(!r||r.length===0)return console.log("No stays found in database"),[];const s=await Promise.all(r.map(async o=>{const a=(o.host&&Array.isArray(o.host)?o.host[0]:o.host)||{name:"Host",avatar_url:""},c=Array.isArray(o.stay_images)?o.stay_images:[],{data:u,error:f}=await V.from("reviews").select("rating").eq("target_id",o.id).eq("target_type","stay");let h=0,p=0;if(!f&&u){if(p=u.length,p>0){const b=u.reduce((x,y)=>x+(y.rating||0),0);h=parseFloat((b/p).toFixed(1))}}else h=4.7;const m=c.find(b=>b.is_primary)||c[0];let g=[];if(o.amenities){if(Array.isArray(o.amenities))g=o.amenities;else if(typeof o.amenities=="string")try{const b=JSON.parse(o.amenities);g=Array.isArray(b)?b:[]}catch{g=o.amenities.split(",").map(x=>x.trim())}}g.length===0&&(g=["Wi-Fi","Kitchen"]);const v=c.map(b=>({url:ri(b.image_path),order:b.display_order||0})).sort((b,x)=>(b.order||0)-(x.order||0));return v.length===0&&v.push({url:"/images/mountain.jpg",order:0}),{id:o.id,title:o.title,description:o.description,price_per_night:o.price_per_night,status:o.status,images:v,image:c.length>0?ri((m==null?void 0:m.image_path)||""):v[0].url,host:{id:o.host_id,name:a.name||"Host",image:ri(a.avatar_url||""),rating:h,reviews:p},host_id:o.host_id,details:{bedrooms:o.bedrooms||1,beds:o.beds||1,bathrooms:o.bathrooms||1,maxGuests:o.max_guests||2,amenities:g,location:o.location_name||"Unknown location",propertyType:o.property_type||"apartment"},coordinates:{lat:o.latitude||0,lng:o.longitude||0},availability:kg(o.price_per_night)}}));return console.log(`Returning ${s.length} stays from database`),e.sort==="rating_desc"&&s.sort((o,i)=>i.host.rating-o.host.rating),s}catch(t){throw console.error("Error in getStays:",t),t}},async getStayById(e){try{const{data:t,error:r}=await V.from("stays").select(`
          id, 
          title, 
          description, 
          price_per_night,
          status,
          property_type,
          bedrooms,
          beds,
          bathrooms,
          max_guests,
          amenities,
          location_name,
          zipcode,
          latitude,
          longitude,
          host_id,
          host:profiles!host_id(id, name, avatar_url),
          stay_images:stay_images(id, image_path, is_primary, display_order),
          stay_amenities:stay_amenities(amenity_id, amenities:amenities(id, name))
        `).eq("id",e).single();if(r)return console.error("Error fetching stay:",r),null;if(!t)return null;const{data:n,error:s}=await V.from("reviews").select("rating").eq("target_id",e).eq("target_type","stay");let o=0,i=0;if(!s&&n){if(i=n.length,i>0){const p=n.reduce((m,g)=>m+(g.rating||0),0);o=parseFloat((p/i).toFixed(1))}}else o=4.7;const a=Array.isArray(t.stay_images)?t.stay_images:[];a.sort((p,m)=>p.display_order!==void 0&&m.display_order!==void 0?p.display_order-m.display_order:0);const c=a.map(p=>({url:ri(p.image_path),order:p.display_order}));let u=[];if(t.stay_amenities&&Array.isArray(t.stay_amenities)&&(u=t.stay_amenities.filter(p=>p.amenities&&p.amenities.name).map(p=>p.amenities.name)),u.length===0&&t.amenities){if(Array.isArray(t.amenities))u=t.amenities;else if(typeof t.amenities=="string")try{const p=JSON.parse(t.amenities);u=Array.isArray(p)?p:[t.amenities]}catch{u=t.amenities.split(",").map(m=>m.trim())}}u.length===0&&(u=["WiFi","Kitchen","TV","Air conditioning"]);const f=t.host??{name:"Host Name",avatar_url:""},h=kg(t.price_per_night||100);return{id:t.id,title:t.title,description:t.description,images:c,price_per_night:t.price_per_night,host_id:t.host_id,host:{id:f.id,name:f.name,image:f.avatar_url||"/placeholder-user.jpg",rating:o,reviews:i},details:{bedrooms:t.bedrooms||1,beds:t.beds||1,bathrooms:t.bathrooms||1,maxGuests:t.max_guests||2,amenities:u,location:t.location_name||"Location unavailable",propertyType:t.property_type||"Entire home"},availability:h,coordinates:t.latitude&&t.longitude?{lat:t.latitude,lng:t.longitude}:void 0,status:t.status,is_featured:t.is_featured}}catch(t){return console.error("Error fetching stay details:",t),null}},async getFeaturedStays(e=3){try{console.log(`Fetching ${e} featured stays`);const{data:t,error:r}=await V.from("stays").select(`
          id, 
          title, 
          description, 
          price_per_night,
          property_type,
          bedrooms,
          beds,
          bathrooms,
          max_guests,
          location_name,
          host_id,
          host:profiles!host_id(id, name, avatar_url),
          stay_images:stay_images(id, image_path, is_primary, display_order),
          stay_amenities:stay_amenities(amenity_id, amenities:amenities(id, name))
        `).eq("is_featured",!0).eq("status","published").limit(e);if(r)throw console.error("Error fetching featured stays:",r),new Error("Failed to fetch featured stays");if(!t||t.length===0)return console.log("No featured stays found"),[];const n=await Promise.all(t.map(async s=>{let o=s.host;Array.isArray(o)&&o.length>0&&(o=o[0]);const i={id:o&&o.id||void 0,name:o&&o.name||"Host",avatar_url:o&&o.avatar_url||null},a=Array.isArray(s.stay_images)?s.stay_images:[],{data:c,error:u}=await V.from("reviews").select("rating").eq("target_id",s.id).eq("target_type","stay");let f=0,h=0;if(!u&&c&&(h=c.length,h>0)){const v=c.reduce((b,x)=>b+(x.rating||0),0);f=parseFloat((v/h).toFixed(1))}f===0&&(f=4.7);const p=a.find(v=>v.is_primary)||a[0];let m=[];s.stay_amenities&&Array.isArray(s.stay_amenities)&&(m=s.stay_amenities.filter(v=>v.amenities&&typeof v.amenities=="object").map(v=>v.amenities&&"name"in v.amenities?String(v.amenities.name):"").filter(Boolean)),m.length===0&&(m=["Wi-Fi","Kitchen"]);const g=a.map(v=>({url:ri(v.image_path),order:v.display_order||0})).sort((v,b)=>(v.order||0)-(b.order||0));return g.length===0&&g.push({url:"/images/mountain.jpg",order:0}),{id:s.id,title:s.title,description:s.description,price_per_night:s.price_per_night,images:g,image:a.length>0?ri((p==null?void 0:p.image_path)||""):g[0].url,host:{id:i.id,name:i.name,image:ri(i.avatar_url||""),rating:f,reviews:h},host_id:s.host_id,details:{bedrooms:s.bedrooms||1,beds:s.beds||1,bathrooms:s.bathrooms||1,maxGuests:s.max_guests||2,amenities:m,location:s.location_name||"Unknown location",propertyType:s.property_type||"apartment"},availability:kg(s.price_per_night)}}));return n.sort((s,o)=>o.host.rating-s.host.rating),n}catch(t){throw console.error("Error in getFeaturedStays:",t),t}},async toggleFavorite(e,t){try{console.log(`Toggling favorite for stay ID: ${e} and user ID: ${t}`);const{data:r,error:n}=await V.from("user_favorites").select("id").eq("user_id",t).eq("stay_id",e).maybeSingle();if(n)return console.error("Error checking favorite status:",n),!1;if(r){const{error:o}=await V.from("user_favorites").delete().eq("id",r.id);return o?(console.error("Error removing favorite:",o),!1):(console.log(`Removed stay ID: ${e} from favorites`),!0)}const{error:s}=await V.from("user_favorites").insert({user_id:t,stay_id:e,created_at:new Date().toISOString()});return s?(console.error("Error adding favorite:",s),!1):(console.log(`Added stay ID: ${e} to favorites`),!0)}catch(r){return console.error("Error in toggleFavorite:",r),!1}},async getFavorites(e){try{console.log(`Fetching favorites for user ID: ${e}`);const{data:t,error:r}=await V.from("user_favorites").select("stay_id").eq("user_id",e);return r?(console.error("Error fetching favorites:",r),[]):t.map(n=>n.stay_id)}catch(t){return console.error("Error in getFavorites:",t),[]}}};async function z2(e={}){var t,r;try{const{data:n}=await V.auth.getSession(),s=(r=(t=n.session)==null?void 0:t.user)==null?void 0:r.id;let o=V.from("food_experiences").select(`
        *,
        images:food_experience_images(id, image_path, is_primary, display_order),
        host:profiles!host_id(name, avatar_url)
      `);s?o=o.or(`status.eq.published,host_id.eq.${s}`):o=o.eq("status","published"),e&&(e.sort&&(e.sort==="price_asc"?o=o.order("price_per_person",{ascending:!0}):e.sort==="price_desc"&&(o=o.order("price_per_person",{ascending:!1}))),e.cuisine_types&&e.cuisine_types.length>0&&(Array.isArray(e.cuisine_types)?o=o.in("cuisine_type",e.cuisine_types):typeof e.cuisine_types=="string"&&(o=o.in("cuisine_type",e.cuisine_types.split(",")))),e.title&&(o=o.ilike("title",`%${e.title}%`)),e.zipcode&&(o=o.eq("zipcode",e.zipcode)));const{data:i,error:a}=await o;if(a)return console.error("Error fetching food experiences:",a),[];const c=await Promise.all(i.map(async u=>{var b,x,y;const f=((b=u.images)==null?void 0:b.map(w=>({url:w.image_path,order:w.display_order||0,is_primary:w.is_primary||!1})))||[];f.sort((w,S)=>w.is_primary&&!S.is_primary?-1:!w.is_primary&&S.is_primary?1:w.order-S.order);const{data:h,error:p}=await V.from("reviews").select("rating").eq("target_id",u.id).eq("target_type","food_experience");let m=0,g=0;if(!p&&h&&(g=h.length,g>0)){const w=h.reduce((S,_)=>S+(_.rating||0),0);m=parseFloat((w/g).toFixed(1))}const v={id:u.host_id,name:((x=u.host)==null?void 0:x.name)||"Host",image:((y=u.host)==null?void 0:y.avatar_url)||"/default-avatar.png",rating:m,reviews:g};return{id:u.id,title:u.title,description:u.description,images:f,price_per_person:u.price_per_person,cuisine_type:u.cuisine_type,menu_description:u.menu_description||"",location_name:u.location_name,host:v,details:{duration:u.duration||"2 hours",groupSize:`Max ${u.max_guests} guests`,includes:["Food","Beverages"],language:u.language||"English",location:`${u.city}, ${u.state}`},coordinates:u.latitude&&u.longitude?{lat:u.latitude,lng:u.longitude}:void 0}}));return e.sort==="rating_desc"?c.sort((u,f)=>f.host.rating-u.host.rating):e.sort==="rating_asc"&&c.sort((u,f)=>u.host.rating-f.host.rating),c}catch(n){return console.error("Error in getFoodExperiences:",n),[]}}async function Ty(e){var h,p,m;const{data:t,error:r}=await V.from("food_experiences").select(`
      *,
      host_id,
      images:food_experience_images(id, image_path, is_primary, display_order),
      host:profiles!host_id(id, name, avatar_url),
      amenities:food_experience_amenities(
        amenity:amenities(id, name, category)
      )
    `).eq("id",e).single();if(r)throw console.error("Error fetching food experience:",r),r;if(!t)return null;const n=t.images.map(g=>({url:g.image_path,order:g.display_order||0,is_primary:g.is_primary||!1}));n.sort((g,v)=>g.order-v.order);const s=t.amenities.map(g=>g.amenity.name),{data:o,error:i}=await V.from("reviews").select("rating").eq("target_id",e).eq("target_type","food_experience");i&&console.error("Error fetching reviews:",i);const a=o||[],c=a.reduce((g,v)=>g+(v.rating||0),0),u=a.length>0?c/a.length:5,f=a.length;return{id:t.id,title:t.title,description:t.description,images:n,price_per_person:t.price_per_person,cuisine_type:t.cuisine_type,menu_description:t.menu_description||"",location_name:t.location_name,amenities:s,host:{id:(h=t.host)==null?void 0:h.id,name:((p=t.host)==null?void 0:p.name)||"Host",image:((m=t.host)==null?void 0:m.avatar_url)||"",rating:parseFloat(u.toFixed(1)),reviews:f},details:{duration:t.duration||"2 hours",groupSize:`Max ${t.max_guests} guests`,includes:["Food","Beverages"],language:t.language||"English",location:`${t.city}, ${t.state}`},coordinates:{lat:t.latitude,lng:t.longitude}}}async function kV(){const{data:e,error:t}=await V.from("food_experiences").select("cuisine_type").eq("status","published");if(t)throw console.error("Error fetching food categories:",t),t;const r={};return e.forEach(n=>{const s=n.cuisine_type;r[s]=(r[s]||0)+1}),Object.entries(r).map(([n,s])=>({cuisine_type:n,count:s}))}async function NV(e){var s;const{data:t}=await V.auth.getSession();if(!((s=t.session)!=null&&s.user))return!1;const{data:r,error:n}=await V.from("favorites").select("*").eq("user_id",t.session.user.id).eq("item_id",e).eq("item_type","food_experience").single();return n&&n.code!=="PGRST116"?(console.error("Error checking favorite status:",n),!1):!!r}async function PV(e){var o;const{data:t}=await V.auth.getSession();if(!((o=t.session)!=null&&o.user))throw new Error("User not authenticated");const r=t.session.user.id,{data:n,error:s}=await V.from("favorites").select("id").eq("user_id",r).eq("item_id",e).eq("item_type","food_experience").single();if(s&&s.code!=="PGRST116")throw console.error("Error checking favorite status:",s),s;if(n){const{error:i}=await V.from("favorites").delete().eq("id",n.id);if(i)throw console.error("Error removing favorite:",i),i;return!1}else{const{error:i}=await V.from("favorites").insert({user_id:r,item_id:e,item_type:"food_experience"});if(i)throw console.error("Error adding favorite:",i),i;return!0}}const LV=["places"],F_="AIzaSyDpB03uqoC8eWmdG8KRlBdiJaHWbXmtMgE",W2=({onLocationSelect:e})=>{const[t,r]=d.useState(""),[n,s]=d.useState([]),[o,i]=d.useState(null),[a,c]=d.useState(!1),[u,f]=d.useState([]),h=d.useRef(null),p=d.useRef(null),m=Mt(),[g,v]=d.useState(!1),{isLoaded:b}=gl({googleMapsApiKey:F_,libraries:LV,id:"google-map-script"});d.useEffect(()=>{b&&!h.current&&(h.current=new google.maps.places.AutocompleteService)},[b]);const x=async N=>{if(r(N),!(!N||!h.current))try{const P=(await new Promise((k,M)=>{h.current.getPlacePredictions({input:N,componentRestrictions:{country:"us"},types:["postal_code"],bounds:{north:35,south:30.5,east:-81,west:-88.5}},(D,I)=>{I===google.maps.places.PlacesServiceStatus.OK&&D?k(D):M(new Error("Failed to fetch suggestions"))})})).map(k=>({placeId:k.place_id,address:k.description,zipcode:"",city:"",state:"",latitude:0,longitude:0}));s(P)}catch(E){console.error("Error fetching suggestions:",E),s([])}},y=async N=>{try{const[E,P]=await Promise.all([wc.getStays({zipcode:N}),z2({zipcode:N})]),k=E.map(D=>{var I,B;return{id:D.id,title:D.title,type:"stay",latitude:((I=D.coordinates)==null?void 0:I.lat)||0,longitude:((B=D.coordinates)==null?void 0:B.lng)||0}}).filter(D=>D.latitude!==0&&D.longitude!==0),M=P.map(D=>{var I,B;return{id:D.id,title:D.title,type:"food",latitude:((I=D.coordinates)==null?void 0:I.lat)||0,longitude:((B=D.coordinates)==null?void 0:B.lng)||0}}).filter(D=>D.latitude!==0&&D.longitude!==0);return[...k,...M]}catch(E){return console.error("Error fetching nearby listings:",E),[]}},w=async N=>{var E,P,k,M,D,I,B;if(v(!0),!p.current){const $=new google.maps.Map(document.createElement("div"));p.current=new google.maps.places.PlacesService($)}try{const $=await new Promise((H,K)=>{p.current.getDetails({placeId:N.placeId,fields:["geometry","address_components"]},(R,J)=>{J===google.maps.places.PlacesServiceStatus.OK&&R?H(R):K(new Error("Failed to fetch place details"))})}),F=$.address_components||[],O=((E=F.find(H=>H.types.includes("postal_code")))==null?void 0:E.long_name)||"",L=((P=F.find(H=>H.types.includes("locality")))==null?void 0:P.long_name)||"",U=((k=F.find(H=>H.types.includes("administrative_area_level_1")))==null?void 0:k.short_name)||"",W={...N,zipcode:O,city:L,state:U,latitude:((D=(M=$.geometry)==null?void 0:M.location)==null?void 0:D.lat())||0,longitude:((B=(I=$.geometry)==null?void 0:I.location)==null?void 0:B.lng())||0};i(W),c(!0),s([]);const T=await y(O);f(T)}catch($){console.error("Error fetching location details:",$)}finally{v(!1)}},S=N=>{if(!o)return;const E=new URLSearchParams({zipcode:o.zipcode,location:`${o.city}, ${o.state}`});m(`/${N}?${E.toString()}`),console.log(`Navigating to /${N} with params:`,E.toString()),e==null||e()},_=()=>{navigator.geolocation&&(v(!0),navigator.geolocation.getCurrentPosition(async N=>{var E,P,k;try{const{latitude:M,longitude:D}=N.coords,I=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${M},${D}&key=${F_}`);if(!I.ok)throw new Error(`Error fetching geocoding data: ${I.status} ${I.statusText}`);const B=await I.json();if(B.results[0]){const $=B.results[0].address_components,F=((E=$.find(T=>T.types.includes("postal_code")))==null?void 0:E.long_name)||"",O=((P=$.find(T=>T.types.includes("locality")))==null?void 0:P.long_name)||"",L=((k=$.find(T=>T.types.includes("administrative_area_level_1")))==null?void 0:k.short_name)||"",U={placeId:B.results[0].place_id,address:B.results[0].formatted_address,zipcode:F,city:O,state:L,latitude:M,longitude:D};i(U),c(!0),r(U.address);const W=await y(F);f(W)}}catch(M){console.error("Error getting location:",M)}finally{v(!1)}},N=>{console.error("Error getting location:",N),v(!1)}))},C=o?{lat:o.latitude,lng:o.longitude}:{lat:32.7767,lng:-84.9377},j=()=>{c(!1),i(null),f([])};return l.jsx("section",{className:"py-12 bg-gray-50",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-8 font-display",children:"Find Local Food & Stays"}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Re,{type:"text",placeholder:"Enter zipcode...",value:t,onChange:N=>x(N.target.value),className:"w-full p-4 text-lg rounded-lg pr-24",disabled:g}),l.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-2",children:g?l.jsx(Ze,{className:"w-5 h-5 animate-spin text-gray-400"}):l.jsx(ee,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-primary",onClick:_,children:l.jsx(fb,{className:"w-4 h-4"})})})]}),n.length>0&&!a&&l.jsx("div",{className:"absolute w-full mt-2 bg-white rounded-lg shadow-lg z-10 overflow-hidden transition-all duration-200 ease-in-out",children:n.map((N,E)=>l.jsxs("button",{className:"w-full p-4 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors duration-150",onClick:()=>w(N),disabled:g,children:[l.jsx(Rs,{className:"text-primary"}),l.jsx("div",{children:l.jsx("p",{className:"font-medium",children:N.address})})]},E))}),a&&l.jsxs("div",{className:"mt-4 rounded-lg overflow-hidden shadow-lg transition-all duration-300 ease-in-out",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ee,{variant:"outline",size:"sm",className:"absolute top-2 right-2 z-10 bg-white",onClick:j,children:"Close Map"}),b?l.jsxs(qu,{zoom:12,center:C,mapContainerClassName:"w-full h-[300px]",options:{styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},children:[o&&l.jsx(Ha,{position:{lat:o.latitude,lng:o.longitude},icon:{url:"/images/location-marker.svg",scaledSize:new google.maps.Size(40,40)}}),u.map(N=>l.jsx(Ha,{position:{lat:N.latitude,lng:N.longitude},icon:{url:N.type==="food"?"/images/food-marker.svg":"/images/stay-marker.svg",scaledSize:new google.maps.Size(24,24)}},N.id))]}):l.jsx(Kz,{})]}),l.jsx("div",{className:"p-4 bg-white",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx(ee,{className:"flex-1 bg-primary hover:bg-primary/90",onClick:()=>S("food"),disabled:g,children:"Find Food"}),l.jsx(ee,{className:"flex-1",variant:"outline",onClick:()=>S("stays"),disabled:g,children:"Find Stays"})]})})]})]})]})})})};var qb="Dialog",[V2,Dre]=Wn(qb),[MV,Vn]=V2(qb),H2=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=d.useRef(null),c=d.useRef(null),[u=!1,f]=cs({prop:n,defaultProp:s,onChange:o});return l.jsx(MV,{scope:t,triggerRef:a,contentRef:c,contentId:fn(),titleId:fn(),descriptionId:fn(),open:u,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(h=>!h),[f]),modal:i,children:r})};H2.displayName=qb;var G2="DialogTrigger",q2=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vn(G2,r),o=Fe(t,s.triggerRef);return l.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Zb(s.open),...n,ref:o,onClick:ue(e.onClick,s.onOpenToggle)})});q2.displayName=G2;var Yb="DialogPortal",[DV,Y2]=V2(Yb,{forceMount:void 0}),K2=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Vn(Yb,t);return l.jsx(DV,{scope:t,forceMount:r,children:d.Children.map(n,i=>l.jsx(sr,{present:r||o.open,children:l.jsx(zu,{asChild:!0,container:s,children:i})}))})};K2.displayName=Yb;var Sh="DialogOverlay",Z2=d.forwardRef((e,t)=>{const r=Y2(Sh,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Vn(Sh,e.__scopeDialog);return o.modal?l.jsx(sr,{present:n||o.open,children:l.jsx(OV,{...s,ref:t})}):null});Z2.displayName=Sh;var OV=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vn(Sh,r);return l.jsx(Vu,{as,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(_e.div,{"data-state":Zb(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ji="DialogContent",X2=d.forwardRef((e,t)=>{const r=Y2(ji,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Vn(ji,e.__scopeDialog);return l.jsx(sr,{present:n||o.open,children:o.modal?l.jsx(TV,{...s,ref:t}):l.jsx(RV,{...s,ref:t})})});X2.displayName=ji;var TV=d.forwardRef((e,t)=>{const r=Vn(ji,e.__scopeDialog),n=d.useRef(null),s=Fe(t,r.contentRef,n);return d.useEffect(()=>{const o=n.current;if(o)return Wu(o)},[]),l.jsx(J2,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:ue(e.onFocusOutside,o=>o.preventDefault())})}),RV=d.forwardRef((e,t)=>{const r=Vn(ji,e.__scopeDialog),n=d.useRef(!1),s=d.useRef(!1);return l.jsx(J2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),J2=d.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Vn(ji,r),c=d.useRef(null),u=Fe(t,c);return Np(),l.jsxs(l.Fragment,{children:[l.jsx(Fu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(hl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Zb(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(IV,{titleId:a.titleId}),l.jsx($V,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Kb="DialogTitle",Q2=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vn(Kb,r);return l.jsx(_e.h2,{id:s.titleId,...n,ref:t})});Q2.displayName=Kb;var eL="DialogDescription",tL=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vn(eL,r);return l.jsx(_e.p,{id:s.descriptionId,...n,ref:t})});tL.displayName=eL;var rL="DialogClose",nL=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vn(rL,r);return l.jsx(_e.button,{type:"button",...n,ref:t,onClick:ue(e.onClick,()=>s.onOpenChange(!1))})});nL.displayName=rL;function Zb(e){return e?"open":"closed"}var sL="DialogTitleWarning",[Ore,oL]=v5(sL,{contentName:ji,titleName:Kb,docsSlug:"dialog"}),IV=({titleId:e})=>{const t=oL(sL),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},AV="DialogDescriptionWarning",$V=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oL(AV).contentName}}.`;return d.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},FV=H2,BV=q2,UV=K2,iL=Z2,aL=X2,lL=Q2,cL=tL,zV=nL;const Up=FV,WV=BV,VV=UV,uL=d.forwardRef(({className:e,...t},r)=>l.jsx(iL,{ref:r,className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));uL.displayName=iL.displayName;const Yu=d.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(VV,{children:[l.jsx(uL,{}),l.jsxs(aL,{ref:n,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(zV,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Ua,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yu.displayName=aL.displayName;const dL=({className:e,...t})=>l.jsx("div",{className:pe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});dL.displayName="DialogHeader";const fL=({className:e,...t})=>l.jsx("div",{className:pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});fL.displayName="DialogFooter";const zp=d.forwardRef(({className:e,...t},r)=>l.jsx(lL,{ref:r,className:pe("text-lg font-semibold leading-none tracking-tight",e),...t}));zp.displayName=lL.displayName;const hL=d.forwardRef(({className:e,...t},r)=>l.jsx(cL,{ref:r,className:pe("text-sm text-muted-foreground",e),...t}));hL.displayName=cL.displayName;var HV="VisuallyHidden",Ku=d.forwardRef((e,t)=>l.jsx(_e.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ku.displayName=HV;var GV=Ku;const B_=()=>{const[e,t]=d.useState(!1);return l.jsxs(Up,{open:e,onOpenChange:t,children:[l.jsx(WV,{asChild:!0,children:l.jsxs(ee,{variant:"outline",className:"w-full md:w-[400px] justify-start text-left font-normal rounded-full",children:[l.jsx(ul,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Search locations..."})]})}),l.jsxs(Yu,{className:"sm:max-w-[600px]",children:[l.jsx(zp,{asChild:!0,children:l.jsx(Ku,{children:"Search Locations"})}),l.jsx(W2,{onLocationSelect:()=>t(!1)})]})]})},Lt=({children:e})=>{var f,h;const t=Mt(),{user:r,logout:n,loading:s}=Dt(),[o,i]=d.useState(!1),[a,c]=d.useState(!1);d.useEffect(()=>{const p=()=>{c(window.scrollY>20)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const u=()=>{n(),t("/")};return l.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-sage-50 to-terracotta-50",children:[l.jsx("header",{className:`sticky top-0 z-50 transition-all duration-300 ${a?"bg-white/95 backdrop-blur-sm shadow-sm":"bg-transparent"}`,children:l.jsxs("div",{className:"container mx-auto px-4 py-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(tt,{to:"/",className:"flex items-center space-x-3 group",children:[l.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center text-white transform transition-transform group-hover:scale-105 duration-200",children:l.jsx(y4,{className:"w-7 h-7"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600",children:"Platform 2025"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Local Food & Stays"})]})]}),l.jsx(ee,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>i(!o),children:l.jsx(S4,{className:"h-6 w-6"})}),l.jsx("div",{className:"hidden md:flex flex-1 justify-center mx-4",children:l.jsx(B_,{})}),l.jsx("div",{className:"flex items-center",children:l.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[l.jsxs(tt,{to:"/food",className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:[l.jsx(Xc,{className:"w-4 h-4"}),"Local Food"]}),l.jsxs(tt,{to:"/stays",className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:[l.jsx(Oo,{className:"w-4 h-4"}),"Stays"]}),!s&&(r==null?void 0:r.is_host)&&l.jsx(ee,{variant:"outline",onClick:()=>t("/host/dashboard"),children:"Host Dashboard"}),l.jsxs(J8,{children:[l.jsx(Q8,{asChild:!0,children:r?l.jsx(ee,{variant:"ghost",size:"icon",className:"rounded-full w-12 h-12 bg-purple-100 hover:bg-purple-200 transition-colors",children:l.jsxs(ds,{className:"w-10 h-10",children:[l.jsx(fs,{src:r.picture||r.image||"/images/sarah.jpg"}),l.jsx(hs,{className:"bg-purple-500 text-white text-lg",children:(f=r.name)==null?void 0:f.charAt(0)})]})}):l.jsx(ee,{variant:"ghost",size:"icon",className:"rounded-full w-12 h-12 bg-purple-100 hover:bg-purple-200 transition-colors",children:l.jsx(u4,{className:"w-7 h-7 text-purple-500"})})}),l.jsx(n2,{align:"end",className:"w-56",children:r?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-2 py-1.5 text-sm font-medium",children:r.name}),l.jsx(Ny,{}),l.jsx(oa,{onClick:()=>t("/profile"),children:"Your Profile"}),!r.is_host&&l.jsx(oa,{onClick:()=>t("/become-host"),children:"Become a Host"}),l.jsx(Ny,{}),l.jsx(oa,{onClick:u,children:"Sign Out"})]}):l.jsxs(l.Fragment,{children:[l.jsx(oa,{onClick:()=>t("/login"),children:"Sign In"}),l.jsx(oa,{onClick:()=>t("/signup"),children:"Sign Up"})]})})]})]})})]}),o&&l.jsxs("div",{className:"md:hidden flex flex-col space-y-4 pt-4 mt-4 border-t animate-fadeIn",children:[l.jsx("div",{className:"mb-2",children:l.jsx(B_,{})}),l.jsxs(tt,{to:"/food",className:"flex items-center gap-2 p-2 rounded-lg hover:bg-accent",children:[l.jsx(Xc,{className:"w-4 h-4"}),"Local Food"]}),l.jsxs(tt,{to:"/stays",className:"flex items-center gap-2 p-2 rounded-lg hover:bg-accent",children:[l.jsx(Oo,{className:"w-4 h-4"}),"Stays"]}),r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"px-4 py-2 flex items-center gap-3",children:[l.jsxs(ds,{className:"w-10 h-10",children:[l.jsx(fs,{src:r.picture||r.image||"/images/sarah.jpg"}),l.jsx(hs,{className:"bg-purple-500 text-white text-lg",children:(h=r.name)==null?void 0:h.charAt(0)})]}),l.jsx("div",{className:"text-sm font-medium",children:r.name})]}),l.jsx(ee,{variant:"ghost",className:"justify-start",onClick:()=>t("/profile"),children:"Your Profile"}),r.is_host?l.jsx(ee,{variant:"ghost",className:"justify-start",onClick:()=>t("/host/dashboard"),children:"Host Dashboard"}):l.jsx(ee,{variant:"ghost",className:"justify-start",onClick:()=>t("/become-host"),children:"Become a Host"}),l.jsx(ee,{variant:"ghost",className:"justify-start text-red-600 hover:text-red-700",onClick:u,children:"Sign Out"})]}):l.jsxs(l.Fragment,{children:[l.jsx(ee,{variant:"ghost",className:"justify-start",onClick:()=>t("/login"),children:"Sign In"}),l.jsx(ee,{variant:"ghost",className:"justify-start",onClick:()=>t("/signup"),children:"Sign Up"})]})]})]})}),l.jsx("main",{className:"flex-1",children:e}),l.jsx("footer",{className:"border-t bg-white/50 backdrop-blur-sm",children:l.jsxs("div",{className:"container mx-auto px-4 py-12",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-primary",children:"About Us"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Connecting travelers with authentic local food experiences and unique stays around the world."}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:l.jsx(Xk,{className:"w-5 h-5"})}),l.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:l.jsx(v4,{className:"w-5 h-5"})}),l.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:l.jsx(j4,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Host"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(tt,{to:"/host/food",className:"nav-link",children:"Share your cuisine"})}),l.jsx("li",{children:l.jsx(tt,{to:"/host/stay",className:"nav-link",children:"Host your space"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Support"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(tt,{to:"/help",className:"nav-link",children:"Help Center"})}),l.jsx("li",{children:l.jsx(tt,{to:"/safety",className:"nav-link",children:"Safety Center"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Legal"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(tt,{to:"/privacy",className:"nav-link",children:"Privacy"})}),l.jsx("li",{children:l.jsx(tt,{to:"/terms",className:"nav-link",children:"Terms"})})]})]})]}),l.jsxs("div",{className:"mt-8 pt-8 border-t text-center text-sm text-muted-foreground",children:["© ",new Date().getFullYear()," Platform 2025. All rights reserved."]})]})})]})},qV=()=>l.jsxs("div",{className:"relative h-[600px] overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("img",{src:"/images/african.jpg",alt:"Local food and stays",className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/30"})]}),l.jsxs("div",{className:"relative container mx-auto px-4 h-full flex flex-col justify-center items-center text-center text-white",children:[l.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6 animate-fadeIn",children:["Discover Local Flavors &",l.jsx("span",{className:"text-amber-400",children:" Authentic Stays"})]}),l.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-2xl animate-fadeIn delay-100",children:"Connect with local hosts offering unique dining experiences and cozy accommodations"})]})]}),U_=(e,t)=>{if(!e)return t==="stay"?"/images/placeholder-stay.jpg":"/images/placeholder-food.jpg";if(e.startsWith("http"))return e;if(t==="food"){if(e.startsWith("food-experience-images/"))return`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${e}`;if(!e.includes("/")&&!e.startsWith("food-experience-images/"))return`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${`food-experience-images/${e}`}`}if(t==="stay"){if(e.startsWith("stay-images/"))return`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${e}`;if(!e.includes("/")&&!e.startsWith("stay-images/"))return`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${`stay-images/${e}`}`}return`${e}`},dr={featuredFood:null,featuredStays:null,foodCategories:null},Ng=10*60*1e3,Pg=e=>e?Date.now()-e.timestamp<e.expires:!1,Sc={async getFeaturedFood(){if(Pg(dr.featuredFood))return console.log("Using cached featured food data"),dr.featuredFood.data;try{const{data:e,error:t}=await V.from("food_experiences").select(`
          id, 
          title, 
          description, 
          price_per_person,
          host_id,
          rating
        `).eq("is_featured",!0).eq("status","published").limit(3);if(t)throw t;if(!(e!=null&&e.length))return[];const r=e.map(h=>h.id),{data:n,error:s}=await V.from("food_experience_images").select("experience_id, image_path, is_primary").in("experience_id",r);s&&console.error("Error fetching food experience images:",s);const o=new Map;n!=null&&n.length?(console.log("Food experience image data:",n),n.filter(h=>h.is_primary).forEach(h=>{o.set(h.experience_id,h.image_path)}),r.forEach(h=>{if(!o.has(h)){const p=n.find(m=>m.experience_id===h);p&&o.set(h,p.image_path)}}),console.log("Image map:",Object.fromEntries(o))):console.log("No food experience images found");const i=[...new Set(e.map(h=>h.host_id))],{data:a,error:c}=await V.from("profiles").select("id, name").in("id",i),u=new Map;!c&&(a!=null&&a.length)&&a.forEach(h=>{u.set(h.id,h.name)});const f=await Promise.all(e.map(async h=>{const p=o.get(h.id),m=U_(p,"food"),{data:g,error:v}=await V.from("reviews").select("rating").eq("target_id",h.id).eq("target_type","food_experience");let b=0,x=0;if(!v&&g&&(x=g.length,x>0)){const y=g.reduce((w,S)=>w+(S.rating||0),0);b=parseFloat((y/x).toFixed(1))}return{id:h.id,title:h.title,description:h.description,price_per_person:h.price_per_person,image:m,host:{name:u.get(h.host_id)||"Host",rating:b,reviews:x}}}));return dr.featuredFood={data:f,timestamp:Date.now(),expires:Ng},f}catch(e){return console.error("Error fetching featured food:",e),[]}},async getFeaturedStays(){if(Pg(dr.featuredStays))return console.log("Using cached featured stays data"),dr.featuredStays.data;try{const{data:e,error:t}=await V.from("stays").select(`
          id, 
          title, 
          description, 
          price_per_night,
          host_id
        `).eq("is_featured",!0).eq("status","published").limit(3);if(t)throw t;if(!(e!=null&&e.length))return[];const r=e.map(async h=>{const{data:p,error:m}=await V.from("stay_images").select("image_path").eq("stay_id",h.id).eq("is_primary",!0).limit(1);return{id:h.id,imagePath:m||!(p!=null&&p.length)?null:p[0].image_path}}),n=new Map((await Promise.all(r)).map(h=>[h.id,h.imagePath])),s=[...new Set(e.map(h=>h.host_id))],{data:o,error:i}=await V.from("profiles").select("id, name").in("id",s),a=new Map;!i&&(o!=null&&o.length)&&o.forEach(h=>{a.set(h.id,h.name)});const c=e.map(h=>h.id),u=new Map;await Promise.all(c.map(async h=>{const{data:p,error:m}=await V.from("reviews").select("rating").eq("target_id",h).eq("target_type","stay");if(!m&&p){const g=p.length;let v=0;if(g>0){const b=p.reduce((x,y)=>x+(y.rating||0),0);v=parseFloat((b/g).toFixed(1))}u.set(h,{rating:v,reviews:g})}}));const f=e.map(h=>{const p=u.get(h.id)||{rating:4.7,reviews:0};return{id:h.id,title:h.title,description:h.description,price_per_night:h.price_per_night,image:U_(n.get(h.id),"stay"),host:{name:a.get(h.host_id)||"Host",rating:p.rating,reviews:p.reviews}}});return dr.featuredStays={data:f,timestamp:Date.now(),expires:Ng},f}catch(e){return console.error("Error fetching featured stays:",e),[]}},async getFoodCategories(){if(Pg(dr.foodCategories))return console.log("Using cached food categories data"),dr.foodCategories.data;try{const{data:e,error:t}=await V.from("food_experiences").select("cuisine_type").eq("status","published").not("cuisine_type","is",null);if(t)throw t;if(!(e!=null&&e.length))return[];const r=Array.from(new Set(e.map(s=>s.cuisine_type))),n=[];for(const s of r){const{count:o,error:i}=await V.from("food_experiences").select("*",{count:"exact",head:!0}).eq("status","published").eq("cuisine_type",s);if(i)throw i;n.push({cuisine_type:s,count:o||0})}return dr.foodCategories={data:n,timestamp:Date.now(),expires:Ng},n}catch(e){return console.error("Error fetching food categories:",e),[]}},invalidateCache(e){if(!e){dr.featuredFood=null,dr.featuredStays=null,dr.foodCategories=null,console.log("All API cache invalidated");return}switch(e){case"food":dr.featuredFood=null,console.log("Featured food cache invalidated");break;case"stays":dr.featuredStays=null,console.log("Featured stays cache invalidated");break;case"categories":dr.foodCategories=null,console.log("Food categories cache invalidated");break}}},Lg=({item:e,onClick:t,priceLabel:r,showRating:n,showCount:s})=>l.jsx("div",{className:"group cursor-pointer transition-all duration-300",onClick:t,children:l.jsxs("div",{className:"relative overflow-hidden rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300",children:[l.jsxs("div",{className:"aspect-[4/3] overflow-hidden",children:[l.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{className:"p-5 bg-white",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:e.title}),l.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(r||n||s)&&l.jsxs("div",{className:"flex justify-between items-center",children:[r&&l.jsx("span",{className:"font-medium text-primary",children:r}),n&&"host"in e&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-yellow-500",children:"★"}),l.jsx("span",{className:"font-medium",children:e.host.rating}),l.jsxs("span",{className:"text-sm text-gray-500",children:["(",e.host.reviews,")"]})]}),s&&"count"in e&&l.jsxs("span",{className:"text-sm font-medium text-primary-foreground bg-primary px-2 py-1 rounded-full",children:[e.count," foods"]})]})]})]})}),Mg=({title:e,items:t,viewAllLink:r,renderItem:n})=>{const s=Mt();return t.length===0?null:l.jsx("section",{className:"py-12",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h2",{className:"text-4xl font-bold tracking-tight text-gray-900 font-display",children:e}),r&&l.jsx(ee,{variant:"outline",onClick:()=>s(r),className:"text-base hover:bg-gray-100",children:"View All"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.slice(0,3).map(o=>n(o))})]})})},YV=()=>{const e=Mt(),[t,r]=d.useState([]),[n,s]=d.useState([]),[o,i]=d.useState([]),[a,c]=d.useState(!0),[u,f]=d.useState(null),[h,p]=d.useState({food:!0,categories:!0,stays:!0});d.useEffect(()=>{(async()=>{try{const v=async()=>{try{p(w=>({...w,food:!0}));const y=await Sc.getFeaturedFood();r(y)}catch(y){console.error("Error fetching food:",y)}finally{p(y=>({...y,food:!1}))}},b=async()=>{try{p(w=>({...w,stays:!0}));const y=await Sc.getFeaturedStays();s(y)}catch(y){console.error("Error fetching stays:",y)}finally{p(y=>({...y,stays:!1}))}},x=async()=>{try{p(w=>({...w,categories:!0}));const y=await Sc.getFoodCategories();if(Array.isArray(y)&&y.length>0){const w={Italian:"/images/italian.jpg",Asian:"/images/asian.jpg",African:"/images/african.jpg",Mexican:"/images/mexican.jpg",American:"/images/american.jpg",Mediterranean:"/images/mediterranean.jpg",European:"/images/european.jpg",Indian:"/images/indian.jpg","Middle Eastern":"/images/middle-eastern.jpg",Japanese:"/images/japanese.jpg",Thai:"/images/thai.jpg",Chinese:"/images/chinese.jpg",Korean:"/images/korean.jpg",Vietnamese:"/images/vietnamese.jpg",French:"/images/french.jpg",Spanish:"/images/spanish.jpg",Greek:"/images/greek.jpg",Caribbean:"/images/caribbean.jpg","Latin American":"/images/latin-american.jpg",Vegetarian:"/images/vegetarian.jpg",Vegan:"/images/vegan.jpg","Gluten-Free":"/images/gluten-free.jpg",default:"/images/default-cuisine.jpg"},S=y.map(_=>{const C=_.cuisine_type,j=C in w?C:"default";return{id:C,title:`${C} Cuisine`,description:`Explore delicious ${C} dishes and cooking experiences`,image:w[j],count:_.count}});i(S)}}catch(y){console.error("Error fetching categories:",y)}finally{p(y=>({...y,categories:!1}))}};await Promise.all([v(),b(),x()]),c(!1)}catch(v){console.error("Error fetching featured data:",v),f("Failed to load featured content"),c(!1)}})()},[]),d.useEffect(()=>{!h.food&&!h.stays&&!h.categories&&c(!1)},[h]);const m=()=>l.jsx("div",{className:"py-6 px-4 rounded-xl bg-gray-100 animate-pulse flex items-center justify-center h-[250px]",children:l.jsx("div",{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})});return a&&!t.length&&!n.length&&!o.length?l.jsxs("div",{className:"space-y-16 container mx-auto px-4 py-12",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold tracking-tight text-gray-900 font-display mb-8",children:"Popular Food Experiences"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[1,2,3].map(g=>l.jsx(m,{},g))})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold tracking-tight text-gray-900 font-display mb-8",children:"Browse by Category"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[1,2,3].map(g=>l.jsx(m,{},g))})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold tracking-tight text-gray-900 font-display mb-8",children:"Featured Stays"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[1,2,3].map(g=>l.jsx(m,{},g))})]})]}):u&&!t.length&&!n.length&&!o.length?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:u}):l.jsxs("div",{className:"space-y-16",children:[l.jsx(Mg,{title:"Popular Food Experiences",items:t,viewAllLink:"/food",renderItem:g=>l.jsx(Lg,{item:g,onClick:()=>e(`/food/${g.id}`),priceLabel:`$${g.price_per_person} per person`,showRating:!0},g.id)}),h.categories&&!o.length?l.jsx("div",{className:"py-12",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h2",{className:"text-4xl font-bold tracking-tight text-gray-900 font-display mb-8",children:"Browse by Category"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[1,2,3].map(g=>l.jsx(m,{},g))})]})}):l.jsx(Mg,{title:"Browse by Category",items:o,renderItem:g=>l.jsx(Lg,{item:g,onClick:()=>e(`/food?cuisine_types=${encodeURIComponent(g.id)}`),showCount:!0},g.id)}),l.jsx(Mg,{title:"Featured Stays",items:n,viewAllLink:"/stays",renderItem:g=>l.jsx(Lg,{item:g,onClick:()=>e(`/stays/${g.id}`),priceLabel:`$${g.price_per_night} per night`,showRating:!0},g.id)})]})},KV=()=>{const e=Mt(),{user:t,loading:r}=Dt();return r?l.jsx("div",{children:"Loading..."}):l.jsxs(Lt,{children:[l.jsx(qV,{}),l.jsx(W2,{}),l.jsxs("div",{className:"space-y-16",children:[l.jsx(YV,{}),l.jsx("section",{className:"bg-gradient-to-r from-amber-500 to-terracotta-600 py-20",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-3xl mx-auto text-center text-white",children:[l.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Share Your Culture With The World"}),l.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Whether it's your culinary expertise or your unique space, become a host and start earning while creating memorable experiences."}),l.jsxs("div",{className:"flex gap-4 justify-center",children:[t!=null&&t.is_host?l.jsx(tt,{to:"/host/dashboard",children:l.jsx(ee,{variant:"secondary",size:"lg",children:"Go to Host Dashboard"})}):l.jsx(tt,{to:"/become-host",children:l.jsx(ee,{variant:"secondary",size:"lg",children:"Become a Host"})}),l.jsx(ee,{variant:"outline",size:"lg",className:"bg-transparent text-white border-white hover:bg-white/10",onClick:()=>e("/host/stay"),children:"List Your Space"})]})]})})})]})]})};function Ry(e,[t,r]){return Math.min(r,Math.max(t,e))}function Xb(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ZV=[" ","Enter","ArrowUp","ArrowDown"],XV=[" ","Enter"],Zu="Select",[Wp,Vp,JV]=yb(Zu),[xl,Tre]=Wn(Zu,[JV,Yo]),Hp=Yo(),[QV,Ko]=xl(Zu),[e9,t9]=xl(Zu),pL=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:p,required:m,form:g}=e,v=Hp(t),[b,x]=d.useState(null),[y,w]=d.useState(null),[S,_]=d.useState(!1),C=$u(u),[j=!1,N]=cs({prop:n,defaultProp:s,onChange:o}),[E,P]=cs({prop:i,defaultProp:a,onChange:c}),k=d.useRef(null),M=b?g||!!b.closest("form"):!0,[D,I]=d.useState(new Set),B=Array.from(D).map($=>$.props.value).join(";");return l.jsx(Dp,{...v,children:l.jsxs(QV,{required:m,scope:t,trigger:b,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:fn(),value:E,onValueChange:P,open:j,onOpenChange:N,dir:C,triggerPointerDownPosRef:k,disabled:p,children:[l.jsx(Wp.Provider,{scope:t,children:l.jsx(e9,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback($=>{I(F=>new Set(F).add($))},[]),onNativeOptionRemove:d.useCallback($=>{I(F=>{const O=new Set(F);return O.delete($),O})},[]),children:r})}),M?l.jsxs(FL,{"aria-hidden":!0,required:m,tabIndex:-1,name:f,autoComplete:h,value:E,onChange:$=>P($.target.value),disabled:p,form:g,children:[E===void 0?l.jsx("option",{value:""}):null,Array.from(D)]},B):null]})})};pL.displayName=Zu;var mL="SelectTrigger",gL=d.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Hp(r),i=Ko(mL,r),a=i.disabled||n,c=Fe(t,i.onTriggerChange),u=Vp(r),f=d.useRef("touch"),[h,p,m]=BL(v=>{const b=u().filter(w=>!w.disabled),x=b.find(w=>w.value===i.value),y=UL(b,v,x);y!==void 0&&i.onValueChange(y.value)}),g=v=>{a||(i.onOpenChange(!0),m()),v&&(i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(Uu,{asChild:!0,...o,children:l.jsx(_e.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":$L(i.value)?"":void 0,...s,ref:c,onClick:ue(s.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&g(v)}),onPointerDown:ue(s.onPointerDown,v=>{f.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:ue(s.onKeyDown,v=>{const b=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(b&&v.key===" ")&&ZV.includes(v.key)&&(g(),v.preventDefault())})})})});gL.displayName=mL;var vL="SelectValue",yL=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=e,c=Ko(vL,r),{onValueNodeHasChildrenChange:u}=c,f=o!==void 0,h=Fe(t,c.onValueNodeChange);return Zt(()=>{u(f)},[u,f]),l.jsx(_e.span,{...a,ref:h,style:{pointerEvents:"none"},children:$L(c.value)?l.jsx(l.Fragment,{children:i}):o})});yL.displayName=vL;var r9="SelectIcon",xL=d.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(_e.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});xL.displayName=r9;var n9="SelectPortal",bL=e=>l.jsx(zu,{asChild:!0,...e});bL.displayName=n9;var ki="SelectContent",wL=d.forwardRef((e,t)=>{const r=Ko(ki,e.__scopeSelect),[n,s]=d.useState();if(Zt(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?br.createPortal(l.jsx(SL,{scope:e.__scopeSelect,children:l.jsx(Wp.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(_L,{...e,ref:t})});wL.displayName=ki;var En=10,[SL,Zo]=xl(ki),s9="SelectContentImpl",_L=d.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:b,...x}=e,y=Ko(ki,r),[w,S]=d.useState(null),[_,C]=d.useState(null),j=Fe(t,Z=>S(Z)),[N,E]=d.useState(null),[P,k]=d.useState(null),M=Vp(r),[D,I]=d.useState(!1),B=d.useRef(!1);d.useEffect(()=>{if(w)return Wu(w)},[w]),Np();const $=d.useCallback(Z=>{const[Q,...le]=M().map(de=>de.ref.current),[te]=le.slice(-1),G=document.activeElement;for(const de of Z)if(de===G||(de==null||de.scrollIntoView({block:"nearest"}),de===Q&&_&&(_.scrollTop=0),de===te&&_&&(_.scrollTop=_.scrollHeight),de==null||de.focus(),document.activeElement!==G))return},[M,_]),F=d.useCallback(()=>$([N,w]),[$,N,w]);d.useEffect(()=>{D&&F()},[D,F]);const{onOpenChange:O,triggerPointerDownPosRef:L}=y;d.useEffect(()=>{if(w){let Z={x:0,y:0};const Q=te=>{var G,de;Z={x:Math.abs(Math.round(te.pageX)-(((G=L.current)==null?void 0:G.x)??0)),y:Math.abs(Math.round(te.pageY)-(((de=L.current)==null?void 0:de.y)??0))}},le=te=>{Z.x<=10&&Z.y<=10?te.preventDefault():w.contains(te.target)||O(!1),document.removeEventListener("pointermove",Q),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",le,{capture:!0})}}},[w,O,L]),d.useEffect(()=>{const Z=()=>O(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[O]);const[U,W]=BL(Z=>{const Q=M().filter(G=>!G.disabled),le=Q.find(G=>G.ref.current===document.activeElement),te=UL(Q,Z,le);te&&setTimeout(()=>te.ref.current.focus())}),T=d.useCallback((Z,Q,le)=>{const te=!B.current&&!le;(y.value!==void 0&&y.value===Q||te)&&(E(Z),te&&(B.current=!0))},[y.value]),H=d.useCallback(()=>w==null?void 0:w.focus(),[w]),K=d.useCallback((Z,Q,le)=>{const te=!B.current&&!le;(y.value!==void 0&&y.value===Q||te)&&k(Z)},[y.value]),R=n==="popper"?Iy:CL,J=R===Iy?{side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:b}:{};return l.jsx(SL,{scope:r,content:w,viewport:_,onViewportChange:C,itemRefCallback:T,selectedItem:N,onItemLeave:H,itemTextRefCallback:K,focusSelectedItem:F,selectedItemText:P,position:n,isPositioned:D,searchRef:U,children:l.jsx(Vu,{as,allowPinchZoom:!0,children:l.jsx(Fu,{asChild:!0,trapped:y.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:ue(s,Z=>{var Q;(Q=y.trigger)==null||Q.focus({preventScroll:!0}),Z.preventDefault()}),children:l.jsx(hl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:l.jsx(R,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Z=>Z.preventDefault(),...x,...J,onPlaced:()=>I(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ue(x.onKeyDown,Z=>{const Q=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!Q&&Z.key.length===1&&W(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let te=M().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const G=Z.target,de=te.indexOf(G);te=te.slice(de+1)}setTimeout(()=>$(te)),Z.preventDefault()}})})})})})})});_L.displayName=s9;var o9="SelectItemAlignedPosition",CL=d.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=Ko(ki,r),i=Zo(ki,r),[a,c]=d.useState(null),[u,f]=d.useState(null),h=Fe(t,j=>f(j)),p=Vp(r),m=d.useRef(!1),g=d.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:x,focusSelectedItem:y}=i,w=d.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&v&&b&&x){const j=o.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),P=x.getBoundingClientRect();if(o.dir!=="rtl"){const G=P.left-N.left,de=E.left-G,Ce=j.left-de,Ae=j.width+Ce,ve=Math.max(Ae,N.width),Xe=window.innerWidth-En,Et=Ry(de,[En,Math.max(En,Xe-ve)]);a.style.minWidth=Ae+"px",a.style.left=Et+"px"}else{const G=N.right-P.right,de=window.innerWidth-E.right-G,Ce=window.innerWidth-j.right-de,Ae=j.width+Ce,ve=Math.max(Ae,N.width),Xe=window.innerWidth-En,Et=Ry(de,[En,Math.max(En,Xe-ve)]);a.style.minWidth=Ae+"px",a.style.right=Et+"px"}const k=p(),M=window.innerHeight-En*2,D=v.scrollHeight,I=window.getComputedStyle(u),B=parseInt(I.borderTopWidth,10),$=parseInt(I.paddingTop,10),F=parseInt(I.borderBottomWidth,10),O=parseInt(I.paddingBottom,10),L=B+$+D+O+F,U=Math.min(b.offsetHeight*5,L),W=window.getComputedStyle(v),T=parseInt(W.paddingTop,10),H=parseInt(W.paddingBottom,10),K=j.top+j.height/2-En,R=M-K,J=b.offsetHeight/2,Z=b.offsetTop+J,Q=B+$+Z,le=L-Q;if(Q<=K){const G=k.length>0&&b===k[k.length-1].ref.current;a.style.bottom="0px";const de=u.clientHeight-v.offsetTop-v.offsetHeight,Ce=Math.max(R,J+(G?H:0)+de+F),Ae=Q+Ce;a.style.height=Ae+"px"}else{const G=k.length>0&&b===k[0].ref.current;a.style.top="0px";const Ce=Math.max(K,B+v.offsetTop+(G?T:0)+J)+le;a.style.height=Ce+"px",v.scrollTop=Q-K+v.offsetTop}a.style.margin=`${En}px 0`,a.style.minHeight=U+"px",a.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,a,u,v,b,x,o.dir,n]);Zt(()=>w(),[w]);const[S,_]=d.useState();Zt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const C=d.useCallback(j=>{j&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return l.jsx(a9,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(_e.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});CL.displayName=o9;var i9="SelectPopperPosition",Iy=d.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=En,...o}=e,i=Hp(r);return l.jsx(Op,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Iy.displayName=i9;var[a9,Jb]=xl(ki,{}),Ay="SelectViewport",EL=d.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=Zo(Ay,r),i=Jb(Ay,r),a=Fe(t,o.onViewportChange),c=d.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Wp.Slot,{scope:r,children:l.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ue(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&h){const m=Math.abs(c.current-f.scrollTop);if(m>0){const g=window.innerHeight-En*2,v=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),x=Math.max(v,b);if(x<g){const y=x+m,w=Math.min(g,y),S=y-w;h.style.height=w+"px",h.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});EL.displayName=Ay;var jL="SelectGroup",[l9,c9]=xl(jL),u9=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=fn();return l.jsx(l9,{scope:r,id:s,children:l.jsx(_e.div,{role:"group","aria-labelledby":s,...n,ref:t})})});u9.displayName=jL;var kL="SelectLabel",NL=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=c9(kL,r);return l.jsx(_e.div,{id:s.id,...n,ref:t})});NL.displayName=kL;var _h="SelectItem",[d9,PL]=xl(_h),LL=d.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,a=Ko(_h,r),c=Zo(_h,r),u=a.value===n,[f,h]=d.useState(o??""),[p,m]=d.useState(!1),g=Fe(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,s)}),v=fn(),b=d.useRef("touch"),x=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(d9,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:d.useCallback(y=>{h(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:l.jsx(Wp.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:l.jsx(_e.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:g,onFocus:ue(i.onFocus,()=>m(!0)),onBlur:ue(i.onBlur,()=>m(!1)),onClick:ue(i.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:ue(i.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:ue(i.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:ue(i.onPointerMove,y=>{var w;b.current=y.pointerType,s?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(i.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ue(i.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(XV.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});LL.displayName=_h;var nc="SelectItemText",ML=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=Ko(nc,r),a=Zo(nc,r),c=PL(nc,r),u=t9(nc,r),[f,h]=d.useState(null),p=Fe(t,x=>h(x),c.onItemTextChange,x=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,x,c.value,c.disabled)}),m=f==null?void 0:f.textContent,g=d.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return Zt(()=>(v(g),()=>b(g)),[v,b,g]),l.jsxs(l.Fragment,{children:[l.jsx(_e.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?br.createPortal(o.children,i.valueNode):null]})});ML.displayName=nc;var DL="SelectItemIndicator",OL=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return PL(DL,r).isSelected?l.jsx(_e.span,{"aria-hidden":!0,...n,ref:t}):null});OL.displayName=DL;var $y="SelectScrollUpButton",TL=d.forwardRef((e,t)=>{const r=Zo($y,e.__scopeSelect),n=Jb($y,e.__scopeSelect),[s,o]=d.useState(!1),i=Fe(t,n.onScrollButtonChange);return Zt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(IL,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});TL.displayName=$y;var Fy="SelectScrollDownButton",RL=d.forwardRef((e,t)=>{const r=Zo(Fy,e.__scopeSelect),n=Jb(Fy,e.__scopeSelect),[s,o]=d.useState(!1),i=Fe(t,n.onScrollButtonChange);return Zt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;o(f)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(IL,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});RL.displayName=Fy;var IL=d.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=Zo("SelectScrollButton",r),i=d.useRef(null),a=Vp(r),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Zt(()=>{var f;const u=a().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),l.jsx(_e.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ue(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:ue(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:ue(s.onPointerLeave,()=>{c()})})}),f9="SelectSeparator",AL=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(_e.div,{"aria-hidden":!0,...n,ref:t})});AL.displayName=f9;var By="SelectArrow",h9=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Hp(r),o=Ko(By,r),i=Zo(By,r);return o.open&&i.position==="popper"?l.jsx(Tp,{...s,...n,ref:t}):null});h9.displayName=By;function $L(e){return e===""||e===void 0}var FL=d.forwardRef((e,t)=>{const{value:r,...n}=e,s=d.useRef(null),o=Fe(t,s),i=Xb(r);return d.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&f){const h=new Event("change",{bubbles:!0});f.call(a,r),a.dispatchEvent(h)}},[i,r]),l.jsx(Ku,{asChild:!0,children:l.jsx("select",{...n,ref:o,defaultValue:r})})});FL.displayName="BubbleSelect";function BL(e){const t=At(e),r=d.useRef(""),n=d.useRef(0),s=d.useCallback(i=>{const a=r.current+i;t(a),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=d.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function UL(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=p9(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function p9(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var m9=pL,zL=gL,g9=yL,v9=xL,y9=bL,WL=wL,x9=EL,VL=NL,HL=LL,b9=ML,w9=OL,GL=TL,qL=RL,YL=AL;const Eo=m9,jo=g9,Is=d.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(zL,{ref:n,className:pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(v9,{asChild:!0,children:l.jsx(Kk,{className:"h-4 w-4 opacity-50"})})]}));Is.displayName=zL.displayName;const KL=d.forwardRef(({className:e,...t},r)=>l.jsx(GL,{ref:r,className:pe("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(l4,{className:"h-4 w-4"})}));KL.displayName=GL.displayName;const ZL=d.forwardRef(({className:e,...t},r)=>l.jsx(qL,{ref:r,className:pe("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Kk,{className:"h-4 w-4"})}));ZL.displayName=qL.displayName;const As=d.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(y9,{children:l.jsxs(WL,{ref:s,className:pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(KL,{}),l.jsx(x9,{className:pe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(ZL,{})]})}));As.displayName=WL.displayName;const S9=d.forwardRef(({className:e,...t},r)=>l.jsx(VL,{ref:r,className:pe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));S9.displayName=VL.displayName;const $s=d.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(HL,{ref:n,className:pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(w9,{children:l.jsx(bp,{className:"h-4 w-4"})})}),l.jsx(b9,{children:t})]}));$s.displayName=HL.displayName;const _9=d.forwardRef(({className:e,...t},r)=>l.jsx(YL,{ref:r,className:pe("-mx-1 my-1 h-px bg-muted",e),...t}));_9.displayName=YL.displayName;const C9=[{value:"price_asc",label:"Price: Low to High"},{value:"price_desc",label:"Price: High to Low"},{value:"rating_desc",label:"Highest Rated"}],XL=({value:e,onValueChange:t})=>l.jsxs(Eo,{value:e,onValueChange:t,children:[l.jsx(Is,{className:"w-[180px]",children:l.jsx(jo,{placeholder:"Sort by"})}),l.jsx(As,{children:C9.map(r=>l.jsx($s,{value:r.value,children:r.label},r.value))})]}),Ve=d.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:pe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ve.displayName="Card";const ss=d.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:pe("flex flex-col space-y-1.5 p-6",e),...t}));ss.displayName="CardHeader";const os=d.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:pe("text-2xl font-semibold leading-none tracking-tight",e),...t}));os.displayName="CardTitle";const JL=d.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:pe("text-sm text-muted-foreground",e),...t}));JL.displayName="CardDescription";const Ut=d.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:pe("p-6 pt-0",e),...t}));Ut.displayName="CardContent";const QL=d.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:pe("flex items-center p-6 pt-0",e),...t}));QL.displayName="CardFooter";const E9=yp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yn({className:e,variant:t,...r}){return l.jsx("div",{className:pe(E9({variant:t}),e),...r})}const j9=({experience:e,onClick:t})=>{var u;const{title:r="Untitled Experience",images:n=[],price_per_person:s=0,host:o={name:"Unknown Host",rating:0,reviews:0},location_name:i="Location not specified",cuisine_type:a="Various"}=e||{},c=n.length>0&&((u=n[0])==null?void 0:u.url);return l.jsxs(Ve,{className:"overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:t,children:[l.jsxs("div",{className:"relative h-48 bg-gray-100",children:[c&&l.jsx("img",{src:n[0].url,alt:r,className:"w-full h-full object-cover",loading:"lazy"}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsxs(yn,{variant:"secondary",children:["$",s.toFixed(2),"/person"]})})]}),l.jsx(ss,{children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx(os,{className:"text-lg",children:r}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ls,{className:"w-4 h-4 fill-yellow-400 stroke-yellow-400"}),l.jsxs("span",{className:"text-sm",children:[o.rating.toFixed(1)," (",o.reviews,")"]})]})]})}),l.jsxs(Ut,{children:[l.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Hosted by ",o.name]}),l.jsx("p",{className:"text-sm text-gray-600",children:i}),l.jsx(yn,{variant:"outline",className:"mt-2",children:a})]})]})};let k9=class extends Y.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Error caught by boundary:",t,r)}render(){return this.state.hasError?this.props.fallback||l.jsx("div",{className:"p-4 border rounded-lg bg-red-50",children:l.jsx("h2",{className:"text-red-600",children:"Something went wrong"})}):this.props.children}};const N9=[{id:"Italian",label:"Italian",count:0},{id:"Mexican",label:"Mexican",count:0},{id:"Japanese",label:"Japanese",count:0},{id:"Indian",label:"Indian",count:0},{id:"Thai",label:"Thai",count:0},{id:"Chinese",label:"Chinese",count:0},{id:"Mediterranean",label:"Mediterranean",count:0},{id:"French",label:"French",count:0}],P9=()=>{const[e]=$k(),[t,r]=d.useState([]),[n,s]=d.useState(!0),[o,i]=d.useState("rating_desc"),[a,c]=d.useState(""),[u,f]=d.useState([]),[h,p]=d.useState(!1),[m,g]=d.useState(N9),v=Mt(),b=C=>C?C.startsWith("http")?C:C.startsWith("food-experience-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${C}`:C:"/default-food.jpg",x=async()=>{try{const j=(await kV()).map(N=>({id:N.cuisine_type,label:N.cuisine_type,count:N.count}));g(j)}catch(C){console.error("Error fetching cuisine counts:",C)}};d.useEffect(()=>{x();const C=e.get("cuisine_types");if(C){const j=C.split(",");f(j)}},[]),d.useEffect(()=>{const C={sort:o},j=e.get("zipcode");j&&(C.zipcode=j);const N=e.get("cuisine_types");N&&(C.cuisine_types=N.split(",")),a.trim()&&(C.title=a.trim()),u.length>0&&(C.cuisine_types=u),y(C)},[e,o,a,u]);const y=async(C={})=>{try{s(!0),console.log("Fetching experiences with filters:",C);const N=(await z2(C)).map(E=>({...E,images:E.images.map(P=>({...P,url:b(P.url)}))}));r(N)}catch(j){console.error("Error fetching experiences:",j)}finally{s(!1)}},w=C=>{f(j=>j.includes(C)?j.filter(N=>N!==C):[...j,C])},S=()=>{c(""),f([])},_=()=>{p(!h)};return l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Food Experiences"}),l.jsx("p",{className:"text-gray-600",children:"Discover unique culinary adventures from local hosts"})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[l.jsx("div",{className:"flex-1 w-full",children:l.jsxs("div",{className:"relative",children:[l.jsx(Re,{placeholder:"Search food experiences by title...",value:a,onChange:C=>c(C.target.value),className:"pl-10 h-12 rounded-lg border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent"}),l.jsx(ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"})]})}),l.jsx(ee,{variant:"outline",onClick:_,className:"h-12 px-4 rounded-lg md:hidden",children:l.jsx(m4,{className:"h-5 w-5"})})]})}),u.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[u.map(C=>l.jsxs(yn,{variant:"secondary",className:"px-3 py-1 rounded-full flex items-center gap-1",children:[l.jsx(Kc,{className:"h-3 w-3"}),C,l.jsx("button",{onClick:()=>w(C),className:"ml-1 text-gray-500 hover:text-gray-700",children:"×"})]},C)),l.jsx(ee,{variant:"ghost",size:"sm",onClick:S,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[l.jsxs("div",{className:`${h?"block":"hidden"} md:block w-full md:w-64 space-y-4`,children:[l.jsxs("div",{className:"flex justify-between items-center md:hidden mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Filters"}),l.jsx(ee,{variant:"ghost",size:"sm",onClick:_,children:"Close"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[l.jsx("div",{className:"mb-6",children:l.jsx("h2",{className:"text-xl font-semibold",children:"Filter Food Experiences"})}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-sm font-medium mb-2",children:"Sort By"}),l.jsx(XL,{value:o,onValueChange:C=>i(C)})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-sm font-medium mb-3",children:"Categories"}),l.jsx("div",{className:"space-y-2",children:m.map(C=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:`cuisine-${C.id}`,checked:u.includes(C.id),onChange:()=>w(C.id),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("label",{htmlFor:`cuisine-${C.id}`,className:"ml-2 text-sm text-gray-700",children:C.label})]}),l.jsxs("span",{className:"text-xs text-gray-500",children:["(",C.count,")"]})]},C.id))})]}),l.jsx(ee,{variant:"outline",size:"sm",onClick:S,className:"w-full text-sm mt-4",children:"Reset"})]})]}),l.jsx("div",{className:"flex-1",children:n?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(C=>l.jsx(k9,{children:l.jsx(j9,{experience:C,onClick:()=>v(`/food/${C.id}`)})},C.id))}):l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[l.jsx(Kc,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"No food experiences found."}),l.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your filters or search terms."})]})})]})]})})};function Uy(e,t){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Uy(e,t)}function eM(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Uy(e,t)}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ge.apply(null,arguments)}function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function L9(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M9(e){var t=L9(e,"string");return su(t)=="symbol"?t:t+""}function D9(e,t,r){return(t=M9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function W_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){D9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _r(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var V_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Dg=function(){return Math.random().toString(36).substring(7).split("").join(".")},H_={INIT:"@@redux/INIT"+Dg(),REPLACE:"@@redux/REPLACE"+Dg(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Dg()}};function O9(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function tM(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(_r(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(_r(1));return r(tM)(e,t)}if(typeof e!="function")throw new Error(_r(2));var s=e,o=t,i=[],a=i,c=!1;function u(){a===i&&(a=i.slice())}function f(){if(c)throw new Error(_r(3));return o}function h(v){if(typeof v!="function")throw new Error(_r(4));if(c)throw new Error(_r(5));var b=!0;return u(),a.push(v),function(){if(b){if(c)throw new Error(_r(6));b=!1,u();var y=a.indexOf(v);a.splice(y,1),i=null}}}function p(v){if(!O9(v))throw new Error(_r(7));if(typeof v.type>"u")throw new Error(_r(8));if(c)throw new Error(_r(9));try{c=!0,o=s(o,v)}finally{c=!1}for(var b=i=a,x=0;x<b.length;x++){var y=b[x];y()}return v}function m(v){if(typeof v!="function")throw new Error(_r(10));s=v,p({type:H_.REPLACE})}function g(){var v,b=h;return v={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(_r(11));function w(){y.next&&y.next(f())}w();var S=b(w);return{unsubscribe:S}}},v[V_]=function(){return this},v}return p({type:H_.INIT}),n={dispatch:p,subscribe:h,getState:f,replaceReducer:m},n[V_]=g,n}function G_(e,t){return function(){return t(e.apply(this,arguments))}}function q_(e,t){if(typeof e=="function")return G_(e,t);if(typeof e!="object"||e===null)throw new Error(_r(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=G_(s,t))}return r}function rM(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function T9(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),o=function(){throw new Error(_r(15))},i={getState:s.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(c){return c(i)});return o=rM.apply(void 0,a)(s.dispatch),W_(W_({},s),{},{dispatch:o})}}}var nM=Y.createContext(null);function R9(e){e()}var sM=R9,I9=function(t){return sM=t},A9=function(){return sM};function $9(){var e=A9(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var s=t;s;)s.callback(),s=s.next})},get:function(){for(var s=[],o=t;o;)s.push(o),o=o.next;return s},subscribe:function(s){var o=!0,i=r={callback:s,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!o||t===null||(o=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Y_={notify:function(){},get:function(){return[]}};function oM(e,t){var r,n=Y_;function s(h){return c(),n.subscribe(h)}function o(){n.notify()}function i(){f.onStateChange&&f.onStateChange()}function a(){return!!r}function c(){r||(r=t?t.addNestedSub(i):e.subscribe(i),n=$9())}function u(){r&&(r(),r=void 0,n.clear(),n=Y_)}var f={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:i,isSubscribed:a,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return f}var iM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?d.useLayoutEffect:d.useEffect;function F9(e){var t=e.store,r=e.context,n=e.children,s=d.useMemo(function(){var a=oM(t);return{store:t,subscription:a}},[t]),o=d.useMemo(function(){return t.getState()},[t]);iM(function(){var a=s.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==t.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[s,o]);var i=r||nM;return Y.createElement(i.Provider,{value:s},n)}function Ch(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}var aM={exports:{}},ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jt=typeof Symbol=="function"&&Symbol.for,Qb=Jt?Symbol.for("react.element"):60103,ew=Jt?Symbol.for("react.portal"):60106,Gp=Jt?Symbol.for("react.fragment"):60107,qp=Jt?Symbol.for("react.strict_mode"):60108,Yp=Jt?Symbol.for("react.profiler"):60114,Kp=Jt?Symbol.for("react.provider"):60109,Zp=Jt?Symbol.for("react.context"):60110,tw=Jt?Symbol.for("react.async_mode"):60111,Xp=Jt?Symbol.for("react.concurrent_mode"):60111,Jp=Jt?Symbol.for("react.forward_ref"):60112,Qp=Jt?Symbol.for("react.suspense"):60113,B9=Jt?Symbol.for("react.suspense_list"):60120,em=Jt?Symbol.for("react.memo"):60115,tm=Jt?Symbol.for("react.lazy"):60116,U9=Jt?Symbol.for("react.block"):60121,z9=Jt?Symbol.for("react.fundamental"):60117,W9=Jt?Symbol.for("react.responder"):60118,V9=Jt?Symbol.for("react.scope"):60119;function rn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Qb:switch(e=e.type,e){case tw:case Xp:case Gp:case Yp:case qp:case Qp:return e;default:switch(e=e&&e.$$typeof,e){case Zp:case Jp:case tm:case em:case Kp:return e;default:return t}}case ew:return t}}}function lM(e){return rn(e)===Xp}ct.AsyncMode=tw;ct.ConcurrentMode=Xp;ct.ContextConsumer=Zp;ct.ContextProvider=Kp;ct.Element=Qb;ct.ForwardRef=Jp;ct.Fragment=Gp;ct.Lazy=tm;ct.Memo=em;ct.Portal=ew;ct.Profiler=Yp;ct.StrictMode=qp;ct.Suspense=Qp;ct.isAsyncMode=function(e){return lM(e)||rn(e)===tw};ct.isConcurrentMode=lM;ct.isContextConsumer=function(e){return rn(e)===Zp};ct.isContextProvider=function(e){return rn(e)===Kp};ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qb};ct.isForwardRef=function(e){return rn(e)===Jp};ct.isFragment=function(e){return rn(e)===Gp};ct.isLazy=function(e){return rn(e)===tm};ct.isMemo=function(e){return rn(e)===em};ct.isPortal=function(e){return rn(e)===ew};ct.isProfiler=function(e){return rn(e)===Yp};ct.isStrictMode=function(e){return rn(e)===qp};ct.isSuspense=function(e){return rn(e)===Qp};ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Gp||e===Xp||e===Yp||e===qp||e===Qp||e===B9||typeof e=="object"&&e!==null&&(e.$$typeof===tm||e.$$typeof===em||e.$$typeof===Kp||e.$$typeof===Zp||e.$$typeof===Jp||e.$$typeof===z9||e.$$typeof===W9||e.$$typeof===V9||e.$$typeof===U9)};ct.typeOf=rn;aM.exports=ct;var H9=aM.exports,rw=H9,G9={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},q9={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Y9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nw={};nw[rw.ForwardRef]=Y9;nw[rw.Memo]=cM;function K_(e){return rw.isMemo(e)?cM:nw[e.$$typeof]||G9}var K9=Object.defineProperty,Z9=Object.getOwnPropertyNames,Z_=Object.getOwnPropertySymbols,X9=Object.getOwnPropertyDescriptor,J9=Object.getPrototypeOf,X_=Object.prototype;function uM(e,t,r){if(typeof t!="string"){if(X_){var n=J9(t);n&&n!==X_&&uM(e,n,r)}var s=Z9(t);Z_&&(s=s.concat(Z_(t)));for(var o=K_(e),i=K_(t),a=0;a<s.length;++a){var c=s[a];if(!q9[c]&&!(r&&r[c])&&!(i&&i[c])&&!(o&&o[c])){var u=X9(t,c);try{K9(e,c,u)}catch{}}}}return e}var Q9=uM;const J_=cx(Q9);var dM={exports:{}},dt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=60103,nm=60106,Xu=60107,Ju=60108,Qu=60114,ed=60109,td=60110,rd=60112,nd=60113,sw=60120,sd=60115,od=60116,fM=60121,hM=60122,pM=60117,mM=60129,gM=60131;if(typeof Symbol=="function"&&Symbol.for){var Qt=Symbol.for;rm=Qt("react.element"),nm=Qt("react.portal"),Xu=Qt("react.fragment"),Ju=Qt("react.strict_mode"),Qu=Qt("react.profiler"),ed=Qt("react.provider"),td=Qt("react.context"),rd=Qt("react.forward_ref"),nd=Qt("react.suspense"),sw=Qt("react.suspense_list"),sd=Qt("react.memo"),od=Qt("react.lazy"),fM=Qt("react.block"),hM=Qt("react.server.block"),pM=Qt("react.fundamental"),mM=Qt("react.debug_trace_mode"),gM=Qt("react.legacy_hidden")}function Hn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rm:switch(e=e.type,e){case Xu:case Qu:case Ju:case nd:case sw:return e;default:switch(e=e&&e.$$typeof,e){case td:case rd:case od:case sd:case ed:return e;default:return t}}case nm:return t}}}var e7=ed,t7=rm,r7=rd,n7=Xu,s7=od,o7=sd,i7=nm,a7=Qu,l7=Ju,c7=nd;dt.ContextConsumer=td;dt.ContextProvider=e7;dt.Element=t7;dt.ForwardRef=r7;dt.Fragment=n7;dt.Lazy=s7;dt.Memo=o7;dt.Portal=i7;dt.Profiler=a7;dt.StrictMode=l7;dt.Suspense=c7;dt.isAsyncMode=function(){return!1};dt.isConcurrentMode=function(){return!1};dt.isContextConsumer=function(e){return Hn(e)===td};dt.isContextProvider=function(e){return Hn(e)===ed};dt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rm};dt.isForwardRef=function(e){return Hn(e)===rd};dt.isFragment=function(e){return Hn(e)===Xu};dt.isLazy=function(e){return Hn(e)===od};dt.isMemo=function(e){return Hn(e)===sd};dt.isPortal=function(e){return Hn(e)===nm};dt.isProfiler=function(e){return Hn(e)===Qu};dt.isStrictMode=function(e){return Hn(e)===Ju};dt.isSuspense=function(e){return Hn(e)===nd};dt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xu||e===Qu||e===mM||e===Ju||e===nd||e===sw||e===gM||typeof e=="object"&&e!==null&&(e.$$typeof===od||e.$$typeof===sd||e.$$typeof===ed||e.$$typeof===td||e.$$typeof===rd||e.$$typeof===pM||e.$$typeof===fM||e[0]===hM)};dt.typeOf=Hn;dM.exports=dt;var u7=dM.exports,d7=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],f7=["reactReduxForwardedRef"],h7=[],p7=[null,null];function m7(e,t){var r=e[1];return[t.payload,r+1]}function Q_(e,t,r){iM(function(){return e.apply(void 0,t)},r)}function g7(e,t,r,n,s,o,i){e.current=n,t.current=s,r.current=!1,o.current&&(o.current=null,i())}function v7(e,t,r,n,s,o,i,a,c,u){if(e){var f=!1,h=null,p=function(){if(!f){var v=t.getState(),b,x;try{b=n(v,s.current)}catch(y){x=y,h=y}x||(h=null),b===o.current?i.current||c():(o.current=b,a.current=b,i.current=!0,u({type:"STORE_UPDATED",payload:{error:x}}))}};r.onStateChange=p,r.trySubscribe(),p();var m=function(){if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,h)throw h};return m}}var y7=function(){return[null,0]};function x7(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,s=n===void 0?function(w){return"ConnectAdvanced("+w+")"}:n,o=r.methodName,i=o===void 0?"connectAdvanced":o,a=r.renderCountProp,c=a===void 0?void 0:a,u=r.shouldHandleStateChanges,f=u===void 0?!0:u,h=r.storeKey,p=h===void 0?"store":h;r.withRef;var m=r.forwardRef,g=m===void 0?!1:m,v=r.context,b=v===void 0?nM:v,x=Ch(r,d7),y=b;return function(S){var _=S.displayName||S.name||"Component",C=s(_),j=ge({},x,{getDisplayName:s,methodName:i,renderCountProp:c,shouldHandleStateChanges:f,storeKey:p,displayName:C,wrappedComponentName:_,WrappedComponent:S}),N=x.pure;function E(I){return e(I.dispatch,j)}var P=N?d.useMemo:function(I){return I()};function k(I){var B=d.useMemo(function(){var z=I.reactReduxForwardedRef,q=Ch(I,f7);return[I.context,z,q]},[I]),$=B[0],F=B[1],O=B[2],L=d.useMemo(function(){return $&&$.Consumer&&u7.isContextConsumer(Y.createElement($.Consumer,null))?$:y},[$,y]),U=d.useContext(L),W=!!I.store&&!!I.store.getState&&!!I.store.dispatch;U&&U.store;var T=W?I.store:U.store,H=d.useMemo(function(){return E(T)},[T]),K=d.useMemo(function(){if(!f)return p7;var z=oM(T,W?null:U.subscription),q=z.notifyNestedSubs.bind(z);return[z,q]},[T,W,U]),R=K[0],J=K[1],Z=d.useMemo(function(){return W?U:ge({},U,{subscription:R})},[W,U,R]),Q=d.useReducer(m7,h7,y7),le=Q[0],te=le[0],G=Q[1];if(te&&te.error)throw te.error;var de=d.useRef(),Ce=d.useRef(O),Ae=d.useRef(),ve=d.useRef(!1),Xe=P(function(){return Ae.current&&O===Ce.current?Ae.current:H(T.getState(),O)},[T,te,O]);Q_(g7,[Ce,de,ve,O,Xe,Ae,J]),Q_(v7,[f,T,R,H,Ce,de,ve,Ae,J,G],[T,R,H]);var Et=d.useMemo(function(){return Y.createElement(S,ge({},Xe,{ref:F}))},[F,S,Xe]),A=d.useMemo(function(){return f?Y.createElement(L.Provider,{value:Z},Et):Et},[L,Et,Z]);return A}var M=N?Y.memo(k):k;if(M.WrappedComponent=S,M.displayName=k.displayName=C,g){var D=Y.forwardRef(function(B,$){return Y.createElement(M,ge({},B,{reactReduxForwardedRef:$}))});return D.displayName=C,D.WrappedComponent=S,J_(D,S)}return J_(M,S)}}function eC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Og(e,t){if(eC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!eC(e[r[s]],t[r[s]]))return!1;return!0}function b7(e,t){var r={},n=function(i){var a=e[i];typeof a=="function"&&(r[i]=function(){return t(a.apply(void 0,arguments))})};for(var s in e)n(s);return r}function ow(e){return function(r,n){var s=e(r,n);function o(){return s}return o.dependsOnOwnProps=!1,o}}function tC(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function vM(e,t){return function(n,s){s.displayName;var o=function(a,c){return o.dependsOnOwnProps?o.mapToProps(a,c):o.mapToProps(a)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,c){o.mapToProps=e,o.dependsOnOwnProps=tC(e);var u=o(a,c);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=tC(u),u=o(a,c)),u},o}}function w7(e){return typeof e=="function"?vM(e):void 0}function S7(e){return e?void 0:ow(function(t){return{dispatch:t}})}function _7(e){return e&&typeof e=="object"?ow(function(t){return b7(e,t)}):void 0}const C7=[w7,S7,_7];function E7(e){return typeof e=="function"?vM(e):void 0}function j7(e){return e?void 0:ow(function(){return{}})}const k7=[E7,j7];function N7(e,t,r){return ge({},r,e,t)}function P7(e){return function(r,n){n.displayName;var s=n.pure,o=n.areMergedPropsEqual,i=!1,a;return function(u,f,h){var p=e(u,f,h);return i?(!s||!o(p,a))&&(a=p):(i=!0,a=p),a}}}function L7(e){return typeof e=="function"?P7(e):void 0}function M7(e){return e?void 0:function(){return N7}}const D7=[L7,M7];var O7=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function T7(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function R7(e,t,r,n,s){var o=s.areStatesEqual,i=s.areOwnPropsEqual,a=s.areStatePropsEqual,c=!1,u,f,h,p,m;function g(w,S){return u=w,f=S,h=e(u,f),p=t(n,f),m=r(h,p,f),c=!0,m}function v(){return h=e(u,f),t.dependsOnOwnProps&&(p=t(n,f)),m=r(h,p,f),m}function b(){return e.dependsOnOwnProps&&(h=e(u,f)),t.dependsOnOwnProps&&(p=t(n,f)),m=r(h,p,f),m}function x(){var w=e(u,f),S=!a(w,h);return h=w,S&&(m=r(h,p,f)),m}function y(w,S){var _=!i(S,f),C=!o(w,u,S,f);return u=w,f=S,_&&C?v():_?b():C?x():m}return function(S,_){return c?y(S,_):g(S,_)}}function I7(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,s=t.initMergeProps,o=Ch(t,O7),i=r(e,o),a=n(e,o),c=s(e,o),u=o.pure?R7:T7;return u(i,a,c,e,o)}var A7=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Tg(e,t,r){for(var n=t.length-1;n>=0;n--){var s=t[n](e);if(s)return s}return function(o,i){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+i.wrappedComponentName+".")}}function $7(e,t){return e===t}function F7(e){var t={},r=t.connectHOC,n=r===void 0?x7:r,s=t.mapStateToPropsFactories,o=s===void 0?k7:s,i=t.mapDispatchToPropsFactories,a=i===void 0?C7:i,c=t.mergePropsFactories,u=c===void 0?D7:c,f=t.selectorFactory,h=f===void 0?I7:f;return function(m,g,v,b){b===void 0&&(b={});var x=b,y=x.pure,w=y===void 0?!0:y,S=x.areStatesEqual,_=S===void 0?$7:S,C=x.areOwnPropsEqual,j=C===void 0?Og:C,N=x.areStatePropsEqual,E=N===void 0?Og:N,P=x.areMergedPropsEqual,k=P===void 0?Og:P,M=Ch(x,A7),D=Tg(m,o,"mapStateToProps"),I=Tg(g,a,"mapDispatchToProps"),B=Tg(v,u,"mergeProps");return n(h,ge({methodName:"connect",getDisplayName:function(F){return"Connect("+F+")"},shouldHandleStateChanges:!!m,initMapStateToProps:D,initMapDispatchToProps:I,initMergeProps:B,pure:w,areStatesEqual:_,areOwnPropsEqual:j,areStatePropsEqual:E,areMergedPropsEqual:k},M))}}const yM=F7();I9(br.unstable_batchedUpdates);function B7(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function xM(e,t){var r=d.useState(function(){return{inputs:t,result:e()}})[0],n=d.useRef(!0),s=d.useRef(r),o=n.current||!!(t&&s.current.inputs&&B7(t,s.current.inputs)),i=o?s.current:{inputs:t,result:e()};return d.useEffect(function(){n.current=!1,s.current=i},[i]),i.result}function U7(e,t){return xM(function(){return e},t)}var Ge=xM,we=U7,z7="Invariant failed";function W7(e,t){throw new Error(z7)}var Dn=function(t){var r=t.top,n=t.right,s=t.bottom,o=t.left,i=n-o,a=s-r,c={top:r,right:n,bottom:s,left:o,width:i,height:a,x:o,y:r,center:{x:(n+o)/2,y:(s+r)/2}};return c},iw=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},rC=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},V7=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Rg={top:0,right:0,bottom:0,left:0},aw=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?Rg:n,o=t.border,i=o===void 0?Rg:o,a=t.padding,c=a===void 0?Rg:a,u=Dn(iw(r,s)),f=Dn(rC(r,i)),h=Dn(rC(f,c));return{marginBox:u,borderBox:Dn(r),paddingBox:f,contentBox:h,margin:s,border:i,padding:c}},nn=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&W7(),s},H7=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Eh=function(t,r){var n=t.borderBox,s=t.border,o=t.margin,i=t.padding,a=V7(n,r);return aw({borderBox:a,border:s,margin:o,padding:i})},jh=function(t,r){return r===void 0&&(r=H7()),Eh(t,r)},bM=function(t,r){var n={top:nn(r.marginTop),right:nn(r.marginRight),bottom:nn(r.marginBottom),left:nn(r.marginLeft)},s={top:nn(r.paddingTop),right:nn(r.paddingRight),bottom:nn(r.paddingBottom),left:nn(r.paddingLeft)},o={top:nn(r.borderTopWidth),right:nn(r.borderRightWidth),bottom:nn(r.borderBottomWidth),left:nn(r.borderLeftWidth)};return aw({borderBox:t,margin:n,padding:s,border:o})},wM=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return bM(r,n)},nC=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function G7(e,t){return!!(e===t||nC(e)&&nC(t))}function q7(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!G7(e[r],t[r]))return!1;return!0}function Kt(e,t){t===void 0&&(t=q7);var r,n=[],s,o=!1;function i(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return o&&r===this&&t(a,n)||(s=e.apply(this,a),o=!0,r=this,n=a),s}return i}var ou=function(t){var r=[],n=null,s=function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];r=a,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};function SM(e,t){}SM.bind(null,"warn");SM.bind(null,"error");function ko(){}function Y7(e,t){return ge({},e,{},t)}function un(e,t,r){var n=t.map(function(s){var o=Y7(r,s.options);return e.addEventListener(s.eventName,s.fn,o),function(){e.removeEventListener(s.eventName,s.fn,o)}});return function(){n.forEach(function(o){o()})}}var K7="Invariant failed";function kh(e){this.message=e}kh.prototype.toString=function(){return this.message};function ae(e,t){throw new kh(K7)}var Z7=function(e){eM(t,e);function t(){for(var n,s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,n.callbacks=null,n.unbind=ko,n.onWindowError=function(a){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=a.error;u instanceof kh&&a.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(a){n.callbacks=a},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=un(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(s){if(s instanceof kh){this.setState({});return}throw s},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(Y.Component),X7=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Nh=function(t){return t+1},J7=function(t){return`
  You have lifted an item in position `+Nh(t.source.index)+`
`},_M=function(t,r){var n=t.droppableId===r.droppableId,s=Nh(t.index),o=Nh(r.index);return n?`
      You have moved the item from position `+s+`
      to position `+o+`
    `:`
    You have moved the item from position `+s+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+o+`
  `},CM=function(t,r,n){var s=r.droppableId===n.droppableId;return s?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Q7=function(t){var r=t.destination;if(r)return _M(t.source,r);var n=t.combine;return n?CM(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},sC=function(t){return`
  The item has returned to its starting position
  of `+Nh(t.index)+`
`},eH=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+sC(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+_M(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+CM(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+sC(t.source)+`
  `},jf={dragHandleUsageInstructions:X7,onDragStart:J7,onDragUpdate:Q7,onDragEnd:eH},Xt={x:0,y:0},tr=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},qr=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},No=function(t,r){return t.x===r.x&&t.y===r.y},bl=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Ni=function(t,r,n){var s;return n===void 0&&(n=0),s={},s[t]=r,s[t==="x"?"y":"x"]=n,s},iu=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},oC=function(t,r){return Math.min.apply(Math,r.map(function(n){return iu(t,n)}))},EM=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},tH=function(e,t){var r=Dn({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},id=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},iC=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},rH={top:0,right:0,bottom:0,left:0},nH=function(t,r){return r?id(t,r.scroll.diff.displacement):t},sH=function(t,r,n){if(n&&n.increasedBy){var s;return ge({},t,(s={},s[r.end]=t[r.end]+n.increasedBy[r.line],s))}return t},oH=function(t,r){return r&&r.shouldClipSubject?tH(r.pageMarginBox,t):Dn(t)},Ka=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,s=e.frame,o=nH(t.marginBox,s),i=sH(o,n,r),a=oH(i,s);return{page:t,withPlaceholder:r,active:a}},lw=function(e,t){e.frame||ae();var r=e.frame,n=qr(t,r.scroll.initial),s=bl(n),o=ge({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}}),i=Ka({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o}),a=ge({},e,{frame:o,subject:i});return a};function Ph(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function cw(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Xo(e,t){if(e.find)return e.find(t);var r=cw(e,t);if(r!==-1)return e[r]}function jM(e){return Array.prototype.slice.call(e)}var kM=Kt(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),NM=Kt(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),sm=Kt(function(e){return Ph(e)}),iH=Kt(function(e){return Ph(e)}),wl=Kt(function(e,t){var r=iH(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,s){return n.descriptor.index-s.descriptor.index});return r});function uw(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function om(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var im=Kt(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),aH=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.insideDestination,o=e.previousImpact;if(!n.isCombineEnabled)return null;var i=uw(o);if(!i)return null;function a(v){var b={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return ge({},o,{at:b})}var c=o.displaced.all,u=c.length?c[0]:null;if(t)return u?a(u):null;var f=im(r,s);if(!u){if(!f.length)return null;var h=f[f.length-1];return a(h.descriptor.id)}var p=cw(f,function(v){return v.descriptor.id===u});p===-1&&ae();var m=p-1;if(m<0)return null;var g=f[m];return a(g.descriptor.id)},Sl=function(e,t){return e.descriptor.droppableId===t.descriptor.id},PM={point:Xt,value:0},au={invisible:{},visible:{},all:[]},lH={displaced:au,displacedBy:PM,at:null},pn=function(e,t){return function(r){return e<=r&&r<=t}},LM=function(e){var t=pn(e.top,e.bottom),r=pn(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(s)return!0;var o=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right),a=o&&i;if(a)return!0;var c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,f=c&&u;if(f)return!0;var h=c&&i||u&&o;return h}},cH=function(e){var t=pn(e.top,e.bottom),r=pn(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return s}},dw={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},MM={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},uH=function(e){return function(t){var r=pn(t.top,t.bottom),n=pn(t.left,t.right);return function(s){return e===dw?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)}}},dH=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:Xt;return id(t,n)},fH=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},hH=function(t,r,n){return n(r)(t)},fw=function(t){var r=t.target,n=t.destination,s=t.viewport,o=t.withDroppableDisplacement,i=t.isVisibleThroughFrameFn,a=o?dH(r,n):r;return fH(a,n,i)&&hH(a,s,i)},pH=function(t){return fw(ge({},t,{isVisibleThroughFrameFn:LM}))},DM=function(t){return fw(ge({},t,{isVisibleThroughFrameFn:cH}))},mH=function(t){return fw(ge({},t,{isVisibleThroughFrameFn:uH(t.destination.axis)}))},gH=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var s=r.invisible,o=r.visible;if(s[t])return!1;var i=o[t];return i?i.shouldAnimate:!0};function vH(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Dn(iw(r,n))}function lu(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,s=e.viewport,o=e.forceShouldAnimate,i=e.last;return t.reduce(function(c,u){var f=vH(u,n),h=u.descriptor.id;c.all.push(h);var p=pH({target:f,destination:r,viewport:s,withDroppableDisplacement:!0});if(!p)return c.invisible[u.descriptor.id]=!0,c;var m=gH(h,i,o),g={draggableId:h,shouldAnimate:m};return c.visible[h]=g,c},{all:[],visible:{},invisible:{}})}function yH(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function aC(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,s=e.destination,o=yH(t,{inHomeList:r});return{displaced:au,displacedBy:n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function Lh(e){var t=e.draggable,r=e.insideDestination,n=e.destination,s=e.viewport,o=e.displacedBy,i=e.last,a=e.index,c=e.forceShouldAnimate,u=Sl(t,n);if(a==null)return aC({insideDestination:r,inHomeList:u,displacedBy:o,destination:n});var f=Xo(r,function(v){return v.descriptor.index===a});if(!f)return aC({insideDestination:r,inHomeList:u,displacedBy:o,destination:n});var h=im(t,r),p=r.indexOf(f),m=h.slice(p),g=lu({afterDragging:m,destination:n,displacedBy:o,last:i,viewport:s.frame,forceShouldAnimate:c});return{displaced:g,displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function $o(e,t){return!!t.effected[e]}var xH=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,s=e.combine,o=e.afterCritical;if(!r.isCombineEnabled)return null;var i=s.draggableId,a=n[i],c=a.descriptor.index,u=$o(i,o);return u?t?c:c-1:t?c+1:c},bH=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,s=e.location;if(!n.length)return null;var o=s.index,i=t?o+1:o-1,a=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=r?c:c+1;return i<a||i>u?null:i},wH=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,s=e.draggables,o=e.destination,i=e.insideDestination,a=e.previousImpact,c=e.viewport,u=e.afterCritical,f=a.at;if(f||ae(),f.type==="REORDER"){var h=bH({isMovingForward:t,isInHomeList:r,location:f.destination,insideDestination:i});return h==null?null:Lh({draggable:n,insideDestination:i,destination:o,viewport:c,last:a.displaced,displacedBy:a.displacedBy,index:h})}var p=xH({isMovingForward:t,destination:o,displaced:a.displaced,draggables:s,combine:f.combine,afterCritical:u});return p==null?null:Lh({draggable:n,insideDestination:i,destination:o,viewport:c,last:a.displaced,displacedBy:a.displacedBy,index:p})},SH=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,s=e.displacedBy,o=!!(t.visible[n]||t.invisible[n]);return $o(n,r)?o?Xt:bl(s.point):o?s.point:Xt},_H=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,s=om(r);s||ae();var o=s.draggableId,i=n[o].page.borderBox.center,a=SH({displaced:r.displaced,afterCritical:t,combineWith:o,displacedBy:r.displacedBy});return tr(i,a)},OM=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},CH=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},hw=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},lC=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return Ni(r.line,n.marginBox[r.end]+OM(r,s),hw(r,n.marginBox,s))},cC=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return Ni(r.line,n.marginBox[r.start]-CH(r,s),hw(r,n.marginBox,s))},EH=function(t){var r=t.axis,n=t.moveInto,s=t.isMoving;return Ni(r.line,n.contentBox[r.start]+OM(r,s),hw(r,n.contentBox,s))},jH=function(e){var t=e.impact,r=e.draggable,n=e.draggables,s=e.droppable,o=e.afterCritical,i=wl(s.descriptor.id,n),a=r.page,c=s.axis;if(!i.length)return EH({axis:c,moveInto:s.page,isMoving:a});var u=t.displaced,f=t.displacedBy,h=u.all[0];if(h){var p=n[h];if($o(h,o))return cC({axis:c,moveRelativeTo:p.page,isMoving:a});var m=Eh(p.page,f.point);return cC({axis:c,moveRelativeTo:m,isMoving:a})}var g=i[i.length-1];if(g.descriptor.id===r.descriptor.id)return a.borderBox.center;if($o(g.descriptor.id,o)){var v=Eh(g.page,bl(o.displacedBy.point));return lC({axis:c,moveRelativeTo:v,isMoving:a})}return lC({axis:c,moveRelativeTo:g.page,isMoving:a})},zy=function(e,t){var r=e.frame;return r?tr(t,r.scroll.diff.displacement):t},kH=function(t){var r=t.impact,n=t.draggable,s=t.droppable,o=t.draggables,i=t.afterCritical,a=n.page.borderBox.center,c=r.at;return!s||!c?a:c.type==="REORDER"?jH({impact:r,draggable:n,draggables:o,droppable:s,afterCritical:i}):_H({impact:r,draggables:o,afterCritical:i})},am=function(e){var t=kH(e),r=e.droppable,n=r?zy(r,t):t;return n},TM=function(e,t){var r=qr(t,e.scroll.initial),n=bl(r),s=Dn({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),o={frame:s,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return o};function uC(e,t){return e.map(function(r){return t[r]})}function NH(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var PH=function(e){var t=e.impact,r=e.viewport,n=e.destination,s=e.draggables,o=e.maxScrollChange,i=TM(r,tr(r.scroll.current,o)),a=n.frame?lw(n,tr(n.frame.scroll.current,o)):n,c=t.displaced,u=lu({afterDragging:uC(c.all,s),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:c,forceShouldAnimate:!1}),f=lu({afterDragging:uC(c.all,s),destination:a,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),h={},p={},m=[c,u,f];c.all.forEach(function(v){var b=NH(v,m);if(b){p[v]=b;return}h[v]=!0});var g=ge({},t,{displaced:{all:c.all,invisible:h,visible:p}});return g},LH=function(e,t){return tr(e.scroll.diff.displacement,t)},pw=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,s=LH(n,t),o=qr(s,r.page.borderBox.center);return tr(r.client.borderBox.center,o)},RM=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,s=e.viewport,o=e.withDroppableDisplacement,i=e.onlyOnMainAxis,a=i===void 0?!1:i,c=qr(n,t.page.borderBox.center),u=id(t.page.borderBox,c),f={target:u,destination:r,withDroppableDisplacement:o,viewport:s};return a?mH(f):DM(f)},MH=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.draggables,o=e.previousImpact,i=e.viewport,a=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var f=wl(n.descriptor.id,s),h=Sl(r,n),p=aH({isMovingForward:t,draggable:r,destination:n,insideDestination:f,previousImpact:o})||wH({isMovingForward:t,isInHomeList:h,draggable:r,draggables:s,destination:n,insideDestination:f,previousImpact:o,viewport:i,afterCritical:u});if(!p)return null;var m=am({impact:p,draggable:r,droppable:n,draggables:s,afterCritical:u}),g=RM({draggable:r,destination:n,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var v=pw({pageBorderBoxCenter:m,draggable:r,viewport:i});return{clientSelection:v,impact:p,scrollJumpRequest:null}}var b=qr(m,a),x=PH({impact:p,viewport:i,destination:n,draggables:s,maxScrollChange:b});return{clientSelection:c,impact:x,scrollJumpRequest:b}},fr=function(t){var r=t.subject.active;return r||ae(),r},DH=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,s=e.droppables,o=e.viewport,i=n.subject.active;if(!i)return null;var a=n.axis,c=pn(i[a.start],i[a.end]),u=sm(s).filter(function(h){return h!==n}).filter(function(h){return h.isEnabled}).filter(function(h){return!!h.subject.active}).filter(function(h){return LM(o.frame)(fr(h))}).filter(function(h){var p=fr(h);return t?i[a.crossAxisEnd]<p[a.crossAxisEnd]:p[a.crossAxisStart]<i[a.crossAxisStart]}).filter(function(h){var p=fr(h),m=pn(p[a.start],p[a.end]);return c(p[a.start])||c(p[a.end])||m(i[a.start])||m(i[a.end])}).sort(function(h,p){var m=fr(h)[a.crossAxisStart],g=fr(p)[a.crossAxisStart];return t?m-g:g-m}).filter(function(h,p,m){return fr(h)[a.crossAxisStart]===fr(m[0])[a.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var f=u.filter(function(h){var p=pn(fr(h)[a.start],fr(h)[a.end]);return p(r[a.line])});return f.length===1?f[0]:f.length>1?f.sort(function(h,p){return fr(h)[a.start]-fr(p)[a.start]})[0]:u.sort(function(h,p){var m=oC(r,iC(fr(h))),g=oC(r,iC(fr(p)));return m!==g?m-g:fr(h)[a.start]-fr(p)[a.start]})[0]},dC=function(t,r){var n=t.page.borderBox.center;return $o(t.descriptor.id,r)?qr(n,r.displacedBy.point):n},OH=function(t,r){var n=t.page.borderBox;return $o(t.descriptor.id,r)?id(n,bl(r.displacedBy.point)):n},TH=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,s=e.insideDestination,o=e.afterCritical,i=s.filter(function(a){return DM({target:OH(a,o),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(a,c){var u=iu(t,zy(n,dC(a,o))),f=iu(t,zy(n,dC(c,o)));return u<f?-1:f<u?1:a.descriptor.index-c.descriptor.index});return i[0]||null},ad=Kt(function(t,r){var n=r[t.line];return{value:n,point:Ni(t.line,n)}}),RH=function(t,r,n){var s=t.axis;if(t.descriptor.mode==="virtual")return Ni(s.line,r[s.line]);var o=t.subject.page.contentBox[s.size],i=wl(t.descriptor.id,n),a=i.reduce(function(f,h){return f+h.client.marginBox[s.size]},0),c=a+r[s.line],u=c-o;return u<=0?null:Ni(s.line,u)},IM=function(t,r){return ge({},t,{scroll:ge({},t.scroll,{max:r})})},AM=function(t,r,n){var s=t.frame;Sl(r,t)&&ae(),t.subject.withPlaceholder&&ae();var o=ad(t.axis,r.displaceBy).point,i=RH(t,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){var c=Ka({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:t.frame});return ge({},t,{subject:c})}var u=i?tr(s.scroll.max,i):s.scroll.max,f=IM(s,u),h=Ka({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:f});return ge({},t,{subject:h,frame:f})},IH=function(t){var r=t.subject.withPlaceholder;r||ae();var n=t.frame;if(!n){var s=Ka({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return ge({},t,{subject:s})}var o=r.oldFrameMaxScroll;o||ae();var i=IM(n,o),a=Ka({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return ge({},t,{subject:a,frame:i})},AH=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,s=e.draggable,o=e.draggables,i=e.destination,a=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:au,displacedBy:PM,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},f=am({impact:u,draggable:s,droppable:i,draggables:o,afterCritical:c}),h=Sl(s,i)?i:AM(i,s,o),p=RM({draggable:s,destination:h,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?u:null}var m=t[i.axis.line]<=r.page.borderBox.center[i.axis.line],g=function(){var b=r.descriptor.index;return r.descriptor.id===s.descriptor.id||m?b:b+1}(),v=ad(i.axis,s.displaceBy);return Lh({draggable:s,insideDestination:n,destination:i,viewport:a,displacedBy:v,last:au,index:g})},$H=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,s=e.isOver,o=e.draggables,i=e.droppables,a=e.viewport,c=e.afterCritical,u=DH({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:i,viewport:a});if(!u)return null;var f=wl(u.descriptor.id,o),h=TH({pageBorderBoxCenter:r,viewport:a,destination:u,insideDestination:f,afterCritical:c}),p=AH({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:o,moveRelativeTo:h,insideDestination:f,viewport:a,afterCritical:c});if(!p)return null;var m=am({impact:p,draggable:n,droppable:u,draggables:o,afterCritical:c}),g=pw({pageBorderBoxCenter:m,draggable:n,viewport:a});return{clientSelection:g,impact:p,scrollJumpRequest:null}},Zr=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},FH=function(t,r){var n=Zr(t);return n?r[n]:null},BH=function(e){var t=e.state,r=e.type,n=FH(t.impact,t.dimensions.droppables),s=!!n,o=t.dimensions.droppables[t.critical.droppable.id],i=n||o,a=i.axis.direction,c=a==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||a==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!s)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",f=t.dimensions.draggables[t.critical.draggable.id],h=t.current.page.borderBoxCenter,p=t.dimensions,m=p.draggables,g=p.droppables;return c?MH({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:f,destination:i,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):$H({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:f,isOver:i,draggables:m,droppables:g,viewport:t.viewport,afterCritical:t.afterCritical})};function li(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function $M(e){var t=pn(e.top,e.bottom),r=pn(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function UH(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function zH(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,s=r.page.borderBox.center,o=n.map(function(i){var a=i.axis,c=Ni(i.axis.line,t.center[a.line],i.page.borderBox.center[a.crossAxisLine]);return{id:i.descriptor.id,distance:iu(s,c)}}).sort(function(i,a){return a.distance-i.distance});return o[0]?o[0].id:null}function WH(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,s=sm(n).filter(function(o){if(!o.isEnabled)return!1;var i=o.subject.active;if(!i||!UH(t,i))return!1;if($M(i)(t.center))return!0;var a=o.axis,c=i.center[a.crossAxisLine],u=t[a.crossAxisStart],f=t[a.crossAxisEnd],h=pn(i[a.crossAxisStart],i[a.crossAxisEnd]),p=h(u),m=h(f);return!p&&!m?!0:p?u<c:f>c});return s.length?s.length===1?s[0].descriptor.id:zH({pageBorderBox:t,draggable:r,candidates:s}):null}var FM=function(t,r){return Dn(id(t,r))},VH=function(e,t){var r=e.frame;return r?FM(t,r.scroll.diff.value):t};function BM(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function HH(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var GH=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,s=e.insideDestination,o=e.last,i=e.viewport,a=e.afterCritical,c=n.axis,u=ad(n.axis,r.displaceBy),f=u.value,h=t[c.start],p=t[c.end],m=im(r,s),g=Xo(m,function(b){var x=b.descriptor.id,y=b.page.borderBox.center[c.line],w=$o(x,a),S=BM({displaced:o,id:x});return w?S?p<=y:h<y-f:S?p<=y+f:h<y}),v=HH({draggable:r,closest:g,inHomeList:Sl(r,n)});return Lh({draggable:r,insideDestination:s,destination:n,viewport:i,last:o,displacedBy:u,index:v})},qH=4,YH=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,s=e.destination,o=e.insideDestination,i=e.afterCritical;if(!s.isCombineEnabled)return null;var a=s.axis,c=ad(s.axis,t.displaceBy),u=c.value,f=r[a.start],h=r[a.end],p=im(t,o),m=Xo(p,function(v){var b=v.descriptor.id,x=v.page.borderBox,y=x[a.size],w=y/qH,S=$o(b,i),_=BM({displaced:n.displaced,id:b});return S?_?h>x[a.start]+w&&h<x[a.end]-w:f>x[a.start]-u+w&&f<x[a.end]-u-w:_?h>x[a.start]+u+w&&h<x[a.end]+u-w:f>x[a.start]+w&&f<x[a.end]-w});if(!m)return null;var g={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:s.descriptor.id}}};return g},UM=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,s=e.droppables,o=e.previousImpact,i=e.viewport,a=e.afterCritical,c=FM(r.page.borderBox,t),u=WH({pageBorderBox:c,draggable:r,droppables:s});if(!u)return lH;var f=s[u],h=wl(f.descriptor.id,n),p=VH(f,c);return YH({pageBorderBoxWithDroppableScroll:p,draggable:r,previousImpact:o,destination:f,insideDestination:h,afterCritical:a})||GH({pageBorderBoxWithDroppableScroll:p,draggable:r,destination:f,insideDestination:h,last:o.displaced,viewport:i,afterCritical:a})},mw=function(e,t){var r;return ge({},e,(r={},r[t.descriptor.id]=t,r))},KH=function(t){var r=t.previousImpact,n=t.impact,s=t.droppables,o=Zr(r),i=Zr(n);if(!o||o===i)return s;var a=s[o];if(!a.subject.withPlaceholder)return s;var c=IH(a);return mw(s,c)},ZH=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,s=e.previousImpact,o=e.impact,i=KH({previousImpact:s,impact:o,droppables:n}),a=Zr(o);if(!a)return i;var c=n[a];if(Sl(t,c)||c.subject.withPlaceholder)return i;var u=AM(c,t,r);return mw(i,u)},_c=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,s=e.viewport,o=e.impact,i=e.scrollJumpRequest,a=s||t.viewport,c=n||t.dimensions,u=r||t.current.client.selection,f=qr(u,t.initial.client.selection),h={offset:f,selection:u,borderBoxCenter:tr(t.initial.client.borderBoxCenter,f)},p={selection:tr(h.selection,a.scroll.current),borderBoxCenter:tr(h.borderBoxCenter,a.scroll.current),offset:tr(h.offset,a.scroll.diff.value)},m={client:h,page:p};if(t.phase==="COLLECTING")return ge({phase:"COLLECTING"},t,{dimensions:c,viewport:a,current:m});var g=c.draggables[t.critical.draggable.id],v=o||UM({pageOffset:p.offset,draggable:g,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:a,afterCritical:t.afterCritical}),b=ZH({draggable:g,impact:v,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),x=ge({},t,{current:m,dimensions:{draggables:c.draggables,droppables:b},impact:v,viewport:a,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null});return x};function XH(e,t){return e.map(function(r){return t[r]})}var zM=function(e){var t=e.impact,r=e.viewport,n=e.draggables,s=e.destination,o=e.forceShouldAnimate,i=t.displaced,a=XH(i.all,n),c=lu({afterDragging:a,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:o,last:i});return ge({},t,{displaced:c})},WM=function(e){var t=e.impact,r=e.draggable,n=e.droppable,s=e.draggables,o=e.viewport,i=e.afterCritical,a=am({impact:t,draggable:r,draggables:s,droppable:n,afterCritical:i});return pw({pageBorderBoxCenter:a,draggable:r,viewport:o})},VM=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&ae();var s=t.impact,o=n||t.viewport,i=r||t.dimensions,a=i.draggables,c=i.droppables,u=a[t.critical.draggable.id],f=Zr(s);f||ae();var h=c[f],p=zM({impact:s,viewport:o,destination:h,draggables:a}),m=WM({impact:p,draggable:u,droppable:h,draggables:a,viewport:o,afterCritical:t.afterCritical});return _c({impact:p,clientSelection:m,state:t,dimensions:i,viewport:o})},JH=function(e){return{index:e.index,droppableId:e.droppableId}},HM=function(e){var t=e.draggable,r=e.home,n=e.draggables,s=e.viewport,o=ad(r.axis,t.displaceBy),i=wl(r.descriptor.id,n),a=i.indexOf(t);a===-1&&ae();var c=i.slice(a+1),u=c.reduce(function(m,g){return m[g.descriptor.id]=!0,m},{}),f={inVirtualList:r.descriptor.mode==="virtual",displacedBy:o,effected:u},h=lu({afterDragging:c,destination:r,displacedBy:o,last:null,viewport:s.frame,forceShouldAnimate:!1}),p={displaced:h,displacedBy:o,at:{type:"REORDER",destination:JH(t.descriptor)}};return{impact:p,afterCritical:f}},QH=function(e,t){return{draggables:e.draggables,droppables:mw(e.droppables,t)}},eG=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,s=Eh(t.client,r),o=jh(s,n),i=ge({},t,{placeholder:ge({},t.placeholder,{client:s}),client:s,page:o});return i},tG=function(e){var t=e.frame;return t||ae(),t},rG=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,s=n.scroll.diff.value;return t.map(function(o){var i=o.descriptor.droppableId,a=r[i],c=tG(a),u=c.scroll.diff.value,f=tr(s,u),h=eG({draggable:o,offset:f,initialWindowScroll:n.scroll.initial});return h})},nG=function(e){var t=e.state,r=e.published,n=r.modified.map(function(w){var S=t.dimensions.droppables[w.droppableId],_=lw(S,w.scroll);return _}),s=ge({},t.dimensions.droppables,{},kM(n)),o=NM(rG({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),i=ge({},t.dimensions.draggables,{},o);r.removals.forEach(function(w){delete i[w]});var a={droppables:s,draggables:i},c=Zr(t.impact),u=c?a.droppables[c]:null,f=a.draggables[t.critical.draggable.id],h=a.droppables[t.critical.droppable.id],p=HM({draggable:f,home:h,draggables:i,viewport:t.viewport}),m=p.impact,g=p.afterCritical,v=u&&u.isCombineEnabled?t.impact:m,b=UM({pageOffset:t.current.page.offset,draggable:a.draggables[t.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:v,viewport:t.viewport,afterCritical:g}),x=ge({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:m,dimensions:a,afterCritical:g,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return x;var y=ge({phase:"DROP_PENDING"},x,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return y},Wy=function(t){return t.movementMode==="SNAP"},Ig=function(t,r,n){var s=QH(t.dimensions,r);return!Wy(t)||n?_c({state:t,dimensions:s}):VM({state:t,dimensions:s})};function Ag(e){return e.isDragging&&e.movementMode==="SNAP"?ge({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var fC={phase:"IDLE",completed:null,shouldFlush:!1},sG=function(e,t){if(e===void 0&&(e=fC),t.type==="FLUSH")return ge({},fC,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&ae();var r=t.payload,n=r.critical,s=r.clientSelection,o=r.viewport,i=r.dimensions,a=r.movementMode,c=i.draggables[n.draggable.id],u=i.droppables[n.droppable.id],f={selection:s,borderBoxCenter:c.client.borderBox.center,offset:Xt},h={client:f,page:{selection:tr(f.selection,o.scroll.initial),borderBoxCenter:tr(f.selection,o.scroll.initial),offset:tr(f.selection,o.scroll.diff.value)}},p=sm(i.droppables).every(function(G){return!G.isFixedOnPage}),m=HM({draggable:c,home:u,draggables:i.draggables,viewport:o}),g=m.impact,v=m.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:i,initial:h,current:h,isWindowScrollAllowed:p,impact:g,afterCritical:v,onLiftImpact:g,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ae();var x=ge({phase:"COLLECTING"},e,{phase:"COLLECTING"});return x}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||ae(),nG({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;li(e)||ae();var y=t.payload.client;return No(y,e.current.client.selection)?e:_c({state:e,clientSelection:y,impact:Wy(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ag(e);li(e)||ae();var w=t.payload,S=w.id,_=w.newScroll,C=e.dimensions.droppables[S];if(!C)return e;var j=lw(C,_);return Ig(e,j,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;li(e)||ae();var N=t.payload,E=N.id,P=N.isEnabled,k=e.dimensions.droppables[E];k||ae(),k.isEnabled===P&&ae();var M=ge({},k,{isEnabled:P});return Ig(e,M,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;li(e)||ae();var D=t.payload,I=D.id,B=D.isCombineEnabled,$=e.dimensions.droppables[I];$||ae(),$.isCombineEnabled===B&&ae();var F=ge({},$,{isCombineEnabled:B});return Ig(e,F,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;li(e)||ae(),e.isWindowScrollAllowed||ae();var O=t.payload.newScroll;if(No(e.viewport.scroll.current,O))return Ag(e);var L=TM(e.viewport,O);return Wy(e)?VM({state:e,viewport:L}):_c({state:e,viewport:L})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!li(e))return e;var U=t.payload.maxScroll;if(No(U,e.viewport.scroll.max))return e;var W=ge({},e.viewport,{scroll:ge({},e.viewport.scroll,{max:U})});return ge({phase:"DRAGGING"},e,{viewport:W})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ae();var T=BH({state:e,type:t.type});return T?_c({state:e,impact:T.impact,clientSelection:T.clientSelection,scrollJumpRequest:T.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var H=t.payload.reason;e.phase!=="COLLECTING"&&ae();var K=ge({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:H});return K}if(t.type==="DROP_ANIMATE"){var R=t.payload,J=R.completed,Z=R.dropDuration,Q=R.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||ae();var le={phase:"DROP_ANIMATING",completed:J,dropDuration:Z,newHomeClientOffset:Q,dimensions:e.dimensions};return le}if(t.type==="DROP_COMPLETE"){var te=t.payload.completed;return{phase:"IDLE",completed:te,shouldFlush:!1}}return e},oG=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},iG=function(t){return{type:"LIFT",payload:t}},aG=function(t){return{type:"INITIAL_PUBLISH",payload:t}},lG=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},cG=function(){return{type:"COLLECTION_STARTING",payload:null}},uG=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},dG=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},fG=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},GM=function(t){return{type:"MOVE",payload:t}},hG=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},pG=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},mG=function(){return{type:"MOVE_UP",payload:null}},gG=function(){return{type:"MOVE_DOWN",payload:null}},vG=function(){return{type:"MOVE_RIGHT",payload:null}},yG=function(){return{type:"MOVE_LEFT",payload:null}},gw=function(){return{type:"FLUSH",payload:null}},xG=function(t){return{type:"DROP_ANIMATE",payload:t}},vw=function(t){return{type:"DROP_COMPLETE",payload:t}},qM=function(t){return{type:"DROP",payload:t}},bG=function(t){return{type:"DROP_PENDING",payload:t}},YM=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},wG=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(s){return function(o){if(o.type!=="LIFT"){s(o);return}var i=o.payload,a=i.id,c=i.clientSelection,u=i.movementMode,f=r();f.phase==="DROP_ANIMATING"&&n(vw({completed:f.completed})),r().phase!=="IDLE"&&ae(),n(gw()),n(oG({draggableId:a,movementMode:u}));var h={shouldPublishImmediately:u==="SNAP"},p={draggableId:a,scrollOptions:h},m=e.startPublishing(p),g=m.critical,v=m.dimensions,b=m.viewport;n(aG({critical:g,dimensions:v,clientSelection:c,movementMode:u,viewport:b}))}}}},SG=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},yw={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},cu={opacity:{drop:0,combining:.7},scale:{drop:.75}},xw={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ni=xw.outOfTheWay+"s "+yw.outOfTheWay,Cc={fluid:"opacity "+ni,snap:"transform "+ni+", opacity "+ni,drop:function(t){var r=t+"s "+yw.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+ni,placeholder:"height "+ni+", width "+ni+", margin "+ni},hC=function(t){return No(t,Xt)?null:"translate("+t.x+"px, "+t.y+"px)"},Vy={moveTo:hC,drop:function(t,r){var n=hC(t);return n?r?n+" scale("+cu.scale.drop+")":n:null}},Hy=xw.minDropTime,KM=xw.maxDropTime,_G=KM-Hy,pC=1500,CG=.6,EG=function(e){var t=e.current,r=e.destination,n=e.reason,s=iu(t,r);if(s<=0)return Hy;if(s>=pC)return KM;var o=s/pC,i=Hy+_G*o,a=n==="CANCEL"?i*CG:i;return Number(a.toFixed(2))},jG=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,s=e.viewport,o=e.afterCritical,i=n.draggables,a=n.droppables,c=Zr(t),u=c?a[c]:null,f=a[r.descriptor.droppableId],h=WM({impact:t,draggable:r,draggables:i,afterCritical:o,droppable:u||f,viewport:s}),p=qr(h,r.client.borderBox.center);return p},kG=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,s=e.home,o=e.viewport,i=e.onLiftImpact;if(!n.at||r!=="DROP"){var a=zM({draggables:t,impact:i,destination:s,viewport:o,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=ge({},n,{displaced:au});return{impact:c,didDropInsideDroppable:!0}},NG=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(s){if(s.type!=="DROP"){n(s);return}var o=t(),i=s.payload.reason;if(o.phase==="COLLECTING"){r(bG({reason:i}));return}if(o.phase!=="IDLE"){var a=o.phase==="DROP_PENDING"&&o.isWaiting;a&&ae(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||ae();var c=o.critical,u=o.dimensions,f=u.draggables[o.critical.draggable.id],h=kG({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),p=h.impact,m=h.didDropInsideDroppable,g=m?uw(p):null,v=m?om(p):null,b={index:c.draggable.index,droppableId:c.droppable.id},x={draggableId:f.descriptor.id,type:f.descriptor.type,source:b,reason:i,mode:o.movementMode,destination:g,combine:v},y=jG({impact:p,draggable:f,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),w={critical:o.critical,afterCritical:o.afterCritical,result:x,impact:p},S=!No(o.current.client.offset,y)||!!x.combine;if(!S){r(vw({completed:w}));return}var _=EG({current:o.current.client.offset,destination:y,reason:i}),C={newHomeClientOffset:y,dropDuration:_,completed:w};r(xG(C))}}}},ZM=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function PG(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function LG(e){var t=e.onWindowScroll;function r(){t(ZM())}var n=ou(r),s=PG(n),o=ko;function i(){return o!==ko}function a(){i()&&ae(),o=un(window,[s])}function c(){i()||ae(),n.cancel(),o(),o=ko}return{start:a,stop:c,isActive:i}}var MG=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},DG=function(e){var t=LG({onWindowScroll:function(n){e.dispatch(hG({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&MG(n)&&t.stop(),r(n)}}},OG=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),s=function(i){t||r||(t=!0,e(i),clearTimeout(n))};return s.wasCalled=function(){return t},s},TG=function(){var e=[],t=function(o){var i=cw(e,function(u){return u.timerId===o});i===-1&&ae();var a=e.splice(i,1),c=a[0];c.callback()},r=function(o){var i=setTimeout(function(){return t(i)}),a={timerId:i,callback:o};e.push(a)},n=function(){if(e.length){var o=[].concat(e);e.length=0,o.forEach(function(i){clearTimeout(i.timerId),i.callback()})}};return{add:r,flush:n}},RG=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},IG=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},AG=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&s},Hl=function(t,r){r()},Qd=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},$g=function(t,r,n,s){if(!t){n(s(r));return}var o=OG(n),i={announce:o};t(r,i),o.wasCalled()||n(s(r))},$G=function(e,t){var r=TG(),n=null,s=function(p,m){n&&ae(),Hl("onBeforeCapture",function(){var g=e().onBeforeCapture;if(g){var v={draggableId:p,mode:m};g(v)}})},o=function(p,m){n&&ae(),Hl("onBeforeDragStart",function(){var g=e().onBeforeDragStart;g&&g(Qd(p,m))})},i=function(p,m){n&&ae();var g=Qd(p,m);n={mode:m,lastCritical:p,lastLocation:g.source,lastCombine:null},r.add(function(){Hl("onDragStart",function(){return $g(e().onDragStart,g,t,jf.onDragStart)})})},a=function(p,m){var g=uw(m),v=om(m);n||ae();var b=!AG(p,n.lastCritical);b&&(n.lastCritical=p);var x=!RG(n.lastLocation,g);x&&(n.lastLocation=g);var y=!IG(n.lastCombine,v);if(y&&(n.lastCombine=v),!(!b&&!x&&!y)){var w=ge({},Qd(p,n.mode),{combine:v,destination:g});r.add(function(){Hl("onDragUpdate",function(){return $g(e().onDragUpdate,w,t,jf.onDragUpdate)})})}},c=function(){n||ae(),r.flush()},u=function(p){n||ae(),n=null,Hl("onDragEnd",function(){return $g(e().onDragEnd,p,t,jf.onDragEnd)})},f=function(){if(n){var p=ge({},Qd(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(p)}};return{beforeCapture:s,beforeStart:o,start:i,update:a,flush:c,drop:u,abort:f}},FG=function(e,t){var r=$G(e,t);return function(n){return function(s){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var i=o.payload.critical;r.beforeStart(i,o.payload.movementMode),s(o),r.start(i,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var a=o.payload.completed.result;r.flush(),s(o),r.drop(a);return}if(s(o),o.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},BG=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&ae(),e.dispatch(vw({completed:n.completed}))}}},UG=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(s){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&n(),s(o),o.type==="DROP_ANIMATE"){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(YM())}};r=requestAnimationFrame(function(){r=null,t=un(window,[i])})}}}},zG=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},WG=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},VG=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},HG=function(e){return function(t){return function(r){return function(n){if(VG(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var s=t.getState();s.phase!=="DRAGGING"&&ae(),e.start(s);return}r(n),e.scroll(t.getState())}}}},GG=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(qM({reason:n.reason})))}}}},qG=rM,YG=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,s=e.getResponders,o=e.announce,i=e.autoScroller;return tM(sG,qG(T9(SG(n),zG(t),wG(t),NG,BG,UG,GG,HG(i),DG,WG(r),FG(s,o))))},Fg=function(){return{additions:{},removals:{},modified:{}}};function KG(e){var t=e.registry,r=e.callbacks,n=Fg(),s=null,o=function(){s||(r.collectionStarting(),s=requestAnimationFrame(function(){s=null;var f=n,h=f.additions,p=f.removals,m=f.modified,g=Object.keys(h).map(function(x){return t.draggable.getById(x).getDimension(Xt)}).sort(function(x,y){return x.descriptor.index-y.descriptor.index}),v=Object.keys(m).map(function(x){var y=t.droppable.getById(x),w=y.callbacks.getScrollWhileDragging();return{droppableId:x,scroll:w}}),b={additions:g,removals:Object.keys(p),modified:v};n=Fg(),r.publish(b)}))},i=function(f){var h=f.descriptor.id;n.additions[h]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[h]&&delete n.removals[h],o()},a=function(f){var h=f.descriptor;n.removals[h.id]=!0,n.modified[h.droppableId]=!0,n.additions[h.id]&&delete n.additions[h.id],o()},c=function(){s&&(cancelAnimationFrame(s),s=null,n=Fg())};return{add:i,remove:a,stop:c}}var XM=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,s=e.width,o=qr({x:r,y:t},{x:s,y:n}),i={x:Math.max(0,o.x),y:Math.max(0,o.y)};return i},JM=function(){var e=document.documentElement;return e||ae(),e},QM=function(){var e=JM(),t=XM({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},ZG=function(){var e=ZM(),t=QM(),r=e.y,n=e.x,s=JM(),o=s.clientWidth,i=s.clientHeight,a=n+o,c=r+i,u=Dn({top:r,left:n,right:a,bottom:c}),f={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:Xt,displacement:Xt}}};return f},XG=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,s=ZG(),o=s.scroll.current,i=t.droppable,a=n.droppable.getAllByType(i.type).map(function(h){return h.callbacks.getDimensionAndWatchScroll(o,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(h){return h.getDimension(o)}),u={draggables:NM(c),droppables:kM(a)},f={dimensions:u,critical:t,viewport:s};return f};function mC(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var JG=function(e,t){var r=null,n=KG({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=function(m,g){e.droppable.exists(m)||ae(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:g})},o=function(m,g){r&&(e.droppable.exists(m)||ae(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:g}))},i=function(m,g){r&&(e.droppable.exists(m)||ae(),t.updateDroppableScroll({id:m,newScroll:g}))},a=function(m,g){r&&e.droppable.getById(m).callbacks.scroll(g)},c=function(){if(r){n.stop();var m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(g){return g.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(m){r||ae();var g=r.critical.draggable;m.type==="ADDITION"&&mC(e,g,m.value)&&n.add(m.value),m.type==="REMOVAL"&&mC(e,g,m.value)&&n.remove(m.value)},f=function(m){r&&ae();var g=e.draggable.getById(m.draggableId),v=e.droppable.getById(g.descriptor.droppableId),b={draggable:g.descriptor,droppable:v.descriptor},x=e.subscribe(u);return r={critical:b,unsubscribe:x},XG({critical:b,registry:e,scrollOptions:m.scrollOptions})},h={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:i,startPublishing:f,stopPublishing:c};return h},eD=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},QG=function(e){window.scrollBy(e.x,e.y)},eq=Kt(function(e){return sm(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),tq=function(t,r){var n=Xo(eq(r),function(s){return s.frame||ae(),$M(s.frame.pageMarginBox)(t)});return n},rq=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var s=n[r];return s.frame?s:null}var o=tq(t,n);return o},Po={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},nq=function(e,t){var r=e[t.size]*Po.startFromPercentage,n=e[t.size]*Po.maxScrollAtPercentage,s={startScrollingFrom:r,maxScrollValueAt:n};return s},tD=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,s=r-t;if(s===0)return 0;var o=n-t,i=o/s;return i},bw=1,sq=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Po.maxPixelScroll;if(e===t.startScrollingFrom)return bw;var r=tD({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,s=Po.maxPixelScroll*Po.ease(n);return Math.ceil(s)},gC=Po.durationDampening.accelerateAt,vC=Po.durationDampening.stopDampeningAt,oq=function(e,t){var r=t,n=vC,s=Date.now(),o=s-r;if(o>=vC)return e;if(o<gC)return bw;var i=tD({startOfRange:gC,endOfRange:n,current:o}),a=e*Po.ease(i);return Math.ceil(a)},yC=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,s=e.shouldUseTimeDampening,o=sq(t,r);return o===0?0:s?Math.max(oq(o,n),bw):o},xC=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,s=e.axis,o=e.shouldUseTimeDampening,i=nq(t,s),a=r[s.end]<r[s.start];return a?yC({distanceToEdge:r[s.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o}):-1*yC({distanceToEdge:r[s.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o})},iq=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,s=r.height>t.height,o=r.width>t.width;return!o&&!s?n:o&&s?null:{x:o?0:n.x,y:s?0:n.y}},aq=EM(function(e){return e===0?0:e}),rD=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,s=e.center,o=e.shouldUseTimeDampening,i={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},a=xC({container:r,distanceToEdges:i,dragStartTime:t,axis:dw,shouldUseTimeDampening:o}),c=xC({container:r,distanceToEdges:i,dragStartTime:t,axis:MM,shouldUseTimeDampening:o}),u=aq({x:c,y:a});if(No(u,Xt))return null;var f=iq({container:r,subject:n,proposedScroll:u});return f?No(f,Xt)?null:f:null},lq=EM(function(e){return e===0?0:e>0?1:-1}),ww=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,s=t.change,o=tr(r,s),i={x:e(o.x,n.x),y:e(o.y,n.y)};return No(i,Xt)?null:i}}(),nD=function(t){var r=t.max,n=t.current,s=t.change,o={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},i=lq(s),a=ww({max:o,current:n,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},Sw=function(t,r){return nD({current:t.scroll.current,max:t.scroll.max,change:r})},cq=function(t,r){if(!Sw(t,r))return null;var n=t.scroll.max,s=t.scroll.current;return ww({current:s,max:n,change:r})},_w=function(t,r){var n=t.frame;return n?nD({current:n.scroll.current,max:n.scroll.max,change:r}):!1},uq=function(t,r){var n=t.frame;return!n||!_w(t,r)?null:ww({current:n.scroll.current,max:n.scroll.max,change:r})},dq=function(e){var t=e.viewport,r=e.subject,n=e.center,s=e.dragStartTime,o=e.shouldUseTimeDampening,i=rD({dragStartTime:s,container:t.frame,subject:r,center:n,shouldUseTimeDampening:o});return i&&Sw(t,i)?i:null},fq=function(e){var t=e.droppable,r=e.subject,n=e.center,s=e.dragStartTime,o=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var a=rD({dragStartTime:s,container:i.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:o});return a&&_w(t,a)?a:null},bC=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,s=e.scrollWindow,o=e.scrollDroppable,i=t.current.page.borderBoxCenter,a=t.dimensions.draggables[t.critical.draggable.id],c=a.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,f=dq({dragStartTime:r,viewport:u,subject:c,center:i,shouldUseTimeDampening:n});if(f){s(f);return}}var h=rq({center:i,destination:Zr(t.impact),droppables:t.dimensions.droppables});if(h){var p=fq({dragStartTime:r,droppable:h,subject:c,center:i,shouldUseTimeDampening:n});p&&o(h.descriptor.id,p)}},hq=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=ou(t),s=ou(r),o=null,i=function(f){o||ae();var h=o,p=h.shouldUseTimeDampening,m=h.dragStartTime;bC({state:f,scrollWindow:n,scrollDroppable:s,dragStartTime:m,shouldUseTimeDampening:p})},a=function(f){o&&ae();var h=Date.now(),p=!1,m=function(){p=!0};bC({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),o={dragStartTime:h,shouldUseTimeDampening:p},p&&i(f)},c=function(){o&&(n.cancel(),s.cancel(),o=null)};return{start:a,stop:c,scroll:i}},pq=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,s=function(u,f){var h=tr(u.current.client.selection,f);t({client:h})},o=function(u,f){if(!_w(u,f))return f;var h=uq(u,f);if(!h)return r(u.descriptor.id,f),null;var p=qr(f,h);r(u.descriptor.id,p);var m=qr(f,p);return m},i=function(u,f,h){if(!u||!Sw(f,h))return h;var p=cq(f,h);if(!p)return n(h),null;var m=qr(h,p);n(m);var g=qr(h,m);return g},a=function(u){var f=u.scrollJumpRequest;if(f){var h=Zr(u.impact);h||ae();var p=o(u.dimensions.droppables[h],f);if(p){var m=u.viewport,g=i(u.isWindowScrollAllowed,m,p);g&&s(u,g)}}};return a},mq=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,s=hq({scrollWindow:r,scrollDroppable:t}),o=pq({move:n,scrollWindow:r,scrollDroppable:t}),i=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){s.scroll(u);return}u.scrollJumpRequest&&o(u)}},a={scroll:i,start:s.start,stop:s.stop};return a},Za="data-rbd",Xa=function(){var e=Za+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Gy=function(){var e=Za+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),gq=function(){var e=Za+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),wC={contextId:Za+"-scroll-container-context-id"},vq=function(t){return function(r){return"["+r+'="'+t+'"]'}},Gl=function(t,r){return t.map(function(n){var s=n.styles[r];return s?n.selector+" { "+s+" }":""}).join(" ")},yq="pointer-events: none;",xq=function(e){var t=vq(e),r=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Xa.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:yq,dropAnimating:a}}}(),n=function(){var a=`
      transition: `+Cc.outOfTheWay+`;
    `;return{selector:t(Gy.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),s={selector:t(gq.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},i=[n,r,s,o];return{always:Gl(i,"always"),resting:Gl(i,"resting"),dragging:Gl(i,"dragging"),dropAnimating:Gl(i,"dropAnimating"),userCancel:Gl(i,"userCancel")}},Xr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?d.useLayoutEffect:d.useEffect,Bg=function(){var t=document.querySelector("head");return t||ae(),t},SC=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function bq(e,t){var r=Ge(function(){return xq(e)},[e]),n=d.useRef(null),s=d.useRef(null),o=we(Kt(function(h){var p=s.current;p||ae(),p.textContent=h}),[]),i=we(function(h){var p=n.current;p||ae(),p.textContent=h},[]);Xr(function(){!n.current&&!s.current||ae();var h=SC(t),p=SC(t);return n.current=h,s.current=p,h.setAttribute(Za+"-always",e),p.setAttribute(Za+"-dynamic",e),Bg().appendChild(h),Bg().appendChild(p),i(r.always),o(r.resting),function(){var m=function(v){var b=v.current;b||ae(),Bg().removeChild(b),v.current=null};m(n),m(s)}},[t,i,o,r.always,r.resting,e]);var a=we(function(){return o(r.dragging)},[o,r.dragging]),c=we(function(h){if(h==="DROP"){o(r.dropAnimating);return}o(r.userCancel)},[o,r.dropAnimating,r.userCancel]),u=we(function(){s.current&&o(r.resting)},[o,r.resting]),f=Ge(function(){return{dragging:a,dropping:c,resting:u}},[a,c,u]);return f}var sD=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function lm(e){return e instanceof sD(e).HTMLElement}function wq(e,t){var r="["+Xa.contextId+'="'+e+'"]',n=jM(document.querySelectorAll(r));if(!n.length)return null;var s=Xo(n,function(o){return o.getAttribute(Xa.draggableId)===t});return!s||!lm(s)?null:s}function Sq(e){var t=d.useRef({}),r=d.useRef(null),n=d.useRef(null),s=d.useRef(!1),o=we(function(p,m){var g={id:p,focus:m};return t.current[p]=g,function(){var b=t.current,x=b[p];x!==g&&delete b[p]}},[]),i=we(function(p){var m=wq(e,p);m&&m!==document.activeElement&&m.focus()},[e]),a=we(function(p,m){r.current===p&&(r.current=m)},[]),c=we(function(){n.current||s.current&&(n.current=requestAnimationFrame(function(){n.current=null;var p=r.current;p&&i(p)}))},[i]),u=we(function(p){r.current=null;var m=document.activeElement;m&&m.getAttribute(Xa.draggableId)===p&&(r.current=p)},[]);Xr(function(){return s.current=!0,function(){s.current=!1;var p=n.current;p&&cancelAnimationFrame(p)}},[]);var f=Ge(function(){return{register:o,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:a}},[o,u,c,a]);return f}function _q(){var e={draggables:{},droppables:{}},t=[];function r(h){return t.push(h),function(){var m=t.indexOf(h);m!==-1&&t.splice(m,1)}}function n(h){t.length&&t.forEach(function(p){return p(h)})}function s(h){return e.draggables[h]||null}function o(h){var p=s(h);return p||ae(),p}var i={register:function(p){e.draggables[p.descriptor.id]=p,n({type:"ADDITION",value:p})},update:function(p,m){var g=e.draggables[m.descriptor.id];g&&g.uniqueId===p.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var m=p.descriptor.id,g=s(m);g&&p.uniqueId===g.uniqueId&&(delete e.draggables[m],n({type:"REMOVAL",value:p}))},getById:o,findById:s,exists:function(p){return!!s(p)},getAllByType:function(p){return Ph(e.draggables).filter(function(m){return m.descriptor.type===p})}};function a(h){return e.droppables[h]||null}function c(h){var p=a(h);return p||ae(),p}var u={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var m=a(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete e.droppables[p.descriptor.id]},getById:c,findById:a,exists:function(p){return!!a(p)},getAllByType:function(p){return Ph(e.droppables).filter(function(m){return m.descriptor.type===p})}};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:u,subscribe:r,clean:f}}function Cq(){var e=Ge(_q,[]);return d.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Cw=Y.createContext(null),Mh=function(){var e=document.body;return e||ae(),e},Eq={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},jq=function(t){return"rbd-announcement-"+t};function kq(e){var t=Ge(function(){return jq(e)},[e]),r=d.useRef(null);d.useEffect(function(){var o=document.createElement("div");return r.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),ge(o.style,Eq),Mh().appendChild(o),function(){setTimeout(function(){var c=Mh();c.contains(o)&&c.removeChild(o),o===r.current&&(r.current=null)})}},[t]);var n=we(function(s){var o=r.current;if(o){o.textContent=s;return}},[]);return n}var Nq=0,Pq={separator:"::"};function Ew(e,t){return t===void 0&&(t=Pq),Ge(function(){return""+e+t.separator+Nq++},[t.separator,e])}function Lq(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function Mq(e){var t=e.contextId,r=e.text,n=Ew("hidden-text",{separator:"-"}),s=Ge(function(){return Lq({contextId:t,uniqueId:n})},[n,t]);return d.useEffect(function(){var i=document.createElement("div");return i.id=s,i.textContent=r,i.style.display="none",Mh().appendChild(i),function(){var c=Mh();c.contains(i)&&c.removeChild(i)}},[s,r]),s}var cm=Y.createContext(null);function oD(e){var t=d.useRef(e);return d.useEffect(function(){t.current=e}),t}function Dq(){var e=null;function t(){return!!e}function r(i){return i===e}function n(i){e&&ae();var a={abandon:i};return e=a,a}function s(){e||ae(),e=null}function o(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:o}}var Oq=9,Tq=13,jw=27,iD=32,Rq=33,Iq=34,Aq=35,$q=36,Fq=37,Bq=38,Uq=39,zq=40,ef,Wq=(ef={},ef[Tq]=!0,ef[Oq]=!0,ef),aD=function(e){Wq[e.keyCode]&&e.preventDefault()},um=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=Xo(t,function(n){return"on"+n in document});return r||e}(),lD=0,_C=5;function Vq(e,t){return Math.abs(t.x-e.x)>=_C||Math.abs(t.y-e.y)>=_C}var CC={type:"IDLE"};function Hq(e){var t=e.cancel,r=e.completed,n=e.getPhase,s=e.setPhase;return[{eventName:"mousemove",fn:function(i){var a=i.button,c=i.clientX,u=i.clientY;if(a===lD){var f={x:c,y:u},h=n();if(h.type==="DRAGGING"){i.preventDefault(),h.actions.move(f);return}h.type!=="PENDING"&&ae();var p=h.point;if(Vq(p,f)){i.preventDefault();var m=h.actions.fluidLift(f);s({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(i){var a=n();if(a.type!=="DRAGGING"){t();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(i){n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:function(i){var a=n();if(a.type==="PENDING"){t();return}if(i.keyCode===jw){i.preventDefault(),t();return}aD(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(i){var a=n();if(a.type==="IDLE"&&ae(),a.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:um,fn:t}]}function Gq(e){var t=d.useRef(CC),r=d.useRef(ko),n=Ge(function(){return{eventName:"mousedown",fn:function(h){if(!h.defaultPrevented&&h.button===lD&&!(h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)){var p=e.findClosestDraggableId(h);if(p){var m=e.tryGetLock(p,i,{sourceEvent:h});if(m){h.preventDefault();var g={x:h.clientX,y:h.clientY};r.current(),u(m,g)}}}}}},[e]),s=Ge(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(h){if(!h.defaultPrevented){var p=e.findClosestDraggableId(h);if(p){var m=e.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}}}},[e]),o=we(function(){var h={passive:!1,capture:!0};r.current=un(window,[s,n],h)},[s,n]),i=we(function(){var f=t.current;f.type!=="IDLE"&&(t.current=CC,r.current(),o())},[o]),a=we(function(){var f=t.current;i(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[i]),c=we(function(){var h={capture:!0,passive:!1},p=Hq({cancel:a,completed:i,getPhase:function(){return t.current},setPhase:function(g){t.current=g}});r.current=un(window,p,h)},[a,i]),u=we(function(h,p){t.current.type!=="IDLE"&&ae(),t.current={type:"PENDING",point:p,actions:h},c()},[c]);Xr(function(){return o(),function(){r.current()}},[o])}var ea;function qq(){}var Yq=(ea={},ea[Iq]=!0,ea[Rq]=!0,ea[$q]=!0,ea[Aq]=!0,ea);function Kq(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===jw){o.preventDefault(),r();return}if(o.keyCode===iD){o.preventDefault(),n();return}if(o.keyCode===zq){o.preventDefault(),e.moveDown();return}if(o.keyCode===Bq){o.preventDefault(),e.moveUp();return}if(o.keyCode===Uq){o.preventDefault(),e.moveRight();return}if(o.keyCode===Fq){o.preventDefault(),e.moveLeft();return}if(Yq[o.keyCode]){o.preventDefault();return}aD(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:um,fn:r}]}function Zq(e){var t=d.useRef(qq),r=Ge(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==iD)return;var i=e.findClosestDraggableId(o);if(!i)return;var a=e.tryGetLock(i,f,{sourceEvent:o});if(!a)return;o.preventDefault();var c=!0,u=a.snapLift();t.current();function f(){c||ae(),c=!1,t.current(),n()}t.current=un(window,Kq(u,f),{capture:!0,passive:!1})}}},[e]),n=we(function(){var o={passive:!1,capture:!0};t.current=un(window,[r],o)},[r]);Xr(function(){return n(),function(){t.current()}},[n])}var Ug={type:"IDLE"},Xq=120,Jq=.15;function Qq(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(r().type!=="DRAGGING"){t();return}s.keyCode===jw&&s.preventDefault(),t()}},{eventName:um,fn:t}]}function eY(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;var a=o.touches[0],c=a.clientX,u=a.clientY,f={x:c,y:u};o.preventDefault(),i.actions.move(f)}},{eventName:"touchend",fn:function(o){var i=n();if(i.type!=="DRAGGING"){t();return}o.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(o){if(n().type!=="DRAGGING"){t();return}o.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(o){var i=n();i.type==="IDLE"&&ae();var a=o.touches[0];if(a){var c=a.force>=Jq;if(c){var u=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){u&&t();return}if(u){if(i.hasMoved){o.preventDefault();return}t();return}o.preventDefault()}}}},{eventName:um,fn:t}]}function tY(e){var t=d.useRef(Ug),r=d.useRef(ko),n=we(function(){return t.current},[]),s=we(function(m){t.current=m},[]),o=Ge(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var g=e.findClosestDraggableId(m);if(g){var v=e.tryGetLock(g,a,{sourceEvent:m});if(v){var b=m.touches[0],x=b.clientX,y=b.clientY,w={x,y};r.current(),h(v,w)}}}}}},[e]),i=we(function(){var m={capture:!0,passive:!1};r.current=un(window,[o],m)},[o]),a=we(function(){var p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),s(Ug),r.current(),i())},[i,s]),c=we(function(){var p=t.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),u=we(function(){var m={capture:!0,passive:!1},g={cancel:c,completed:a,getPhase:n},v=un(window,eY(g),m),b=un(window,Qq(g),m);r.current=function(){v(),b()}},[c,n,a]),f=we(function(){var m=n();m.type!=="PENDING"&&ae();var g=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:g,hasMoved:!1})},[n,s]),h=we(function(m,g){n().type!=="IDLE"&&ae();var v=setTimeout(f,Xq);s({type:"PENDING",point:g,actions:m,longPressTimerId:v}),u()},[u,n,s,f]);Xr(function(){return i(),function(){r.current();var g=n();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),s(Ug))}},[n,i,s]),Xr(function(){var m=un(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var rY={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function cD(e,t){if(t==null)return!1;var r=!!rY[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:cD(e,t.parentElement)}function nY(e,t){var r=t.target;return lm(r)?cD(e,r):!1}var sY=function(e){return Dn(e.getBoundingClientRect()).center};function oY(e){return e instanceof sD(e).Element}var iY=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=Xo(t,function(n){return n in Element.prototype});return r||e}();function uD(e,t){return e==null?null:e[iY](t)?e:uD(e.parentElement,t)}function aY(e,t){return e.closest?e.closest(t):uD(e,t)}function lY(e){return"["+Xa.contextId+'="'+e+'"]'}function cY(e,t){var r=t.target;if(!oY(r))return null;var n=lY(e),s=aY(r,n);return!s||!lm(s)?null:s}function uY(e,t){var r=cY(e,t);return r?r.getAttribute(Xa.draggableId):null}function dY(e,t){var r="["+Gy.contextId+'="'+e+'"]',n=jM(document.querySelectorAll(r)),s=Xo(n,function(o){return o.getAttribute(Gy.id)===t});return!s||!lm(s)?null:s}function fY(e){e.preventDefault()}function tf(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function dD(e){var t=e.lockAPI,r=e.store,n=e.registry,s=e.draggableId;if(t.isClaimed())return!1;var o=n.draggable.findById(s);return!(!o||!o.options.isEnabled||!eD(r.getState(),s))}function hY(e){var t=e.lockAPI,r=e.contextId,n=e.store,s=e.registry,o=e.draggableId,i=e.forceSensorStop,a=e.sourceEvent,c=dD({lockAPI:t,store:n,registry:s,draggableId:o});if(!c)return null;var u=s.draggable.getById(o),f=dY(r,u.descriptor.id);if(!f||a&&!u.options.canDragInteractiveElements&&nY(f,a))return null;var h=t.claim(i||ko),p="PRE_DRAG";function m(){return u.options.shouldRespectForcePress}function g(){return t.isActive(h)}function v(C,j){tf({expected:C,phase:p,isLockActive:g,shouldWarn:!0})&&n.dispatch(j())}var b=v.bind(null,"DRAGGING");function x(C){function j(){t.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(j(),p!=="PRE_DRAG"&&ae()),n.dispatch(iG(C.liftActionArgs)),p="DRAGGING";function N(E,P){if(P===void 0&&(P={shouldBlockNextClick:!1}),C.cleanup(),P.shouldBlockNextClick){var k=un(window,[{eventName:"click",fn:fY,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(k)}j(),n.dispatch(qM({reason:E}))}return ge({isActive:function(){return tf({expected:"DRAGGING",phase:p,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(P){return N("DROP",P)},cancel:function(P){return N("CANCEL",P)}},C.actions)}function y(C){var j=ou(function(E){b(function(){return GM({client:E})})}),N=x({liftActionArgs:{id:o,clientSelection:C,movementMode:"FLUID"},cleanup:function(){return j.cancel()},actions:{move:j}});return ge({},N,{move:j})}function w(){var C={moveUp:function(){return b(mG)},moveRight:function(){return b(vG)},moveDown:function(){return b(gG)},moveLeft:function(){return b(yG)}};return x({liftActionArgs:{id:o,clientSelection:sY(f),movementMode:"SNAP"},cleanup:ko,actions:C})}function S(){var C=tf({expected:"PRE_DRAG",phase:p,isLockActive:g,shouldWarn:!0});C&&t.release()}var _={isActive:function(){return tf({expected:"PRE_DRAG",phase:p,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:y,snapLift:w,abort:S};return _}var pY=[Gq,Zq,tY];function mY(e){var t=e.contextId,r=e.store,n=e.registry,s=e.customSensors,o=e.enableDefaultSensors,i=[].concat(o?pY:[],s||[]),a=d.useState(function(){return Dq()})[0],c=we(function(y,w){y.isDragging&&!w.isDragging&&a.tryAbandon()},[a]);Xr(function(){var y=r.getState(),w=r.subscribe(function(){var S=r.getState();c(y,S),y=S});return w},[a,r,c]),Xr(function(){return a.tryAbandon},[a.tryAbandon]);for(var u=we(function(x){return dD({lockAPI:a,registry:n,store:r,draggableId:x})},[a,n,r]),f=we(function(x,y,w){return hY({lockAPI:a,registry:n,contextId:t,store:r,draggableId:x,forceSensorStop:y,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null})},[t,a,n,r]),h=we(function(x){return uY(t,x)},[t]),p=we(function(x){var y=n.draggable.findById(x);return y?y.options:null},[n.draggable]),m=we(function(){a.isClaimed()&&(a.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(gw()))},[a,r]),g=we(a.isClaimed,[a]),v=Ge(function(){return{canGetLock:u,tryGetLock:f,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:g}},[u,f,h,p,m,g]),b=0;b<i.length;b++)i[b](v)}var gY=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function ql(e){return e.current||ae(),e.current}function vY(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,s=e.nonce,o=e.dragHandleUsageInstructions,i=d.useRef(null),a=oD(e),c=we(function(){return gY(a.current)},[a]),u=kq(t),f=Mq({contextId:t,text:o}),h=bq(t,s),p=we(function(E){ql(i).dispatch(E)},[]),m=Ge(function(){return q_({publishWhileDragging:lG,updateDroppableScroll:uG,updateDroppableIsEnabled:dG,updateDroppableIsCombineEnabled:fG,collectionStarting:cG},p)},[p]),g=Cq(),v=Ge(function(){return JG(g,m)},[g,m]),b=Ge(function(){return mq(ge({scrollWindow:QG,scrollDroppable:v.scrollDroppable},q_({move:GM},p)))},[v.scrollDroppable,p]),x=Sq(t),y=Ge(function(){return YG({announce:u,autoScroller:b,dimensionMarshal:v,focusMarshal:x,getResponders:c,styleMarshal:h})},[u,b,v,x,c,h]);i.current=y;var w=we(function(){var E=ql(i),P=E.getState();P.phase!=="IDLE"&&E.dispatch(gw())},[]),S=we(function(){var E=ql(i).getState();return E.isDragging||E.phase==="DROP_ANIMATING"},[]),_=Ge(function(){return{isDragging:S,tryAbort:w}},[S,w]);r(_);var C=we(function(E){return eD(ql(i).getState(),E)},[]),j=we(function(){return li(ql(i).getState())},[]),N=Ge(function(){return{marshal:v,focus:x,contextId:t,canLift:C,isMovementAllowed:j,dragHandleUsageInstructionsId:f,registry:g}},[t,v,f,x,C,j,g]);return mY({contextId:t,store:y,registry:g,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),d.useEffect(function(){return w},[w]),Y.createElement(cm.Provider,{value:N},Y.createElement(F9,{context:Cw,store:y},e.children))}var yY=0;function xY(){return Ge(function(){return""+yY++},[])}function bY(e){var t=xY(),r=e.dragHandleUsageInstructions||jf.dragHandleUsageInstructions;return Y.createElement(Z7,null,function(n){return Y.createElement(vY,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var fD=function(t){return function(r){return t===r}},wY=fD("scroll"),SY=fD("auto"),EC=function(t,r){return r(t.overflowX)||r(t.overflowY)},_Y=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return EC(n,wY)||EC(n,SY)},CY=function(){return!1},EY=function e(t){return t==null?null:t===document.body?CY()?t:null:t===document.documentElement?null:_Y(t)?t:e(t.parentElement)},qy=function(e){return{x:e.scrollLeft,y:e.scrollTop}},jY=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},kY=function(e){var t=EY(e),r=jY(e);return{closestScrollable:t,isFixedOnPage:r}},NY=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,s=e.isFixedOnPage,o=e.direction,i=e.client,a=e.page,c=e.closest,u=function(){if(!c)return null;var m=c.scrollSize,g=c.client,v=XM({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:g,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:v,diff:{value:Xt,displacement:Xt}}}}(),f=o==="vertical"?dw:MM,h=Ka({page:a,withPlaceholder:null,axis:f,frame:u}),p={descriptor:t,isCombineEnabled:n,isFixedOnPage:s,axis:f,isEnabled:r,client:i,page:a,frame:u,subject:h};return p},PY=function(t,r){var n=wM(t);if(!r||t!==r)return n;var s=n.paddingBox.top-r.scrollTop,o=n.paddingBox.left-r.scrollLeft,i=s+r.scrollHeight,a=o+r.scrollWidth,c={top:s,right:a,bottom:i,left:o},u=iw(c,n.border),f=aw({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return f},LY=function(e){var t=e.ref,r=e.descriptor,n=e.env,s=e.windowScroll,o=e.direction,i=e.isDropDisabled,a=e.isCombineEnabled,c=e.shouldClipSubject,u=n.closestScrollable,f=PY(t,u),h=jh(f,s),p=function(){if(!u)return null;var g=wM(u),v={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:g,page:jh(g,s),scroll:qy(u),scrollSize:v,shouldClipSubject:c}}(),m=NY({descriptor:r,isEnabled:!i,isCombineEnabled:a,isFixedOnPage:n.isFixedOnPage,direction:o,client:f,page:h,closest:p});return m},MY={passive:!1},DY={passive:!0},jC=function(e){return e.shouldPublishImmediately?MY:DY};function Dh(e){var t=d.useContext(e);return t||ae(),t}var rf=function(t){return t&&t.env.closestScrollable||null};function OY(e){var t=d.useRef(null),r=Dh(cm),n=Ew("droppable"),s=r.registry,o=r.marshal,i=oD(e),a=Ge(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=d.useRef(a),u=Ge(function(){return Kt(function(S,_){t.current||ae();var C={x:S,y:_};o.updateDroppableScroll(a.id,C)})},[a.id,o]),f=we(function(){var S=t.current;return!S||!S.env.closestScrollable?Xt:qy(S.env.closestScrollable)},[]),h=we(function(){var S=f();u(S.x,S.y)},[f,u]),p=Ge(function(){return ou(h)},[h]),m=we(function(){var S=t.current,_=rf(S);S&&_||ae();var C=S.scrollOptions;if(C.shouldPublishImmediately){h();return}p()},[p,h]),g=we(function(S,_){t.current&&ae();var C=i.current,j=C.getDroppableRef();j||ae();var N=kY(j),E={ref:j,descriptor:a,env:N,scrollOptions:_};t.current=E;var P=LY({ref:j,descriptor:a,env:N,windowScroll:S,direction:C.direction,isDropDisabled:C.isDropDisabled,isCombineEnabled:C.isCombineEnabled,shouldClipSubject:!C.ignoreContainerClipping}),k=N.closestScrollable;return k&&(k.setAttribute(wC.contextId,r.contextId),k.addEventListener("scroll",m,jC(E.scrollOptions))),P},[r.contextId,a,m,i]),v=we(function(){var S=t.current,_=rf(S);return S&&_||ae(),qy(_)},[]),b=we(function(){var S=t.current;S||ae();var _=rf(S);t.current=null,_&&(p.cancel(),_.removeAttribute(wC.contextId),_.removeEventListener("scroll",m,jC(S.scrollOptions)))},[m,p]),x=we(function(S){var _=t.current;_||ae();var C=rf(_);C||ae(),C.scrollTop+=S.y,C.scrollLeft+=S.x},[]),y=Ge(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:v,dragStopped:b,scroll:x}},[b,g,v,x]),w=Ge(function(){return{uniqueId:n,descriptor:a,callbacks:y}},[y,a,n]);Xr(function(){return c.current=w.descriptor,s.droppable.register(w),function(){t.current&&b(),s.droppable.unregister(w)}},[y,a,b,w,o,s.droppable]),Xr(function(){t.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),Xr(function(){t.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function zg(){}var kC={width:0,height:0,margin:rH},TY=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate;return r||s==="close"?kC:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},RY=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate,o=TY({isAnimatingOpenOnMount:r,placeholder:n,animate:s});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?Cc.placeholder:null}};function IY(e){var t=d.useRef(null),r=we(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,s=e.onTransitionEnd,o=e.onClose,i=e.contextId,a=d.useState(e.animate==="open"),c=a[0],u=a[1];d.useEffect(function(){return c?n!=="open"?(r(),u(!1),zg):t.current?zg:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):zg},[n,c,r]);var f=we(function(p){p.propertyName==="height"&&(s(),n==="close"&&o())},[n,o,s]),h=RY({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Y.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":i,onTransitionEnd:f,ref:e.innerRef})}var AY=Y.memo(IY),kw=Y.createContext(null),$Y=function(e){eM(t,e);function t(){for(var n,s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(s,o){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},t}(Y.PureComponent),NC={dragging:5e3,dropAnimating:4500},FY=function(t,r){return r?Cc.drop(r.duration):t?Cc.snap:Cc.fluid},BY=function(t,r){return t?r?cu.opacity.drop:cu.opacity.combining:null},UY=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function zY(e){var t=e.dimension,r=t.client,n=e.offset,s=e.combineWith,o=e.dropping,i=!!s,a=UY(e),c=!!o,u=c?Vy.drop(n,i):Vy.moveTo(n),f={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:FY(a,o),transform:u,opacity:BY(i,c),zIndex:c?NC.dropAnimating:NC.dragging,pointerEvents:"none"};return f}function WY(e){return{transform:Vy.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function VY(e){return e.type==="DRAGGING"?zY(e):WY(e)}function HY(e,t,r){r===void 0&&(r=Xt);var n=window.getComputedStyle(t),s=t.getBoundingClientRect(),o=bM(s,n),i=jh(o,r),a={client:o,tagName:t.tagName.toLowerCase(),display:n.display},c={x:o.marginBox.width,y:o.marginBox.height},u={descriptor:e,placeholder:a,displaceBy:c,client:o,page:i};return u}function GY(e){var t=Ew("draggable"),r=e.descriptor,n=e.registry,s=e.getDraggableRef,o=e.canDragInteractiveElements,i=e.shouldRespectForcePress,a=e.isEnabled,c=Ge(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:a}},[o,a,i]),u=we(function(m){var g=s();return g||ae(),HY(r,g,m)},[r,s]),f=Ge(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:u}},[r,u,c,t]),h=d.useRef(f),p=d.useRef(!0);Xr(function(){return n.draggable.register(h.current),function(){return n.draggable.unregister(h.current)}},[n.draggable]),Xr(function(){if(p.current){p.current=!1;return}var m=h.current;h.current=f,n.draggable.update(f,m)},[f,n.draggable])}function qY(e){e.preventDefault()}function YY(e){var t=d.useRef(null),r=we(function(E){t.current=E},[]),n=we(function(){return t.current},[]),s=Dh(cm),o=s.contextId,i=s.dragHandleUsageInstructionsId,a=s.registry,c=Dh(kw),u=c.type,f=c.droppableId,h=Ge(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:f}},[e.draggableId,e.index,u,f]),p=e.children,m=e.draggableId,g=e.isEnabled,v=e.shouldRespectForcePress,b=e.canDragInteractiveElements,x=e.isClone,y=e.mapped,w=e.dropAnimationFinished;if(!x){var S=Ge(function(){return{descriptor:h,registry:a,getDraggableRef:n,canDragInteractiveElements:b,shouldRespectForcePress:v,isEnabled:g}},[h,a,n,b,v,g]);GY(S)}var _=Ge(function(){return g?{tabIndex:0,role:"button","aria-describedby":i,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:qY}:null},[o,i,m,g]),C=we(function(E){y.type==="DRAGGING"&&y.dropping&&E.propertyName==="transform"&&w()},[w,y]),j=Ge(function(){var E=VY(y),P=y.type==="DRAGGING"&&y.dropping?C:null,k={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":m,style:E,onTransitionEnd:P},dragHandleProps:_};return k},[o,_,m,y,C,r]),N=Ge(function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}},[h.droppableId,h.id,h.index,h.type]);return p(j,y.snapshot,N)}var hD=function(e,t){return e===t},pD=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},KY=function(t){return t.combine?t.combine.draggableId:null},ZY=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function XY(){var e=Kt(function(s,o){return{x:s,y:o}}),t=Kt(function(s,o,i,a,c){return{isDragging:!0,isClone:o,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:i,combineWith:a,combineTargetFor:null}}),r=Kt(function(s,o,i,a,c,u,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:o,offset:s,dimension:i,forceShouldAnimate:f,snapshot:t(o,a,c,u,null)}}}),n=function(o,i){if(o.isDragging){if(o.critical.draggable.id!==i.draggableId)return null;var a=o.current.client.offset,c=o.dimensions.draggables[i.draggableId],u=Zr(o.impact),f=ZY(o.impact),h=o.forceShouldAnimate;return r(e(a.x,a.y),o.movementMode,c,i.isClone,u,f,h)}if(o.phase==="DROP_ANIMATING"){var p=o.completed;if(p.result.draggableId!==i.draggableId)return null;var m=i.isClone,g=o.dimensions.draggables[i.draggableId],v=p.result,b=v.mode,x=pD(v),y=KY(v),w=o.dropDuration,S={duration:w,curve:yw.drop,moveTo:o.newHomeClientOffset,opacity:y?cu.opacity.drop:null,scale:y?cu.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:g,dropping:S,draggingOver:x,combineWith:y,mode:b,forceShouldAnimate:null,snapshot:t(b,m,x,y,S)}}}return null};return n}function mD(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var JY={mapped:{type:"SECONDARY",offset:Xt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:mD(null)}};function QY(){var e=Kt(function(i,a){return{x:i,y:a}}),t=Kt(mD),r=Kt(function(i,a,c){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:i,combineTargetFor:a,shouldAnimateDisplacement:c,snapshot:t(a)}}}),n=function(a){return a?r(Xt,a,!0):null},s=function(a,c,u,f){var h=u.displaced.visible[a],p=!!(f.inVirtualList&&f.effected[a]),m=om(u),g=m&&m.draggableId===a?c:null;if(!h){if(!p)return n(g);if(u.displaced.invisible[a])return null;var v=bl(f.displacedBy.point),b=e(v.x,v.y);return r(b,g,!0)}if(p)return n(g);var x=u.displacedBy.point,y=e(x.x,x.y);return r(y,g,h.shouldAnimate)},o=function(a,c){if(a.isDragging)return a.critical.draggable.id===c.draggableId?null:s(c.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var u=a.completed;return u.result.draggableId===c.draggableId?null:s(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return o}var eK=function(){var t=XY(),r=QY(),n=function(o,i){return t(o,i)||r(o,i)||JY};return n},tK={dropAnimationFinished:YM},rK=yM(eK,tK,null,{context:Cw,pure:!0,areStatePropsEqual:hD})(YY);function nK(e){var t=Dh(kw),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:Y.createElement(rK,e)}function sK(e){var t=d.useContext(cm);t||ae();var r=t.contextId,n=t.isMovementAllowed,s=d.useRef(null),o=d.useRef(null),i=e.children,a=e.droppableId,c=e.type,u=e.mode,f=e.direction,h=e.ignoreContainerClipping,p=e.isDropDisabled,m=e.isCombineEnabled,g=e.snapshot,v=e.useClone,b=e.updateViewportMaxScroll,x=e.getContainerForClone,y=we(function(){return s.current},[]),w=we(function(k){s.current=k},[]);we(function(){return o.current},[]);var S=we(function(k){o.current=k},[]),_=we(function(){n()&&b({maxScroll:QM()})},[n,b]);OY({droppableId:a,type:c,mode:u,direction:f,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:h,getDroppableRef:y});var C=Y.createElement($Y,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(k){var M=k.onClose,D=k.data,I=k.animate;return Y.createElement(AY,{placeholder:D,onClose:M,innerRef:S,animate:I,contextId:r,onTransitionEnd:_})}),j=Ge(function(){return{innerRef:w,placeholder:C,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":r}}},[r,a,C,w]),N=v?v.dragging.draggableId:null,E=Ge(function(){return{droppableId:a,type:c,isUsingCloneFor:N}},[a,N,c]);function P(){if(!v)return null;var k=v.dragging,M=v.render,D=Y.createElement(nK,{draggableId:k.draggableId,index:k.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(I,B){return M(I,B,k)});return mp.createPortal(D,x())}return Y.createElement(kw.Provider,{value:E},i(j,g),P())}var Wg=function(t,r){return t===r.droppable.type},PC=function(t,r){return r.draggables[t.draggable.id]},oK=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=ge({},t,{shouldAnimatePlaceholder:!1}),n=Kt(function(i){return{draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}}}),s=Kt(function(i,a,c,u,f,h){var p=f.descriptor.id,m=f.descriptor.droppableId===i;if(m){var g=h?{render:h,dragging:n(f.descriptor)}:null,v={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:g}}if(!a)return r;if(!u)return t;var b={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),o=function(a,c){var u=c.droppableId,f=c.type,h=!c.isDropDisabled,p=c.renderClone;if(a.isDragging){var m=a.critical;if(!Wg(f,m))return r;var g=PC(m,a.dimensions),v=Zr(a.impact)===u;return s(u,h,v,v,g,p)}if(a.phase==="DROP_ANIMATING"){var b=a.completed;if(!Wg(f,b.critical))return r;var x=PC(b.critical,a.dimensions);return s(u,h,pD(b.result)===u,Zr(b.impact)===u,x,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var y=a.completed;if(!Wg(f,y.critical))return r;var w=Zr(y.impact)===u,S=!!(y.impact.at&&y.impact.at.type==="COMBINE"),_=y.critical.droppable.id===u;return w?S?t:r:_?t:r}return r};return o},iK={updateViewportMaxScroll:pG};function aK(){return document.body||ae(),document.body}var lK={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:aK},cK=yM(oK,iK,null,{context:Cw,pure:!0,areStatePropsEqual:hD})(sK);cK.defaultProps=lK;const gD=({images:e,onDelete:t,onReorder:r,editable:n=!1,initialIndex:s=0})=>{const[o,i]=d.useState(s),[a,c]=d.useState(!1),[u,f]=d.useState(!1);if(d.useEffect(()=>{const y=()=>{f(window.innerWidth<768)};return y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[]),!e||!e.length)return null;const h=y=>{if(!y.destination||!r)return;const w=Array.from(e),[S]=w.splice(y.source.index,1);w.splice(y.destination.index,0,S),r(w.map(_=>_.url))},p=()=>{i(y=>(y+1)%e.length)},m=()=>{i(y=>(y-1+e.length)%e.length)},g=y=>{i(y),c(!0)},v=()=>l.jsxs("div",{className:"relative group md:hidden",children:[l.jsxs("div",{className:"aspect-video relative overflow-hidden rounded-lg",children:[l.jsx("img",{src:e[o].url,alt:`Image ${o+1}`,className:"w-full h-full object-cover",loading:"lazy",onClick:()=>g(o)}),e.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:y=>{y.stopPropagation(),m()},className:`absolute left-2 top-1/2 -translate-y-1/2 p-1 rounded-full 
                       bg-black/50 text-white`,"aria-label":"Previous image",children:l.jsx(cy,{className:"w-6 h-6"})}),l.jsx("button",{onClick:y=>{y.stopPropagation(),p()},className:`absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded-full 
                       bg-black/50 text-white`,"aria-label":"Next image",children:l.jsx(oh,{className:"w-6 h-6"})})]}),n&&t&&l.jsx("button",{onClick:()=>t(e[o].url),className:`absolute top-2 right-2 p-1 rounded-full bg-red-500/80 
                     text-white`,"aria-label":"Delete image",children:l.jsx(Ad,{className:"w-4 h-4"})})]}),e.length>1&&l.jsx("div",{className:"flex justify-center mt-2 gap-2",children:e.map((y,w)=>l.jsx("button",{onClick:()=>i(w),className:`w-2 h-2 rounded-full transition-colors duration-200 
                       ${w===o?"bg-primary":"bg-gray-300"}`,"aria-label":`Go to image ${w+1}`},w))})]}),b=()=>l.jsx("div",{className:"hidden md:block",children:l.jsxs("div",{className:"flex gap-2 rounded-xl overflow-hidden",children:[l.jsxs("div",{className:"flex-grow-[4] aspect-video relative overflow-hidden rounded-lg",children:[l.jsx("img",{src:e[0].url,alt:"Main Image",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onClick:()=>g(0),loading:"lazy"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-end justify-start p-4",children:l.jsxs(ee,{variant:"secondary",size:"sm",onClick:y=>{y.stopPropagation(),g(0)},className:"gap-2",children:[l.jsx(w4,{className:"w-4 h-4"}),"View All Photos"]})}),n&&t&&l.jsx("button",{onClick:y=>{y.stopPropagation(),t(e[0].url)},className:`absolute top-2 right-2 p-1 rounded-full bg-red-500/80 
                         text-white opacity-0 group-hover:opacity-100 
                         transition-opacity duration-200`,"aria-label":"Delete image",children:l.jsx(Ad,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex-grow-[0.5] flex flex-col gap-2",children:[e.length>1?l.jsxs("div",{className:"relative flex-1 overflow-hidden rounded-lg group",children:[l.jsx("img",{src:e[1].url,alt:"Thumbnail 1",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onClick:()=>g(1),loading:"lazy"}),n&&t&&l.jsx("button",{onClick:y=>{y.stopPropagation(),t(e[1].url)},className:`absolute top-2 right-2 p-1 rounded-full bg-red-500/80 
                             text-white opacity-0 group-hover:opacity-100 
                             transition-opacity duration-200`,"aria-label":"Delete image",children:l.jsx(Ad,{className:"w-4 h-4"})})]}):l.jsx("div",{className:"flex-1 bg-gray-100 rounded-lg flex items-center justify-center",children:l.jsx(L1,{className:"w-8 h-8 text-gray-300"})}),e.length>2?l.jsxs("div",{className:"relative flex-1 overflow-hidden rounded-lg group",children:[l.jsx("img",{src:e[2].url,alt:"Thumbnail 2",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onClick:()=>g(2),loading:"lazy"}),e.length>3&&l.jsxs("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center text-white font-medium cursor-pointer",onClick:()=>g(3),children:["+",e.length-3," more"]}),n&&t&&l.jsx("button",{onClick:y=>{y.stopPropagation(),t(e[2].url)},className:`absolute top-2 right-2 p-1 rounded-full bg-red-500/80 
                             text-white opacity-0 group-hover:opacity-100 
                             transition-opacity duration-200`,"aria-label":"Delete image",children:l.jsx(Ad,{className:"w-4 h-4"})})]}):l.jsx("div",{className:"flex-1 bg-gray-100 rounded-lg flex items-center justify-center",children:l.jsx(L1,{className:"w-8 h-8 text-gray-300"})})]})]})}),x=()=>l.jsx(Up,{open:a,onOpenChange:c,children:l.jsxs(Yu,{className:"max-w-screen-xl h-[90vh] flex flex-col p-0 gap-0",children:[l.jsxs("div",{className:"relative flex-1 flex items-center justify-center bg-black/95 overflow-hidden",children:[l.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[l.jsx("img",{src:e[o].url,alt:`Image ${o+1} in fullscreen`,className:"max-h-full max-w-full object-contain"}),e.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:m,className:`absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full 
                           bg-black/50 text-white hover:bg-black/70`,"aria-label":"Previous image",children:l.jsx(cy,{className:"w-6 h-6"})}),l.jsx("button",{onClick:p,className:`absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full 
                           bg-black/50 text-white hover:bg-black/70`,"aria-label":"Next image",children:l.jsx(oh,{className:"w-6 h-6"})})]})]}),l.jsx("button",{onClick:()=>c(!1),className:`absolute top-4 right-4 p-2 rounded-full bg-black/50 
                     text-white hover:bg-black/70`,"aria-label":"Close lightbox",children:l.jsx(Ua,{className:"w-6 h-6"})}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-black/70 text-white text-center",children:l.jsx("p",{children:e[o].caption||`Image ${o+1} of ${e.length}`})})]}),l.jsx("div",{className:"bg-black/90 p-2 flex overflow-x-auto gap-2 justify-center",children:e.map((y,w)=>l.jsx("button",{onClick:()=>i(w),className:`relative flex-shrink-0 h-16 w-24 rounded overflow-hidden ${w===o?"ring-2 ring-primary":"opacity-70"}`,"aria-label":`Go to image ${w+1}`,children:l.jsx("img",{src:y.url,alt:`Thumbnail ${w+1}`,className:"h-full w-full object-cover"})},w))})]})});return l.jsxs(bY,{onDragEnd:h,children:[u?l.jsx(v,{}):l.jsx(b,{}),l.jsx(x,{})]})};var Nw="Tabs",[uK,Ire]=Wn(Nw,[Ip]),vD=Ip(),[dK,Pw]=uK(Nw),yD=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...u}=e,f=$u(a),[h,p]=cs({prop:n,onChange:s,defaultProp:o});return l.jsx(dK,{scope:r,baseId:fn(),value:h,onValueChange:p,orientation:i,dir:f,activationMode:c,children:l.jsx(_e.div,{dir:f,"data-orientation":i,...u,ref:t})})});yD.displayName=Nw;var xD="TabsList",bD=d.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=Pw(xD,r),i=vD(r);return l.jsx(XN,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:l.jsx(_e.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});bD.displayName=xD;var wD="TabsTrigger",SD=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=Pw(wD,r),a=vD(r),c=ED(i.baseId,n),u=jD(i.baseId,n),f=n===i.value;return l.jsx(JN,{asChild:!0,...a,focusable:!s,active:f,children:l.jsx(_e.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:ue(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(n):h.preventDefault()}),onKeyDown:ue(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(n)}),onFocus:ue(e.onFocus,()=>{const h=i.activationMode!=="manual";!f&&!s&&h&&i.onValueChange(n)})})})});SD.displayName=wD;var _D="TabsContent",CD=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,a=Pw(_D,r),c=ED(a.baseId,n),u=jD(a.baseId,n),f=n===a.value,h=d.useRef(f);return d.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(sr,{present:s||f,children:({present:p})=>l.jsx(_e.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&o})})});CD.displayName=_D;function ED(e,t){return`${e}-trigger-${t}`}function jD(e,t){return`${e}-content-${t}`}var fK=yD,kD=bD,ND=SD,PD=CD;const ld=fK,_l=d.forwardRef(({className:e,...t},r)=>l.jsx(kD,{ref:r,className:pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_l.displayName=kD.displayName;const zt=d.forwardRef(({className:e,...t},r)=>l.jsx(ND,{ref:r,className:pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));zt.displayName=ND.displayName;const Wt=d.forwardRef(({className:e,...t},r)=>l.jsx(PD,{ref:r,className:pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Wt.displayName=PD.displayName;var hK="Separator",LC="horizontal",pK=["horizontal","vertical"],LD=d.forwardRef((e,t)=>{const{decorative:r,orientation:n=LC,...s}=e,o=mK(n)?n:LC,a=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return l.jsx(_e.div,{"data-orientation":o,...a,...s,ref:t})});LD.displayName=hK;function mK(e){return pK.includes(e)}var MD=LD;const Tr=d.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>l.jsx(MD,{ref:s,decorative:r,orientation:t,className:pe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Tr.displayName=MD.displayName;var[dm,Are]=Wn("Tooltip",[Yo]),fm=Yo(),DD="TooltipProvider",gK=700,Yy="tooltip.open",[vK,Lw]=dm(DD),OD=e=>{const{__scopeTooltip:t,delayDuration:r=gK,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,[i,a]=d.useState(!0),c=d.useRef(!1),u=d.useRef(0);return d.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),l.jsx(vK,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:d.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:d.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:d.useCallback(f=>{c.current=f},[]),disableHoverableContent:s,children:o})};OD.displayName=DD;var hm="Tooltip",[yK,pm]=dm(hm),TD=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,c=Lw(hm,e.__scopeTooltip),u=fm(t),[f,h]=d.useState(null),p=fn(),m=d.useRef(0),g=i??c.disableHoverableContent,v=a??c.delayDuration,b=d.useRef(!1),[x=!1,y]=cs({prop:n,defaultProp:s,onChange:j=>{j?(c.onOpen(),document.dispatchEvent(new CustomEvent(Yy))):c.onClose(),o==null||o(j)}}),w=d.useMemo(()=>x?b.current?"delayed-open":"instant-open":"closed",[x]),S=d.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,y(!0)},[y]),_=d.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),C=d.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,y(!0),m.current=0},v)},[v,y]);return d.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),l.jsx(Dp,{...u,children:l.jsx(yK,{scope:t,contentId:p,open:x,stateAttribute:w,trigger:f,onTriggerChange:h,onTriggerEnter:d.useCallback(()=>{c.isOpenDelayed?C():S()},[c.isOpenDelayed,C,S]),onTriggerLeave:d.useCallback(()=>{g?_():(window.clearTimeout(m.current),m.current=0)},[_,g]),onOpen:S,onClose:_,disableHoverableContent:g,children:r})})};TD.displayName=hm;var Ky="TooltipTrigger",RD=d.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=pm(Ky,r),o=Lw(Ky,r),i=fm(r),a=d.useRef(null),c=Fe(t,a,s.onTriggerChange),u=d.useRef(!1),f=d.useRef(!1),h=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(Uu,{asChild:!0,...i,children:l.jsx(_e.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ue(e.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:ue(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:ue(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ue(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ue(e.onBlur,s.onClose),onClick:ue(e.onClick,s.onClose)})})});RD.displayName=Ky;var xK="TooltipPortal",[$re,bK]=dm(xK,{forceMount:void 0}),Ja="TooltipContent",ID=d.forwardRef((e,t)=>{const r=bK(Ja,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=pm(Ja,e.__scopeTooltip);return l.jsx(sr,{present:n||i.open,children:i.disableHoverableContent?l.jsx(AD,{side:s,...o,ref:t}):l.jsx(wK,{side:s,...o,ref:t})})}),wK=d.forwardRef((e,t)=>{const r=pm(Ja,e.__scopeTooltip),n=Lw(Ja,e.__scopeTooltip),s=d.useRef(null),o=Fe(t,s),[i,a]=d.useState(null),{trigger:c,onClose:u}=r,f=s.current,{onPointerInTransitChange:h}=n,p=d.useCallback(()=>{a(null),h(!1)},[h]),m=d.useCallback((g,v)=>{const b=g.currentTarget,x={x:g.clientX,y:g.clientY},y=EK(x,b.getBoundingClientRect()),w=jK(x,y),S=kK(v.getBoundingClientRect()),_=PK([...w,...S]);a(_),h(!0)},[h]);return d.useEffect(()=>()=>p(),[p]),d.useEffect(()=>{if(c&&f){const g=b=>m(b,f),v=b=>m(b,c);return c.addEventListener("pointerleave",g),f.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),f.removeEventListener("pointerleave",v)}}},[c,f,m,p]),d.useEffect(()=>{if(i){const g=v=>{const b=v.target,x={x:v.clientX,y:v.clientY},y=(c==null?void 0:c.contains(b))||(f==null?void 0:f.contains(b)),w=!NK(x,i);y?p():w&&(p(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,f,i,u,p]),l.jsx(AD,{...e,ref:o})}),[SK,_K]=dm(hm,{isInside:!1}),AD=d.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,c=pm(Ja,r),u=fm(r),{onClose:f}=c;return d.useEffect(()=>(document.addEventListener(Yy,f),()=>document.removeEventListener(Yy,f)),[f]),d.useEffect(()=>{if(c.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),l.jsx(hl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:l.jsxs(Op,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Fk,{children:n}),l.jsx(SK,{scope:r,isInside:!0,children:l.jsx(GV,{id:c.contentId,role:"tooltip",children:s||n})})]})})});ID.displayName=Ja;var $D="TooltipArrow",CK=d.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=fm(r);return _K($D,r).isInside?null:l.jsx(Tp,{...s,...n,ref:t})});CK.displayName=$D;function EK(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function jK(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function kK(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function NK(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,c=t[o].y,u=t[i].x,f=t[i].y;c>n!=f>n&&r<(u-a)*(n-c)/(f-c)+a&&(s=!s)}return s}function PK(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),LK(t)}function LK(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var MK=OD,DK=TD,OK=RD,FD=ID;const Oh=MK,Th=DK,Rh=OK,uu=d.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(FD,{ref:n,sideOffset:t,className:pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));uu.displayName=FD.displayName;const TK=({listingId:e,listingType:t,refreshTrigger:r=0})=>{const[n,s]=d.useState([]),[o,i]=d.useState(!0),[a,c]=d.useState(null);return d.useEffect(()=>{(async()=>{i(!0);try{const{data:f,error:h}=await V.from("reviews").select(`
            id,
            rating,
            content,
            created_at,
            author_id
          `).eq("target_id",e).eq("target_type",t).order("created_at",{ascending:!1});if(h)throw h;if(f){const p=await Promise.all(f.map(async m=>{const{data:g}=await V.from("profiles").select("name").eq("id",m.author_id).single();return{...m,user:g||{name:"Anonymous"}}}));s(p)}}catch(f){console.error("Error fetching reviews:",f),c("Failed to load reviews")}finally{i(!1)}})()},[e,t,r]),o?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(Ze,{className:"h-8 w-8 animate-spin text-primary"})}):a?l.jsx("div",{className:"p-4 bg-red-50 text-red-800 rounded-lg",children:l.jsx("p",{children:a})}):n.length===0?l.jsx("div",{className:"p-6 text-center bg-muted/20 rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:"No reviews yet"})}):l.jsx("div",{className:"space-y-6",children:n.map(u=>{var p;const f=((p=u.user)==null?void 0:p.name)||u.author_id.substring(0,8)||"Anonymous",h=f.charAt(0).toUpperCase();return l.jsxs("div",{className:"pb-6 last:pb-0 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsxs(ds,{children:[l.jsx(fs,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${f}`,alt:f}),l.jsx(hs,{children:h})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:f}),l.jsx("p",{className:"text-sm text-muted-foreground",children:bt(new Date(u.created_at),"MMM d, yyyy")})]})]}),l.jsx("div",{className:"flex mb-2",children:[...Array(5)].map((m,g)=>l.jsx(ls,{className:`w-4 h-4 ${g<u.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},g))}),u.content&&l.jsx("p",{className:"text-muted-foreground",children:u.content}),l.jsx(Tr,{className:"mt-6"})]},u.id)})})},du=d.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));du.displayName="Textarea";const RK=({listingId:e,listingType:t,onSuccess:r})=>{const{user:n}=Dt(),[s,o]=d.useState(0),[i,a]=d.useState(""),[c,u]=d.useState(!1),[f,h]=d.useState(0),p=async m=>{var g;if(m.preventDefault(),!n){be.error("You must be logged in to submit a review");return}if(s===0){be.error("Please select a rating");return}u(!0);try{const{data:{session:v}}=await V.auth.getSession(),b=(g=v==null?void 0:v.user)==null?void 0:g.id;if(!b)throw new Error("User not authenticated");const{error:x}=await V.from("reviews").insert({author_id:b,target_id:e,target_type:t,rating:s,content:i});if(x)throw x;t==="food_experience"?Sc.invalidateCache("food"):t==="stay"&&Sc.invalidateCache("stays"),be.success("Review submitted successfully!"),o(0),a(""),r&&r()}catch(v){console.error("Error submitting review:",v),be.error("Failed to submit review. Please try again.")}finally{u(!1)}};return n?l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium",children:"Rating"}),l.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(m=>l.jsx("button",{type:"button",onClick:()=>o(m),onMouseEnter:()=>h(m),onMouseLeave:()=>h(0),className:"focus:outline-none",children:l.jsx(ls,{className:`w-6 h-6 transition-colors ${m<=(f||s)?"text-yellow-500 fill-yellow-500":"text-gray-300"}`})},m))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"content",className:"block text-sm font-medium",children:"Your Review"}),l.jsx(du,{id:"content",value:i,onChange:m=>a(m.target.value),placeholder:"Share your experience...",rows:4})]}),l.jsx(ee,{type:"submit",disabled:c||s===0,className:"w-full",children:c?l.jsxs(l.Fragment,{children:[l.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Review"})]}):l.jsx("div",{className:"p-4 bg-muted/50 rounded-lg text-center",children:l.jsx("p",{children:"Please log in to leave a review"})})},BD=({listingId:e,listingType:t,averageRating:r=0,reviewCount:n=0,onReviewSubmitted:s})=>{const[o,i]=d.useState(0),a=()=>{i(c=>c+1),s&&s()};return l.jsxs(Ve,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Reviews"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(ls,{className:"w-5 h-5 text-yellow-500 fill-yellow-500 mr-1"}),l.jsx("span",{className:"font-medium text-lg",children:r.toFixed(1)}),l.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",n," reviews)"]})]})]}),l.jsxs(ld,{defaultValue:"list",className:"w-full",children:[l.jsxs(_l,{className:"mb-6",children:[l.jsx(zt,{value:"list",children:"All Reviews"}),l.jsx(zt,{value:"add",children:"Write a Review"})]}),l.jsx(Wt,{value:"list",children:l.jsx(TK,{listingId:e,listingType:t,refreshTrigger:o})}),l.jsx(Wt,{value:"add",children:l.jsx(RK,{listingId:e,listingType:t,onSuccess:a})})]})]})},Ih={},hr={};async function MC(e,t,r,n,s){console.log("Starting getOrCreateConversation with:",{userId:e,otherUserId:t,listingId:r,listingType:n});try{const{data:o,error:i}=await V.from("conversation_participants").select("conversation_id").eq("user_id",e);if(i)throw console.error("Error fetching existing conversations:",i),i;if(console.log("Found existing conversations for current user:",(o==null?void 0:o.length)||0),o&&o.length>0){const h=o.map(g=>g.conversation_id);console.log("Conversation IDs to check:",h);const{data:p,error:m}=await V.from("conversation_participants").select("conversation_id").eq("user_id",t).in("conversation_id",h);if(m)throw console.error("Error checking for matching conversations:",m),m;if(console.log("Found matching conversations with other user:",(p==null?void 0:p.length)||0),p&&p.length>0)return console.log("Returning existing conversation:",p[0].conversation_id),{conversationId:p[0].conversation_id,isNew:!1}}console.log("Creating new conversation...");const{data:a,error:c}=await V.from("conversations").insert({listing_id:r,listing_type:n,title:s,status:"active"}).select().single();if(c)throw console.error("Error creating conversation:",c),c;console.log("New conversation created:",a==null?void 0:a.id),console.log("Adding participants to conversation...");const u=await V.from("conversation_participants").insert({conversation_id:a.id,user_id:e});if(u.error)throw console.error("Error adding current user to conversation:",u.error),u.error;console.log("Current user added to conversation");const f=await V.from("conversation_participants").insert({conversation_id:a.id,user_id:t});if(f.error)throw console.error("Error adding other user to conversation:",f.error),f.error;return console.log("Other user added to conversation"),{conversationId:a.id,isNew:!0}}catch(o){throw console.error("Unexpected error in getOrCreateConversation:",o),o}}async function IK(e,t,r){const{data:n,error:s}=await V.from("messages").insert({conversation_id:e,sender_id:t,content:r}).select().single();if(s)throw console.error("Error sending message:",s),s;return n}async function AK(e,t=50,r=0){console.time("getMessages");try{const{data:n,error:s}=await V.rpc("get_messages_with_senders",{conversation_id_param:e,limit_param:t,offset_param:r});if(!s&&n)return n.map(m=>({...m,isCurrentUser:!1}));console.warn("RPC function failed, using fallback method:",s);const{data:o,error:i}=await V.from("messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!1}).range(r,r+t-1);if(i)throw console.error("Error fetching messages:",i),i;if(!o||o.length===0)return[];const a=[...new Set(o.map(h=>h.sender_id))],{data:c,error:u}=await V.from("profiles").select("id, name, avatar_url").in("id",a);u&&console.error("Error fetching sender profiles:",u);const f=(c||[]).reduce((h,p)=>(h[p.id]=p,h),{});return o.map(h=>({...h,sender:f[h.sender_id]||null}))}finally{console.timeEnd("getMessages")}}async function $K(e){try{console.time("getConversationById");const{data:t,error:r}=await V.rpc("get_conversation_by_id",{conversation_id_param:e});if(r)throw console.error("Error fetching conversation:",r),r;return t?(console.timeEnd("getConversationById"),t):null}catch(t){throw console.error("Error in getConversationById:",t),t}}async function FK(e){try{console.log("Fetching conversations for user:",e),console.time("getUserConversations");const{data:t,error:r}=await V.rpc("get_user_conversations_with_details",{user_id_param:e});if(r)throw console.error("Error fetching conversations:",r),console.error("Error details:",JSON.stringify(r,null,2)),r;return console.timeEnd("getUserConversations"),console.log("Fetched conversations:",(t==null?void 0:t.length)||0),t||[]}catch(t){throw console.error("Error in getUserConversations:",t),console.error("Error details:",JSON.stringify(t,null,2)),t}}function BK(e,t){if(hr[e]||(hr[e]=[]),hr[e].includes(t)||hr[e].push(t),Ih[e])return console.log(`Reusing existing subscription for conversation: ${e}, total callbacks: ${hr[e].length}`),()=>{console.log(`Removing single callback for conversation: ${e}`);const r=hr[e].indexOf(t);r!==-1&&hr[e].splice(r,1),hr[e].length===0&&(console.log(`No more callbacks for conversation: ${e}, removing subscription`),DC(e))};console.log(`Setting up new subscription for conversation: ${e}`);try{const r=V.channel(`conversation-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${e}`},n=>{var o;console.log(`New message received for conversation: ${e}, notifying ${((o=hr[e])==null?void 0:o.length)||0} listeners`),(hr[e]||[]).forEach(i=>{try{i(n.new)}catch(a){console.error("Error in message callback:",a)}})}).subscribe(n=>{console.log(`Subscription status for conversation ${e}:`,n)});Ih[e]=r}catch(r){console.error("Error setting up subscription:",r)}return()=>{console.log(`Removing single callback for conversation: ${e}`);const r=hr[e].indexOf(t);r!==-1&&hr[e].splice(r,1),hr[e].length===0&&(console.log(`No more callbacks for conversation: ${e}, removing subscription`),DC(e))}}function DC(e){const t=Ih[e];if(t)try{console.log(`Completely removing subscription for conversation: ${e}`),V.removeChannel(t)}catch(r){console.error("Error removing channel:",r)}finally{delete Ih[e],hr[e]&&delete hr[e]}else console.log(`No active subscription found for conversation: ${e}`)}function UK(e,t){return d.useReducer((r,n)=>t[r][n]??r,e)}var Mw="ScrollArea",[UD,Fre]=Wn(Mw),[zK,xn]=UD(Mw),zD=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,c]=d.useState(null),[u,f]=d.useState(null),[h,p]=d.useState(null),[m,g]=d.useState(null),[v,b]=d.useState(null),[x,y]=d.useState(0),[w,S]=d.useState(0),[_,C]=d.useState(!1),[j,N]=d.useState(!1),E=Fe(t,k=>c(k)),P=$u(s);return l.jsx(zK,{scope:r,type:n,dir:P,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:f,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:_,onScrollbarXEnabledChange:C,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:j,onScrollbarYEnabledChange:N,onCornerWidthChange:y,onCornerHeightChange:S,children:l.jsx(_e.div,{dir:P,...i,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});zD.displayName=Mw;var WD="ScrollAreaViewport",VD=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:o,...i}=e,a=xn(WD,r),c=d.useRef(null),u=Fe(t,c,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),l.jsx(_e.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:JK({asChild:s,children:n},f=>l.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});VD.displayName=WD;var bs="ScrollAreaScrollbar",Dw=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=xn(bs,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return d.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?l.jsx(WK,{...n,ref:t,forceMount:r}):s.type==="scroll"?l.jsx(VK,{...n,ref:t,forceMount:r}):s.type==="auto"?l.jsx(HD,{...n,ref:t,forceMount:r}):s.type==="always"?l.jsx(Ow,{...n,ref:t}):null});Dw.displayName=bs;var WK=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=xn(bs,e.__scopeScrollArea),[o,i]=d.useState(!1);return d.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),i(!0)},f=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(sr,{present:r||o,children:l.jsx(HD,{"data-state":o?"visible":"hidden",...n,ref:t})})}),VK=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=xn(bs,e.__scopeScrollArea),o=e.orientation==="horizontal",i=gm(()=>c("SCROLL_END"),100),[a,c]=UK("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,f=o?"scrollLeft":"scrollTop";if(u){let h=u[f];const p=()=>{const m=u[f];h!==m&&(c("SCROLL"),i()),h=m};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,o,c,i]),l.jsx(sr,{present:r||a!=="hidden",children:l.jsx(Ow,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ue(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ue(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),HD=d.forwardRef((e,t)=>{const r=xn(bs,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,i]=d.useState(!1),a=e.orientation==="horizontal",c=gm(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;i(a?u:f)}},10);return Qa(r.viewport,c),Qa(r.content,c),l.jsx(sr,{present:n||o,children:l.jsx(Ow,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Ow=d.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=xn(bs,e.__scopeScrollArea),o=d.useRef(null),i=d.useRef(0),[a,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ZD(a.viewport,a.content),f={...n,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function h(p,m){return ZK(p,i.current,a,m)}return r==="horizontal"?l.jsx(HK,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollLeft,m=OC(p,a,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):r==="vertical"?l.jsx(GK,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollTop,m=OC(p,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),HK=d.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=xn(bs,e.__scopeScrollArea),[i,a]=d.useState(),c=d.useRef(null),u=Fe(t,c,o.onScrollbarXChange);return d.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(qD,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mm(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(o.viewport){const p=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(p),JD(p,h)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:$h(i.paddingLeft),paddingEnd:$h(i.paddingRight)}})}})}),GK=d.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=xn(bs,e.__scopeScrollArea),[i,a]=d.useState(),c=d.useRef(null),u=Fe(t,c,o.onScrollbarYChange);return d.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(qD,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mm(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(o.viewport){const p=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(p),JD(p,h)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:$h(i.paddingTop),paddingEnd:$h(i.paddingBottom)}})}})}),[qK,GD]=UD(bs),qD=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:h,...p}=e,m=xn(bs,r),[g,v]=d.useState(null),b=Fe(t,E=>v(E)),x=d.useRef(null),y=d.useRef(""),w=m.viewport,S=n.content-n.viewport,_=At(f),C=At(c),j=gm(h,10);function N(E){if(x.current){const P=E.clientX-x.current.left,k=E.clientY-x.current.top;u({x:P,y:k})}}return d.useEffect(()=>{const E=P=>{const k=P.target;(g==null?void 0:g.contains(k))&&_(P,S)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,g,S,_]),d.useEffect(C,[n,C]),Qa(g,j),Qa(m.content,j),l.jsx(qK,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:At(o),onThumbPointerUp:At(i),onThumbPositionChange:C,onThumbPointerDown:At(a),children:l.jsx(_e.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:ue(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),x.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),N(E))}),onPointerMove:ue(e.onPointerMove,N),onPointerUp:ue(e.onPointerUp,E=>{const P=E.target;P.hasPointerCapture(E.pointerId)&&P.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Ah="ScrollAreaThumb",YD=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=GD(Ah,e.__scopeScrollArea);return l.jsx(sr,{present:r||s.hasThumb,children:l.jsx(YK,{ref:t,...n})})}),YK=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=xn(Ah,r),i=GD(Ah,r),{onThumbPositionChange:a}=i,c=Fe(t,h=>i.onThumbChange(h)),u=d.useRef(),f=gm(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const h=o.viewport;if(h){const p=()=>{if(f(),!u.current){const m=XK(h,a);u.current=m,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,f,a]),l.jsx(_e.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ue(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),g=h.clientX-m.left,v=h.clientY-m.top;i.onThumbPointerDown({x:g,y:v})}),onPointerUp:ue(e.onPointerUp,i.onThumbPointerUp)})});YD.displayName=Ah;var Tw="ScrollAreaCorner",KD=d.forwardRef((e,t)=>{const r=xn(Tw,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?l.jsx(KK,{...e,ref:t}):null});KD.displayName=Tw;var KK=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=xn(Tw,r),[o,i]=d.useState(0),[a,c]=d.useState(0),u=!!(o&&a);return Qa(s.scrollbarX,()=>{var h;const f=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),Qa(s.scrollbarY,()=>{var h;const f=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(f),i(f)}),u?l.jsx(_e.div,{...n,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function $h(e){return e?parseInt(e,10):0}function ZD(e,t){const r=e/t;return isNaN(r)?0:r}function mm(e){const t=ZD(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function ZK(e,t,r,n="ltr"){const s=mm(r),o=s/2,i=t||o,a=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-a,f=r.content-r.viewport,h=n==="ltr"?[0,f]:[f*-1,0];return XD([c,u],h)(e)}function OC(e,t,r="ltr"){const n=mm(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-n,c=r==="ltr"?[0,i]:[i*-1,0],u=Ry(e,c);return XD([0,i],[0,a])(u)}function XD(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function JD(e,t){return e>0&&e<t}var XK=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,a=r.top!==o.top;(i||a)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function gm(e,t){const r=At(e),n=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),d.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Qa(e,t){const r=At(t);Zt(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function JK(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=d.Children.only(n);return d.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var QD=zD,QK=VD,eZ=KD;const Rw=d.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(QD,{ref:n,className:pe("relative overflow-hidden",e),...r,children:[l.jsx(QK,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(eO,{}),l.jsx(eZ,{})]}));Rw.displayName=QD.displayName;const eO=d.forwardRef(({className:e,orientation:t="vertical",...r},n)=>l.jsx(Dw,{ref:n,orientation:t,className:pe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:l.jsx(YD,{className:"relative flex-1 rounded-full bg-border"})}));eO.displayName=Dw.displayName;function tO({conversationId:e,otherParticipantId:t,listingId:r,listingType:n,onClose:s,isHost:o=!1}){const{user:i}=Dt(),[a,c]=d.useState([]),[u,f]=d.useState(""),[h,p]=d.useState(!0),[m,g]=d.useState(!1),[v,b]=d.useState(""),[x,y]=d.useState(null),w=d.useRef(null),S=d.useRef(null),_=d.useRef(null),C=d.useRef({}),j=d.useCallback(k=>{try{return F2(new Date(k),{addSuffix:!0})}catch{return"Just now"}},[]),N=d.useCallback(k=>k?k.split(" ").map(M=>M[0]).join("").toUpperCase().substring(0,2):"?",[]),E=d.useMemo(()=>a.map(k=>({...k,formattedTime:j(k.created_at)})),[a,j]);d.useEffect(()=>{const k=async()=>{try{if(p(!0),console.log("Fetching messages for conversation:",e),C.current[e]){console.log("Using cached messages for conversation:",e),c(C.current[e]),p(!1);return}const I=(await AK(e)).map($=>({...$,isCurrentUser:$.sender_id===(i==null?void 0:i.id)})).reverse();c(I),C.current[e]=I;const B=await $K(e);if(B){b(B.title||"Chat");const $=B.participants.find(F=>F.user_id!==(i==null?void 0:i.id));$&&y({id:$.user_id,name:$.name,avatar_url:$.avatar_url})}}catch(M){console.error("Error fetching messages:",M),be.error("Failed to load messages")}finally{p(!1)}};e&&(i!=null&&i.id)&&k()},[e,i==null?void 0:i.id]),d.useEffect(()=>{if(!e||!(i!=null&&i.id))return;if(_.current){console.log(`Using existing subscription for conversation: ${e}`);return}console.log(`Setting up subscription effect for conversation: ${e}`);const k=BK(e,M=>{if(M.sender_id!==(i==null?void 0:i.id)){const D={...M,isCurrentUser:!1,sender:x||void 0};c(I=>{if(I.some(F=>F.id===M.id))return I;const $=[...I,D];return C.current[e]=$,$})}});return _.current=k,()=>{_.current&&(console.log(`Cleaning up subscription from effect for conversation: ${e}`),_.current(),_.current=null)}},[e,i==null?void 0:i.id,x]),d.useEffect(()=>{w.current&&w.current.scrollIntoView({behavior:"smooth"})},[a]),d.useEffect(()=>{S.current&&S.current.focus()},[]);const P=async k=>{if(k.preventDefault(),!(!u.trim()||!(i!=null&&i.id)||m))try{g(!0);const M={id:Date.now(),conversation_id:e,sender_id:i.id,content:u,created_at:new Date().toISOString(),isCurrentUser:!0,sender:{id:i.id,name:i.name,avatar_url:i.picture||i.image}},D=[...a,M];c(D),C.current[e]=D,f(""),await IK(e,i.id,u)}catch(M){console.error("Error sending message:",M),be.error("Failed to send message");const D=a.filter(I=>typeof I.id=="number"?I.id!==Date.now():!0);c(D),C.current[e]=D}finally{g(!1),S.current&&S.current.focus()}};return l.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(ds,{children:[l.jsx(fs,{src:(x==null?void 0:x.avatar_url)||"",alt:(x==null?void 0:x.name)||"User"}),l.jsx(hs,{children:N(x==null?void 0:x.name)})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:(x==null?void 0:x.name)||"User"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:v})]})]}),l.jsx(ee,{variant:"ghost",size:"icon",onClick:s,children:l.jsx(Ua,{className:"h-4 w-4"})})]}),l.jsx(Rw,{className:"flex-1 p-4",children:h?l.jsxs("div",{className:"flex items-center justify-center h-full",children:[l.jsx(Ze,{className:"h-8 w-8 animate-spin text-primary"}),l.jsx("span",{className:"ml-2",children:"Loading messages..."})]}):a.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-muted-foreground p-4",children:[l.jsx("p",{children:"No messages yet"}),l.jsx("p",{className:"text-sm mt-1",children:"Start the conversation by sending a message!"})]}):l.jsxs("div",{className:"space-y-4",children:[E.map(k=>{var M,D,I;return l.jsx("div",{className:`flex ${k.isCurrentUser?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`flex ${k.isCurrentUser?"flex-row-reverse":"flex-row"} items-end gap-2 max-w-[80%]`,children:[!k.isCurrentUser&&l.jsxs(ds,{className:"h-8 w-8",children:[l.jsx(fs,{src:((M=k.sender)==null?void 0:M.avatar_url)||"",alt:((D=k.sender)==null?void 0:D.name)||"User"}),l.jsx(hs,{children:N((I=k.sender)==null?void 0:I.name)})]}),l.jsxs("div",{className:`px-4 py-2 rounded-2xl ${k.isCurrentUser?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:[l.jsx("div",{className:"break-words",children:k.content}),l.jsx("div",{className:`text-xs mt-1 ${k.isCurrentUser?"text-primary-foreground/70":"text-secondary-foreground/70"}`,children:k.formattedTime})]})]})},k.id)}),l.jsx("div",{ref:w})]})}),l.jsxs("form",{onSubmit:P,className:"border-t p-4 flex items-center gap-2",children:[l.jsx(Re,{ref:S,value:u,onChange:k=>f(k.target.value),placeholder:"Type a message...",className:"flex-1",disabled:m||h}),l.jsx(ee,{type:"submit",size:"icon",disabled:m||h||!u.trim(),children:m?l.jsx(Ze,{className:"h-4 w-4 animate-spin"}):l.jsx(_4,{className:"h-4 w-4"})})]})]})}const rO=d.createContext(void 0),nf=(e,t)=>[e,t].sort().join("-");function tZ({children:e}){const{user:t,isAuthenticated:r}=Dt(),n=d.useRef({}),s=d.useRef(new Set),o=async(f,h,p,m)=>{if(!r||!(t!=null&&t.id))throw new Error("User must be authenticated to get a conversation");if(t.id===f)throw new Error("Cannot create a conversation with yourself");const g=nf(t.id,f);if(n.current[g])return n.current[g];const{conversationId:v}=await MC(t.id,f,h,p,m);return n.current[g]=v,v},i=(f,h,p,m)=>{if(!r||!(t!=null&&t.id)||t.id===f)return;const g=nf(t.id,f);n.current[g]||s.current.has(g)||(s.current.add(g),setTimeout(async()=>{try{const{conversationId:v}=await MC(t.id,f,h,p,m);n.current[g]=v,console.log(`[ChatContext] Preloaded conversation: ${g} -> ${v}`)}catch(v){console.error("[ChatContext] Error preloading conversation:",v)}finally{s.current.delete(g)}},1e3))},a=f=>{if(!(t!=null&&t.id))return!1;const h=nf(t.id,f);return!!n.current[h]},c=f=>{if(!(t!=null&&t.id))return;const h=nf(t.id,f);return n.current[h]},u=()=>{n.current={},s.current.clear()};return d.useEffect(()=>{u()},[t==null?void 0:t.id]),l.jsx(rO.Provider,{value:{getConversationId:o,preloadConversation:i,isConversationCached:a,getCachedConversationId:c,clearCache:u},children:e})}function nO(){const e=d.useContext(rO);if(e===void 0)throw new Error("useChat must be used within a ChatProvider");return e}function rZ({isOpen:e,onOpenChange:t,otherUserId:r,listingId:n,listingType:s,listingTitle:o,preloadedConversationId:i}){const{user:a,isAuthenticated:c}=Dt(),{getConversationId:u}=nO(),[f,h]=d.useState(null),[p,m]=d.useState(!1),[g,v]=d.useState(!1),[b,x]=d.useState(void 0),y=d.useRef(!1);return d.useEffect(()=>{if(i&&e&&!y.current){console.log("[ChatDialog] Using preloaded conversation ID:",i),h(i),y.current=!0;return}(async()=>{if(!(y.current||!e)){if(!c||!(a!=null&&a.id)){console.log("[ChatDialog] Skipping conversation initialization - conditions not met");return}if(!r){console.log("[ChatDialog] Other user ID is missing"),x("Host information is missing. Unable to start conversation.");return}if(a.id===r){console.log("[ChatDialog] Self-messaging detected"),v(!0);return}try{m(!0),x(void 0);const _=await u(r,n,s,o);console.log(`[ChatDialog] Got conversation ID: ${_}`),h(_),y.current=!0}catch(_){console.error("[ChatDialog] Error initializing conversation:",_),x("Failed to start conversation. Please try again later."),be.error("Failed to start conversation"),t(!1)}finally{m(!1)}}})();let S=e;return()=>{S&&!e&&(y.current=!1,h(null))}},[e,a==null?void 0:a.id,r,c,n,s,o,t,u,i]),l.jsx(Up,{open:e,onOpenChange:t,children:l.jsxs(Yu,{className:"sm:max-w-[500px] h-[600px] p-0 overflow-hidden flex flex-col",children:[l.jsx(Ku,{children:l.jsx(zp,{children:"Chat with Host"})}),c?f?l.jsx(tO,{conversationId:f,otherParticipantId:r,listingId:n,listingType:s,onClose:()=>t(!1)}):l.jsx("div",{className:"flex items-center justify-center h-full p-6",children:l.jsx("div",{className:"text-center",children:p?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-4",children:"Setting up your conversation..."})]}):g?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-lg",children:"You can't message yourself"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please message another user"})]}):b?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-lg",children:b}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please check the listing and try again"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-lg",children:"Unable to start conversation"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please try again later"})]})})}):l.jsx("div",{className:"flex items-center justify-center h-full p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg",children:"Please sign in to chat"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"You need to be logged in to send messages"})]})})]})})}function Zy({hostId:e,listingId:t,listingType:r,listingTitle:n,variant:s="default",className:o,children:i,...a}){const[c,u]=d.useState(!1),{isAuthenticated:f,user:h}=Dt(),{preloadConversation:p,getCachedConversationId:m}=nO();d.useEffect(()=>{f&&(h!=null&&h.id)&&e&&p(e,t,r,n)},[f,h==null?void 0:h.id,e,t,r,n,p]);const g=()=>{if(!f){be.error("Please sign in to message the host",{description:"You need to be logged in to start a conversation",action:{label:"Sign In",onClick:()=>window.location.href="/login"}});return}u(!0)};return l.jsxs(l.Fragment,{children:[l.jsxs(ee,{variant:s,className:o,onClick:g,...a,children:[l.jsx(Zc,{className:"w-4 h-4 mr-2"}),i||"Message Host"]}),c&&l.jsx(rZ,{isOpen:c,onOpenChange:u,otherUserId:e,listingId:t,listingType:r,listingTitle:n,preloadedConversationId:h!=null&&h.id?m(e):void 0})]})}async function sO(e,t){const{data:r,error:n}=await V.from("reviews").select("rating").eq("target_id",e).eq("target_type",t);return n?(console.error("Error fetching ratings:",n),0):!r||r.length===0?0:r.reduce((o,i)=>o+i.rating,0)/r.length}async function oO(e,t){const{count:r,error:n}=await V.from("reviews").select("id",{count:"exact",head:!1}).eq("target_id",e).eq("target_type",t);return n?(console.error("Error counting reviews:",n),0):r||0}const nZ=["places"],sZ="AIzaSyDpB03uqoC8eWmdG8KRlBdiJaHWbXmtMgE",TC=()=>{var w,S;const{id:e}=Tu(),[t,r]=d.useState(null),[n,s]=d.useState(!0),[o,i]=d.useState(!1);d.useState(!1);const[a,c]=d.useState(0);d.useRef(null);const[u,f]=d.useState(0),[h,p]=d.useState(0),[m,g]=d.useState(0),{isLoaded:v}=gl({googleMapsApiKey:sZ,libraries:nZ,id:"google-map-script"}),b=_=>_?_.startsWith("http")?_:_.startsWith("food-experience-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${_}`:_:"/default-food.jpg";d.useEffect(()=>{const _=async()=>{if(e)try{s(!0);const j=await Ty(e);if(j){const N={...j,images:j.images.map(P=>({...P,url:b(P.url)}))};r(N);const E=await NV(e);i(E)}}catch(j){console.error("Error:",j)}finally{s(!1)}},C=async()=>{if(e)try{const j=await sO(e,"food_experience"),N=await oO(e,"food_experience");f(j),p(N)}catch(j){console.error("Error fetching review stats:",j)}};_(),C()},[e,m]);const x=()=>{g(_=>_+1)},y=async()=>{if(e)try{const _=await PV(e);i(_)}catch(_){console.error("Error toggling favorite status:",_)}};return n?l.jsx(Lt,{children:l.jsx("div",{className:"container mx-auto px-4 py-16 flex items-center justify-center min-h-[60vh]",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ze,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),l.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"Loading food details..."})]})})}):t?l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:t.title}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ls,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),l.jsx("span",{className:"font-medium",children:u.toFixed(1)}),l.jsxs("span",{children:["(",h," reviews)"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Rs,{className:"w-4 h-4"}),l.jsx("span",{children:t.details.location})]}),l.jsx(yn,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:t.cuisine_type})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Oh,{children:l.jsxs(Th,{children:[l.jsx(Rh,{asChild:!0,children:l.jsx(ee,{variant:"outline",size:"icon",onClick:y,className:o?"text-red-500":"",children:l.jsx(db,{className:`w-5 h-5 ${o?"fill-red-500":""}`})})}),l.jsx(uu,{children:l.jsx("p",{children:o?"Remove from favorites":"Add to favorites"})})]})}),l.jsx(Oh,{children:l.jsxs(Th,{children:[l.jsx(Rh,{asChild:!0,children:l.jsx(ee,{variant:"outline",size:"icon",children:l.jsx(Jk,{className:"w-5 h-5"})})}),l.jsx(uu,{children:l.jsx("p",{children:"Share this food"})})]})})]})]})}),l.jsx("div",{className:"mb-12",children:t.images&&t.images.length>0&&l.jsx(gD,{images:t.images.map((_,C)=>({url:_.url,order:C,caption:`${t.title} - Image ${C+1}`})),initialIndex:a})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-8",children:[l.jsx("div",{children:l.jsxs(ld,{defaultValue:"about",className:"mb-12",children:[l.jsxs(_l,{className:"mb-6",children:[l.jsx(zt,{value:"about",children:"About"}),l.jsx(zt,{value:"menu",children:"Menu"}),l.jsx(zt,{value:"host",children:"Host"}),l.jsx(zt,{value:"reviews",children:"Reviews"}),l.jsx(zt,{value:"location",children:"Location"})]}),l.jsx(Wt,{value:"about",className:"space-y-8",children:l.jsxs(Ve,{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"About this food"}),l.jsx("p",{className:"text-muted-foreground whitespace-pre-line leading-relaxed",children:t.description}),l.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[l.jsx(Kc,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Cuisine Type"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.cuisine_type})]})]})]})}),l.jsx(Wt,{value:"menu",className:"space-y-8",children:l.jsxs(Ve,{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Menu"}),l.jsx("p",{className:"text-muted-foreground whitespace-pre-line leading-relaxed",children:t.menu_description}),l.jsxs("div",{className:"mt-8 p-4 bg-primary/5 rounded-lg border border-primary/10",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(g4,{className:"w-5 h-5 text-primary"}),l.jsx("p",{className:"font-medium",children:"Price"})]}),l.jsxs("p",{className:"text-lg font-semibold",children:["$",t.price_per_person," per person"]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Pay directly to the host when you visit"})]})]})}),l.jsx(Wt,{value:"host",className:"space-y-8",children:l.jsxs(Ve,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsxs(ds,{className:"w-16 h-16",children:[l.jsx(fs,{src:t.host.image,alt:t.host.name}),l.jsx(hs,{children:t.host.name.charAt(0)})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-semibold",children:["Hosted by ",t.host.name]}),l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(ls,{className:"w-4 h-4 text-yellow-500 fill-yellow-500 mr-1"}),l.jsx("span",{className:"font-medium",children:t.host.rating}),l.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",t.host.reviews," reviews)"]})]})]})]}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"I'm passionate about sharing authentic cuisine from my culture. I've been cooking traditional dishes for over 15 years and love meeting people from around the world who appreciate our food traditions."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Zy,{hostId:(w=t.host)==null?void 0:w.id,listingId:e||"",listingType:"food_experience",listingTitle:t.title,className:"w-full",children:"Message Host"}),l.jsx("a",{href:"tel:",children:l.jsxs(ee,{variant:"outline",className:"w-full",children:[l.jsx(uy,{className:"w-4 h-4 mr-2"}),"Call Host"]})})]})]})}),l.jsx(Wt,{value:"reviews",className:"space-y-8",children:l.jsx(BD,{listingId:e||"",listingType:"food_experience",averageRating:u,reviewCount:h,onReviewSubmitted:x})}),l.jsx(Wt,{value:"location",className:"space-y-8",children:l.jsxs(Ve,{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Location"}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("p",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Rs,{className:"w-5 h-5 text-primary"}),l.jsx("span",{className:"font-medium",children:t.details.location})]}),l.jsx("p",{className:"text-muted-foreground ml-7",children:"Exact address will be provided after you contact the host"})]}),l.jsx("div",{className:"rounded-lg overflow-hidden mb-6 h-[300px]",children:v?t.coordinates?l.jsx(qu,{zoom:14,center:t.coordinates,mapContainerClassName:"w-full h-full",options:{styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},children:l.jsx(Ha,{position:t.coordinates,icon:{url:"/images/food-marker.svg",scaledSize:new google.maps.Size(40,40)}})}):l.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:l.jsx("p",{className:"text-muted-foreground",children:"Location coordinates not available"})}):l.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:l.jsx(Ze,{className:"h-8 w-8 animate-spin text-primary"})})}),t.coordinates&&l.jsx("div",{className:"flex justify-center mb-4",children:l.jsxs(ee,{variant:"outline",onClick:()=>{var _,C;return window.open(`https://www.google.com/maps/dir/?api=1&destination=${(_=t.coordinates)==null?void 0:_.lat},${(C=t.coordinates)==null?void 0:C.lng}`,"_blank")},children:[l.jsx(fb,{className:"w-4 h-4 mr-2"}),"Get Directions"]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"font-medium",children:"Nearby landmarks:"}),l.jsxs("ul",{className:"list-disc list-inside text-muted-foreground ml-2",children:[l.jsx("li",{children:"Central Park - 0.5 miles"}),l.jsx("li",{children:"Downtown Shopping Center - 1.2 miles"}),l.jsx("li",{children:"City Museum - 1.5 miles"})]})]})]})})]})}),l.jsx("div",{children:l.jsxs(Ve,{className:"p-6 sticky top-24 mb-6",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsxs("div",{children:[l.jsxs("span",{className:"text-3xl font-bold",children:["$",t.price_per_person]}),l.jsx("span",{className:"text-muted-foreground ml-1",children:"per person"})]})}),l.jsx(Tr,{className:"my-4"}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Rs,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Location"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.details.location})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Kc,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Cuisine"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.cuisine_type})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ru,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Host"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.host.name})]})]})]}),l.jsx(Tr,{className:"my-4"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs(Zy,{hostId:(S=t.host)==null?void 0:S.id,listingId:e||"",listingType:"food_experience",listingTitle:t.title,variant:"outline",children:[l.jsx(Zc,{className:"w-4 h-4 mr-2"}),"Message Host"]}),l.jsx("a",{href:"tel:",children:l.jsxs(ee,{variant:"outline",className:"w-full",children:[l.jsx(uy,{className:"w-4 h-4 mr-2"}),"Call Host"]})})]}),l.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4",children:"Contact the host to arrange your visit"})]})})]})]})}):l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Food not found"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"The food you're looking for doesn't exist or has been removed."}),l.jsx(ee,{children:"Browse Foods"})]})})};var je=function(){return je=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},je.apply(this,arguments)};function oZ(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function iO(e,t,r){for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function cd(e){return e.mode==="multiple"}function ud(e){return e.mode==="range"}function vm(e){return e.mode==="single"}var iZ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function aZ(e,t){return bt(e,"LLLL y",t)}function lZ(e,t){return bt(e,"d",t)}function cZ(e,t){return bt(e,"LLLL",t)}function uZ(e){return"".concat(e)}function dZ(e,t){return bt(e,"cccccc",t)}function fZ(e,t){return bt(e,"yyyy",t)}var hZ=Object.freeze({__proto__:null,formatCaption:aZ,formatDay:lZ,formatMonthCaption:cZ,formatWeekNumber:uZ,formatWeekdayName:dZ,formatYearCaption:fZ}),pZ=function(e,t,r){return bt(e,"do MMMM (EEEE)",r)},mZ=function(){return"Month: "},gZ=function(){return"Go to next month"},vZ=function(){return"Go to previous month"},yZ=function(e,t){return bt(e,"cccc",t)},xZ=function(e){return"Week n. ".concat(e)},bZ=function(){return"Year: "},wZ=Object.freeze({__proto__:null,labelDay:pZ,labelMonthDropdown:mZ,labelNext:gZ,labelPrevious:vZ,labelWeekNumber:xZ,labelWeekday:yZ,labelYearDropdown:bZ});function SZ(){var e="buttons",t=iZ,r=Hb,n={},s={},o=1,i={},a=new Date;return{captionLayout:e,classNames:t,formatters:hZ,labels:wZ,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:o,styles:i,today:a,mode:"default"}}function _Z(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return n?o=Or(n):t&&(o=new Date(t,0,1)),s?i=Bp(s):r&&(i=new Date(r,11,31)),{fromDate:o?Ga(o):void 0,toDate:i?Ga(i):void 0}}var aO=d.createContext(void 0);function CZ(e){var t,r=e.initialProps,n=SZ(),s=_Z(r),o=s.fromDate,i=s.toDate,a=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;a!=="buttons"&&(!o||!i)&&(a="buttons");var c;(vm(r)||cd(r)||ud(r))&&(c=r.onSelect);var u=je(je(je({},n),r),{captionLayout:a,classNames:je(je({},n.classNames),r.classNames),components:je({},r.components),formatters:je(je({},n.formatters),r.formatters),fromDate:o,labels:je(je({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:je(je({},n.modifiers),r.modifiers),modifiersClassNames:je(je({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:je(je({},n.styles),r.styles),toDate:i});return l.jsx(aO.Provider,{value:u,children:e.children})}function pt(){var e=d.useContext(aO);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function lO(e){var t=pt(),r=t.locale,n=t.classNames,s=t.styles,o=t.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:r})})}function EZ(e){return l.jsx("svg",je({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function cO(e){var t,r,n=e.onChange,s=e.value,o=e.children,i=e.caption,a=e.className,c=e.style,u=pt(),f=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:EZ;return l.jsxs("div",{className:a,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:o}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,l.jsx(f,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function jZ(e){var t,r=pt(),n=r.fromDate,s=r.toDate,o=r.styles,i=r.locale,a=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,f=r.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var h=[];if(dV(n,s))for(var p=Or(n),m=n.getMonth();m<=s.getMonth();m++)h.push(jg(p,m));else for(var p=Or(new Date),m=0;m<=11;m++)h.push(jg(p,m));var g=function(b){var x=Number(b.target.value),y=jg(Or(e.displayMonth),x);e.onChange(y)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:cO;return l.jsx(v,{name:"months","aria-label":f(),className:c.dropdown_month,style:o.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:a(e.displayMonth,{locale:i}),children:h.map(function(b){return l.jsx("option",{value:b.getMonth(),children:a(b,{locale:i})},b.getMonth())})})}function kZ(e){var t,r=e.displayMonth,n=pt(),s=n.fromDate,o=n.toDate,i=n.locale,a=n.styles,c=n.classNames,u=n.components,f=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,p=[];if(!s)return l.jsx(l.Fragment,{});if(!o)return l.jsx(l.Fragment,{});for(var m=s.getFullYear(),g=o.getFullYear(),v=m;v<=g;v++)p.push($_(O2(new Date),v));var b=function(y){var w=$_(Or(r),Number(y.target.value));e.onChange(w)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:cO;return l.jsx(x,{name:"years","aria-label":h(),className:c.dropdown_year,style:a.dropdown_year,onChange:b,value:r.getFullYear(),caption:f(r,{locale:i}),children:p.map(function(y){return l.jsx("option",{value:y.getFullYear(),children:f(y,{locale:i})},y.getFullYear())})})}function NZ(e,t){var r=d.useState(e),n=r[0],s=r[1],o=t===void 0?n:t;return[o,s]}function PZ(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,o=e.toDate,i=e.fromDate,a=e.numberOfMonths,c=a===void 0?1:a;if(o&&Ya(o,s)<0){var u=-1*(c-1);s=Bn(o,u)}return i&&Ya(s,i)<0&&(s=i),Or(s)}function LZ(){var e=pt(),t=PZ(e),r=NZ(t,e.month),n=r[0],s=r[1],o=function(i){var a;if(!e.disableNavigation){var c=Or(i);s(c),(a=e.onMonthChange)===null||a===void 0||a.call(e,c)}};return[n,o]}function MZ(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Or(e),o=Or(Bn(s,n)),i=Ya(o,s),a=[],c=0;c<i;c++){var u=Bn(s,c);a.push(u)}return r&&(a=a.reverse()),a}function DZ(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=n?o:1,a=Or(e);if(!r)return Bn(a,i);var c=Ya(r,e);if(!(c<o))return Bn(a,i)}}function OZ(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=n?o:1,a=Or(e);if(!r)return Bn(a,-i);var c=Ya(a,r);if(!(c<=0))return Bn(a,-i)}}var uO=d.createContext(void 0);function TZ(e){var t=pt(),r=LZ(),n=r[0],s=r[1],o=MZ(n,t),i=DZ(n,t),a=OZ(n,t),c=function(h){return o.some(function(p){return Gb(h,p)})},u=function(h,p){c(h)||(p&&B2(h,p)?s(Bn(h,1+t.numberOfMonths*-1)):s(h))},f={currentMonth:n,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:a,nextMonth:i,isDateDisplayed:c};return l.jsx(uO.Provider,{value:f,children:e.children})}function dd(){var e=d.useContext(uO);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function RC(e){var t,r=pt(),n=r.classNames,s=r.styles,o=r.components,i=dd().goToMonth,a=function(f){i(Bn(f,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:lO,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:u}),l.jsx(jZ,{onChange:a,displayMonth:e.displayMonth}),l.jsx(kZ,{onChange:a,displayMonth:e.displayMonth})]})}function RZ(e){return l.jsx("svg",je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function IZ(e){return l.jsx("svg",je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Fh=d.forwardRef(function(e,t){var r=pt(),n=r.classNames,s=r.styles,o=[n.button_reset,n.button];e.className&&o.push(e.className);var i=o.join(" "),a=je(je({},s.button_reset),s.button);return e.style&&Object.assign(a,e.style),l.jsx("button",je({},e,{ref:t,type:"button",className:i,style:a}))});function AZ(e){var t,r,n=pt(),s=n.dir,o=n.locale,i=n.classNames,a=n.styles,c=n.labels,u=c.labelPrevious,f=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var p=u(e.previousMonth,{locale:o}),m=[i.nav_button,i.nav_button_previous].join(" "),g=f(e.nextMonth,{locale:o}),v=[i.nav_button,i.nav_button_next].join(" "),b=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:IZ,x=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:RZ;return l.jsxs("div",{className:i.nav,style:a.nav,children:[!e.hidePrevious&&l.jsx(Fh,{name:"previous-month","aria-label":p,className:m,style:a.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(b,{className:i.nav_icon,style:a.nav_icon}):l.jsx(x,{className:i.nav_icon,style:a.nav_icon})}),!e.hideNext&&l.jsx(Fh,{name:"next-month","aria-label":g,className:v,style:a.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(x,{className:i.nav_icon,style:a.nav_icon}):l.jsx(b,{className:i.nav_icon,style:a.nav_icon})})]})}function IC(e){var t=pt().numberOfMonths,r=dd(),n=r.previousMonth,s=r.nextMonth,o=r.goToMonth,i=r.displayMonths,a=i.findIndex(function(g){return Gb(e.displayMonth,g)}),c=a===0,u=a===i.length-1,f=t>1&&(c||!u),h=t>1&&(u||!c),p=function(){n&&o(n)},m=function(){s&&o(s)};return l.jsx(AZ,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:h,nextMonth:s,previousMonth:n,onPreviousClick:p,onNextClick:m})}function $Z(e){var t,r=pt(),n=r.classNames,s=r.disableNavigation,o=r.styles,i=r.captionLayout,a=r.components,c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:lO,u;return s?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=l.jsx(RC,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(RC,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(IC,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(IC,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:n.caption,style:o.caption,children:u})}function FZ(e){var t=pt(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?l.jsx("tfoot",{className:s,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:r})})}):l.jsx(l.Fragment,{})}function BZ(e,t,r){for(var n=r?Ei(new Date):ps(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=Bt(n,o);s.push(i)}return s}function UZ(){var e=pt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,a=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=BZ(s,o,i);return l.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&l.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(f,h){return l.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(f,{locale:s}),children:a(f,{locale:s})},h)})]})}function zZ(){var e,t=pt(),r=t.classNames,n=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:UZ;return l.jsx("thead",{style:n.head,className:r.head,children:l.jsx(o,{})})}function WZ(e){var t=pt(),r=t.locale,n=t.formatters.formatDay;return l.jsx(l.Fragment,{children:n(e.date,{locale:r})})}var Iw=d.createContext(void 0);function VZ(e){if(!cd(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(Iw.Provider,{value:t,children:e.children})}return l.jsx(HZ,{initialProps:e.initialProps,children:e.children})}function HZ(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,o=t.max,i=function(u,f,h){var p,m;(p=t.onDayClick)===null||p===void 0||p.call(t,u,f,h);var g=!!(f.selected&&s&&(n==null?void 0:n.length)===s);if(!g){var v=!!(!f.selected&&o&&(n==null?void 0:n.length)===o);if(!v){var b=n?iO([],n):[];if(f.selected){var x=b.findIndex(function(y){return Pr(u,y)});b.splice(x,1)}else b.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,b,u,f,h)}}},a={disabled:[]};n&&a.disabled.push(function(u){var f=o&&n.length>o-1,h=n.some(function(p){return Pr(p,u)});return!!(f&&!h)});var c={selected:n,onDayClick:i,modifiers:a};return l.jsx(Iw.Provider,{value:c,children:r})}function Aw(){var e=d.useContext(Iw);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function GZ(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?Pr(s,e)&&Pr(n,e)?void 0:Pr(s,e)?{from:s,to:void 0}:Pr(n,e)?void 0:Oy(n,e)?{from:e,to:s}:{from:n,to:e}:s?Oy(e,s)?{from:s,to:e}:{from:e,to:s}:n?B2(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var $w=d.createContext(void 0);function qZ(e){if(!ud(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx($w.Provider,{value:t,children:e.children})}return l.jsx(YZ,{initialProps:e.initialProps,children:e.children})}function YZ(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},o=s.from,i=s.to,a=t.min,c=t.max,u=function(m,g,v){var b,x;(b=t.onDayClick)===null||b===void 0||b.call(t,m,g,v);var y=GZ(m,n);(x=t.onSelect)===null||x===void 0||x.call(t,y,m,g,v)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(f.range_start=[o],i?(f.range_end=[i],Pr(o,i)||(f.range_middle=[{after:o,before:i}])):f.range_end=[o]):i&&(f.range_start=[i],f.range_end=[i]),a&&(o&&!i&&f.disabled.push({after:Cg(o,a-1),before:Bt(o,a-1)}),o&&i&&f.disabled.push({after:o,before:Bt(o,a-1)}),!o&&i&&f.disabled.push({after:Cg(i,a-1),before:Bt(i,a-1)})),c){if(o&&!i&&(f.disabled.push({before:Bt(o,-c+1)}),f.disabled.push({after:Bt(o,c-1)})),o&&i){var h=Mn(i,o)+1,p=c-h;f.disabled.push({before:Cg(o,p)}),f.disabled.push({after:Bt(i,p)})}!o&&i&&(f.disabled.push({before:Bt(i,-c+1)}),f.disabled.push({after:Bt(i,c-1)}))}return l.jsx($w.Provider,{value:{selected:n,onDayClick:u,modifiers:f},children:r})}function Fw(){var e=d.useContext($w);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function kf(e){return Array.isArray(e)?iO([],e):e!==void 0?[e]:[]}function KZ(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=kf(s)}),t}var Un;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Un||(Un={}));var ZZ=Un.Selected,Cs=Un.Disabled,XZ=Un.Hidden,JZ=Un.Today,Vg=Un.RangeEnd,Hg=Un.RangeMiddle,Gg=Un.RangeStart,QZ=Un.Outside;function eX(e,t,r){var n,s=(n={},n[ZZ]=kf(e.selected),n[Cs]=kf(e.disabled),n[XZ]=kf(e.hidden),n[JZ]=[e.today],n[Vg]=[],n[Hg]=[],n[Gg]=[],n[QZ]=[],n);return e.fromDate&&s[Cs].push({before:e.fromDate}),e.toDate&&s[Cs].push({after:e.toDate}),cd(e)?s[Cs]=s[Cs].concat(t.modifiers[Cs]):ud(e)&&(s[Cs]=s[Cs].concat(r.modifiers[Cs]),s[Gg]=r.modifiers[Gg],s[Hg]=r.modifiers[Hg],s[Vg]=r.modifiers[Vg]),s}var dO=d.createContext(void 0);function tX(e){var t=pt(),r=Aw(),n=Fw(),s=eX(t,r,n),o=KZ(t.modifiers),i=je(je({},s),o);return l.jsx(dO.Provider,{value:i,children:e.children})}function fO(){var e=d.useContext(dO);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function rX(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function nX(e){return!!(e&&typeof e=="object"&&"from"in e)}function sX(e){return!!(e&&typeof e=="object"&&"after"in e)}function oX(e){return!!(e&&typeof e=="object"&&"before"in e)}function iX(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function aX(e,t){var r,n=t.from,s=t.to;if(n&&s){var o=Mn(s,n)<0;o&&(r=[s,n],n=r[0],s=r[1]);var i=Mn(e,n)>=0&&Mn(s,e)>=0;return i}return s?Pr(s,e):n?Pr(n,e):!1}function lX(e){return Wb(e)}function cX(e){return Array.isArray(e)&&e.every(Wb)}function uX(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(lX(r))return Pr(e,r);if(cX(r))return r.includes(e);if(nX(r))return aX(e,r);if(iX(r))return r.dayOfWeek.includes(e.getDay());if(rX(r)){var n=Mn(r.before,e),s=Mn(r.after,e),o=n>0,i=s<0,a=Oy(r.before,r.after);return a?i&&o:o||i}return sX(r)?Mn(e,r.after)>0:oX(r)?Mn(r.before,e)>0:typeof r=="function"?r(e):!1})}function Bw(e,t,r){var n=Object.keys(t).reduce(function(o,i){var a=t[i];return uX(e,a)&&o.push(i),o},[]),s={};return n.forEach(function(o){return s[o]=!0}),r&&!Gb(e,r)&&(s.outside=!0),s}function dX(e,t){for(var r=Or(e[0]),n=Bp(e[e.length-1]),s,o,i=r;i<=n;){var a=Bw(i,t),c=!a.disabled&&!a.hidden;if(!c){i=Bt(i,1);continue}if(a.selected)return i;a.today&&!o&&(o=i),s||(s=i),i=Bt(i,1)}return o||s}var fX=365;function hO(e,t){var r=t.moveBy,n=t.direction,s=t.context,o=t.modifiers,i=t.retry,a=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,f=s.toDate,h=s.locale,p={day:Bt,week:Dy,month:Bn,year:Qz,startOfWeek:function(b){return s.ISOWeek?Ei(b):ps(b,{locale:h,weekStartsOn:c})},endOfWeek:function(b){return s.ISOWeek?T2(b):Vb(b,{locale:h,weekStartsOn:c})}},m=p[r](e,n==="after"?1:-1);n==="before"&&u?m=eW([u,m]):n==="after"&&f&&(m=tW([f,m]));var g=!0;if(o){var v=Bw(m,o);g=!v.disabled&&!v.hidden}return g?m:a.count>fX?a.lastFocused:hO(m,{moveBy:r,direction:n,context:s,modifiers:o,retry:je(je({},a),{count:a.count+1})})}var pO=d.createContext(void 0);function hX(e){var t=dd(),r=fO(),n=d.useState(),s=n[0],o=n[1],i=d.useState(),a=i[0],c=i[1],u=dX(t.displayMonths,r),f=s??(a&&t.isDateDisplayed(a))?a:u,h=function(){c(s),o(void 0)},p=function(b){o(b)},m=pt(),g=function(b,x){if(s){var y=hO(s,{moveBy:b,direction:x,context:m,modifiers:r});Pr(s,y)||(t.goToDate(y,s),p(y))}},v={focusedDay:s,focusTarget:f,blur:h,focus:p,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return l.jsx(pO.Provider,{value:v,children:e.children})}function Uw(){var e=d.useContext(pO);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function pX(e,t){var r=fO(),n=Bw(e,r,t);return n}var zw=d.createContext(void 0);function mX(e){if(!vm(e.initialProps)){var t={selected:void 0};return l.jsx(zw.Provider,{value:t,children:e.children})}return l.jsx(gX,{initialProps:e.initialProps,children:e.children})}function gX(e){var t=e.initialProps,r=e.children,n=function(o,i,a){var c,u,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,a),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,a);return}(f=t.onSelect)===null||f===void 0||f.call(t,o,o,i,a)},s={selected:t.selected,onDayClick:n};return l.jsx(zw.Provider,{value:s,children:r})}function mO(){var e=d.useContext(zw);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function vX(e,t){var r=pt(),n=mO(),s=Aw(),o=Fw(),i=Uw(),a=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,f=i.focusWeekBefore,h=i.blur,p=i.focus,m=i.focusMonthBefore,g=i.focusMonthAfter,v=i.focusYearBefore,b=i.focusYearAfter,x=i.focusStartOfWeek,y=i.focusEndOfWeek,w=function(F){var O,L,U,W;vm(r)?(O=n.onDayClick)===null||O===void 0||O.call(n,e,t,F):cd(r)?(L=s.onDayClick)===null||L===void 0||L.call(s,e,t,F):ud(r)?(U=o.onDayClick)===null||U===void 0||U.call(o,e,t,F):(W=r.onDayClick)===null||W===void 0||W.call(r,e,t,F)},S=function(F){var O;p(e),(O=r.onDayFocus)===null||O===void 0||O.call(r,e,t,F)},_=function(F){var O;h(),(O=r.onDayBlur)===null||O===void 0||O.call(r,e,t,F)},C=function(F){var O;(O=r.onDayMouseEnter)===null||O===void 0||O.call(r,e,t,F)},j=function(F){var O;(O=r.onDayMouseLeave)===null||O===void 0||O.call(r,e,t,F)},N=function(F){var O;(O=r.onDayPointerEnter)===null||O===void 0||O.call(r,e,t,F)},E=function(F){var O;(O=r.onDayPointerLeave)===null||O===void 0||O.call(r,e,t,F)},P=function(F){var O;(O=r.onDayTouchCancel)===null||O===void 0||O.call(r,e,t,F)},k=function(F){var O;(O=r.onDayTouchEnd)===null||O===void 0||O.call(r,e,t,F)},M=function(F){var O;(O=r.onDayTouchMove)===null||O===void 0||O.call(r,e,t,F)},D=function(F){var O;(O=r.onDayTouchStart)===null||O===void 0||O.call(r,e,t,F)},I=function(F){var O;(O=r.onDayKeyUp)===null||O===void 0||O.call(r,e,t,F)},B=function(F){var O;switch(F.key){case"ArrowLeft":F.preventDefault(),F.stopPropagation(),r.dir==="rtl"?a():c();break;case"ArrowRight":F.preventDefault(),F.stopPropagation(),r.dir==="rtl"?c():a();break;case"ArrowDown":F.preventDefault(),F.stopPropagation(),u();break;case"ArrowUp":F.preventDefault(),F.stopPropagation(),f();break;case"PageUp":F.preventDefault(),F.stopPropagation(),F.shiftKey?v():m();break;case"PageDown":F.preventDefault(),F.stopPropagation(),F.shiftKey?b():g();break;case"Home":F.preventDefault(),F.stopPropagation(),x();break;case"End":F.preventDefault(),F.stopPropagation(),y();break}(O=r.onDayKeyDown)===null||O===void 0||O.call(r,e,t,F)},$={onClick:w,onFocus:S,onBlur:_,onKeyDown:B,onKeyUp:I,onMouseEnter:C,onMouseLeave:j,onPointerEnter:N,onPointerLeave:E,onTouchCancel:P,onTouchEnd:k,onTouchMove:M,onTouchStart:D};return $}function yX(){var e=pt(),t=mO(),r=Aw(),n=Fw(),s=vm(e)?t.selected:cd(e)?r.selected:ud(e)?n.selected:void 0;return s}function xX(e){return Object.values(Un).includes(e)}function bX(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(xX(n)){var o=e.classNames["day_".concat(n)];o&&r.push(o)}}),r}function wX(e,t){var r=je({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=je(je({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function SX(e,t,r){var n,s,o,i=pt(),a=Uw(),c=pX(e,t),u=vX(e,c),f=yX(),h=!!(i.onDayClick||i.mode!=="default");d.useEffect(function(){var C;c.outside||a.focusedDay&&h&&Pr(a.focusedDay,e)&&((C=r.current)===null||C===void 0||C.focus())},[a.focusedDay,e,r,h,c.outside]);var p=bX(i,c).join(" "),m=wX(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),v=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:WZ,b=l.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),x={style:m,className:p,children:b,role:"gridcell"},y=a.focusTarget&&Pr(a.focusTarget,e)&&!c.outside,w=a.focusedDay&&Pr(a.focusedDay,e),S=je(je(je({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||y?0:-1,n)),u),_={isButton:h,isHidden:g,activeModifiers:c,selectedDays:f,buttonProps:S,divProps:x};return _}function _X(e){var t=d.useRef(null),r=SX(e.date,e.displayMonth,t);return r.isHidden?l.jsx("div",{role:"gridcell"}):r.isButton?l.jsx(Fh,je({name:"day",ref:t},r.buttonProps)):l.jsx("div",je({},r.divProps))}function CX(e){var t=e.number,r=e.dates,n=pt(),s=n.onWeekNumberClick,o=n.styles,i=n.classNames,a=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,f=u(Number(t),{locale:a});if(!s)return l.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:f});var h=c(Number(t),{locale:a}),p=function(m){s(t,r,m)};return l.jsx(Fh,{name:"week-number","aria-label":h,className:i.weeknumber,style:o.weeknumber,onClick:p,children:f})}function EX(e){var t,r,n=pt(),s=n.styles,o=n.classNames,i=n.showWeekNumber,a=n.components,c=(t=a==null?void 0:a.Day)!==null&&t!==void 0?t:_X,u=(r=a==null?void 0:a.WeekNumber)!==null&&r!==void 0?r:CX,f;return i&&(f=l.jsx("td",{className:o.cell,style:s.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:o.row,style:s.row,children:[f,e.dates.map(function(h){return l.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:h})},lV(h))})]})}function AC(e,t,r){for(var n=r!=null&&r.ISOWeek?T2(t):Vb(t,r),s=r!=null&&r.ISOWeek?Ei(e):ps(e,r),o=Mn(n,s),i=[],a=0;a<=o;a++)i.push(Bt(s,a));var c=i.reduce(function(u,f){var h=r!=null&&r.ISOWeek?R2(f):A2(f,r),p=u.find(function(m){return m.weekNumber===h});return p?(p.dates.push(f),u):(u.push({weekNumber:h,dates:[f]}),u)},[]);return c}function jX(e,t){var r=AC(Or(e),Bp(e),t);if(t!=null&&t.useFixedWeeks){var n=uV(e,t);if(n<6){var s=r[r.length-1],o=s.dates[s.dates.length-1],i=Dy(o,6-n),a=AC(Dy(o,1),i,t);r.push.apply(r,a)}}return r}function kX(e){var t,r,n,s=pt(),o=s.locale,i=s.classNames,a=s.styles,c=s.hideHead,u=s.fixedWeeks,f=s.components,h=s.weekStartsOn,p=s.firstWeekContainsDate,m=s.ISOWeek,g=jX(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:o,weekStartsOn:h,firstWeekContainsDate:p}),v=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:zZ,b=(r=f==null?void 0:f.Row)!==null&&r!==void 0?r:EX,x=(n=f==null?void 0:f.Footer)!==null&&n!==void 0?n:FZ;return l.jsxs("table",{id:e.id,className:i.table,style:a.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(v,{}),l.jsx("tbody",{className:i.tbody,style:a.tbody,children:g.map(function(y){return l.jsx(b,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),l.jsx(x,{displayMonth:e.displayMonth})]})}function NX(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var PX=NX()?d.useLayoutEffect:d.useEffect,qg=!1,LX=0;function $C(){return"react-day-picker-".concat(++LX)}function MX(e){var t,r=e??(qg?$C():null),n=d.useState(r),s=n[0],o=n[1];return PX(function(){s===null&&o($C())},[]),d.useEffect(function(){qg===!1&&(qg=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function DX(e){var t,r,n=pt(),s=n.dir,o=n.classNames,i=n.styles,a=n.components,c=dd().displayMonths,u=MX(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[o.month],p=i.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,v=!m&&!g;s==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(h.push(o.caption_start),p=je(je({},p),i.caption_start)),g&&(h.push(o.caption_end),p=je(je({},p),i.caption_end)),v&&(h.push(o.caption_between),p=je(je({},p),i.caption_between));var b=(r=a==null?void 0:a.Caption)!==null&&r!==void 0?r:$Z;return l.jsxs("div",{className:h.join(" "),style:p,children:[l.jsx(b,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(kX,{id:f,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function OX(e){var t=pt(),r=t.classNames,n=t.styles;return l.jsx("div",{className:r.months,style:n.months,children:e.children})}function TX(e){var t,r,n=e.initialProps,s=pt(),o=Uw(),i=dd(),a=d.useState(!1),c=a[0],u=a[1];d.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var f=[s.classNames.root,s.className];s.numberOfMonths>1&&f.push(s.classNames.multiple_months),s.showWeekNumber&&f.push(s.classNames.with_weeknumber);var h=je(je({},s.styles.root),s.style),p=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,v){var b;return je(je({},g),(b={},b[v]=n[v],b))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:OX;return l.jsx("div",je({className:f.join(" "),style:h,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:l.jsx(m,{children:i.displayMonths.map(function(g,v){return l.jsx(DX,{displayIndex:v,displayMonth:g},v)})})}))}function RX(e){var t=e.children,r=oZ(e,["children"]);return l.jsx(CZ,{initialProps:r,children:l.jsx(TZ,{children:l.jsx(mX,{initialProps:r,children:l.jsx(VZ,{initialProps:r,children:l.jsx(qZ,{initialProps:r,children:l.jsx(tX,{children:l.jsx(hX,{children:t})})})})})})})}function IX(e){return l.jsx(RX,je({},e,{children:l.jsx(TX,{initialProps:e})}))}function Ww({className:e,classNames:t,showOutsideDays:r=!0,...n}){return l.jsx(IX,{showOutsideDays:r,className:pe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:pe(ly({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:pe(ly({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>l.jsx(cy,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(oh,{className:"h-4 w-4"})},...n})}Ww.displayName="Calendar";var Vw="Popover",[gO,Bre]=Wn(Vw,[Yo]),fd=Yo(),[AX,Jo]=gO(Vw),vO=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,a=fd(t),c=d.useRef(null),[u,f]=d.useState(!1),[h=!1,p]=cs({prop:n,defaultProp:s,onChange:o});return l.jsx(Dp,{...a,children:l.jsx(AX,{scope:t,contentId:fn(),triggerRef:c,open:h,onOpenChange:p,onOpenToggle:d.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:u,onCustomAnchorAdd:d.useCallback(()=>f(!0),[]),onCustomAnchorRemove:d.useCallback(()=>f(!1),[]),modal:i,children:r})})};vO.displayName=Vw;var yO="PopoverAnchor",$X=d.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Jo(yO,r),o=fd(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return d.useEffect(()=>(i(),()=>a()),[i,a]),l.jsx(Uu,{...o,...n,ref:t})});$X.displayName=yO;var xO="PopoverTrigger",bO=d.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Jo(xO,r),o=fd(r),i=Fe(t,s.triggerRef),a=l.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":EO(s.open),...n,ref:i,onClick:ue(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(Uu,{asChild:!0,...o,children:a})});bO.displayName=xO;var Hw="PopoverPortal",[FX,BX]=gO(Hw,{forceMount:void 0}),wO=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=Jo(Hw,t);return l.jsx(FX,{scope:t,forceMount:r,children:l.jsx(sr,{present:r||o.open,children:l.jsx(zu,{asChild:!0,container:s,children:n})})})};wO.displayName=Hw;var el="PopoverContent",SO=d.forwardRef((e,t)=>{const r=BX(el,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=Jo(el,e.__scopePopover);return l.jsx(sr,{present:n||o.open,children:o.modal?l.jsx(UX,{...s,ref:t}):l.jsx(zX,{...s,ref:t})})});SO.displayName=el;var UX=d.forwardRef((e,t)=>{const r=Jo(el,e.__scopePopover),n=d.useRef(null),s=Fe(t,n),o=d.useRef(!1);return d.useEffect(()=>{const i=n.current;if(i)return Wu(i)},[]),l.jsx(Vu,{as,allowPinchZoom:!0,children:l.jsx(_O,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,u=a.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ue(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),zX=d.forwardRef((e,t)=>{const r=Jo(el,e.__scopePopover),n=d.useRef(!1),s=d.useRef(!1);return l.jsx(_O,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),_O=d.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...h}=e,p=Jo(el,r),m=fd(r);return Np(),l.jsx(Fu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(hl,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:l.jsx(Op,{"data-state":EO(p.open),role:"dialog",id:p.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CO="PopoverClose",WX=d.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Jo(CO,r);return l.jsx(_e.button,{type:"button",...n,ref:t,onClick:ue(e.onClick,()=>s.onOpenChange(!1))})});WX.displayName=CO;var VX="PopoverArrow",HX=d.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=fd(r);return l.jsx(Tp,{...s,...n,ref:t})});HX.displayName=VX;function EO(e){return e?"open":"closed"}var GX=vO,qX=bO,YX=wO,jO=SO;const Gw=GX,qw=qX,ym=d.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>l.jsx(YX,{children:l.jsx(jO,{ref:s,align:t,sideOffset:r,className:pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ym.displayName=jO.displayName;function kO({className:e,date:t,onDateChange:r}){return l.jsx("div",{className:pe("grid gap-2",e),children:l.jsxs(Gw,{children:[l.jsx(qw,{asChild:!0,children:l.jsxs(ee,{id:"date",variant:"outline",className:pe("w-[300px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[l.jsx(xp,{className:"mr-2 h-4 w-4"}),t!=null&&t.from?t.to?l.jsxs(l.Fragment,{children:[bt(t.from,"LLL dd, y")," -"," ",bt(t.to,"LLL dd, y")]}):bt(t.from,"LLL dd, y"):l.jsx("span",{children:"Pick a date range"})]})}),l.jsx(ym,{className:"w-auto p-0",align:"start",children:l.jsx(Ww,{initialFocus:!0,mode:"range",defaultMonth:t==null?void 0:t.from,selected:t,onSelect:r,numberOfMonths:2})})]})})}var KX="Label",NO=d.forwardRef((e,t)=>l.jsx(_e.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));NO.displayName=KX;var PO=NO;const ZX=yp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),jt=d.forwardRef(({className:e,...t},r)=>l.jsx(PO,{ref:r,className:pe(ZX(),e),...t}));jt.displayName=PO.displayName;const FC=e=>e?e.startsWith("http")?e:e.startsWith("stay-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${e}`:`${e}`:"/images/placeholder-stay.jpg",XX=({stay:e,onClick:t,propertyTypes:r=[]})=>{var p;const n=Mt(),{id:s,title:o="Untitled Stay",description:i="",image:a,price_per_night:c=0,host:u={name:"Unknown Host",image:"",rating:0,reviews:0},details:f={bedrooms:1,beds:1,bathrooms:1,maxGuests:2,amenities:[],location:"Location not specified",propertyType:"room"}}=e||{},h=()=>{t?t():n(`/stays/${s}`)};return l.jsxs(Ve,{className:"group overflow-hidden hover:shadow-lg transition-all duration-300",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"aspect-[4/3] overflow-hidden cursor-pointer",onClick:h,children:l.jsx("img",{src:FC(a||""),alt:o,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),l.jsx(yn,{className:"absolute bottom-2 left-2 bg-white/90 text-black hover:bg-white/90",children:((p=r.find(m=>m.id===f.propertyType))==null?void 0:p.label)||"Stay"})]}),l.jsxs(ss,{className:"cursor-pointer",onClick:h,children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx(os,{className:"text-xl",children:o}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ls,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),l.jsxs("span",{className:"text-sm",children:[u.rating.toFixed(1)," (",u.reviews,")"]})]})]}),l.jsx(JL,{className:"line-clamp-2 mt-1",children:i})]}),l.jsxs(Ut,{children:[l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Yk,{className:"w-4 h-4"}),l.jsxs("span",{children:[f.bedrooms," ",f.bedrooms===1?"bedroom":"bedrooms"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ru,{className:"w-4 h-4"}),l.jsxs("span",{children:[f.maxGuests," guests"]})]})]}),l.jsx("div",{className:"mt-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:FC(u.image),alt:u.name,className:"w-8 h-8 rounded-full object-cover"}),l.jsx("span",{className:"text-sm",children:u.name})]}),l.jsxs("span",{className:"text-lg font-semibold text-primary",children:["$",c,l.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/night"})]})]})})]}),l.jsx(QL,{className:"pt-0",children:l.jsx(ee,{className:"w-full",onClick:h,children:"View Details"})})]})},BC=[{id:"room",label:"Private Room",description:"A private room in a home"},{id:"apartment",label:"Apartment",description:"An entire apartment"},{id:"house",label:"House",description:"An entire house"},{id:"cabin",label:"Cabin",description:"A cozy cabin retreat"},{id:"cottage",label:"Cottage",description:"A charming cottage"},{id:"guesthouse",label:"Guesthouse",description:"A separate guesthouse"}],JX=["places"],QX="AIzaSyDpB03uqoC8eWmdG8KRlBdiJaHWbXmtMgE",eJ=[{value:"any",label:"Any"},{value:"1",label:"1 Bedroom"},{value:"2",label:"2 Bedrooms"},{value:"3",label:"3 Bedrooms"},{value:"4+",label:"4+ Bedrooms"}],tJ=[{value:"any",label:"Any"},{value:"1-2",label:"1-2 Guests"},{value:"3-4",label:"3-4 Guests"},{value:"5+",label:"5+ Guests"}],rJ=[{value:"any",label:"Any time"},{value:"weekend",label:"This weekend"},{value:"week",label:"This week"},{value:"month",label:"This month"},{value:"flexible",label:"I'm flexible"}],nJ=()=>{const e=Mt(),[t,r]=$k(),[n,s]=d.useState(""),[o,i]=d.useState([]),[a,c]=d.useState(!1),[u,f]=d.useState([]),[h,p]=d.useState(!0),[m,g]=d.useState({from:new Date,to:Bt(new Date,7)}),[v,b]=d.useState(!1),[x,y]=d.useState("price_asc"),[w,S]=d.useState(!1),[_,C]=d.useState(t.get("zipcode")),[j,N]=d.useState(t.get("location")),[E,P]=d.useState("any"),[k,M]=d.useState("any"),[D,I]=d.useState("any"),[B,$]=d.useState(!1),[F,O]=d.useState(!1);Dt();const{isLoaded:L}=gl({googleMapsApiKey:QX,libraries:JX,id:"google-map-script"});d.useEffect(()=>{C(t.get("zipcode")),N(t.get("location"))},[t]),d.useEffect(()=>{(async()=>{try{p(!0);const de=await wc.getStays({search:n,zipcode:_||void 0,location:j||void 0,sort:x,propertyType:o.length>0?o:void 0});console.log("Fetched stays count:",de.length),f(de)}catch(de){console.error("Error fetching stays:",de),f([])}finally{p(!1)}})()},[t,x,_,j,n,o]);const U=d.useMemo(()=>u.filter(G=>{var de,Ce,Ae;if(E!=="any"){if(E==="4+"&&G.details.bedrooms<4)return!1;if(E!=="4+"&&G.details.bedrooms!==parseInt(E))return!1}if(k!=="any"){if(k==="5+"&&G.details.maxGuests<5)return!1;if(k==="3-4"&&(G.details.maxGuests<3||G.details.maxGuests>4))return!1;if(k==="1-2"&&(G.details.maxGuests<1||G.details.maxGuests>2))return!1}if(D!=="any"&&G.availability){const ve=new Date,Xe=new Date(ve);Xe.setDate(ve.getDate()+(6-ve.getDay()));const Et=new Date(ve);Et.setDate(ve.getDate()+7);const A=new Date(ve);A.setMonth(ve.getMonth()+1);let z;switch(D){case"weekend":z=Xe;break;case"week":z=Et;break;case"month":z=A;break;case"flexible":let q=0;const oe=new Date(ve);for(;oe<=A;){const ie=bt(oe,"yyyy-MM-dd");if((de=G.availability)!=null&&de.find(re=>re.date===ie&&re.is_available)&&(q++,q>=5))break;oe.setDate(oe.getDate()+1)}if(q<5)return!1;break}if(D!=="flexible"&&z){let q=!1;const oe=new Date(ve);for(;oe<=z;){const ie=bt(oe,"yyyy-MM-dd");if((Ce=G.availability)!=null&&Ce.find(re=>re.date===ie&&re.is_available)){q=!0;break}oe.setDate(oe.getDate()+1)}if(!q)return!1}}if(v&&m.from&&m.to&&G.availability){let ve=!0;const Xe=new Date(m.from);for(;Xe<=m.to;){const Et=bt(Xe,"yyyy-MM-dd"),A=(Ae=G.availability)==null?void 0:Ae.find(z=>z.date===Et);if(!A||!A.is_available){ve=!1;break}Xe.setDate(Xe.getDate()+1)}if(!ve)return!1}return!0}),[u,E,k,D,v,m]);d.useEffect(()=>{console.log("Filtered stays count after client filtering:",U.length)},[U.length]);const W=G=>{i(de=>de.includes(G)?de.filter(Ce=>Ce!==G):[...de,G])},T=()=>{i([]),s(""),P("any"),M("any"),I("any"),b(!1),g({from:new Date,to:Bt(new Date,7)}),O(!0),setTimeout(()=>O(!1),500)},H=G=>{y(G),console.log("Sort changed to:",G)},K=()=>{c(!1),b(!0),$(!0),setTimeout(()=>$(!1),500)},R=d.useMemo(()=>{const G=U.filter(Ae=>Ae.coordinates);if(G.length===0)return{lat:33.749,lng:-84.388};const de=G.reduce((Ae,ve)=>Ae+ve.coordinates.lat,0),Ce=G.reduce((Ae,ve)=>Ae+ve.coordinates.lng,0);return{lat:de/G.length,lng:Ce/G.length}},[U]),[J,Z]=d.useState(null),[Q,le]=d.useState(12);d.useEffect(()=>{if(L&&U.length>0){const G=new google.maps.LatLngBounds;let de=0;U.forEach(Ce=>{Ce.coordinates&&(G.extend(new google.maps.LatLng(Ce.coordinates.lat,Ce.coordinates.lng)),de++)}),de>0&&(Z(G),de===1?le(14):de<5?le(12):le(10))}},[U,L]);const te=G=>{if(J){G.fitBounds(J);const de=google.maps.event.addListener(G,"idle",()=>{G.getZoom()>16&&G.setZoom(16),G.getZoom()<7&&G.setZoom(7),google.maps.event.removeListener(de)})}};return l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Stays"}),j&&l.jsxs("p",{className:"text-muted-foreground mt-1",children:["Showing stays in ",j," ",_&&`(${_})`]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(XL,{value:x,onValueChange:H}),l.jsxs(ee,{variant:"outline",onClick:()=>S(!w),className:"flex items-center gap-2",children:[w?l.jsx(x4,{className:"w-4 h-4"}):l.jsx(b4,{className:"w-4 h-4"}),w?"Show List":"Show Map"]})]})]}),_&&l.jsx("div",{className:"mb-4 flex items-center",children:l.jsxs(yn,{variant:"outline",className:"flex items-center gap-1 px-3 py-1",children:[l.jsx(Rs,{className:"h-3 w-3"}),"Zipcode: ",_,l.jsx(ee,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 ml-1 rounded-full",onClick:()=>{const G=new URLSearchParams(t);G.delete("zipcode"),G.delete("location"),e(`/stays?${G.toString()}`)},children:"×"})]})}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ul,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),l.jsx(Re,{placeholder:"Search stays...",value:n,onChange:G=>s(G.target.value),className:"pl-10"})]}),l.jsxs(ee,{variant:"outline",className:"md:hidden",onClick:()=>c(!a),children:[l.jsx(C4,{className:"w-4 h-4 mr-2"}),"Filters"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[280px_1fr] gap-8",children:[l.jsxs("div",{className:`${a?"block fixed inset-0 z-50 bg-white p-6 overflow-auto":"hidden"} md:block md:static md:z-auto md:p-0 md:overflow-visible`,children:[a&&l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Filters"}),l.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:"×"})]}),l.jsxs("div",{className:"space-y-6 bg-white p-6 rounded-lg border",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Stay Type"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:BC.map(G=>l.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-all ${o.includes(G.id)?"border-primary bg-primary/5":"hover:border-gray-400"}`,onClick:()=>W(G.id),children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx(Oo,{className:"h-6 w-6 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:G.label})]})},G.id))})]}),l.jsx(Tr,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Dates"}),l.jsx("div",{className:"overflow-hidden",children:l.jsx(kO,{className:"w-full",date:{from:m.from,to:m.to},onDateChange:G=>{g(G),b(!1)}})}),l.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:v?l.jsxs("span",{className:"flex items-center text-green-600",children:[l.jsx(c4,{className:"h-3 w-3 mr-1"})," Date filter applied"]}):l.jsx("span",{children:'Click "Apply Filters" to filter by date'})})]}),l.jsx(Tr,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Availability"}),l.jsxs(Eo,{value:D,onValueChange:I,children:[l.jsx(Is,{className:"w-full",children:l.jsx(jo,{placeholder:"Any time"})}),l.jsx(As,{children:rJ.map(G=>l.jsx($s,{value:G.value,children:G.label},G.value))})]})]}),l.jsx(Tr,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Rooms & Guests"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(jt,{htmlFor:"bedrooms",children:"Bedrooms"}),l.jsxs(Eo,{value:E,onValueChange:P,children:[l.jsx(Is,{id:"bedrooms",className:"w-full",children:l.jsx(jo,{placeholder:"Any"})}),l.jsx(As,{children:eJ.map(G=>l.jsx($s,{value:G.value,children:G.label},G.value))})]})]}),l.jsxs("div",{children:[l.jsx(jt,{htmlFor:"guests",children:"Guests"}),l.jsxs(Eo,{value:k,onValueChange:M,children:[l.jsx(Is,{id:"guests",className:"w-full",children:l.jsx(jo,{placeholder:"Any"})}),l.jsx(As,{children:tJ.map(G=>l.jsx($s,{value:G.value,children:G.label},G.value))})]})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2 pt-4",children:[l.jsx(ee,{onClick:K,className:pe("transition-all",B&&"animate-pulse bg-green-600 scale-105"),children:"Apply Filters"}),l.jsx(ee,{variant:"outline",onClick:T,className:pe("transition-all",F&&"animate-pulse border-red-400 scale-105"),children:"Reset All"})]})]})]}),w&&L?l.jsx("div",{className:"h-[calc(100vh-200px)] rounded-lg overflow-hidden border",children:l.jsx(qu,{zoom:Q,center:R,mapContainerClassName:"w-full h-full",onLoad:te,options:{styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},children:U.map(G=>G.coordinates&&l.jsx(Ha,{position:G.coordinates,onClick:()=>e(`/stays/${G.id}`),icon:{url:"/images/stay-marker.svg",scaledSize:new google.maps.Size(32,32)}},G.id))})}):l.jsx("div",{children:h?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(N2,{className:"h-8 w-8"})}):U.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(G=>l.jsx(XX,{stay:G,propertyTypes:BC,onClick:()=>e(`/stays/${G.id}`)},G.id))}):l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[l.jsx(Oo,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"No stays found."}),l.jsx("p",{className:"text-sm text-gray-500 mb-6",children:u.length>0?"Your filters are too restrictive. Try adjusting them.":"No stays data available. Please try again later."}),l.jsx(ee,{onClick:T,className:pe("transition-all",F&&"animate-pulse border-red-400 scale-105"),children:"Reset Filters"})]})})]})]})})},sJ=yp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ms=d.forwardRef(({className:e,variant:t,...r},n)=>l.jsx("div",{ref:n,role:"alert",className:pe(sJ({variant:t}),e),...r}));ms.displayName="Alert";const fu=d.forwardRef(({className:e,...t},r)=>l.jsx("h5",{ref:r,className:pe("mb-1 font-medium leading-none tracking-tight",e),...t}));fu.displayName="AlertTitle";const gs=d.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:pe("text-sm [&_p]:leading-relaxed",e),...t}));gs.displayName="AlertDescription";async function LO(e,t,r){try{console.log(`Checking availability for stay ${e} from ${t} to ${r}`);const{data:n,error:s}=await V.from("stay_bookings").select("id, check_in_date, check_out_date").eq("stay_id",e).eq("status","confirmed");if(s)throw console.error("Error checking booking availability:",s),s;if(n&&n.length>0){console.log(`Found ${n.length} existing bookings for this stay`,n);const a=new Date(t),c=new Date(r);for(const u of n){const f=new Date(u.check_in_date),h=new Date(u.check_out_date);if(!(c<f||a>h))return console.log(`Overlap detected with booking ${u.id}:`,{requestedDates:{checkIn:t,checkOut:r},bookedDates:{checkIn:u.check_in_date,checkOut:u.check_out_date}}),!1}}const{data:o,error:i}=await V.from("stay_availability").select("date").eq("stay_id",e).eq("is_available",!1).gte("date",t).lte("date",r);return i&&console.error("Error checking date availability:",i),o&&o.length>0?(console.log(`Found ${o.length} unavailable dates, stay is not available`),!1):(console.log("Stay is available for the requested dates"),!0)}catch(n){throw console.error("Error in checkStayAvailability:",n),n}}async function MO(e,t,r){try{const{data:n,error:s}=await V.from("stays").select("price_per_night").eq("id",e).single();if(s)throw console.error("Error fetching stay details for pricing:",s),s;const o=D2(A_(r),A_(t));if(o<=0)throw new Error("Check-out date must be after check-in date");let i=n.price_per_night*o;const{data:a,error:c}=await V.from("stay_availability").select("date, price_override").eq("stay_id",e).gte("date",t).lte("date",r).not("price_override","is",null);return c&&console.error("Error fetching custom pricing:",c),a&&a.length>0&&a.forEach(u=>{i=i-n.price_per_night+u.price_override}),Math.round(i*100)/100}catch(n){throw console.error("Error in calculateBookingPrice:",n),n}}async function oJ(e){var t;try{const{data:r}=await V.auth.getSession();if(!((t=r.session)!=null&&t.user))throw new Error("User not authenticated");const n=r.session.user.id;if(!await LO(e.stay_id,e.check_in_date,e.check_out_date))throw new Error("Stay is not available for the selected dates");const o=await MO(e.stay_id,e.check_in_date,e.check_out_date),{data:i,error:a}=await V.from("stay_bookings").insert({stay_id:e.stay_id,user_id:n,check_in_date:e.check_in_date,check_out_date:e.check_out_date,guest_count:e.guest_count,status:"confirmed",total_price:o,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(a)throw console.error("Error creating booking:",a),a;return console.log(`Successfully created booking with ID: ${i.id}`),i}catch(r){throw console.error("Error in createBooking:",r),r}}async function iJ(){var e;try{const{data:t}=await V.auth.getSession();if(!((e=t.session)!=null&&e.user))throw new Error("User not authenticated");const r=t.session.user.id,{data:n,error:s}=await V.from("stay_bookings").select(`
        *,
        stay:stays(
          id,
          title,
          host_id,
          host:profiles!host_id(name, avatar_url),
          stay_images:stay_images(image_path, is_primary)
        )
      `).eq("user_id",r).order("created_at",{ascending:!1});if(s)throw console.error("Error fetching user bookings:",s),s;return n}catch(t){throw console.error("Error in getUserBookings:",t),t}}async function aJ(e){var t;try{const{data:r}=await V.auth.getSession();if(!((t=r.session)!=null&&t.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await V.from("stay_bookings").select(`
        *,
        stay:stays(
          id,
          title,
          description,
          price_per_night,
          host_id,
          host:profiles!host_id(name, avatar_url),
          stay_images:stay_images(image_path, is_primary),
          location_name,
          property_type,
          bedrooms,
          beds,
          bathrooms,
          max_guests
        )
      `).eq("id",e).single();if(o)throw console.error("Error fetching booking:",o),o;return s.user_id!==n?(console.error("Booking does not belong to current user"),null):s}catch(r){throw console.error("Error in getBookingById:",r),r}}async function lJ(e){var t;try{const{data:r}=await V.auth.getSession();if(!((t=r.session)!=null&&t.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await V.from("stay_bookings").select("user_id, status").eq("id",e).single();if(o)throw console.error("Error fetching booking to cancel:",o),o;if(s.user_id!==n)throw new Error("You do not have permission to cancel this booking");if(s.status==="cancelled")throw new Error("Booking is already cancelled");const{error:i}=await V.from("stay_bookings").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",e);if(i)throw console.error("Error cancelling booking:",i),i;return console.log(`Successfully cancelled booking with ID: ${e}`),!0}catch(r){throw console.error("Error in cancelBooking:",r),r}}async function cJ(e){var t;try{const{data:r}=await V.auth.getSession();if(!((t=r.session)!=null&&t.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await V.from("stays").select("host_id").eq("id",e).single();if(o)throw console.error("Error fetching stay details:",o),o;if(s.host_id!==n)throw new Error("You do not have permission to view bookings for this stay");const{data:i,error:a}=await V.from("stay_bookings").select(`
        *,
        guest:profiles!user_id(name, avatar_url)
      `).eq("stay_id",e).order("check_in_date",{ascending:!0});if(a)throw console.error("Error fetching stay bookings:",a),a;return i}catch(r){throw console.error("Error in getStayBookings:",r),r}}const Ec={checkStayAvailability:LO,calculateBookingPrice:MO,createBooking:oJ,getUserBookings:iJ,getBookingById:aJ,cancelBooking:lJ,getStayBookings:cJ},uJ=({stayId:e,price:t,maxGuests:r})=>{const{user:n,isAuthenticated:s}=Dt(),o=Mt(),[i,a]=d.useState({from:void 0,to:void 0}),[c,u]=d.useState(1),[f,h]=d.useState(0),[p,m]=d.useState(0),[g,v]=d.useState(!1),[b,x]=d.useState(""),[y,w]=d.useState(""),[S,_]=d.useState([]);d.useEffect(()=>{e&&(async()=>{try{const{data:P,error:k}=await V.from("stay_bookings").select("check_in_date, check_out_date").eq("stay_id",e).eq("status","confirmed");if(k){console.error("Error fetching blocked dates:",k);return}const{data:M,error:D}=await V.from("stay_availability").select("date").eq("stay_id",e).eq("is_available",!1);if(D&&console.error("Error fetching availability:",D),P&&P.length>0){const I=P.flatMap(B=>{const $=new Date(B.check_in_date),F=new Date(B.check_out_date),O=[];let L=$;for(;L<=F;)O.push(new Date(L)),L=Bt(L,1);return O});M&&M.length>0&&M.forEach(B=>{I.push(new Date(B.date))}),_(I)}}catch(P){console.error("Error fetching blocked dates:",P)}})()},[e]),d.useEffect(()=>{if(i!=null&&i.from&&(i!=null&&i.to)){const E=D2(i.to,i.from);h(E),m(t*E)}else h(0),m(0)},[i,t]);const C=E=>{const P=parseInt(E.target.value);P<1?u(1):P>r?u(r):u(P)},j=E=>{a(E),x("")},N=async()=>{if(x(""),w(""),!s){o("/login",{state:{from:window.location.pathname,message:"Please login to book this stay"}});return}if(!(i!=null&&i.from)||!(i!=null&&i.to)){x("Please select check-in and check-out dates");return}if(c<1){x("Please select at least 1 guest");return}if(f<1){x("You must book at least 1 night");return}v(!0);try{const E=await Ec.createBooking({stay_id:e,check_in_date:bt(i.from,"yyyy-MM-dd"),check_out_date:bt(i.to,"yyyy-MM-dd"),guest_count:c});w("Your booking has been confirmed!"),a({from:void 0,to:void 0}),u(1),setTimeout(()=>{o(`/bookings/${E.id}`)},2e3)}catch(E){console.error("Error creating booking:",E),x(E instanceof Error?E.message:"Failed to create booking. Please try again.")}finally{v(!1)}};return l.jsxs(Ve,{className:"p-6",children:[l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"text-2xl font-semibold",children:["$",t," ",l.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/ night"})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(jt,{htmlFor:"dates",children:"Dates"}),l.jsx(kO,{date:i||{from:void 0,to:void 0},onDateChange:j,className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(jt,{htmlFor:"guests",children:"Guests"}),l.jsx(Re,{id:"guests",type:"number",value:c,onChange:C,min:1,max:r}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Maximum ",r," guests allowed"]})]})]}),f>0&&l.jsxs("div",{className:"mt-6 space-y-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["$",t," × ",f," nights"]}),l.jsxs("span",{children:["$",p]})]}),l.jsx(Tr,{}),l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["$",p]})]})]}),b&&l.jsx(ms,{variant:"destructive",className:"mt-4",children:l.jsx(gs,{children:b})}),y&&l.jsx(ms,{className:"mt-4 bg-green-50 text-green-800 border-green-200",children:l.jsx(gs,{children:y})}),l.jsx(ee,{className:"w-full mt-6",onClick:N,disabled:g||!(i!=null&&i.from)||!(i!=null&&i.to)||f<1,children:g?l.jsxs(l.Fragment,{children:[l.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Reserve"}),l.jsx("p",{className:"text-center text-sm text-muted-foreground mt-2",children:"You won't be charged yet"})]})},dJ=["places"],fJ="AIzaSyDpB03uqoC8eWmdG8KRlBdiJaHWbXmtMgE",hJ=()=>{const{id:e}=Tu(),[t,r]=d.useState(null),[n,s]=d.useState(!0),[o,i]=d.useState(new Date),[a,c]=d.useState(!1);d.useState(!1);const[u,f]=d.useState(0);d.useRef(null);const{user:h}=Dt(),[p,m]=d.useState(0),[g,v]=d.useState(0),[b,x]=d.useState(0),{isLoaded:y}=gl({googleMapsApiKey:fJ,libraries:dJ,id:"google-map-script"}),w=(t==null?void 0:t.coordinates)||{lat:40.7128,lng:-74.006},S=E=>E?E.startsWith("http")?E:`${E}`:"/placeholder-stay.jpg";d.useEffect(()=>{(async()=>{if(e)try{s(!0);const P=await wc.getStayById(e);P&&(r(P),console.log("Fetched stay data:",P))}catch(P){console.error("Error fetching stay:",P)}finally{s(!1)}})()},[e]),d.useEffect(()=>{(async()=>{if(e)try{const P=await sO(e,"stay"),k=await oO(e,"stay");m(P),v(k)}catch(P){console.error("Error fetching review stats:",P)}})()},[e,b]);const _=()=>{x(E=>E+1)},C=d.useRef(!1);d.useEffect(()=>{(async()=>{if(h!=null&&h.id&&e&&!C.current)try{C.current=!0;const P=await wc.getFavorites(h.id);c(P.includes(e))}catch(P){console.error("Error checking favorite status:",P)}})()},[h,e]);const j=async()=>{if(e)if(h!=null&&h.id)try{await wc.toggleFavorite(e,h.id)&&(c(!a),C.current=!0)}catch(E){console.error("Error toggling favorite:",E)}else c(!a)};return(()=>{if(!(t!=null&&t.availability)||!o)return null;const E=bt(o,"yyyy-MM-dd");return t.availability.find(P=>P.date===E)})(),n?l.jsx(Lt,{children:l.jsx("div",{className:"container mx-auto px-4 py-16 flex items-center justify-center min-h-[60vh]",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ze,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),l.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"Loading stay details..."})]})})}):t?l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:t.title}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ls,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),l.jsx("span",{className:"font-medium",children:p.toFixed(1)}),l.jsxs("span",{children:["(",g," reviews)"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Rs,{className:"w-4 h-4"}),l.jsx("span",{children:t.details.location})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Oh,{children:l.jsxs(Th,{children:[l.jsx(Rh,{asChild:!0,children:l.jsx(ee,{variant:"outline",size:"icon",onClick:j,className:a?"text-red-500":"",children:l.jsx(db,{className:`w-5 h-5 ${a?"fill-red-500":""}`})})}),l.jsx(uu,{children:l.jsx("p",{children:a?"Remove from favorites":"Add to favorites"})})]})}),l.jsx(Oh,{children:l.jsxs(Th,{children:[l.jsx(Rh,{asChild:!0,children:l.jsx(ee,{variant:"outline",size:"icon",children:l.jsx(Jk,{className:"w-5 h-5"})})}),l.jsx(uu,{children:l.jsx("p",{children:"Share this stay"})})]})})]})]})}),l.jsx("div",{className:"mb-12",children:t.images&&t.images.length>0&&l.jsx(gD,{images:t.images.map((E,P)=>({url:S(typeof E=="string"?E:E.url),order:P,caption:`${t.title} - Image ${P+1}`})),initialIndex:u})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-8",children:[l.jsx("div",{children:l.jsxs(ld,{defaultValue:"about",className:"mb-12",children:[l.jsxs(_l,{className:"mb-6",children:[l.jsx(zt,{value:"about",children:"About"}),l.jsx(zt,{value:"amenities",children:"Amenities"}),l.jsx(zt,{value:"host",children:"Host"}),l.jsx(zt,{value:"reviews",children:"Reviews"}),l.jsx(zt,{value:"location",children:"Location"})]}),l.jsx(Wt,{value:"about",className:"space-y-8",children:l.jsxs(Ve,{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"About this place"}),l.jsx("p",{className:"text-muted-foreground whitespace-pre-line leading-relaxed",children:t.description}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yk,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Bedrooms"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.details.bedrooms})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(i4,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Bathrooms"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.details.bathrooms})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ru,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Max Guests"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.details.maxGuests})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Oo,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Property Type"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.details.propertyType||"Entire home"})]})]})]})]})}),l.jsx(Wt,{value:"amenities",className:"space-y-8",children:l.jsxs(Ve,{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"What this place offers"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.isArray(t.details.amenities)?t.details.amenities.map((E,P)=>l.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md hover:bg-primary/5",children:[l.jsx(k4,{className:"w-5 h-5 text-primary"}),l.jsx("span",{children:E})]},P)):l.jsx("div",{className:"col-span-2 text-center text-muted-foreground py-4",children:"No amenities listed for this property."})})]})}),l.jsx(Wt,{value:"host",className:"space-y-8",children:l.jsxs(Ve,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsxs(ds,{className:"w-16 h-16",children:[l.jsx(fs,{src:S(t.host.image),alt:t.host.name}),l.jsx(hs,{children:t.host.name.charAt(0)})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-semibold",children:["Hosted by ",t.host.name]}),l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(ls,{className:"w-4 h-4 text-yellow-500 fill-yellow-500 mr-1"}),l.jsx("span",{className:"font-medium",children:t.host.rating}),l.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",t.host.reviews," reviews)"]})]})]})]}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"I'm passionate about sharing my home with travelers from around the world. I've been hosting for several years and love helping guests discover the best of what our area has to offer."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Zy,{hostId:t.host.id||"",listingId:e||"",listingType:"stay",listingTitle:t.title,className:"w-full",children:"Message Host"}),l.jsx(ee,{variant:"outline",className:"w-full",asChild:!0,children:l.jsxs("a",{href:"tel:",children:[l.jsx(uy,{className:"w-4 h-4 mr-2"}),"Call Host"]})})]})]})}),l.jsx(Wt,{value:"reviews",children:l.jsx(BD,{listingId:e||"",listingType:"stay",averageRating:p,reviewCount:g,onReviewSubmitted:_})}),l.jsx(Wt,{value:"location",className:"space-y-8",children:l.jsxs(Ve,{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Location"}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("p",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Rs,{className:"w-5 h-5 text-primary"}),l.jsx("span",{className:"font-medium",children:t.details.location})]}),l.jsx("p",{className:"text-muted-foreground ml-7",children:"Exact address will be provided after booking"})]}),l.jsx("div",{className:"rounded-lg overflow-hidden mb-6 h-[300px]",children:y?l.jsx(qu,{zoom:14,center:w,mapContainerClassName:"w-full h-full",options:{styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},children:l.jsx(Ha,{position:w,icon:{url:"/images/stay-marker.svg",scaledSize:new google.maps.Size(40,40)}})}):l.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:l.jsx(Ze,{className:"h-8 w-8 animate-spin text-primary"})})}),l.jsx("div",{className:"flex justify-center mb-4",children:l.jsxs(ee,{variant:"outline",onClick:()=>window.open(`https://www.google.com/maps/dir/?api=1&destination=${w.lat},${w.lng}`,"_blank"),children:[l.jsx(fb,{className:"w-4 h-4 mr-2"}),"Get Directions"]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"font-medium",children:"Nearby attractions:"}),l.jsxs("ul",{className:"list-disc list-inside text-muted-foreground ml-2",children:[l.jsx("li",{children:"Central Park - 0.5 miles"}),l.jsx("li",{children:"Downtown Shopping Center - 1.2 miles"}),l.jsx("li",{children:"City Museum - 1.5 miles"})]})]})]})})]})}),l.jsx("div",{children:l.jsx("div",{className:"sticky top-24 mb-6",children:l.jsx(uJ,{stayId:e||"",price:t.price_per_night,maxGuests:t.details.maxGuests})})})]})]})}):l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Stay not found"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"The stay you're looking for doesn't exist or has been removed."}),l.jsx(ee,{children:"Browse Stays"})]})})},pJ=()=>{const e=Mt(),[t,r]=d.useState(null);return l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-16",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Share Your Passion with the World"}),l.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Whether you're a culinary expert or have a unique space to share, join our community of hosts and start earning while creating memorable experiences."})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[l.jsx(Ve,{className:`cursor-pointer transition-all duration-300 ${t==="food"?"shadow-lg scale-105":""}`,onMouseEnter:()=>r("food"),onMouseLeave:()=>r(null),onClick:()=>e("/host/food"),children:l.jsx(Ut,{className:"p-8",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-100 flex items-center justify-center",children:l.jsx(Kc,{className:"w-8 h-8 text-amber-600"})}),l.jsx("h2",{className:"text-2xl font-semibold",children:"Food Experience Host"}),l.jsx("p",{className:"text-muted-foreground",children:"Share your culinary expertise and cultural traditions through unique food experiences."}),l.jsxs("ul",{className:"text-left space-y-2",children:[l.jsxs("li",{className:"flex items-center",children:[l.jsx(Hi,{className:"w-4 h-4 mr-2 text-amber-600"}),"Host cooking classes"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(Hi,{className:"w-4 h-4 mr-2 text-amber-600"}),"Offer private dining experiences"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(Hi,{className:"w-4 h-4 mr-2 text-amber-600"}),"Share traditional recipes"]})]}),l.jsx(ee,{className:"w-full bg-gradient-to-r from-amber-500 to-terracotta-600 text-white",onClick:n=>{n.stopPropagation(),e("/host/food")},children:"Start Hosting Food Experiences"})]})})}),l.jsx(Ve,{className:`cursor-pointer transition-all duration-300 ${t==="stay"?"shadow-lg scale-105":""}`,onMouseEnter:()=>r("stay"),onMouseLeave:()=>r(null),onClick:()=>e("/host/stay"),children:l.jsx(Ut,{className:"p-8",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-sage-100 flex items-center justify-center",children:l.jsx(Oo,{className:"w-8 h-8 text-sage-600"})}),l.jsx("h2",{className:"text-2xl font-semibold",children:"Stay Host"}),l.jsx("p",{className:"text-muted-foreground",children:"List your space and provide travelers with authentic local accommodation experiences."}),l.jsxs("ul",{className:"text-left space-y-2",children:[l.jsxs("li",{className:"flex items-center",children:[l.jsx(Hi,{className:"w-4 h-4 mr-2 text-sage-600"}),"List entire homes or rooms"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(Hi,{className:"w-4 h-4 mr-2 text-sage-600"}),"Set your own schedule"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(Hi,{className:"w-4 h-4 mr-2 text-sage-600"}),"Earn extra income"]})]}),l.jsx(ee,{className:"w-full bg-gradient-to-r from-sage-500 to-emerald-600 text-white",onClick:n=>{n.stopPropagation(),e("/host/stay")},children:"Start Hosting Stays"})]})})})]}),l.jsxs("div",{className:"mt-24 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold mb-12",children:"Why Host with Platform 2025?"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-terracotta-600 mx-auto flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h3",{className:"text-xl font-semibold",children:"Earn Extra Income"}),l.jsx("p",{className:"text-muted-foreground",children:"Set your own prices and earn money sharing your passion or space."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-terracotta-600 mx-auto flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),l.jsx("h3",{className:"text-xl font-semibold",children:"Meet New People"}),l.jsx("p",{className:"text-muted-foreground",children:"Connect with travelers from around the world and share your culture."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-terracotta-600 mx-auto flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),l.jsx("h3",{className:"text-xl font-semibold",children:"Secure Platform"}),l.jsx("p",{className:"text-muted-foreground",children:"Benefit from our secure payment system and host protection programs."})]})]})]})]})})};var hd=e=>e.type==="checkbox",mi=e=>e instanceof Date,mr=e=>e==null;const DO=e=>typeof e=="object";var Rt=e=>!mr(e)&&!Array.isArray(e)&&DO(e)&&!mi(e),OO=e=>Rt(e)&&e.target?hd(e.target)?e.target.checked:e.target.value:e,mJ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,TO=(e,t)=>e.has(mJ(t)),gJ=e=>{const t=e.constructor&&e.constructor.prototype;return Rt(t)&&t.hasOwnProperty("isPrototypeOf")},Yw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Cr(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Yw&&(e instanceof Blob||e instanceof FileList))&&(r||Rt(e)))if(t=r?[]:{},!r&&!gJ(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Cr(e[n]));else return e;return t}var xm=e=>Array.isArray(e)?e.filter(Boolean):[],Pt=e=>e===void 0,ce=(e,t,r)=>{if(!t||!Rt(e))return r;const n=xm(t.split(/[,[\].]+?/)).reduce((s,o)=>mr(s)?s:s[o],e);return Pt(n)||n===e?Pt(e[t])?r:e[t]:n},on=e=>typeof e=="boolean",Kw=e=>/^\w*$/.test(e),RO=e=>xm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),et=(e,t,r)=>{let n=-1;const s=Kw(t)?[t]:RO(t),o=s.length,i=o-1;for(;++n<o;){const a=s[n];let c=r;if(n!==i){const u=e[a];c=Rt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(a==="__proto__")return;e[a]=c,e=e[a]}return e};const Bh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ln={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Es={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},IO=Y.createContext(null),bm=()=>Y.useContext(IO),vJ=e=>{const{children:t,...r}=e;return Y.createElement(IO.Provider,{value:r},t)};var AO=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const i=o;return t._proxyFormState[i]!==Ln.all&&(t._proxyFormState[i]=!n||Ln.all),r&&(r[i]=!0),e[i]}});return s},Er=e=>Rt(e)&&!Object.keys(e).length,$O=(e,t,r,n)=>{r(e);const{name:s,...o}=e;return Er(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!n||Ln.all))},jc=e=>Array.isArray(e)?e:[e],FO=(e,t,r)=>!e||!t||e===t||jc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function Zw(e){const t=Y.useRef(e);t.current=e,Y.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function yJ(e){const t=bm(),{control:r=t.control,disabled:n,name:s,exact:o}=e||{},[i,a]=Y.useState(r._formState),c=Y.useRef(!0),u=Y.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=Y.useRef(s);return f.current=s,Zw({disabled:n,next:h=>c.current&&FO(f.current,h.name,o)&&$O(h,u.current,r._updateFormState)&&a({...r._formState,...h}),subject:r._subjects.state}),Y.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),AO(i,r,u.current,!1)}var ts=e=>typeof e=="string",BO=(e,t,r,n,s)=>ts(e)?(n&&t.watch.add(e),ce(r,e,s)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),ce(r,o))):(n&&(t.watchAll=!0),r);function xJ(e){const t=bm(),{control:r=t.control,name:n,defaultValue:s,disabled:o,exact:i}=e||{},a=Y.useRef(n);a.current=n,Zw({disabled:o,subject:r._subjects.values,next:f=>{FO(a.current,f.name,i)&&u(Cr(BO(a.current,r._names,f.values||r._formValues,!1,s)))}});const[c,u]=Y.useState(r._getWatch(n,s));return Y.useEffect(()=>r._removeUnmounted()),c}function bJ(e){const t=bm(),{name:r,disabled:n,control:s=t.control,shouldUnregister:o}=e,i=TO(s._names.array,r),a=xJ({control:s,name:r,defaultValue:ce(s._formValues,r,ce(s._defaultValues,r,e.defaultValue)),exact:!0}),c=yJ({control:s,name:r,exact:!0}),u=Y.useRef(s.register(r,{...e.rules,value:a,...on(e.disabled)?{disabled:e.disabled}:{}}));return Y.useEffect(()=>{const f=s._options.shouldUnregister||o,h=(p,m)=>{const g=ce(s._fields,p);g&&g._f&&(g._f.mount=m)};if(h(r,!0),f){const p=Cr(ce(s._options.defaultValues,r));et(s._defaultValues,r,p),Pt(ce(s._formValues,r))&&et(s._formValues,r,p)}return()=>{(i?f&&!s._state.action:f)?s.unregister(r):h(r,!1)}},[r,s,i,o]),Y.useEffect(()=>{ce(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:ce(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:a,...on(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:Y.useCallback(f=>u.current.onChange({target:{value:OO(f),name:r},type:Bh.CHANGE}),[r]),onBlur:Y.useCallback(()=>u.current.onBlur({target:{value:ce(s._formValues,r),name:r},type:Bh.BLUR}),[r,s]),ref:Y.useCallback(f=>{const h=ce(s._fields,r);h&&f&&(h._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:p=>f.setCustomValidity(p),reportValidity:()=>f.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ce(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!ce(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ce(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ce(c.validatingFields,r)},error:{enumerable:!0,get:()=>ce(c.errors,r)}})}}const wJ=e=>e.render(bJ(e));var UO=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},UC=e=>({isOnSubmit:!e||e===Ln.onSubmit,isOnBlur:e===Ln.onBlur,isOnChange:e===Ln.onChange,isOnAll:e===Ln.all,isOnTouch:e===Ln.onTouched}),zC=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const kc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const o=ce(e,s);if(o){const{_f:i,...a}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(kc(a,t))break}else if(Rt(a)&&kc(a,t))break}}};var SJ=(e,t,r)=>{const n=jc(ce(e,r));return et(n,"root",t[r]),et(e,r,n),e},Xw=e=>e.type==="file",Ds=e=>typeof e=="function",Uh=e=>{if(!Yw)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Nf=e=>ts(e),Jw=e=>e.type==="radio",zh=e=>e instanceof RegExp;const WC={value:!1,isValid:!1},VC={value:!0,isValid:!0};var zO=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pt(e[0].attributes.value)?Pt(e[0].value)||e[0].value===""?VC:{value:e[0].value,isValid:!0}:VC:WC}return WC};const HC={isValid:!1,value:null};var WO=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,HC):HC;function GC(e,t,r="validate"){if(Nf(e)||Array.isArray(e)&&e.every(Nf)||on(e)&&!e)return{type:r,message:Nf(e)?e:"",ref:t}}var ta=e=>Rt(e)&&!zh(e)?e:{value:e,message:""},qC=async(e,t,r,n,s)=>{const{ref:o,refs:i,required:a,maxLength:c,minLength:u,min:f,max:h,pattern:p,validate:m,name:g,valueAsNumber:v,mount:b,disabled:x}=e._f,y=ce(t,g);if(!b||x)return{};const w=i?i[0]:o,S=M=>{n&&w.reportValidity&&(w.setCustomValidity(on(M)?"":M||""),w.reportValidity())},_={},C=Jw(o),j=hd(o),N=C||j,E=(v||Xw(o))&&Pt(o.value)&&Pt(y)||Uh(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,P=UO.bind(null,g,r,_),k=(M,D,I,B=Es.maxLength,$=Es.minLength)=>{const F=M?D:I;_[g]={type:M?B:$,message:F,ref:o,...P(M?B:$,F)}};if(s?!Array.isArray(y)||!y.length:a&&(!N&&(E||mr(y))||on(y)&&!y||j&&!zO(i).isValid||C&&!WO(i).isValid)){const{value:M,message:D}=Nf(a)?{value:!!a,message:a}:ta(a);if(M&&(_[g]={type:Es.required,message:D,ref:w,...P(Es.required,D)},!r))return S(D),_}if(!E&&(!mr(f)||!mr(h))){let M,D;const I=ta(h),B=ta(f);if(!mr(y)&&!isNaN(y)){const $=o.valueAsNumber||y&&+y;mr(I.value)||(M=$>I.value),mr(B.value)||(D=$<B.value)}else{const $=o.valueAsDate||new Date(y),F=U=>new Date(new Date().toDateString()+" "+U),O=o.type=="time",L=o.type=="week";ts(I.value)&&y&&(M=O?F(y)>F(I.value):L?y>I.value:$>new Date(I.value)),ts(B.value)&&y&&(D=O?F(y)<F(B.value):L?y<B.value:$<new Date(B.value))}if((M||D)&&(k(!!M,I.message,B.message,Es.max,Es.min),!r))return S(_[g].message),_}if((c||u)&&!E&&(ts(y)||s&&Array.isArray(y))){const M=ta(c),D=ta(u),I=!mr(M.value)&&y.length>+M.value,B=!mr(D.value)&&y.length<+D.value;if((I||B)&&(k(I,M.message,D.message),!r))return S(_[g].message),_}if(p&&!E&&ts(y)){const{value:M,message:D}=ta(p);if(zh(M)&&!y.match(M)&&(_[g]={type:Es.pattern,message:D,ref:o,...P(Es.pattern,D)},!r))return S(D),_}if(m){if(Ds(m)){const M=await m(y,t),D=GC(M,w);if(D&&(_[g]={...D,...P(Es.validate,D.message)},!r))return S(D.message),_}else if(Rt(m)){let M={};for(const D in m){if(!Er(M)&&!r)break;const I=GC(await m[D](y,t),w,D);I&&(M={...I,...P(D,I.message)},S(I.message),r&&(_[g]=M))}if(!Er(M)&&(_[g]={ref:w,...M},!r))return _}}return S(!0),_};function _J(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Pt(e)?n++:e[t[n++]];return e}function CJ(e){for(const t in e)if(e.hasOwnProperty(t)&&!Pt(e[t]))return!1;return!0}function $t(e,t){const r=Array.isArray(t)?t:Kw(t)?[t]:RO(t),n=r.length===1?e:_J(e,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(Rt(n)&&Er(n)||Array.isArray(n)&&CJ(n))&&$t(e,r.slice(0,-1)),e}var Yg=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}},Xy=e=>mr(e)||!DO(e);function uo(e,t){if(Xy(e)||Xy(t))return e===t;if(mi(e)&&mi(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const o=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const i=t[s];if(mi(o)&&mi(i)||Rt(o)&&Rt(i)||Array.isArray(o)&&Array.isArray(i)?!uo(o,i):o!==i)return!1}}return!0}var VO=e=>e.type==="select-multiple",EJ=e=>Jw(e)||hd(e),Kg=e=>Uh(e)&&e.isConnected,HO=e=>{for(const t in e)if(Ds(e[t]))return!0;return!1};function Wh(e,t={}){const r=Array.isArray(e);if(Rt(e)||r)for(const n in e)Array.isArray(e[n])||Rt(e[n])&&!HO(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Wh(e[n],t[n])):mr(e[n])||(t[n]=!0);return t}function GO(e,t,r){const n=Array.isArray(e);if(Rt(e)||n)for(const s in e)Array.isArray(e[s])||Rt(e[s])&&!HO(e[s])?Pt(t)||Xy(r[s])?r[s]=Array.isArray(e[s])?Wh(e[s],[]):{...Wh(e[s])}:GO(e[s],mr(t)?{}:t[s],r[s]):r[s]=!uo(e[s],t[s]);return r}var Yl=(e,t)=>GO(e,t,Wh(t)),qO=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Pt(e)?e:t?e===""?NaN:e&&+e:r&&ts(e)?new Date(e):n?n(e):e;function Zg(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Xw(t)?t.files:Jw(t)?WO(e.refs).value:VO(t)?[...t.selectedOptions].map(({value:r})=>r):hd(t)?zO(e.refs).value:qO(Pt(t.value)?e.ref.value:t.value,e)}var jJ=(e,t,r,n)=>{const s={};for(const o of e){const i=ce(t,o);i&&et(s,o,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Kl=e=>Pt(e)?e:zh(e)?e.source:Rt(e)?zh(e.value)?e.value.source:e.value:e;const YC="AsyncFunction";var kJ=e=>(!e||!e.validate)&&!!(Ds(e.validate)&&e.validate.constructor.name===YC||Rt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===YC)),NJ=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function KC(e,t,r){const n=ce(e,r);if(n||Kw(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),i=ce(t,o),a=ce(e,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};s.pop()}return{name:r}}var PJ=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,LJ=(e,t)=>!xm(ce(e,t)).length&&$t(e,t);const MJ={mode:Ln.onSubmit,reValidateMode:Ln.onChange,shouldFocusError:!0};function DJ(e={}){let t={...MJ,...e},r={submitCount:0,isDirty:!1,isLoading:Ds(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Rt(t.defaultValues)||Rt(t.values)?Cr(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Cr(s),i={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Yg(),array:Yg(),state:Yg()},p=UC(t.mode),m=UC(t.reValidateMode),g=t.criteriaMode===Ln.all,v=A=>z=>{clearTimeout(u),u=setTimeout(A,z)},b=async A=>{if(!e.disabled&&(f.isValid||A)){const z=t.resolver?Er((await N()).errors):await P(n,!0);z!==r.isValid&&h.state.next({isValid:z})}},x=(A,z)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((A||Array.from(a.mount)).forEach(q=>{q&&(z?et(r.validatingFields,q,z):$t(r.validatingFields,q))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Er(r.validatingFields)}))},y=(A,z=[],q,oe,ie=!0,re=!0)=>{if(oe&&q&&!e.disabled){if(i.action=!0,re&&Array.isArray(ce(n,A))){const xe=q(ce(n,A),oe.argA,oe.argB);ie&&et(n,A,xe)}if(re&&Array.isArray(ce(r.errors,A))){const xe=q(ce(r.errors,A),oe.argA,oe.argB);ie&&et(r.errors,A,xe),LJ(r.errors,A)}if(f.touchedFields&&re&&Array.isArray(ce(r.touchedFields,A))){const xe=q(ce(r.touchedFields,A),oe.argA,oe.argB);ie&&et(r.touchedFields,A,xe)}f.dirtyFields&&(r.dirtyFields=Yl(s,o)),h.state.next({name:A,isDirty:M(A,z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else et(o,A,z)},w=(A,z)=>{et(r.errors,A,z),h.state.next({errors:r.errors})},S=A=>{r.errors=A,h.state.next({errors:r.errors,isValid:!1})},_=(A,z,q,oe)=>{const ie=ce(n,A);if(ie){const re=ce(o,A,Pt(q)?ce(s,A):q);Pt(re)||oe&&oe.defaultChecked||z?et(o,A,z?re:Zg(ie._f)):B(A,re),i.mount&&b()}},C=(A,z,q,oe,ie)=>{let re=!1,xe=!1;const Pe={name:A};if(!e.disabled){const mt=!!(ce(n,A)&&ce(n,A)._f&&ce(n,A)._f.disabled);if(!q||oe){f.isDirty&&(xe=r.isDirty,r.isDirty=Pe.isDirty=M(),re=xe!==Pe.isDirty);const Je=mt||uo(ce(s,A),z);xe=!!(!mt&&ce(r.dirtyFields,A)),Je||mt?$t(r.dirtyFields,A):et(r.dirtyFields,A,!0),Pe.dirtyFields=r.dirtyFields,re=re||f.dirtyFields&&xe!==!Je}if(q){const Je=ce(r.touchedFields,A);Je||(et(r.touchedFields,A,q),Pe.touchedFields=r.touchedFields,re=re||f.touchedFields&&Je!==q)}re&&ie&&h.state.next(Pe)}return re?Pe:{}},j=(A,z,q,oe)=>{const ie=ce(r.errors,A),re=f.isValid&&on(z)&&r.isValid!==z;if(e.delayError&&q?(c=v(()=>w(A,q)),c(e.delayError)):(clearTimeout(u),c=null,q?et(r.errors,A,q):$t(r.errors,A)),(q?!uo(ie,q):ie)||!Er(oe)||re){const xe={...oe,...re&&on(z)?{isValid:z}:{},errors:r.errors,name:A};r={...r,...xe},h.state.next(xe)}},N=async A=>{x(A,!0);const z=await t.resolver(o,t.context,jJ(A||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(A),z},E=async A=>{const{errors:z}=await N(A);if(A)for(const q of A){const oe=ce(z,q);oe?et(r.errors,q,oe):$t(r.errors,q)}else r.errors=z;return z},P=async(A,z,q={valid:!0})=>{for(const oe in A){const ie=A[oe];if(ie){const{_f:re,...xe}=ie;if(re){const Pe=a.array.has(re.name),mt=ie._f&&kJ(ie._f);mt&&f.validatingFields&&x([oe],!0);const Je=await qC(ie,o,g,t.shouldUseNativeValidation&&!z,Pe);if(mt&&f.validatingFields&&x([oe]),Je[re.name]&&(q.valid=!1,z))break;!z&&(ce(Je,re.name)?Pe?SJ(r.errors,Je,re.name):et(r.errors,re.name,Je[re.name]):$t(r.errors,re.name))}!Er(xe)&&await P(xe,z,q)}}return q.valid},k=()=>{for(const A of a.unMount){const z=ce(n,A);z&&(z._f.refs?z._f.refs.every(q=>!Kg(q)):!Kg(z._f.ref))&&J(A)}a.unMount=new Set},M=(A,z)=>!e.disabled&&(A&&z&&et(o,A,z),!uo(W(),s)),D=(A,z,q)=>BO(A,a,{...i.mount?o:Pt(z)?s:ts(A)?{[A]:z}:z},q,z),I=A=>xm(ce(i.mount?o:s,A,e.shouldUnregister?ce(s,A,[]):[])),B=(A,z,q={})=>{const oe=ce(n,A);let ie=z;if(oe){const re=oe._f;re&&(!re.disabled&&et(o,A,qO(z,re)),ie=Uh(re.ref)&&mr(z)?"":z,VO(re.ref)?[...re.ref.options].forEach(xe=>xe.selected=ie.includes(xe.value)):re.refs?hd(re.ref)?re.refs.length>1?re.refs.forEach(xe=>(!xe.defaultChecked||!xe.disabled)&&(xe.checked=Array.isArray(ie)?!!ie.find(Pe=>Pe===xe.value):ie===xe.value)):re.refs[0]&&(re.refs[0].checked=!!ie):re.refs.forEach(xe=>xe.checked=xe.value===ie):Xw(re.ref)?re.ref.value="":(re.ref.value=ie,re.ref.type||h.values.next({name:A,values:{...o}})))}(q.shouldDirty||q.shouldTouch)&&C(A,ie,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&U(A)},$=(A,z,q)=>{for(const oe in z){const ie=z[oe],re=`${A}.${oe}`,xe=ce(n,re);(a.array.has(A)||Rt(ie)||xe&&!xe._f)&&!mi(ie)?$(re,ie,q):B(re,ie,q)}},F=(A,z,q={})=>{const oe=ce(n,A),ie=a.array.has(A),re=Cr(z);et(o,A,re),ie?(h.array.next({name:A,values:{...o}}),(f.isDirty||f.dirtyFields)&&q.shouldDirty&&h.state.next({name:A,dirtyFields:Yl(s,o),isDirty:M(A,re)})):oe&&!oe._f&&!mr(re)?$(A,re,q):B(A,re,q),zC(A,a)&&h.state.next({...r}),h.values.next({name:i.mount?A:void 0,values:{...o}})},O=async A=>{i.mount=!0;const z=A.target;let q=z.name,oe=!0;const ie=ce(n,q),re=()=>z.type?Zg(ie._f):OO(A),xe=Pe=>{oe=Number.isNaN(Pe)||mi(Pe)&&isNaN(Pe.getTime())||uo(Pe,ce(o,q,Pe))};if(ie){let Pe,mt;const Je=re(),Ar=A.type===Bh.BLUR||A.type===Bh.FOCUS_OUT,$r=!NJ(ie._f)&&!t.resolver&&!ce(r.errors,q)&&!ie._f.deps||PJ(Ar,ce(r.touchedFields,q),r.isSubmitted,m,p),ws=zC(q,a,Ar);et(o,q,Je),Ar?(ie._f.onBlur&&ie._f.onBlur(A),c&&c(0)):ie._f.onChange&&ie._f.onChange(A);const Gn=C(q,Je,Ar,!1),Qo=!Er(Gn)||ws;if(!Ar&&h.values.next({name:q,type:A.type,values:{...o}}),$r)return f.isValid&&(e.mode==="onBlur"?Ar&&b():b()),Qo&&h.state.next({name:q,...ws?{}:Gn});if(!Ar&&ws&&h.state.next({...r}),t.resolver){const{errors:qn}=await N([q]);if(xe(Je),oe){const zi=KC(r.errors,n,q),wn=KC(qn,n,zi.name||q);Pe=wn.error,q=wn.name,mt=Er(qn)}}else x([q],!0),Pe=(await qC(ie,o,g,t.shouldUseNativeValidation))[q],x([q]),xe(Je),oe&&(Pe?mt=!1:f.isValid&&(mt=await P(n,!0)));oe&&(ie._f.deps&&U(ie._f.deps),j(q,mt,Pe,Gn))}},L=(A,z)=>{if(ce(r.errors,z)&&A.focus)return A.focus(),1},U=async(A,z={})=>{let q,oe;const ie=jc(A);if(t.resolver){const re=await E(Pt(A)?A:ie);q=Er(re),oe=A?!ie.some(xe=>ce(re,xe)):q}else A?(oe=(await Promise.all(ie.map(async re=>{const xe=ce(n,re);return await P(xe&&xe._f?{[re]:xe}:xe)}))).every(Boolean),!(!oe&&!r.isValid)&&b()):oe=q=await P(n);return h.state.next({...!ts(A)||f.isValid&&q!==r.isValid?{}:{name:A},...t.resolver||!A?{isValid:q}:{},errors:r.errors}),z.shouldFocus&&!oe&&kc(n,L,A?ie:a.mount),oe},W=A=>{const z={...i.mount?o:s};return Pt(A)?z:ts(A)?ce(z,A):A.map(q=>ce(z,q))},T=(A,z)=>({invalid:!!ce((z||r).errors,A),isDirty:!!ce((z||r).dirtyFields,A),error:ce((z||r).errors,A),isValidating:!!ce(r.validatingFields,A),isTouched:!!ce((z||r).touchedFields,A)}),H=A=>{A&&jc(A).forEach(z=>$t(r.errors,z)),h.state.next({errors:A?r.errors:{}})},K=(A,z,q)=>{const oe=(ce(n,A,{_f:{}})._f||{}).ref,ie=ce(r.errors,A)||{},{ref:re,message:xe,type:Pe,...mt}=ie;et(r.errors,A,{...mt,...z,ref:oe}),h.state.next({name:A,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&oe&&oe.focus&&oe.focus()},R=(A,z)=>Ds(A)?h.values.subscribe({next:q=>A(D(void 0,z),q)}):D(A,z,!0),J=(A,z={})=>{for(const q of A?jc(A):a.mount)a.mount.delete(q),a.array.delete(q),z.keepValue||($t(n,q),$t(o,q)),!z.keepError&&$t(r.errors,q),!z.keepDirty&&$t(r.dirtyFields,q),!z.keepTouched&&$t(r.touchedFields,q),!z.keepIsValidating&&$t(r.validatingFields,q),!t.shouldUnregister&&!z.keepDefaultValue&&$t(s,q);h.values.next({values:{...o}}),h.state.next({...r,...z.keepDirty?{isDirty:M()}:{}}),!z.keepIsValid&&b()},Z=({disabled:A,name:z,field:q,fields:oe,value:ie})=>{if(on(A)&&i.mount||A){const re=A?void 0:Pt(ie)?Zg(q?q._f:ce(oe,z)._f):ie;et(o,z,re),C(z,re,!1,!1,!0)}},Q=(A,z={})=>{let q=ce(n,A);const oe=on(z.disabled)||on(e.disabled);return et(n,A,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:A}},name:A,mount:!0,...z}}),a.mount.add(A),q?Z({field:q,disabled:on(z.disabled)?z.disabled:e.disabled,name:A,value:z.value}):_(A,!0,z.value),{...oe?{disabled:z.disabled||e.disabled}:{},...t.progressive?{required:!!z.required,min:Kl(z.min),max:Kl(z.max),minLength:Kl(z.minLength),maxLength:Kl(z.maxLength),pattern:Kl(z.pattern)}:{},name:A,onChange:O,onBlur:O,ref:ie=>{if(ie){Q(A,z),q=ce(n,A);const re=Pt(ie.value)&&ie.querySelectorAll&&ie.querySelectorAll("input,select,textarea")[0]||ie,xe=EJ(re),Pe=q._f.refs||[];if(xe?Pe.find(mt=>mt===re):re===q._f.ref)return;et(n,A,{_f:{...q._f,...xe?{refs:[...Pe.filter(Kg),re,...Array.isArray(ce(s,A))?[{}]:[]],ref:{type:re.type,name:A}}:{ref:re}}}),_(A,!1,void 0,re)}else q=ce(n,A,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||z.shouldUnregister)&&!(TO(a.array,A)&&i.action)&&a.unMount.add(A)}}},le=()=>t.shouldFocusError&&kc(n,L,a.mount),te=A=>{on(A)&&(h.state.next({disabled:A}),kc(n,(z,q)=>{const oe=ce(n,q);oe&&(z.disabled=oe._f.disabled||A,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(ie=>{ie.disabled=oe._f.disabled||A}))},0,!1))},G=(A,z)=>async q=>{let oe;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let ie=Cr(o);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:re,values:xe}=await N();r.errors=re,ie=xe}else await P(n);if($t(r.errors,"root"),Er(r.errors)){h.state.next({errors:{}});try{await A(ie,q)}catch(re){oe=re}}else z&&await z({...r.errors},q),le(),setTimeout(le);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Er(r.errors)&&!oe,submitCount:r.submitCount+1,errors:r.errors}),oe)throw oe},de=(A,z={})=>{ce(n,A)&&(Pt(z.defaultValue)?F(A,Cr(ce(s,A))):(F(A,z.defaultValue),et(s,A,Cr(z.defaultValue))),z.keepTouched||$t(r.touchedFields,A),z.keepDirty||($t(r.dirtyFields,A),r.isDirty=z.defaultValue?M(A,Cr(ce(s,A))):M()),z.keepError||($t(r.errors,A),f.isValid&&b()),h.state.next({...r}))},Ce=(A,z={})=>{const q=A?Cr(A):s,oe=Cr(q),ie=Er(A),re=ie?s:oe;if(z.keepDefaultValues||(s=q),!z.keepValues){if(z.keepDirtyValues){const xe=new Set([...a.mount,...Object.keys(Yl(s,o))]);for(const Pe of Array.from(xe))ce(r.dirtyFields,Pe)?et(re,Pe,ce(o,Pe)):F(Pe,ce(re,Pe))}else{if(Yw&&Pt(A))for(const xe of a.mount){const Pe=ce(n,xe);if(Pe&&Pe._f){const mt=Array.isArray(Pe._f.refs)?Pe._f.refs[0]:Pe._f.ref;if(Uh(mt)){const Je=mt.closest("form");if(Je){Je.reset();break}}}}n={}}o=e.shouldUnregister?z.keepDefaultValues?Cr(s):{}:Cr(re),h.array.next({values:{...re}}),h.values.next({values:{...re}})}a={mount:z.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!f.isValid||!!z.keepIsValid||!!z.keepDirtyValues,i.watch=!!e.shouldUnregister,h.state.next({submitCount:z.keepSubmitCount?r.submitCount:0,isDirty:ie?!1:z.keepDirty?r.isDirty:!!(z.keepDefaultValues&&!uo(A,s)),isSubmitted:z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ie?{}:z.keepDirtyValues?z.keepDefaultValues&&o?Yl(s,o):r.dirtyFields:z.keepDefaultValues&&A?Yl(s,A):z.keepDirty?r.dirtyFields:{},touchedFields:z.keepTouched?r.touchedFields:{},errors:z.keepErrors?r.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ae=(A,z)=>Ce(Ds(A)?A(o):A,z);return{control:{register:Q,unregister:J,getFieldState:T,handleSubmit:G,setError:K,_executeSchema:N,_getWatch:D,_getDirty:M,_updateValid:b,_removeUnmounted:k,_updateFieldArray:y,_updateDisabledField:Z,_getFieldArray:I,_reset:Ce,_resetDefaultValues:()=>Ds(t.defaultValues)&&t.defaultValues().then(A=>{Ae(A,t.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:A=>{r={...r,...A}},_disableForm:te,_subjects:h,_proxyFormState:f,_setErrors:S,get _fields(){return n},get _formValues(){return o},get _state(){return i},set _state(A){i=A},get _defaultValues(){return s},get _names(){return a},set _names(A){a=A},get _formState(){return r},set _formState(A){r=A},get _options(){return t},set _options(A){t={...t,...A}}},trigger:U,register:Q,handleSubmit:G,watch:R,setValue:F,getValues:W,reset:Ae,resetField:de,clearErrors:H,unregister:J,setError:K,setFocus:(A,z={})=>{const q=ce(n,A),oe=q&&q._f;if(oe){const ie=oe.refs?oe.refs[0]:oe.ref;ie.focus&&(ie.focus(),z.shouldSelect&&ie.select())}},getFieldState:T}}function Cl(e={}){const t=Y.useRef(),r=Y.useRef(),[n,s]=Y.useState({isDirty:!1,isValidating:!1,isLoading:Ds(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ds(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...DJ(e),formState:n});const o=t.current.control;return o._options=e,Zw({subject:o._subjects.state,next:i=>{$O(i,o._proxyFormState,o._updateFormState,!0)&&s({...o._formState})}}),Y.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),Y.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==n.isDirty&&o._subjects.state.next({isDirty:i})}},[o,n.isDirty]),Y.useEffect(()=>{e.values&&!uo(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,s(i=>({...i}))):o._resetDefaultValues()},[e.values,o]),Y.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),Y.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),Y.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),Y.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=AO(n,o),t.current}const El=vJ,YO=d.createContext({}),it=({...e})=>l.jsx(YO.Provider,{value:{name:e.name},children:l.jsx(wJ,{...e})}),wm=()=>{const e=d.useContext(YO),t=d.useContext(KO),{getFieldState:r,formState:n}=bm(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},KO=d.createContext({}),rt=d.forwardRef(({className:e,...t},r)=>{const n=d.useId();return l.jsx(KO.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:pe("space-y-2",e),...t})})});rt.displayName="FormItem";const Ke=d.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=wm();return l.jsx(jt,{ref:r,className:pe(n&&"text-destructive",e),htmlFor:s,...t})});Ke.displayName="FormLabel";const nt=d.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:o}=wm();return l.jsx(as,{ref:t,id:n,"aria-describedby":r?`${s} ${o}`:`${s}`,"aria-invalid":!!r,...e})});nt.displayName="FormControl";const Xn=d.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=wm();return l.jsx("p",{ref:r,id:n,className:pe("text-sm text-muted-foreground",e),...t})});Xn.displayName="FormDescription";const at=d.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:o}=wm(),i=s?String(s==null?void 0:s.message):t;return i?l.jsx("p",{ref:n,id:o,className:pe("text-sm font-medium text-destructive",e),...r,children:i}):null});at.displayName="FormMessage";var He;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const o={};for(const i of s)o[i]=i;return o},e.getValidEnumValues=s=>{const o=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),i={};for(const a of o)i[a]=s[a];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(o){return s[o]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&o.push(i);return o},e.find=(s,o)=>{for(const i of s)if(o(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(He||(He={}));var Jy;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Jy||(Jy={}));const he=He.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fo=e=>{switch(typeof e){case"undefined":return he.undefined;case"string":return he.string;case"number":return isNaN(e)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"symbol":return he.symbol;case"object":return Array.isArray(e)?he.array:e===null?he.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?he.promise:typeof Map<"u"&&e instanceof Map?he.map:typeof Set<"u"&&e instanceof Set?he.set:typeof Date<"u"&&e instanceof Date?he.date:he.object;default:return he.unknown}},se=He.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),OJ=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Jr extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(o){return o.message},n={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let a=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(i))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Jr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,He.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Jr.create=e=>new Jr(e);const tl=(e,t)=>{let r;switch(e.code){case se.invalid_type:e.received===he.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case se.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,He.jsonStringifyReplacer)}`;break;case se.unrecognized_keys:r=`Unrecognized key(s) in object: ${He.joinValues(e.keys,", ")}`;break;case se.invalid_union:r="Invalid input";break;case se.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${He.joinValues(e.options)}`;break;case se.invalid_enum_value:r=`Invalid enum value. Expected ${He.joinValues(e.options)}, received '${e.received}'`;break;case se.invalid_arguments:r="Invalid function arguments";break;case se.invalid_return_type:r="Invalid function return type";break;case se.invalid_date:r="Invalid date";break;case se.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:He.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case se.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case se.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case se.custom:r="Invalid input";break;case se.invalid_intersection_types:r="Intersection results could not be merged";break;case se.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case se.not_finite:r="Number must be finite";break;default:r=t.defaultError,He.assertNever(e)}return{message:r}};let ZO=tl;function TJ(e){ZO=e}function Vh(){return ZO}const Hh=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,o=[...r,...s.path||[]],i={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let a="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)a=u(i,{data:t,defaultError:a}).message;return{...s,path:o,message:a}},RJ=[];function fe(e,t){const r=Vh(),n=Hh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===tl?void 0:tl].filter(s=>!!s)});e.common.issues.push(n)}class ur{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ke;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const o=await s.key,i=await s.value;n.push({key:o,value:i})}return ur.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:o,value:i}=s;if(o.status==="aborted"||i.status==="aborted")return ke;o.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[o.value]=i.value)}return{status:t.value,value:n}}}const ke=Object.freeze({status:"aborted"}),ba=e=>({status:"dirty",value:e}),vr=e=>({status:"valid",value:e}),Qy=e=>e.status==="aborted",ex=e=>e.status==="dirty",hu=e=>e.status==="valid",pu=e=>typeof Promise<"u"&&e instanceof Promise;function Gh(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function XO(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var ye;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ye||(ye={}));var sc,oc;class vs{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ZC=(e,t)=>{if(hu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Jr(e.common.issues);return this._error=r,this._error}}};function De(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,a)=>{var c,u;const{message:f}=e;return i.code==="invalid_enum_value"?{message:f??a.defaultError}:typeof a.data>"u"?{message:(c=f??n)!==null&&c!==void 0?c:a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:(u=f??r)!==null&&u!==void 0?u:a.defaultError}},description:s}}class $e{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return fo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:fo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ur,ctx:{common:t.parent.common,data:t.data,parsedType:fo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(pu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fo(t)},o=this._parseSync({data:t,path:s.path,parent:s});return ZC(s,o)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fo(t)},s=this._parse({data:t,path:n.path,parent:n}),o=await(pu(s)?s:Promise.resolve(s));return ZC(n,o)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const i=t(s),a=()=>o.addIssue({code:se.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new zn({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return is.create(this,this._def)}nullable(){return zo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return In.create(this,this._def)}promise(){return nl.create(this,this._def)}or(t){return yu.create([this,t],this._def)}and(t){return xu.create(this,t,this._def)}transform(t){return new zn({...De(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Cu({...De(this._def),innerType:this,defaultValue:r,typeName:Ee.ZodDefault})}brand(){return new Qw({typeName:Ee.ZodBranded,type:this,...De(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Eu({...De(this._def),innerType:this,catchValue:r,typeName:Ee.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return pd.create(this,t)}readonly(){return ju.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IJ=/^c[^\s-]{8,}$/i,AJ=/^[0-9a-z]+$/,$J=/^[0-9A-HJKMNP-TV-Z]{26}$/,FJ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,BJ=/^[a-z0-9_-]{21}$/i,UJ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zJ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,WJ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Xg;const VJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,HJ=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,GJ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,JO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qJ=new RegExp(`^${JO}$`);function QO(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function YJ(e){return new RegExp(`^${QO(e)}$`)}function eT(e){let t=`${JO}T${QO(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function KJ(e,t){return!!((t==="v4"||!t)&&VJ.test(e)||(t==="v6"||!t)&&HJ.test(e))}class On extends $e{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==he.string){const o=this._getOrReturnCtx(t);return fe(o,{code:se.invalid_type,expected:he.string,received:o.parsedType}),ke}const n=new ur;let s;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:se.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:se.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const i=t.data.length>o.value,a=t.data.length<o.value;(i||a)&&(s=this._getOrReturnCtx(t,s),i?fe(s,{code:se.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&fe(s,{code:se.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")zJ.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"email",code:se.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Xg||(Xg=new RegExp(WJ,"u")),Xg.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"emoji",code:se.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")FJ.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"uuid",code:se.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")BJ.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"nanoid",code:se.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")IJ.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"cuid",code:se.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")AJ.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"cuid2",code:se.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")$J.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"ulid",code:se.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),fe(s,{validation:"url",code:se.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"regex",code:se.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(t,s),fe(s,{code:se.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(s=this._getOrReturnCtx(t,s),fe(s,{code:se.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(s=this._getOrReturnCtx(t,s),fe(s,{code:se.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?eT(o).test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{code:se.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?qJ.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{code:se.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?YJ(o).test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{code:se.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?UJ.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"duration",code:se.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?KJ(t.data,o.version)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"ip",code:se.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?GJ.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"base64",code:se.invalid_string,message:o.message}),n.dirty()):He.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:se.invalid_string,...ye.errToObj(n)})}_addCheck(t){return new On({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ye.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ye.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ye.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ye.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ye.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ye.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ye.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ye.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ye.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ye.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...ye.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ye.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ye.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ye.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ye.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ye.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ye.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ye.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ye.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ye.errToObj(r)})}nonempty(t){return this.min(1,ye.errToObj(t))}trim(){return new On({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new On({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new On({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}On.create=e=>{var t;return new On({checks:[],typeName:Ee.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...De(e)})};function ZJ(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,o=parseInt(e.toFixed(s).replace(".","")),i=parseInt(t.toFixed(s).replace(".",""));return o%i/Math.pow(10,s)}class Fo extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==he.number){const o=this._getOrReturnCtx(t);return fe(o,{code:se.invalid_type,expected:he.number,received:o.parsedType}),ke}let n;const s=new ur;for(const o of this._def.checks)o.kind==="int"?He.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),fe(n,{code:se.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),fe(n,{code:se.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),fe(n,{code:se.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?ZJ(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),fe(n,{code:se.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),fe(n,{code:se.not_finite,message:o.message}),s.dirty()):He.assertNever(o);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ye.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ye.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ye.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ye.toString(r))}setLimit(t,r,n,s){return new Fo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ye.toString(s)}]})}_addCheck(t){return new Fo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ye.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ye.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ye.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ye.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ye.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ye.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ye.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ye.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ye.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&He.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Fo.create=e=>new Fo({checks:[],typeName:Ee.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...De(e)});class Bo extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==he.bigint){const o=this._getOrReturnCtx(t);return fe(o,{code:se.invalid_type,expected:he.bigint,received:o.parsedType}),ke}let n;const s=new ur;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),fe(n,{code:se.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),fe(n,{code:se.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),fe(n,{code:se.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):He.assertNever(o);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ye.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ye.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ye.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ye.toString(r))}setLimit(t,r,n,s){return new Bo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ye.toString(s)}]})}_addCheck(t){return new Bo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ye.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ye.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ye.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ye.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ye.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Bo.create=e=>{var t;return new Bo({checks:[],typeName:Ee.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...De(e)})};class mu extends $e{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==he.boolean){const n=this._getOrReturnCtx(t);return fe(n,{code:se.invalid_type,expected:he.boolean,received:n.parsedType}),ke}return vr(t.data)}}mu.create=e=>new mu({typeName:Ee.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...De(e)});class Pi extends $e{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==he.date){const o=this._getOrReturnCtx(t);return fe(o,{code:se.invalid_type,expected:he.date,received:o.parsedType}),ke}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return fe(o,{code:se.invalid_date}),ke}const n=new ur;let s;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:se.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:se.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):He.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Pi({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ye.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ye.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Pi.create=e=>new Pi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ee.ZodDate,...De(e)});class qh extends $e{_parse(t){if(this._getType(t)!==he.symbol){const n=this._getOrReturnCtx(t);return fe(n,{code:se.invalid_type,expected:he.symbol,received:n.parsedType}),ke}return vr(t.data)}}qh.create=e=>new qh({typeName:Ee.ZodSymbol,...De(e)});class gu extends $e{_parse(t){if(this._getType(t)!==he.undefined){const n=this._getOrReturnCtx(t);return fe(n,{code:se.invalid_type,expected:he.undefined,received:n.parsedType}),ke}return vr(t.data)}}gu.create=e=>new gu({typeName:Ee.ZodUndefined,...De(e)});class vu extends $e{_parse(t){if(this._getType(t)!==he.null){const n=this._getOrReturnCtx(t);return fe(n,{code:se.invalid_type,expected:he.null,received:n.parsedType}),ke}return vr(t.data)}}vu.create=e=>new vu({typeName:Ee.ZodNull,...De(e)});class rl extends $e{constructor(){super(...arguments),this._any=!0}_parse(t){return vr(t.data)}}rl.create=e=>new rl({typeName:Ee.ZodAny,...De(e)});class yi extends $e{constructor(){super(...arguments),this._unknown=!0}_parse(t){return vr(t.data)}}yi.create=e=>new yi({typeName:Ee.ZodUnknown,...De(e)});class Hs extends $e{_parse(t){const r=this._getOrReturnCtx(t);return fe(r,{code:se.invalid_type,expected:he.never,received:r.parsedType}),ke}}Hs.create=e=>new Hs({typeName:Ee.ZodNever,...De(e)});class Yh extends $e{_parse(t){if(this._getType(t)!==he.undefined){const n=this._getOrReturnCtx(t);return fe(n,{code:se.invalid_type,expected:he.void,received:n.parsedType}),ke}return vr(t.data)}}Yh.create=e=>new Yh({typeName:Ee.ZodVoid,...De(e)});class In extends $e{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==he.array)return fe(r,{code:se.invalid_type,expected:he.array,received:r.parsedType}),ke;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(i||a)&&(fe(r,{code:i?se.too_big:se.too_small,minimum:a?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(fe(r,{code:se.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(fe(r,{code:se.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,a)=>s.type._parseAsync(new vs(r,i,r.path,a)))).then(i=>ur.mergeArray(n,i));const o=[...r.data].map((i,a)=>s.type._parseSync(new vs(r,i,r.path,a)));return ur.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new In({...this._def,minLength:{value:t,message:ye.toString(r)}})}max(t,r){return new In({...this._def,maxLength:{value:t,message:ye.toString(r)}})}length(t,r){return new In({...this._def,exactLength:{value:t,message:ye.toString(r)}})}nonempty(t){return this.min(1,t)}}In.create=(e,t)=>new In({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...De(t)});function ia(e){if(e instanceof wt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=is.create(ia(n))}return new wt({...e._def,shape:()=>t})}else return e instanceof In?new In({...e._def,type:ia(e.element)}):e instanceof is?is.create(ia(e.unwrap())):e instanceof zo?zo.create(ia(e.unwrap())):e instanceof ys?ys.create(e.items.map(t=>ia(t))):e}class wt extends $e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=He.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==he.object){const u=this._getOrReturnCtx(t);return fe(u,{code:se.invalid_type,expected:he.object,received:u.parsedType}),ke}const{status:n,ctx:s}=this._processInputParams(t),{shape:o,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Hs&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||a.push(u);const c=[];for(const u of i){const f=o[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new vs(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Hs){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of a)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(u==="strict")a.length>0&&(fe(s,{code:se.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of a){const h=s.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new vs(s,h,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const h=await f.key,p=await f.value;u.push({key:h,value:p,alwaysSet:f.alwaysSet})}return u}).then(u=>ur.mergeObjectSync(n,u)):ur.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ye.errToObj,new wt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o,i,a;const c=(i=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,r,n).message)!==null&&i!==void 0?i:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=ye.errToObj(t).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new wt({...this._def,unknownKeys:"strip"})}passthrough(){return new wt({...this._def,unknownKeys:"passthrough"})}extend(t){return new wt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new wt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ee.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new wt({...this._def,catchall:t})}pick(t){const r={};return He.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new wt({...this._def,shape:()=>r})}omit(t){const r={};return He.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new wt({...this._def,shape:()=>r})}deepPartial(){return ia(this)}partial(t){const r={};return He.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new wt({...this._def,shape:()=>r})}required(t){const r={};return He.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof is;)o=o._def.innerType;r[n]=o}}),new wt({...this._def,shape:()=>r})}keyof(){return tT(He.objectKeys(this.shape))}}wt.create=(e,t)=>new wt({shape:()=>e,unknownKeys:"strip",catchall:Hs.create(),typeName:Ee.ZodObject,...De(t)});wt.strictCreate=(e,t)=>new wt({shape:()=>e,unknownKeys:"strict",catchall:Hs.create(),typeName:Ee.ZodObject,...De(t)});wt.lazycreate=(e,t)=>new wt({shape:e,unknownKeys:"strip",catchall:Hs.create(),typeName:Ee.ZodObject,...De(t)});class yu extends $e{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const i=o.map(a=>new Jr(a.ctx.common.issues));return fe(r,{code:se.invalid_union,unionErrors:i}),ke}if(r.common.async)return Promise.all(n.map(async o=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let o;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(c=>new Jr(c));return fe(r,{code:se.invalid_union,unionErrors:a}),ke}}get options(){return this._def.options}}yu.create=(e,t)=>new yu({options:e,typeName:Ee.ZodUnion,...De(t)});const js=e=>e instanceof wu?js(e.schema):e instanceof zn?js(e.innerType()):e instanceof Su?[e.value]:e instanceof Uo?e.options:e instanceof _u?He.objectValues(e.enum):e instanceof Cu?js(e._def.innerType):e instanceof gu?[void 0]:e instanceof vu?[null]:e instanceof is?[void 0,...js(e.unwrap())]:e instanceof zo?[null,...js(e.unwrap())]:e instanceof Qw||e instanceof ju?js(e.unwrap()):e instanceof Eu?js(e._def.innerType):[];class Sm extends $e{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==he.object)return fe(r,{code:se.invalid_type,expected:he.object,received:r.parsedType}),ke;const n=this.discriminator,s=r.data[n],o=this.optionsMap.get(s);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(fe(r,{code:se.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ke)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const o of r){const i=js(o.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of i){if(s.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);s.set(a,o)}}return new Sm({typeName:Ee.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...De(n)})}}function tx(e,t){const r=fo(e),n=fo(t);if(e===t)return{valid:!0,data:e};if(r===he.object&&n===he.object){const s=He.objectKeys(t),o=He.objectKeys(e).filter(a=>s.indexOf(a)!==-1),i={...e,...t};for(const a of o){const c=tx(e[a],t[a]);if(!c.valid)return{valid:!1};i[a]=c.data}return{valid:!0,data:i}}else if(r===he.array&&n===he.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let o=0;o<e.length;o++){const i=e[o],a=t[o],c=tx(i,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===he.date&&n===he.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class xu extends $e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(o,i)=>{if(Qy(o)||Qy(i))return ke;const a=tx(o.value,i.value);return a.valid?((ex(o)||ex(i))&&r.dirty(),{status:r.value,value:a.data}):(fe(n,{code:se.invalid_intersection_types}),ke)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}xu.create=(e,t,r)=>new xu({left:e,right:t,typeName:Ee.ZodIntersection,...De(r)});class ys extends $e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.array)return fe(n,{code:se.invalid_type,expected:he.array,received:n.parsedType}),ke;if(n.data.length<this._def.items.length)return fe(n,{code:se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ke;!this._def.rest&&n.data.length>this._def.items.length&&(fe(n,{code:se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((i,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new vs(n,i,n.path,a)):null}).filter(i=>!!i);return n.common.async?Promise.all(o).then(i=>ur.mergeArray(r,i)):ur.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new ys({...this._def,rest:t})}}ys.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ys({items:e,typeName:Ee.ZodTuple,rest:null,...De(t)})};class bu extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.object)return fe(n,{code:se.invalid_type,expected:he.object,received:n.parsedType}),ke;const s=[],o=this._def.keyType,i=this._def.valueType;for(const a in n.data)s.push({key:o._parse(new vs(n,a,n.path,a)),value:i._parse(new vs(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?ur.mergeObjectAsync(r,s):ur.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof $e?new bu({keyType:t,valueType:r,typeName:Ee.ZodRecord,...De(n)}):new bu({keyType:On.create(),valueType:t,typeName:Ee.ZodRecord,...De(r)})}}class Kh extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.map)return fe(n,{code:se.invalid_type,expected:he.map,received:n.parsedType}),ke;const s=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(([a,c],u)=>({key:s._parse(new vs(n,a,n.path,[u,"key"])),value:o._parse(new vs(n,c,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return ke;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),a.set(u.value,f.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of i){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return ke;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),a.set(u.value,f.value)}return{status:r.value,value:a}}}}Kh.create=(e,t,r)=>new Kh({valueType:t,keyType:e,typeName:Ee.ZodMap,...De(r)});class Li extends $e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.set)return fe(n,{code:se.invalid_type,expected:he.set,received:n.parsedType}),ke;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(fe(n,{code:se.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(fe(n,{code:se.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function i(c){const u=new Set;for(const f of c){if(f.status==="aborted")return ke;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((c,u)=>o._parse(new vs(n,c,n.path,u)));return n.common.async?Promise.all(a).then(c=>i(c)):i(a)}min(t,r){return new Li({...this._def,minSize:{value:t,message:ye.toString(r)}})}max(t,r){return new Li({...this._def,maxSize:{value:t,message:ye.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Li.create=(e,t)=>new Li({valueType:e,minSize:null,maxSize:null,typeName:Ee.ZodSet,...De(t)});class Da extends $e{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==he.function)return fe(r,{code:se.invalid_type,expected:he.function,received:r.parsedType}),ke;function n(a,c){return Hh({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Vh(),tl].filter(u=>!!u),issueData:{code:se.invalid_arguments,argumentsError:c}})}function s(a,c){return Hh({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Vh(),tl].filter(u=>!!u),issueData:{code:se.invalid_return_type,returnTypeError:c}})}const o={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof nl){const a=this;return vr(async function(...c){const u=new Jr([]),f=await a._def.args.parseAsync(c,o).catch(m=>{throw u.addIssue(n(c,m)),u}),h=await Reflect.apply(i,this,f);return await a._def.returns._def.type.parseAsync(h,o).catch(m=>{throw u.addIssue(s(h,m)),u})})}else{const a=this;return vr(function(...c){const u=a._def.args.safeParse(c,o);if(!u.success)throw new Jr([n(c,u.error)]);const f=Reflect.apply(i,this,u.data),h=a._def.returns.safeParse(f,o);if(!h.success)throw new Jr([s(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Da({...this._def,args:ys.create(t).rest(yi.create())})}returns(t){return new Da({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Da({args:t||ys.create([]).rest(yi.create()),returns:r||yi.create(),typeName:Ee.ZodFunction,...De(n)})}}class wu extends $e{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}wu.create=(e,t)=>new wu({getter:e,typeName:Ee.ZodLazy,...De(t)});class Su extends $e{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return fe(r,{received:r.data,code:se.invalid_literal,expected:this._def.value}),ke}return{status:"valid",value:t.data}}get value(){return this._def.value}}Su.create=(e,t)=>new Su({value:e,typeName:Ee.ZodLiteral,...De(t)});function tT(e,t){return new Uo({values:e,typeName:Ee.ZodEnum,...De(t)})}class Uo extends $e{constructor(){super(...arguments),sc.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return fe(r,{expected:He.joinValues(n),received:r.parsedType,code:se.invalid_type}),ke}if(Gh(this,sc)||XO(this,sc,new Set(this._def.values)),!Gh(this,sc).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return fe(r,{received:r.data,code:se.invalid_enum_value,options:n}),ke}return vr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Uo.create(t,{...this._def,...r})}exclude(t,r=this._def){return Uo.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}sc=new WeakMap;Uo.create=tT;class _u extends $e{constructor(){super(...arguments),oc.set(this,void 0)}_parse(t){const r=He.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==he.string&&n.parsedType!==he.number){const s=He.objectValues(r);return fe(n,{expected:He.joinValues(s),received:n.parsedType,code:se.invalid_type}),ke}if(Gh(this,oc)||XO(this,oc,new Set(He.getValidEnumValues(this._def.values))),!Gh(this,oc).has(t.data)){const s=He.objectValues(r);return fe(n,{received:n.data,code:se.invalid_enum_value,options:s}),ke}return vr(t.data)}get enum(){return this._def.values}}oc=new WeakMap;_u.create=(e,t)=>new _u({values:e,typeName:Ee.ZodNativeEnum,...De(t)});class nl extends $e{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==he.promise&&r.common.async===!1)return fe(r,{code:se.invalid_type,expected:he.promise,received:r.parsedType}),ke;const n=r.parsedType===he.promise?r.data:Promise.resolve(r.data);return vr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}nl.create=(e,t)=>new nl({type:e,typeName:Ee.ZodPromise,...De(t)});class zn extends $e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,o={addIssue:i=>{fe(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const i=s.transform(n.data,o);if(n.common.async)return Promise.resolve(i).then(async a=>{if(r.value==="aborted")return ke;const c=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?ke:c.status==="dirty"||r.value==="dirty"?ba(c.value):c});{if(r.value==="aborted")return ke;const a=this._def.schema._parseSync({data:i,path:n.path,parent:n});return a.status==="aborted"?ke:a.status==="dirty"||r.value==="dirty"?ba(a.value):a}}if(s.type==="refinement"){const i=a=>{const c=s.refinement(a,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ke:(a.status==="dirty"&&r.dirty(),i(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ke:(a.status==="dirty"&&r.dirty(),i(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!hu(i))return i;const a=s.transform(i.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>hu(i)?Promise.resolve(s.transform(i.value,o)).then(a=>({status:r.value,value:a})):i);He.assertNever(s)}}zn.create=(e,t,r)=>new zn({schema:e,typeName:Ee.ZodEffects,effect:t,...De(r)});zn.createWithPreprocess=(e,t,r)=>new zn({schema:t,effect:{type:"preprocess",transform:e},typeName:Ee.ZodEffects,...De(r)});class is extends $e{_parse(t){return this._getType(t)===he.undefined?vr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}is.create=(e,t)=>new is({innerType:e,typeName:Ee.ZodOptional,...De(t)});class zo extends $e{_parse(t){return this._getType(t)===he.null?vr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}zo.create=(e,t)=>new zo({innerType:e,typeName:Ee.ZodNullable,...De(t)});class Cu extends $e{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===he.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Cu.create=(e,t)=>new Cu({innerType:e,typeName:Ee.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...De(t)});class Eu extends $e{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return pu(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Jr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Jr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Eu.create=(e,t)=>new Eu({innerType:e,typeName:Ee.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...De(t)});class Zh extends $e{_parse(t){if(this._getType(t)!==he.nan){const n=this._getOrReturnCtx(t);return fe(n,{code:se.invalid_type,expected:he.nan,received:n.parsedType}),ke}return{status:"valid",value:t.data}}}Zh.create=e=>new Zh({typeName:Ee.ZodNaN,...De(e)});const XJ=Symbol("zod_brand");class Qw extends $e{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class pd extends $e{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ke:o.status==="dirty"?(r.dirty(),ba(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ke:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new pd({in:t,out:r,typeName:Ee.ZodPipeline})}}class ju extends $e{_parse(t){const r=this._def.innerType._parse(t),n=s=>(hu(s)&&(s.value=Object.freeze(s.value)),s);return pu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}ju.create=(e,t)=>new ju({innerType:e,typeName:Ee.ZodReadonly,...De(t)});function rT(e,t={},r){return e?rl.create().superRefine((n,s)=>{var o,i;if(!e(n)){const a=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(i=(o=a.fatal)!==null&&o!==void 0?o:r)!==null&&i!==void 0?i:!0,u=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...u,fatal:c})}}):rl.create()}const JJ={object:wt.lazycreate};var Ee;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));const QJ=(e,t={message:`Input not instance of ${e.name}`})=>rT(r=>r instanceof e,t),kt=On.create,Qn=Fo.create,eQ=Zh.create,tQ=Bo.create,_m=mu.create,rQ=Pi.create,nQ=qh.create,sQ=gu.create,oQ=vu.create,iQ=rl.create,aQ=yi.create,lQ=Hs.create,cQ=Yh.create,Pf=In.create,Mi=wt.create,uQ=wt.strictCreate,dQ=yu.create,fQ=Sm.create,hQ=xu.create,pQ=ys.create,mQ=bu.create,gQ=Kh.create,vQ=Li.create,yQ=Da.create,xQ=wu.create,bQ=Su.create,nT=Uo.create,wQ=_u.create,SQ=nl.create,XC=zn.create,_Q=is.create,CQ=zo.create,EQ=zn.createWithPreprocess,jQ=pd.create,kQ=()=>kt().optional(),NQ=()=>Qn().optional(),PQ=()=>_m().optional(),LQ={string:e=>On.create({...e,coerce:!0}),number:e=>Fo.create({...e,coerce:!0}),boolean:e=>mu.create({...e,coerce:!0}),bigint:e=>Bo.create({...e,coerce:!0}),date:e=>Pi.create({...e,coerce:!0})},MQ=ke;var Kn=Object.freeze({__proto__:null,defaultErrorMap:tl,setErrorMap:TJ,getErrorMap:Vh,makeIssue:Hh,EMPTY_PATH:RJ,addIssueToContext:fe,ParseStatus:ur,INVALID:ke,DIRTY:ba,OK:vr,isAborted:Qy,isDirty:ex,isValid:hu,isAsync:pu,get util(){return He},get objectUtil(){return Jy},ZodParsedType:he,getParsedType:fo,ZodType:$e,datetimeRegex:eT,ZodString:On,ZodNumber:Fo,ZodBigInt:Bo,ZodBoolean:mu,ZodDate:Pi,ZodSymbol:qh,ZodUndefined:gu,ZodNull:vu,ZodAny:rl,ZodUnknown:yi,ZodNever:Hs,ZodVoid:Yh,ZodArray:In,ZodObject:wt,ZodUnion:yu,ZodDiscriminatedUnion:Sm,ZodIntersection:xu,ZodTuple:ys,ZodRecord:bu,ZodMap:Kh,ZodSet:Li,ZodFunction:Da,ZodLazy:wu,ZodLiteral:Su,ZodEnum:Uo,ZodNativeEnum:_u,ZodPromise:nl,ZodEffects:zn,ZodTransformer:zn,ZodOptional:is,ZodNullable:zo,ZodDefault:Cu,ZodCatch:Eu,ZodNaN:Zh,BRAND:XJ,ZodBranded:Qw,ZodPipeline:pd,ZodReadonly:ju,custom:rT,Schema:$e,ZodSchema:$e,late:JJ,get ZodFirstPartyTypeKind(){return Ee},coerce:LQ,any:iQ,array:Pf,bigint:tQ,boolean:_m,date:rQ,discriminatedUnion:fQ,effect:XC,enum:nT,function:yQ,instanceof:QJ,intersection:hQ,lazy:xQ,literal:bQ,map:gQ,nan:eQ,nativeEnum:wQ,never:lQ,null:oQ,nullable:CQ,number:Qn,object:Mi,oboolean:PQ,onumber:NQ,optional:_Q,ostring:kQ,pipeline:jQ,preprocess:EQ,promise:SQ,record:mQ,set:vQ,strictObject:uQ,string:kt,symbol:nQ,transformer:XC,tuple:pQ,undefined:sQ,union:dQ,unknown:aQ,void:cQ,NEVER:MQ,ZodIssueCode:se,quotelessJson:OJ,ZodError:Jr});const JC=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ce(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},sT=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?JC(n.ref,r,e):n.refs&&n.refs.forEach(s=>JC(s,r,e))}},DQ=(e,t)=>{t.shouldUseNativeValidation&&sT(e,t);const r={};for(const n in e){const s=ce(t.fields,n),o=Object.assign(e[n]||{},{ref:s&&s.ref});if(OQ(t.names||Object.keys(e),n)){const i=Object.assign({},ce(r,n));et(i,"root",o),et(r,n,i)}else et(r,n,o)}return r},OQ=(e,t)=>e.some(r=>r.startsWith(t+"."));var TQ=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,o=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[i]={message:a.message,type:a.code}}else r[i]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return e.push(h)})}),t){var c=r[i].types,u=c&&c[n.code];r[i]=UO(i,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},jl=function(e,t,r){return r===void 0&&(r={}),function(n,s,o){try{return Promise.resolve(function(i,a){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return o.shouldUseNativeValidation&&sT({},o),{errors:{},values:r.raw?n:u}})}catch(u){return a(u)}return c&&c.then?c.then(void 0,a):c}(0,function(i){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(i))return{values:{},errors:DQ(TQ(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}};function RQ(e,t){const[r,n]=d.useState(e);return d.useEffect(()=>{const s=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(s)}},[e,t]),r}const IQ=["places"],AQ="AIzaSyDpB03uqoC8eWmdG8KRlBdiJaHWbXmtMgE",sf=typeof document<"u"?document.createElement("div"):null,$Q={lat:32.7767,lng:-84.9377},oT=({value:e,onChange:t,error:r})=>{const[n,s]=d.useState(""),[o,i]=d.useState([]),[a,c]=d.useState(!1),[u,f]=d.useState(()=>e.latitude&&e.longitude?{lat:e.latitude,lng:e.longitude}:$Q),h=d.useRef(null),p=d.useRef(null),m=d.useRef(null),{isLoaded:g}=gl({googleMapsApiKey:AQ,libraries:IQ,id:"google-map-script"}),v=RQ(n,300);d.useEffect(()=>{!g||!sf||(p.current||(p.current=new google.maps.places.AutocompleteService),m.current||(m.current=new google.maps.places.PlacesService(sf)),h.current||(h.current=new google.maps.Geocoder))},[g]),d.useEffect(()=>{e.address&&!n&&s(e.address),e.latitude&&e.longitude&&f({lat:e.latitude,lng:e.longitude})},[e]),d.useEffect(()=>{v?b(v):i([])},[v]);const b=d.useCallback(async j=>{if(!(!j||!p.current))try{const N=await new Promise((E,P)=>{p.current.getPlacePredictions({input:j,componentRestrictions:{country:"us"},types:["address"],bounds:{north:35,south:30.5,east:-81,west:-88.5}},(k,M)=>{M===google.maps.places.PlacesServiceStatus.OK&&k?E(k):P(new Error("Failed to fetch suggestions"))})});i(N)}catch(N){console.error("Error fetching suggestions:",N),i([])}},[]),x=d.useCallback(async(j,N)=>{var E,P,k,M,D;h.current||(h.current=new google.maps.Geocoder);try{const I=await h.current.geocode({location:{lat:j,lng:N}});if(I.results[0]){const B=I.results[0],$=B.address_components,F={address:B.formatted_address,zipcode:((E=$.find(O=>O.types.includes("postal_code")))==null?void 0:E.long_name)||"",city:((P=$.find(O=>O.types.includes("locality")))==null?void 0:P.long_name)||"",state:((k=$.find(O=>O.types.includes("administrative_area_level_1")))==null?void 0:k.short_name)||"",latitude:j,longitude:N,displayLocation:`${((M=$.find(O=>O.types.includes("locality")))==null?void 0:M.long_name)||""}, ${((D=$.find(O=>O.types.includes("administrative_area_level_1")))==null?void 0:D.short_name)||""}`};t(F),f({lat:j,lng:N}),s(B.formatted_address)}}catch(I){console.error("Error reverse geocoding:",I)}},[t]),y=d.useCallback(async j=>{if(j.latLng){const N=j.latLng.lat(),E=j.latLng.lng();await x(N,E)}},[x]),w=d.useCallback(async j=>{var N;c(!0),i([]);try{if(!m.current&&sf&&(m.current=new google.maps.places.PlacesService(sf)),!m.current)return;const E=await new Promise((P,k)=>{m.current.getDetails({placeId:j.place_id,fields:["geometry","address_components","formatted_address"]},(M,D)=>{D===google.maps.places.PlacesServiceStatus.OK&&M?P(M):k(new Error("Failed to fetch place details"))})});if((N=E.geometry)!=null&&N.location){const P=E.geometry.location.lat(),k=E.geometry.location.lng();await x(P,k)}}catch(E){console.error("Error fetching place details:",E)}finally{c(!1)}},[x]),S=d.useCallback(j=>{s(j.target.value)},[]),_=d.useMemo(()=>({streetViewControl:!1,mapTypeControl:!1}),[]),C=d.useMemo(()=>({url:"/images/location-marker.svg",scaledSize:g?new google.maps.Size(40,40):void 0}),[g]);return g?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Re,{value:n,onChange:S,placeholder:"Search for an address...",className:`pr-10 ${r?"border-red-500":""}`}),a?l.jsx(Ze,{className:"w-4 h-4 absolute right-3 top-3 animate-spin"}):l.jsx(ul,{className:"w-4 h-4 absolute right-3 top-3 text-gray-400"})]}),o.length>0&&l.jsx("div",{className:"absolute z-20 w-full bg-white rounded-md shadow-lg border mt-1",children:o.map(j=>l.jsxs(ee,{variant:"ghost",className:"w-full justify-start text-left",onClick:()=>w(j),children:[l.jsx(Rs,{className:"w-4 h-4 mr-2"}),j.description]},j.place_id))}),l.jsx("div",{className:"h-[300px] rounded-lg overflow-hidden border",children:l.jsx(qu,{zoom:12,center:u,mapContainerClassName:"w-full h-full",onClick:y,options:_,children:e.latitude&&e.longitude&&l.jsx(Ha,{position:{lat:e.latitude,lng:e.longitude},icon:C})})}),r&&l.jsx("p",{className:"text-sm text-red-500",children:r}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Address"}),l.jsx("p",{className:"text-sm text-gray-600",children:e.address||"Not selected"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Zipcode"}),l.jsx("p",{className:"text-sm text-gray-600",children:e.zipcode||"Not selected"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"City"}),l.jsx("p",{className:"text-sm text-gray-600",children:e.city||"Not selected"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"State"}),l.jsx("p",{className:"text-sm text-gray-600",children:e.state||"Not selected"})]})]})]}):l.jsx("div",{children:"Loading..."})};async function FQ(){var s;const{data:e}=await V.auth.getSession();if(!((s=e.session)!=null&&s.user))throw new Error("User not authenticated");const t=e.session.user.id,{data:r,error:n}=await V.from("food_experiences").select(`
      *,
      images:food_experience_images(id, image_path, is_primary, display_order)
    `).eq("host_id",t).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching host food experiences:",n),n;return r.map(o=>{const i=o.images.map(a=>({id:a.id,url:a.image_path,order:a.display_order||0,is_primary:a.is_primary||!1}));return i.sort((a,c)=>a.order-c.order),{id:o.id,title:o.title,description:o.description,status:o.status,images:i,price_per_person:o.price_per_person,cuisine_type:o.cuisine_type,menu_description:o.menu_description||"",location_name:o.location_name,created_at:o.created_at,updated_at:o.updated_at,details:{duration:o.duration||"2 hours",groupSize:`Max ${o.max_guests} guests`,includes:["Food","Beverages"],language:o.language||"English",location:`${o.city}, ${o.state}`}}})}async function BQ(e){var a,c,u,f,h,p,m,g,v,b,x,y,w;const{data:t}=await V.auth.getSession();if(!((a=t.session)!=null&&a.user))throw new Error("User not authenticated");const r=t.session.user.id,{data:n,error:s}=await V.from("profiles").select("is_host").eq("id",r).single();if(s)throw console.error("Error fetching user profile:",s),s;if(!n.is_host){const{error:S}=await V.from("profiles").update({is_host:!0}).eq("id",r);if(S)throw console.error("Error updating host status:",S),S}const{data:o,error:i}=await V.from("food_experiences").insert({host_id:r,title:e.title||"Untitled Experience",description:e.description||"",price_per_person:e.price_per_person||0,cuisine_type:e.cuisine_type||"Other",menu_description:e.menu_description||"",location_name:e.location_name||"",address:((c=e.details)==null?void 0:c.location)||"",city:((f=(u=e.details)==null?void 0:u.location)==null?void 0:f.split(",")[0])||"",state:((m=(p=(h=e.details)==null?void 0:h.location)==null?void 0:p.split(",")[1])==null?void 0:m.trim())||"",zipcode:e.zipcode||"",latitude:((g=e.coordinates)==null?void 0:g.lat)||0,longitude:((v=e.coordinates)==null?void 0:v.lng)||0,duration:((b=e.details)==null?void 0:b.duration)||"2 hours",max_guests:parseInt(((y=(x=e.details)==null?void 0:x.groupSize)==null?void 0:y.replace(/\D/g,""))||"8"),language:((w=e.details)==null?void 0:w.language)||"English",status:"draft"}).select().single();if(i)throw console.error("Error creating food experience:",i),i;return o}async function UQ(e,t){var c,u,f,h,p,m,g,v,b,x,y,w,S;const{data:r}=await V.auth.getSession();if(!((c=r.session)!=null&&c.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await V.from("food_experiences").select("host_id").eq("id",e).single();if(o)throw console.error("Error checking experience ownership:",o),o;if(s.host_id!==n)throw new Error("You do not have permission to update this experience");const{data:i,error:a}=await V.from("food_experiences").update({title:t.title,description:t.description,price_per_person:t.price_per_person,cuisine_type:t.cuisine_type,menu_description:t.menu_description,location_name:t.location_name,address:((u=t.details)==null?void 0:u.location)||"",city:((h=(f=t.details)==null?void 0:f.location)==null?void 0:h.split(",")[0])||"",state:((g=(m=(p=t.details)==null?void 0:p.location)==null?void 0:m.split(",")[1])==null?void 0:g.trim())||"",zipcode:t.zipcode||"",latitude:((v=t.coordinates)==null?void 0:v.lat)||0,longitude:((b=t.coordinates)==null?void 0:b.lng)||0,duration:(x=t.details)==null?void 0:x.duration,max_guests:parseInt(((w=(y=t.details)==null?void 0:y.groupSize)==null?void 0:w.replace(/\D/g,""))||"8"),language:(S=t.details)==null?void 0:S.language,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw console.error("Error updating food experience:",a),a;return i}async function zQ(e,t){var c;const{data:r}=await V.auth.getSession();if(!((c=r.session)!=null&&c.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await V.from("food_experiences").select("host_id").eq("id",e).single();if(o)throw console.error("Error checking experience ownership:",o),o;if(s.host_id!==n)throw new Error("You do not have permission to update this experience");const{data:i,error:a}=await V.from("food_experiences").update({status:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw console.error("Error updating food experience status:",a),a;return i}async function WQ(e){var i;const{data:t}=await V.auth.getSession();if(!((i=t.session)!=null&&i.user))throw new Error("User not authenticated");const r=t.session.user.id,{data:n,error:s}=await V.from("food_experiences").select("host_id").eq("id",e).single();if(s)throw console.error("Error checking experience ownership:",s),s;if(n.host_id!==r)throw new Error("You do not have permission to delete this experience");const{error:o}=await V.from("food_experiences").delete().eq("id",e);if(o)throw console.error("Error deleting food experience:",o),o;return!0}async function QC(e,t,r=!1,n=0){var a;const{data:s}=await V.auth.getSession();if(!((a=s.session)!=null&&a.user))throw new Error("User not authenticated");if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e))return console.log("Non-UUID experience ID provided. This might be temporary data."),{id:`preview-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,url:URL.createObjectURL(t),is_primary:r,order:n};const i=s.session.user.id;try{const{data:c,error:u}=await V.from("food_experiences").select("host_id").eq("id",e).single();if(u)throw console.error("Error checking ownership:",u),u;if(c.host_id!==i)throw new Error("You do not have permission to upload images for this experience");const f=t.name.split(".").pop(),h=new Date().toISOString().replace(/[^0-9]/g,""),p=`exp_${e.substring(0,8)}_${h}_${Math.random().toString(36).substring(2,8)}.${f}`,m=`food-experience-images/${p}`,{error:g}=await V.storage.from("food-experience-images").upload(p,t,{cacheControl:"3600",upsert:!1,contentType:t.type});if(g)throw console.error("Error uploading file:",g),g;r&&await V.from("food_experience_images").update({is_primary:!1}).eq("experience_id",e);const{data:v,error:b}=await V.from("food_experience_images").insert({experience_id:e,image_path:m,is_primary:r,display_order:n}).select().single();if(b)throw await V.storage.from("food-experience-images").remove([p]),console.error("Error creating image record:",b),b;return{id:v.id,url:m,is_primary:r,order:n}}catch(c){throw c instanceof Error&&c.message.includes("row-level security policy")?(console.error("Security policy error. Trying fallback approach..."),new Error(`Permission denied: You don't have the proper permissions to upload images. Please contact support with error code: HOST-IMG-${Date.now()}`)):c}}async function VQ(e){var f;const{data:t}=await V.auth.getSession();if(!((f=t.session)!=null&&f.user))throw new Error("User not authenticated");if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e))return console.log("Skipping deletion of non-UUID image ID:",e),!0;const n=t.session.user.id,{data:s,error:o}=await V.from("food_experience_images").select(`
      image_path,
      experience_id,
      food_experiences(host_id)
    `).eq("id",e).single();if(o)throw console.error("Error fetching image:",o),o;const i=s.food_experiences;if(!i||i.length===0||i[0].host_id!==n)throw new Error("You do not have permission to delete this image");const a=s.image_path.replace("food-experience-images/",""),{error:c}=await V.storage.from("food-experience-images").remove([a]);c&&console.error("Error deleting image from storage:",c);const{error:u}=await V.from("food_experience_images").delete().eq("id",e);if(u)throw console.error("Error deleting image record:",u),u;return!0}async function HQ(e,t){var c;const{data:r}=await V.auth.getSession();if(!((c=r.session)!=null&&c.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await V.from("food_experiences").select("host_id").eq("id",e).single();if(o)throw console.error("Error checking experience ownership:",o),o;if(s.host_id!==n)throw new Error("You do not have permission to update images for this experience");const{error:i}=await V.from("food_experience_images").update({is_primary:!1}).eq("experience_id",e);if(i)throw console.error("Error resetting primary status of images:",i),i;const{error:a}=await V.from("food_experience_images").update({is_primary:!0}).eq("id",t);if(a)throw console.error("Error setting primary image:",a),a;return!0}async function GQ(){var s;const{data:e}=await V.auth.getSession();if(!((s=e.session)!=null&&s.user))throw new Error("User not authenticated");const t=e.session.user.id,{data:r,error:n}=await V.from("stays").select(`
      *,
      images:stay_images(id, image_path, is_primary, display_order)
    `).eq("host_id",t).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching host stays:",n),n;return r.map(o=>{const i=o.images.map(a=>({id:a.id,url:a.image_path,order:a.display_order||0,is_primary:a.is_primary||!1}));return i.sort((a,c)=>a.order-c.order),{id:o.id,title:o.title,description:o.description,status:o.status,images:i,price_per_night:o.price_per_night,property_type:o.property_type,location_name:o.location_name||o.location||"",max_guests:o.max_guests,bedrooms:o.bedrooms,beds:o.beds,bathrooms:o.bathrooms,created_at:o.created_at,updated_at:o.updated_at,address:o.address,zipcode:o.zipcode,city:o.city,state:o.state,latitude:o.latitude,longitude:o.longitude,amenities:Array.isArray(o.amenities)?o.amenities:[]}})}async function qQ(e){var a;const{data:t}=await V.auth.getSession();if(!((a=t.session)!=null&&a.user))throw new Error("User not authenticated");const r=t.session.user.id,{data:n,error:s}=await V.from("profiles").select("is_host").eq("id",r).single();if(s)throw console.error("Error fetching user profile:",s),s;if(!n.is_host){const{error:c}=await V.from("profiles").update({is_host:!0}).eq("id",r);if(c)throw console.error("Error updating host status:",c),c}const{data:o,error:i}=await V.from("stays").insert({host_id:r,title:e.title||"Untitled Stay",description:e.description||"",price_per_night:e.price_per_night||0,bedrooms:e.bedrooms||1,beds:e.beds||1,bathrooms:e.bathrooms||1,max_guests:e.max_guests||1,amenities:e.amenities||[],property_type:e.property_type||"house",location_name:e.location_name||"",address:e.address||"",city:e.city||"",state:e.state||"",zipcode:e.zipcode||"",latitude:e.latitude||0,longitude:e.longitude||0,status:e.status||"draft"}).select().single();if(i)throw console.error("Error creating stay:",i),i;if(o&&e.amenities&&e.amenities.length>0){const c=e.amenities.map(f=>({stay_id:o.id,amenity_id:f,created_at:new Date().toISOString()})),{error:u}=await V.from("stay_amenities").insert(c);u&&console.error("Error creating amenity records:",u)}if(e.availability&&e.availability.length>0){const c=e.availability.map(f=>({stay_id:o.id,date:f.date,price:f.price_override||e.price_per_night,is_available:f.is_available})),{error:u}=await V.from("stay_availability").insert(c);u&&console.error("Error creating availability records:",u)}return o}async function YQ(e,t){var c;const{data:r}=await V.auth.getSession();if(!((c=r.session)!=null&&c.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await V.from("stays").select("host_id").eq("id",e).single();if(o)throw console.error("Error checking stay ownership:",o),o;if(s.host_id!==n)throw new Error("You do not have permission to update this stay");const{data:i,error:a}=await V.from("stays").update({title:t.title,description:t.description,price_per_night:t.price_per_night,bedrooms:t.bedrooms,beds:t.beds,bathrooms:t.bathrooms,max_guests:t.max_guests,amenities:t.amenities,property_type:t.property_type,location_name:t.location_name,address:t.address,city:t.city,state:t.state,zipcode:t.zipcode,latitude:t.latitude,longitude:t.longitude,status:t.status,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw console.error("Error updating stay:",a),a;if(t.amenities){const{error:u}=await V.from("stay_amenities").delete().eq("stay_id",e);if(u&&console.error("Error deleting existing amenity records:",u),t.amenities.length>0){const f=t.amenities.map(p=>({stay_id:e,amenity_id:p,created_at:new Date().toISOString()})),{error:h}=await V.from("stay_amenities").insert(f);h&&console.error("Error creating amenity records:",h)}}return i}async function KQ(e,t){var c;const{data:r}=await V.auth.getSession();if(!((c=r.session)!=null&&c.user))throw new Error("User not authenticated");const n=r.session.user.id,{data:s,error:o}=await V.from("stays").select("host_id").eq("id",e).single();if(o)throw console.error("Error checking stay ownership:",o),o;if(s.host_id!==n)throw new Error("You do not have permission to update this stay");const{data:i,error:a}=await V.from("stays").update({status:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw console.error("Error updating stay status:",a),a;return i}async function ZQ(e){var c;const{data:t}=await V.auth.getSession();if(!((c=t.session)!=null&&c.user))throw new Error("User not authenticated");const r=t.session.user.id,{data:n,error:s}=await V.from("stays").select("host_id").eq("id",e).single();if(s)throw console.error("Error checking stay ownership:",s),s;if(n.host_id!==r)throw new Error("You do not have permission to delete this stay");const{error:o}=await V.from("stay_images").delete().eq("stay_id",e);o&&console.error("Error deleting stay images:",o);const{error:i}=await V.from("stay_availability").delete().eq("stay_id",e);i&&console.error("Error deleting availability records:",i);const{error:a}=await V.from("stays").delete().eq("id",e);if(a)throw console.error("Error deleting stay:",a),a;return!0}async function Jg(e,t,r=!1,n=0){var c;const{data:s}=await V.auth.getSession();if(!((c=s.session)!=null&&c.user))throw new Error("User not authenticated");const o=s.session.user.id,{data:i,error:a}=await V.from("stays").select("host_id").eq("id",e).single();if(a)throw console.error("Error checking stay ownership:",a),a;if(i.host_id!==o)throw new Error("You do not have permission to upload images to this stay");if(r){const{error:u}=await V.from("stay_images").update({is_primary:!1}).eq("stay_id",e);u&&console.error("Error updating existing images:",u)}try{const u=t.name.split(".").pop(),f=`${e}-${Date.now()}.${u}`,{error:h}=await V.storage.from("stay-images").upload(f,t,{cacheControl:"3600",upsert:!0,contentType:t.type});if(h)throw console.error("Error uploading image:",h),h;const{data:{publicUrl:p}}=V.storage.from("stay-images").getPublicUrl(f),m=`stay-images/${f}`,{data:g,error:v}=await V.from("stay_images").insert({stay_id:e,image_path:m,is_primary:r,display_order:n}).select().single();if(v)throw console.error("Error creating image record:",v),v;return{...g,publicUrl:p}}catch(u){throw console.error("Error uploading image:",u),u}}const XQ=Kn.object({title:Kn.string().min(5,"Title must be at least 5 characters"),description:Kn.string().min(20,"Description must be at least 20 characters"),cuisine_type:Kn.string().min(1,"Please select a cuisine type"),price_per_person:Kn.coerce.number().min(1,"Price must be at least 1"),menu_description:Kn.string().min(20,"Menu description must be at least 20 characters"),location_name:Kn.string().min(5,"Location name must be at least 5 characters"),duration:Kn.string().min(1,"Please select a duration"),max_guests:Kn.coerce.number().min(1,"Maximum guests must be at least 1"),language:Kn.string().min(1,"Please select a language")}),of=()=>{const{id:e}=Tu(),t=Mt(),{refreshUser:r}=Dt(),[n,s]=d.useState(!1),[o,i]=d.useState([]),[a,c]=d.useState([]),[u,f]=d.useState(!1),[h,p]=d.useState(!1),[m,g]=d.useState({address:"",zipcode:"",city:"",state:"",latitude:0,longitude:0}),v=Cl({resolver:jl(XQ),defaultValues:{title:"",description:"",cuisine_type:"",price_per_person:0,menu_description:"",location_name:"",duration:"2 hours",max_guests:8,language:"English"}});d.useEffect(()=>{(async()=>{var P,k;if(!e){p(!1);return}try{if(s(!0),p(!0),e==="new"){p(!1),s(!1);return}const M=await Ty(e);if(M){if(v.reset({title:M.title,description:M.description,cuisine_type:M.cuisine_type,price_per_person:M.price_per_person,menu_description:M.menu_description||"",location_name:M.location_name,duration:M.details.duration,max_guests:parseInt(M.details.groupSize.replace(/\D/g,"")||"8"),language:M.details.language}),M.coordinates){const I=M.details.location.split(","),B=((P=I[0])==null?void 0:P.trim())||"",$=((k=I[1])==null?void 0:k.trim())||"";g({address:M.details.location,zipcode:"",city:B,state:$,latitude:M.coordinates.lat,longitude:M.coordinates.lng,displayLocation:M.details.location})}const D=M.images.map(I=>({id:`img-${Date.now().toString()}-${Math.random().toString(36).substr(2,9)}`,url:I.url,is_primary:!!I.is_primary}));i(D)}s(!1)}catch(M){console.error("Error fetching experience:",M),be.error("Failed to load experience data"),s(!1)}})()},[e,v]),d.useEffect(()=>()=>{a.forEach(E=>URL.revokeObjectURL(E.preview))},[a]);const b=async E=>{try{if(s(!0),m.latitude===0&&m.longitude===0){be.error("Please select a location on the map"),s(!1);return}if(h&&e&&e!=="new")await UQ(e,{...E,details:{duration:E.duration,groupSize:`Max ${E.max_guests} guests`,includes:["Food","Beverages"],language:E.language,location:`${m.city}, ${m.state}`},coordinates:{lat:m.latitude,lng:m.longitude},zipcode:m.zipcode}),be.success("Food experience updated successfully");else{const P=await BQ({...E,details:{duration:E.duration,groupSize:`Max ${E.max_guests} guests`,includes:["Food","Beverages"],language:E.language,location:`${m.city}, ${m.state}`},coordinates:{lat:m.latitude,lng:m.longitude},zipcode:m.zipcode});await r();const k=P;if(a.length>0&&k&&k.id){f(!0);try{for(let M=0;M<a.length;M++){const D=a[M];await QC(k.id.toString(),D.file,D.is_primary,M)}be.success("Images uploaded successfully")}catch(M){console.error("Error uploading images:",M),be.error("Some images could not be uploaded")}finally{f(!1)}}be.success("Food experience created successfully"),k&&k.id&&t(`/host/food/edit/${k.id}`)}s(!1)}catch(P){console.error("Error saving experience:",P),be.error("Failed to save experience"),s(!1)}},x=async()=>{if(!(!e||e==="new"))try{const E=await Ty(e);if(E&&E.images){const P=E.images.map(k=>({id:k.id||`img-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,url:k.url,is_primary:!!k.is_primary}));i(P)}}catch(E){console.error("Error fetching latest images:",E)}},y=async E=>{const P=E.target.files;if(!(!P||P.length===0)){if(h&&e&&e!=="new")try{f(!0);for(let k=0;k<P.length;k++){const M=P[k],D=o.length===0;await QC(e,M,D)}await x(),be.success("Images uploaded successfully"),f(!1)}catch(k){console.error("Error uploading images:",k),be.error("Failed to upload images"),f(!1)}else try{const k=[];for(let M=0;M<P.length;M++){const D=P[M],I=URL.createObjectURL(D),B=a.length===0&&M===0;k.push({id:`temp-${Date.now()}-${M}`,file:D,preview:I,is_primary:B})}c(M=>[...M,...k]),be.success("Images added successfully")}catch(k){console.error("Error adding images:",k),be.error("Failed to add images")}E.target.value=""}},w=async E=>{if(E)if(E.startsWith("temp-"))c(P=>{var M;const k=P.filter(D=>D.id!==E);return(M=P.find(D=>D.id===E))!=null&&M.is_primary&&k.length>0&&(k[0].is_primary=!0),k}),be.success("Image removed");else try{await VQ(E),await x(),be.success("Image deleted successfully")}catch(P){console.error("Error deleting image:",P),be.error("Failed to delete image")}},S=async E=>{if(E.startsWith("temp-"))c(P=>P.map(k=>({...k,is_primary:k.id===E})));else if(h&&e&&e!=="new")try{await HQ(e,E),await x(),be.success("Primary image updated")}catch(P){console.error("Error setting primary image:",P),be.error("Failed to update primary image")}},_=["Italian","French","Japanese","Chinese","Mexican","Indian","Thai","American","Mediterranean","Middle Eastern","Spanish","Greek","Vietnamese","Korean","Brazilian","Ethiopian","Lebanese","Moroccan","Turkish","Other"],C=["1 hour","1.5 hours","2 hours","2.5 hours","3 hours","3.5 hours","4 hours","4.5 hours","5 hours","More than 5 hours"],j=["English","Spanish","French","German","Italian","Portuguese","Japanese","Chinese","Korean","Arabic","Russian","Hindi","Other"],N=E=>{if(E.startsWith("http")||E.startsWith("blob:"))return E;if(E.startsWith("food-experience-images/")){const{data:P}=V.storage.from("food-experience-images").getPublicUrl(E.replace("food-experience-images/",""));return P.publicUrl}return E};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sage-50 to-terracotta-50 p-6",children:l.jsxs("div",{className:"max-w-5xl mx-auto mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ee,{variant:"outline",onClick:()=>t("/host/dashboard"),className:"flex items-center gap-2",children:[l.jsx(Yc,{className:"w-4 h-4"}),"Back to Dashboard"]}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:h?"Edit Food Experience":"Create Food Experience"})]}),l.jsxs(ee,{variant:"outline",onClick:()=>t("/"),className:"flex items-center gap-2",children:[l.jsx(Oo,{className:"w-4 h-4"}),"Home"]})]}),l.jsxs(Ve,{children:[l.jsx(ss,{children:l.jsxs(os,{className:"flex items-center gap-2",children:[l.jsx(Xc,{className:"w-5 h-5"}),"Food Experience Details"]})}),l.jsx(Ut,{children:l.jsx(El,{...v,children:l.jsxs("form",{onSubmit:v.handleSubmit(b),className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(it,{control:v.control,name:"title",render:({field:E})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Title"}),l.jsx(nt,{children:l.jsx(Re,{placeholder:"e.g. Authentic Italian Pasta Making",...E})}),l.jsx(Xn,{children:"Create a catchy title for your experience"}),l.jsx(at,{})]})}),l.jsx(it,{control:v.control,name:"cuisine_type",render:({field:E})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Cuisine Type"}),l.jsxs(Eo,{onValueChange:E.onChange,defaultValue:E.value,children:[l.jsx(nt,{children:l.jsx(Is,{children:l.jsx(jo,{placeholder:"Select a cuisine type"})})}),l.jsx(As,{children:_.map(P=>l.jsx($s,{value:P,children:P},P))})]}),l.jsx(Xn,{children:"The primary cuisine style of your experience"}),l.jsx(at,{})]})}),l.jsx(it,{control:v.control,name:"description",render:({field:E})=>l.jsxs(rt,{className:"md:col-span-2",children:[l.jsx(Ke,{children:"Description"}),l.jsx(nt,{children:l.jsx(du,{placeholder:"Describe your food experience in detail...",className:"min-h-32",...E})}),l.jsx(Xn,{children:"Provide a detailed description of what guests can expect"}),l.jsx(at,{})]})}),l.jsx(it,{control:v.control,name:"price_per_person",render:({field:E})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Price Per Person"}),l.jsx(nt,{children:l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:"$"}),l.jsx(Re,{type:"number",className:"pl-8",placeholder:"25",...E})]})}),l.jsx(Xn,{children:"How much will you charge per guest"}),l.jsx(at,{})]})}),l.jsx(it,{control:v.control,name:"max_guests",render:({field:E})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Maximum Guests"}),l.jsx(nt,{children:l.jsx(Re,{type:"number",placeholder:"8",...E})}),l.jsx(Xn,{children:"The maximum number of guests you can accommodate"}),l.jsx(at,{})]})}),l.jsx(it,{control:v.control,name:"duration",render:({field:E})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Duration"}),l.jsxs(Eo,{onValueChange:E.onChange,defaultValue:E.value,children:[l.jsx(nt,{children:l.jsx(Is,{children:l.jsx(jo,{placeholder:"Select experience duration"})})}),l.jsx(As,{children:C.map(P=>l.jsx($s,{value:P,children:P},P))})]}),l.jsx(Xn,{children:"How long will your experience last"}),l.jsx(at,{})]})}),l.jsx(it,{control:v.control,name:"language",render:({field:E})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Language"}),l.jsxs(Eo,{onValueChange:E.onChange,defaultValue:E.value,children:[l.jsx(nt,{children:l.jsx(Is,{children:l.jsx(jo,{placeholder:"Select language"})})}),l.jsx(As,{children:j.map(P=>l.jsx($s,{value:P,children:P},P))})]}),l.jsx(Xn,{children:"Primary language for the experience"}),l.jsx(at,{})]})}),l.jsx(it,{control:v.control,name:"menu_description",render:({field:E})=>l.jsxs(rt,{className:"md:col-span-2",children:[l.jsx(Ke,{children:"Menu Description"}),l.jsx(nt,{children:l.jsx(du,{placeholder:"Describe the menu or food items in detail...",className:"min-h-32",...E})}),l.jsx(Xn,{children:"Describe the dishes or food items that will be prepared or served"}),l.jsx(at,{})]})}),l.jsx(it,{control:v.control,name:"location_name",render:({field:E})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Location Name"}),l.jsx(nt,{children:l.jsx(Re,{placeholder:"e.g. My Home Kitchen, Downtown Restaurant",...E})}),l.jsx(Xn,{children:"The name of the location where the experience will take place"}),l.jsx(at,{})]})}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Location Details"}),l.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[l.jsxs("div",{className:"mb-4 flex items-center text-muted-foreground text-sm",children:[l.jsx(Rs,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:"Select your location directly from the map"})]}),l.jsx(oT,{value:m,onChange:g,error:n?"":!m.latitude&&!m.longitude?"Please select a location":""}),m.latitude!==0&&m.longitude!==0&&l.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-md",children:[l.jsx("h4",{className:"font-medium text-sm mb-2",children:"Selected Location:"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Address:"})," ",m.address||"N/A"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Zipcode:"})," ",m.zipcode||"N/A"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"City:"})," ",m.city||"N/A"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"State:"})," ",m.state||"N/A"]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium",children:"Coordinates:"})," ",m.latitude.toFixed(6),", ",m.longitude.toFixed(6)]})]})]})]})]})]}),l.jsxs("div",{className:"mt-8",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Images"}),(h||a.length>0)&&l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[!h&&a.map(E=>l.jsxs("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200 bg-white aspect-[4/3]",children:[l.jsx("img",{src:E.preview,alt:"Food experience preview",className:"w-full h-full object-cover",loading:"lazy",style:{objectPosition:"center"}}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center",children:l.jsx("button",{onClick:()=>w(E.id),type:"button",className:"opacity-0 group-hover:opacity-100 bg-red-600 hover:bg-red-700 text-white rounded-full p-2",children:l.jsx(M1,{className:"w-5 h-5"})})}),l.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:!E.is_primary&&l.jsx("button",{onClick:()=>S(E.id),type:"button",className:"opacity-0 group-hover:opacity-100 bg-blue-500 hover:bg-blue-600 text-white text-xs font-medium px-2 py-1 rounded",children:"Set as Primary"})}),E.is_primary&&l.jsx("span",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs font-medium px-2 py-1 rounded",children:"Primary"})]},E.id)),h&&o.map(E=>l.jsxs("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200 bg-white aspect-[4/3]",children:[l.jsx("img",{src:N(E.url),alt:"Food experience",className:"w-full h-full object-cover",loading:"lazy",style:{objectPosition:"center"}}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center",children:l.jsx("button",{onClick:()=>w(E.id),type:"button",className:"opacity-0 group-hover:opacity-100 bg-red-600 hover:bg-red-700 text-white rounded-full p-2",children:l.jsx(M1,{className:"w-5 h-5"})})}),l.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:!E.is_primary&&l.jsx("button",{onClick:()=>S(E.id),type:"button",className:"opacity-0 group-hover:opacity-100 bg-blue-500 hover:bg-blue-600 text-white text-xs font-medium px-2 py-1 rounded",children:"Set as Primary"})}),E.is_primary&&l.jsx("span",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs font-medium px-2 py-1 rounded",children:"Primary"})]},E.id))]}),l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"relative w-full max-w-md",children:l.jsx("div",{className:"flex items-center justify-center w-full",children:l.jsxs("label",{htmlFor:"image-upload",className:`flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 ${u?"opacity-50 pointer-events-none":""}`,children:[l.jsx("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:u?l.jsxs(l.Fragment,{children:[l.jsx(Ze,{className:"w-8 h-8 text-gray-500 mb-1 animate-spin"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Uploading images..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(f4,{className:"w-8 h-8 text-gray-500 mb-1"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload images or drag and drop"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 10MB"})]})}),l.jsx("input",{id:"image-upload",type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:y,disabled:u})]})})})}),a.length>0&&!h&&l.jsx("p",{className:"text-center text-sm text-gray-500 mt-2",children:"These images will be uploaded when you create the experience"})]}),l.jsxs("div",{className:"flex justify-end pt-6",children:[l.jsx(ee,{type:"button",variant:"outline",onClick:()=>t("/host/dashboard"),className:"mr-2",children:"Cancel"}),l.jsxs(ee,{type:"submit",disabled:n||u,children:[(n||u)&&l.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),h?"Update Experience":"Create Experience"]})]})]})})})]})]})})},JQ=5,QQ=1e6,Os={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Qg=0;function eee(){return Qg=(Qg+1)%Number.MAX_VALUE,Qg.toString()}const ev=new Map,tee=(e,t)=>{switch(t.type){case Os.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,JQ)};case Os.UPDATE_TOAST:return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case Os.DISMISS_TOAST:{const{toastId:r}=t;return r?eE(r):e.toasts.forEach(n=>{eE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case Os.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Lf=[];let Mf={toasts:[]};function Nc(e){Mf=tee(Mf,e),Lf.forEach(t=>{t(Mf)})}function eE(e){if(ev.has(e))return;const t=setTimeout(()=>{ev.delete(e),Nc({type:Os.REMOVE_TOAST,toastId:e})},QQ);ev.set(e,t)}function ree(e){const t=eee(),r=s=>Nc({type:Os.UPDATE_TOAST,toast:{...s,id:t}}),n=()=>Nc({type:Os.DISMISS_TOAST,toastId:t});return Nc({type:Os.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function e0(){const[e,t]=d.useState(Mf);return d.useEffect(()=>(Lf.push(t),()=>{const r=Lf.indexOf(t);r>-1&&Lf.splice(r,1)}),[e]),{...e,toast:ree,dismiss:r=>Nc({type:Os.DISMISS_TOAST,toastId:r})}}var tE=1,nee=.9,see=.8,oee=.17,tv=.1,rv=.999,iee=.9999,aee=.99,lee=/[\\\/_+.#"@\[\(\{&]/,cee=/[\\\/_+.#"@\[\(\{&]/g,uee=/[\s-]/,iT=/[\s-]/g;function rx(e,t,r,n,s,o,i){if(o===t.length)return s===e.length?tE:aee;var a=`${s},${o}`;if(i[a]!==void 0)return i[a];for(var c=n.charAt(o),u=r.indexOf(c,s),f=0,h,p,m,g;u>=0;)h=rx(e,t,r,n,u+1,o+1,i),h>f&&(u===s?h*=tE:lee.test(e.charAt(u-1))?(h*=see,m=e.slice(s,u-1).match(cee),m&&s>0&&(h*=Math.pow(rv,m.length))):uee.test(e.charAt(u-1))?(h*=nee,g=e.slice(s,u-1).match(iT),g&&s>0&&(h*=Math.pow(rv,g.length))):(h*=oee,s>0&&(h*=Math.pow(rv,u-s))),e.charAt(u)!==t.charAt(o)&&(h*=iee)),(h<tv&&r.charAt(u-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(u-1)!==n.charAt(o))&&(p=rx(e,t,r,n,u+1,o+2,i),p*tv>h&&(h=p*tv)),h>f&&(f=h),u=r.indexOf(c,u+1);return i[a]=f,f}function rE(e){return e.toLowerCase().replace(iT," ")}function dee(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,rx(e,t,rE(e),rE(t),0,0,{})}function Oa(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function fee(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function aT(...e){return t=>e.forEach(r=>fee(r,t))}function md(...e){return d.useCallback(aT(...e),e)}function hee(e,t=[]){let r=[];function n(o,i){const a=d.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:p,children:m,...g}=h,v=(p==null?void 0:p[e][c])||a,b=d.useMemo(()=>g,Object.values(g));return d.createElement(v.Provider,{value:b},m)}function f(h,p){const m=(p==null?void 0:p[e][c])||a,g=d.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(i=>d.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return d.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,pee(s,...t)]}function pee(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}const nx=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},mee=px.useId||(()=>{});let gee=0;function nv(e){const[t,r]=d.useState(mee());return nx(()=>{e||r(n=>n??String(gee++))},[e]),e||(t?`radix-${t}`:"")}function Di(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function vee({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=yee({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,a=Di(r),c=d.useCallback(u=>{if(o){const h=typeof u=="function"?u(e):u;h!==e&&a(h)}else s(u)},[o,e,s,a]);return[i,c]}function yee({defaultProp:e,onChange:t}){const r=d.useState(e),[n]=r,s=d.useRef(n),o=Di(t);return d.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}const t0=d.forwardRef((e,t)=>{const{children:r,...n}=e,s=d.Children.toArray(r),o=s.find(bee);if(o){const i=o.props.children,a=s.map(c=>c===o?d.Children.count(i)>1?d.Children.only(null):d.isValidElement(i)?i.props.children:null:c);return d.createElement(sx,ge({},n,{ref:t}),d.isValidElement(i)?d.cloneElement(i,void 0,a):null)}return d.createElement(sx,ge({},n,{ref:t}),r)});t0.displayName="Slot";const sx=d.forwardRef((e,t)=>{const{children:r,...n}=e;return d.isValidElement(r)?d.cloneElement(r,{...wee(n,r.props),ref:t?aT(t,r.ref):r.ref}):d.Children.count(r)>1?d.Children.only(null):null});sx.displayName="SlotClone";const xee=({children:e})=>d.createElement(d.Fragment,null,e);function bee(e){return d.isValidElement(e)&&e.type===xee}function wee(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{o(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}const See=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],bn=See.reduce((e,t)=>{const r=d.forwardRef((n,s)=>{const{asChild:o,...i}=n,a=o?t0:t;return d.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),d.createElement(a,ge({},i,{ref:s}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function _ee(e,t){e&&br.flushSync(()=>e.dispatchEvent(t))}function Cee(e,t=globalThis==null?void 0:globalThis.document){const r=Di(e);d.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n),()=>t.removeEventListener("keydown",n)},[r,t])}const ox="dismissableLayer.update",Eee="dismissableLayer.pointerDownOutside",jee="dismissableLayer.focusOutside";let nE;const kee=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nee=d.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...u}=e,f=d.useContext(kee),[h,p]=d.useState(null),m=(r=h==null?void 0:h.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,g]=d.useState({}),v=md(t,N=>p(N)),b=Array.from(f.layers),[x]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),y=b.indexOf(x),w=h?b.indexOf(h):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,_=w>=y,C=Pee(N=>{const E=N.target,P=[...f.branches].some(k=>k.contains(E));!_||P||(o==null||o(N),a==null||a(N),N.defaultPrevented||c==null||c())},m),j=Lee(N=>{const E=N.target;[...f.branches].some(k=>k.contains(E))||(i==null||i(N),a==null||a(N),N.defaultPrevented||c==null||c())},m);return Cee(N=>{w===f.layers.size-1&&(s==null||s(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},m),d.useEffect(()=>{if(h)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(nE=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),sE(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=nE)}},[h,m,n,f]),d.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),sE())},[h,f]),d.useEffect(()=>{const N=()=>g({});return document.addEventListener(ox,N),()=>document.removeEventListener(ox,N)},[]),d.createElement(bn.div,ge({},u,{ref:v,style:{pointerEvents:S?_?"auto":"none":void 0,...e.style},onFocusCapture:Oa(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Oa(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Oa(e.onPointerDownCapture,C.onPointerDownCapture)}))});function Pee(e,t=globalThis==null?void 0:globalThis.document){const r=Di(e),n=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let u=function(){lT(Eee,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Lee(e,t=globalThis==null?void 0:globalThis.document){const r=Di(e),n=d.useRef(!1);return d.useEffect(()=>{const s=o=>{o.target&&!n.current&&lT(jee,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function sE(){const e=new CustomEvent(ox);document.dispatchEvent(e)}function lT(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?_ee(s,o):s.dispatchEvent(o)}const sv="focusScope.autoFocusOnMount",ov="focusScope.autoFocusOnUnmount",oE={bubbles:!1,cancelable:!0},Mee=d.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=d.useState(null),u=Di(s),f=Di(o),h=d.useRef(null),p=md(t,v=>c(v)),m=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(n){let v=function(w){if(m.paused||!a)return;const S=w.target;a.contains(S)?h.current=S:ro(h.current,{select:!0})},b=function(w){if(m.paused||!a)return;const S=w.relatedTarget;S!==null&&(a.contains(S)||ro(h.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&ro(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),y.disconnect()}}},[n,a,m.paused]),d.useEffect(()=>{if(a){aE.add(m);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(sv,oE);a.addEventListener(sv,u),a.dispatchEvent(x),x.defaultPrevented||(Dee(Aee(cT(a)),{select:!0}),document.activeElement===v&&ro(a))}return()=>{a.removeEventListener(sv,u),setTimeout(()=>{const x=new CustomEvent(ov,oE);a.addEventListener(ov,f),a.dispatchEvent(x),x.defaultPrevented||ro(v??document.body,{select:!0}),a.removeEventListener(ov,f),aE.remove(m)},0)}}},[a,u,f,m]);const g=d.useCallback(v=>{if(!r&&!n||m.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(b&&x){const y=v.currentTarget,[w,S]=Oee(y);w&&S?!v.shiftKey&&x===S?(v.preventDefault(),r&&ro(w,{select:!0})):v.shiftKey&&x===w&&(v.preventDefault(),r&&ro(S,{select:!0})):x===y&&v.preventDefault()}},[r,n,m.paused]);return d.createElement(bn.div,ge({tabIndex:-1},i,{ref:p,onKeyDown:g}))});function Dee(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ro(n,{select:t}),document.activeElement!==r)return}function Oee(e){const t=cT(e),r=iE(t,e),n=iE(t.reverse(),e);return[r,n]}function cT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function iE(e,t){for(const r of e)if(!Tee(r,{upTo:t}))return r}function Tee(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ree(e){return e instanceof HTMLInputElement&&"select"in e}function ro(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ree(e)&&t&&e.select()}}const aE=Iee();function Iee(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=lE(e,t),e.unshift(t)},remove(t){var r;e=lE(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function lE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Aee(e){return e.filter(t=>t.tagName!=="A")}const $ee=d.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=e;return n?mp.createPortal(d.createElement(bn.div,ge({},s,{ref:t})),n):null});function Fee(e,t){return d.useReducer((r,n)=>{const s=t[r][n];return s??r},e)}const Cm=e=>{const{present:t,children:r}=e,n=Bee(t),s=typeof r=="function"?r({present:n.isPresent}):d.Children.only(r),o=md(n.ref,s.ref);return typeof r=="function"||n.isPresent?d.cloneElement(s,{ref:o}):null};Cm.displayName="Presence";function Bee(e){const[t,r]=d.useState(),n=d.useRef({}),s=d.useRef(e),o=d.useRef("none"),i=e?"mounted":"unmounted",[a,c]=Fee(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=af(n.current);o.current=a==="mounted"?u:"none"},[a]),nx(()=>{const u=n.current,f=s.current;if(f!==e){const p=o.current,m=af(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),nx(()=>{if(t){const u=h=>{const m=af(n.current).includes(h.animationName);h.target===t&&m&&br.flushSync(()=>c("ANIMATION_END"))},f=h=>{h.target===t&&(o.current=af(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function af(e){return(e==null?void 0:e.animationName)||"none"}let iv=0;function Uee(){d.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:cE()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:cE()),iv++,()=>{iv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),iv--}},[])}function cE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var uT=rP(),av=function(){},Em=d.forwardRef(function(e,t){var r=d.useRef(null),n=d.useState({onScrollCapture:av,onWheelCapture:av,onTouchMoveCapture:av}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,p=e.sideCar,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,y=Nb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=p,S=tP([r,t]),_=lr(lr({},y),s);return d.createElement(d.Fragment,null,f&&d.createElement(w,{sideCar:uT,removeScrollBar:u,shards:h,noIsolation:m,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:r}),i?d.cloneElement(d.Children.only(a),lr(lr({},_),{ref:S})):d.createElement(x,lr({},_,{className:c,ref:S}),a))});Em.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Em.classNames={fullWidth:xc,zeroRight:yc};var ix=!1;if(typeof window<"u")try{var lf=Object.defineProperty({},"passive",{get:function(){return ix=!0,!0}});window.addEventListener("test",lf,lf),window.removeEventListener("test",lf,lf)}catch{ix=!1}var ra=ix?{passive:!1}:!1,zee=function(e){return e.tagName==="TEXTAREA"},dT=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!zee(e)&&r[t]==="visible")},Wee=function(e){return dT(e,"overflowY")},Vee=function(e){return dT(e,"overflowX")},uE=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=fT(e,r);if(n){var s=hT(e,r),o=s[1],i=s[2];if(o>i)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},Hee=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Gee=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},fT=function(e,t){return e==="v"?Wee(t):Vee(t)},hT=function(e,t){return e==="v"?Hee(t):Gee(t)},qee=function(e,t){return e==="h"&&t==="rtl"?-1:1},Yee=function(e,t,r,n,s){var o=qee(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,c=t.contains(a),u=!1,f=i>0,h=0,p=0;do{var m=hT(e,a),g=m[0],v=m[1],b=m[2],x=v-b-o*g;(g||x)&&fT(e,a)&&(h+=x,p+=g),a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(f&&(h===0||!s)||!f&&(p===0||!s))&&(u=!0),u},cf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dE=function(e){return[e.deltaX,e.deltaY]},fE=function(e){return e&&"current"in e?e.current:e},Kee=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Zee=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Xee=0,na=[];function Jee(e){var t=d.useRef([]),r=d.useRef([0,0]),n=d.useRef(),s=d.useState(Xee++)[0],o=d.useState(function(){return Pb()})[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=eP([e.lockRef.current],(e.shards||[]).map(fE),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=d.useCallback(function(v,b){if("touches"in v&&v.touches.length===2)return!i.current.allowPinchZoom;var x=cf(v),y=r.current,w="deltaX"in v?v.deltaX:y[0]-x[0],S="deltaY"in v?v.deltaY:y[1]-x[1],_,C=v.target,j=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in v&&j==="h"&&C.type==="range")return!1;var N=uE(j,C);if(!N)return!0;if(N?_=j:(_=j==="v"?"h":"v",N=uE(j,C)),!N)return!1;if(!n.current&&"changedTouches"in v&&(w||S)&&(n.current=_),!_)return!0;var E=n.current||_;return Yee(E,b,v,E==="h"?w:S,!0)},[]),c=d.useCallback(function(v){var b=v;if(!(!na.length||na[na.length-1]!==o)){var x="deltaY"in b?dE(b):cf(b),y=t.current.filter(function(_){return _.name===b.type&&_.target===b.target&&Kee(_.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(i.current.shards||[]).map(fE).filter(Boolean).filter(function(_){return _.contains(b.target)}),S=w.length>0?a(b,w[0]):!i.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=d.useCallback(function(v,b,x,y){var w={name:v,delta:b,target:x,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),f=d.useCallback(function(v){r.current=cf(v),n.current=void 0},[]),h=d.useCallback(function(v){u(v.type,dE(v),v.target,a(v,e.lockRef.current))},[]),p=d.useCallback(function(v){u(v.type,cf(v),v.target,a(v,e.lockRef.current))},[]);d.useEffect(function(){return na.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ra),document.addEventListener("touchmove",c,ra),document.addEventListener("touchstart",f,ra),function(){na=na.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,ra),document.removeEventListener("touchmove",c,ra),document.removeEventListener("touchstart",f,ra)}},[]);var m=e.removeScrollBar,g=e.inert;return d.createElement(d.Fragment,null,g?d.createElement(o,{styles:Zee(s)}):null,m?d.createElement(iP,{gapMode:"margin"}):null)}const Qee=sP(uT,Jee);var pT=d.forwardRef(function(e,t){return d.createElement(Em,lr({},e,{ref:t,sideCar:Qee}))});pT.classNames=Em.classNames;const mT="Dialog",[gT,Ure]=hee(mT),[ete,Ui]=gT(mT),tte=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=d.useRef(null),c=d.useRef(null),[u=!1,f]=vee({prop:n,defaultProp:s,onChange:o});return d.createElement(ete,{scope:t,triggerRef:a,contentRef:c,contentId:nv(),titleId:nv(),descriptionId:nv(),open:u,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(h=>!h),[f]),modal:i},r)},vT="DialogPortal",[rte,yT]=gT(vT,{forceMount:void 0}),nte=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Ui(vT,t);return d.createElement(rte,{scope:t,forceMount:r},d.Children.map(n,i=>d.createElement(Cm,{present:r||o.open},d.createElement($ee,{asChild:!0,container:s},i))))},ax="DialogOverlay",ste=d.forwardRef((e,t)=>{const r=yT(ax,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Ui(ax,e.__scopeDialog);return o.modal?d.createElement(Cm,{present:n||o.open},d.createElement(ote,ge({},s,{ref:t}))):null}),ote=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ui(ax,r);return d.createElement(pT,{as:t0,allowPinchZoom:!0,shards:[s.contentRef]},d.createElement(bn.div,ge({"data-state":bT(s.open)},n,{ref:t,style:{pointerEvents:"auto",...n.style}})))}),ku="DialogContent",ite=d.forwardRef((e,t)=>{const r=yT(ku,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Ui(ku,e.__scopeDialog);return d.createElement(Cm,{present:n||o.open},o.modal?d.createElement(ate,ge({},s,{ref:t})):d.createElement(lte,ge({},s,{ref:t})))}),ate=d.forwardRef((e,t)=>{const r=Ui(ku,e.__scopeDialog),n=d.useRef(null),s=md(t,r.contentRef,n);return d.useEffect(()=>{const o=n.current;if(o)return Wu(o)},[]),d.createElement(xT,ge({},e,{ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oa(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:Oa(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Oa(e.onFocusOutside,o=>o.preventDefault())}))}),lte=d.forwardRef((e,t)=>{const r=Ui(ku,e.__scopeDialog),n=d.useRef(!1),s=d.useRef(!1);return d.createElement(xT,ge({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,o),!o.defaultPrevented){var a;n.current||(a=r.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}n.current=!1,s.current=!1},onInteractOutside:o=>{var i,a;(i=e.onInteractOutside)===null||i===void 0||i.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=o.target;((a=r.triggerRef.current)===null||a===void 0?void 0:a.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}}))}),xT=d.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Ui(ku,r),c=d.useRef(null),u=md(t,c);return Uee(),d.createElement(d.Fragment,null,d.createElement(Mee,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o},d.createElement(Nee,ge({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":bT(a.open)},i,{ref:u,onDismiss:()=>a.onOpenChange(!1)}))),!1)});function bT(e){return e?"open":"closed"}const cte=tte,ute=nte,dte=ste,fte=ite;var Zl='[cmdk-group=""]',lv='[cmdk-group-items=""]',hte='[cmdk-group-heading=""]',r0='[cmdk-item=""]',hE=`${r0}:not([aria-disabled="true"])`,lx="cmdk-item-select",ui="data-value",pte=(e,t,r)=>dee(e,t,r),wT=d.createContext(void 0),gd=()=>d.useContext(wT),ST=d.createContext(void 0),n0=()=>d.useContext(ST),_T=d.createContext(void 0),CT=d.forwardRef((e,t)=>{let r=aa(()=>{var T,H;return{search:"",value:(H=(T=e.value)!=null?T:e.defaultValue)!=null?H:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=aa(()=>new Set),s=aa(()=>new Map),o=aa(()=>new Map),i=aa(()=>new Set),a=ET(e),{label:c,children:u,value:f,onValueChange:h,filter:p,shouldFilter:m,loop:g,disablePointerSelection:v=!1,vimBindings:b=!0,...x}=e,y=d.useId(),w=d.useId(),S=d.useId(),_=d.useRef(null),C=Ete();Oi(()=>{if(f!==void 0){let T=f.trim();r.current.value=T,j.emit()}},[f]),Oi(()=>{C(6,D)},[]);let j=d.useMemo(()=>({subscribe:T=>(i.current.add(T),()=>i.current.delete(T)),snapshot:()=>r.current,setState:(T,H,K)=>{var R,J,Z;if(!Object.is(r.current[T],H)){if(r.current[T]=H,T==="search")M(),P(),C(1,k);else if(T==="value"&&(K||C(5,D),((R=a.current)==null?void 0:R.value)!==void 0)){let Q=H??"";(Z=(J=a.current).onValueChange)==null||Z.call(J,Q);return}j.emit()}},emit:()=>{i.current.forEach(T=>T())}}),[]),N=d.useMemo(()=>({value:(T,H,K)=>{var R;H!==((R=o.current.get(T))==null?void 0:R.value)&&(o.current.set(T,{value:H,keywords:K}),r.current.filtered.items.set(T,E(H,K)),C(2,()=>{P(),j.emit()}))},item:(T,H)=>(n.current.add(T),H&&(s.current.has(H)?s.current.get(H).add(T):s.current.set(H,new Set([T]))),C(3,()=>{M(),P(),r.current.value||k(),j.emit()}),()=>{o.current.delete(T),n.current.delete(T),r.current.filtered.items.delete(T);let K=I();C(4,()=>{M(),(K==null?void 0:K.getAttribute("id"))===T&&k(),j.emit()})}),group:T=>(s.current.has(T)||s.current.set(T,new Set),()=>{o.current.delete(T),s.current.delete(T)}),filter:()=>a.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:v,listId:y,inputId:S,labelId:w,listInnerRef:_}),[]);function E(T,H){var K,R;let J=(R=(K=a.current)==null?void 0:K.filter)!=null?R:pte;return T?J(T,r.current.search,H):0}function P(){if(!r.current.search||a.current.shouldFilter===!1)return;let T=r.current.filtered.items,H=[];r.current.filtered.groups.forEach(R=>{let J=s.current.get(R),Z=0;J.forEach(Q=>{let le=T.get(Q);Z=Math.max(le,Z)}),H.push([R,Z])});let K=_.current;B().sort((R,J)=>{var Z,Q;let le=R.getAttribute("id"),te=J.getAttribute("id");return((Z=T.get(te))!=null?Z:0)-((Q=T.get(le))!=null?Q:0)}).forEach(R=>{let J=R.closest(lv);J?J.appendChild(R.parentElement===J?R:R.closest(`${lv} > *`)):K.appendChild(R.parentElement===K?R:R.closest(`${lv} > *`))}),H.sort((R,J)=>J[1]-R[1]).forEach(R=>{let J=_.current.querySelector(`${Zl}[${ui}="${encodeURIComponent(R[0])}"]`);J==null||J.parentElement.appendChild(J)})}function k(){let T=B().find(K=>K.getAttribute("aria-disabled")!=="true"),H=T==null?void 0:T.getAttribute(ui);j.setState("value",H||void 0)}function M(){var T,H,K,R;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let J=0;for(let Z of n.current){let Q=(H=(T=o.current.get(Z))==null?void 0:T.value)!=null?H:"",le=(R=(K=o.current.get(Z))==null?void 0:K.keywords)!=null?R:[],te=E(Q,le);r.current.filtered.items.set(Z,te),te>0&&J++}for(let[Z,Q]of s.current)for(let le of Q)if(r.current.filtered.items.get(le)>0){r.current.filtered.groups.add(Z);break}r.current.filtered.count=J}function D(){var T,H,K;let R=I();R&&(((T=R.parentElement)==null?void 0:T.firstChild)===R&&((K=(H=R.closest(Zl))==null?void 0:H.querySelector(hte))==null||K.scrollIntoView({block:"nearest"})),R.scrollIntoView({block:"nearest"}))}function I(){var T;return(T=_.current)==null?void 0:T.querySelector(`${r0}[aria-selected="true"]`)}function B(){var T;return Array.from((T=_.current)==null?void 0:T.querySelectorAll(hE))}function $(T){let H=B()[T];H&&j.setState("value",H.getAttribute(ui))}function F(T){var H;let K=I(),R=B(),J=R.findIndex(Q=>Q===K),Z=R[J+T];(H=a.current)!=null&&H.loop&&(Z=J+T<0?R[R.length-1]:J+T===R.length?R[0]:R[J+T]),Z&&j.setState("value",Z.getAttribute(ui))}function O(T){let H=I(),K=H==null?void 0:H.closest(Zl),R;for(;K&&!R;)K=T>0?_te(K,Zl):Cte(K,Zl),R=K==null?void 0:K.querySelector(hE);R?j.setState("value",R.getAttribute(ui)):F(T)}let L=()=>$(B().length-1),U=T=>{T.preventDefault(),T.metaKey?L():T.altKey?O(1):F(1)},W=T=>{T.preventDefault(),T.metaKey?$(0):T.altKey?O(-1):F(-1)};return d.createElement(bn.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:T=>{var H;if((H=x.onKeyDown)==null||H.call(x,T),!T.defaultPrevented)switch(T.key){case"n":case"j":{b&&T.ctrlKey&&U(T);break}case"ArrowDown":{U(T);break}case"p":case"k":{b&&T.ctrlKey&&W(T);break}case"ArrowUp":{W(T);break}case"Home":{T.preventDefault(),$(0);break}case"End":{T.preventDefault(),L();break}case"Enter":if(!T.nativeEvent.isComposing&&T.keyCode!==229){T.preventDefault();let K=I();if(K){let R=new Event(lx);K.dispatchEvent(R)}}}}},d.createElement("label",{"cmdk-label":"",htmlFor:N.inputId,id:N.labelId,style:kte},c),jm(e,T=>d.createElement(ST.Provider,{value:j},d.createElement(wT.Provider,{value:N},T))))}),mte=d.forwardRef((e,t)=>{var r,n;let s=d.useId(),o=d.useRef(null),i=d.useContext(_T),a=gd(),c=ET(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;Oi(()=>{if(!u)return a.item(s,i==null?void 0:i.id)},[u]);let f=jT(s,o,[e.value,e.children,o],e.keywords),h=n0(),p=Ti(C=>C.value&&C.value===f.current),m=Ti(C=>u||a.filter()===!1?!0:C.search?C.filtered.items.get(s)>0:!0);d.useEffect(()=>{let C=o.current;if(!(!C||e.disabled))return C.addEventListener(lx,g),()=>C.removeEventListener(lx,g)},[m,e.onSelect,e.disabled]);function g(){var C,j;v(),(j=(C=c.current).onSelect)==null||j.call(C,f.current)}function v(){h.setState("value",f.current,!0)}if(!m)return null;let{disabled:b,value:x,onSelect:y,forceMount:w,keywords:S,..._}=e;return d.createElement(bn.div,{ref:Nu([o,t]),..._,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!p,"data-disabled":!!b,"data-selected":!!p,onPointerMove:b||a.disablePointerSelection?void 0:v,onClick:b?void 0:g},e.children)}),gte=d.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...o}=e,i=d.useId(),a=d.useRef(null),c=d.useRef(null),u=d.useId(),f=gd(),h=Ti(m=>s||f.filter()===!1?!0:m.search?m.filtered.groups.has(i):!0);Oi(()=>f.group(i),[]),jT(i,a,[e.value,e.heading,c]);let p=d.useMemo(()=>({id:i,forceMount:s}),[s]);return d.createElement(bn.div,{ref:Nu([a,t]),...o,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&d.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),jm(e,m=>d.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},d.createElement(_T.Provider,{value:p},m))))}),vte=d.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=d.useRef(null),o=Ti(i=>!i.search);return!r&&!o?null:d.createElement(bn.div,{ref:Nu([s,t]),...n,"cmdk-separator":"",role:"separator"})}),yte=d.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,o=n0(),i=Ti(f=>f.search),a=Ti(f=>f.value),c=gd(),u=d.useMemo(()=>{var f;let h=(f=c.listInnerRef.current)==null?void 0:f.querySelector(`${r0}[${ui}="${encodeURIComponent(a)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return d.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),d.createElement(bn.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":u,id:c.inputId,type:"text",value:s?e.value:i,onChange:f=>{s||o.setState("search",f.target.value),r==null||r(f.target.value)}})}),xte=d.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,o=d.useRef(null),i=d.useRef(null),a=gd();return d.useEffect(()=>{if(i.current&&o.current){let c=i.current,u=o.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=c.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(c),()=>{cancelAnimationFrame(f),h.unobserve(c)}}},[]),d.createElement(bn.div,{ref:Nu([o,t]),...s,"cmdk-list":"",role:"listbox","aria-label":n,id:a.listId},jm(e,c=>d.createElement("div",{ref:Nu([i,a.listInnerRef]),"cmdk-list-sizer":""},c)))}),bte=d.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:o,container:i,...a}=e;return d.createElement(cte,{open:r,onOpenChange:n},d.createElement(ute,{container:i},d.createElement(dte,{"cmdk-overlay":"",className:s}),d.createElement(fte,{"aria-label":e.label,"cmdk-dialog":"",className:o},d.createElement(CT,{ref:t,...a}))))}),wte=d.forwardRef((e,t)=>Ti(r=>r.filtered.count===0)?d.createElement(bn.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Ste=d.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...o}=e;return d.createElement(bn.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},jm(e,i=>d.createElement("div",{"aria-hidden":!0},i)))}),Ir=Object.assign(CT,{List:xte,Item:mte,Input:yte,Group:gte,Separator:vte,Dialog:bte,Empty:wte,Loading:Ste});function _te(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Cte(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function ET(e){let t=d.useRef(e);return Oi(()=>{t.current=e}),t}var Oi=typeof window>"u"?d.useEffect:d.useLayoutEffect;function aa(e){let t=d.useRef();return t.current===void 0&&(t.current=e()),t}function Nu(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function Ti(e){let t=n0(),r=()=>e(t.snapshot());return d.useSyncExternalStore(t.subscribe,r,r)}function jT(e,t,r,n=[]){let s=d.useRef(),o=gd();return Oi(()=>{var i;let a=(()=>{var u;for(let f of r){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():s.current}})(),c=n.map(u=>u.trim());o.value(e,a,c),(i=t.current)==null||i.setAttribute(ui,a),s.current=a}),s}var Ete=()=>{let[e,t]=d.useState(),r=aa(()=>new Map);return Oi(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function jte(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function jm({asChild:e,children:t},r){return e&&d.isValidElement(t)?d.cloneElement(jte(t),{ref:t.ref},r(t.props.children)):r(t)}var kte={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const kT=d.forwardRef(({className:e,...t},r)=>l.jsx(Ir,{ref:r,className:pe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));kT.displayName=Ir.displayName;const NT=d.forwardRef(({className:e,...t},r)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(ul,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(Ir.Input,{ref:r,className:pe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));NT.displayName=Ir.Input.displayName;const PT=d.forwardRef(({className:e,...t},r)=>l.jsx(Ir.List,{ref:r,className:pe("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));PT.displayName=Ir.List.displayName;const LT=d.forwardRef((e,t)=>l.jsx(Ir.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));LT.displayName=Ir.Empty.displayName;const MT=d.forwardRef(({className:e,...t},r)=>l.jsx(Ir.Group,{ref:r,className:pe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));MT.displayName=Ir.Group.displayName;const Nte=d.forwardRef(({className:e,...t},r)=>l.jsx(Ir.Separator,{ref:r,className:pe("-mx-1 h-px bg-border",e),...t}));Nte.displayName=Ir.Separator.displayName;const DT=d.forwardRef(({className:e,...t},r)=>l.jsx(Ir.Item,{ref:r,className:pe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));DT.displayName=Ir.Item.displayName;const Pte=({selectedAmenities:e=[],onAmenitiesChange:t,type:r="stay"})=>{const[n,s]=d.useState(!1),[o,i]=d.useState({}),[a,c]=d.useState(""),[u,f]=d.useState(!1);d.useEffect(()=>{(async()=>{try{const{data:g,error:v}=await V.from("amenities").select("*").eq("type",r);if(v)throw v;const b=g.reduce((x,y)=>{const w=y.category||"Other";return x[w]||(x[w]=[]),x[w].push(y),x},{});i(b)}catch(g){console.error("Error fetching amenities:",g),i({})}})()},[r]);const h=m=>{const g=Array.isArray(e)?e:[],v=g.some(b=>b.id===m.id);t(v?g.filter(b=>b.id!==m.id):[...g,m])},p=()=>{if(a.trim()){const m={id:`new-${Date.now()}`,name:a.trim()},g=Array.isArray(e)?e:[];t([...g,m]),c(""),f(!1)}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs(Gw,{open:n,onOpenChange:s,children:[l.jsx(qw,{asChild:!0,children:l.jsxs(ee,{variant:"outline",role:"combobox","aria-expanded":n,className:"w-full justify-between",children:[Array.isArray(e)&&e.length>0?`${e.length} amenities selected`:"Select amenities...",l.jsx(_f,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsxs(ym,{className:"w-[400px] p-0",align:"start",children:[l.jsxs(kT,{children:[l.jsx(NT,{placeholder:"Search amenities..."}),l.jsxs(PT,{children:[l.jsx(LT,{children:l.jsxs("div",{className:"p-4 text-sm text-muted-foreground",children:["No amenities found.",l.jsx(ee,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>f(!0),children:"Add new"})]})}),Object.entries(o).map(([m,g])=>l.jsx(MT,{heading:m,children:Array.isArray(g)&&g.map(v=>{const b=Array.isArray(e)&&e.some(x=>x.id===v.id);return l.jsx(DT,{value:v.name,onSelect:()=>h(v),children:l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsx("span",{children:v.name}),b&&l.jsx(bp,{className:"w-4 h-4"})]})},v.id)})},m))]})]}),u&&l.jsx("div",{className:"p-4 border-t",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Re,{value:a,onChange:m=>c(m.target.value),placeholder:"Enter new amenity name",className:"flex-1"}),l.jsx(ee,{size:"sm",onClick:p,children:"Add"}),l.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>{f(!1),c("")},children:l.jsx(Ua,{className:"w-4 h-4"})})]})})]})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Array.isArray(e)&&e.map(m=>l.jsxs(yn,{variant:"secondary",className:"flex items-center gap-1",children:[m.name,l.jsx(Ua,{className:"w-3 h-3 cursor-pointer",onClick:()=>h(m)})]},m.id))})]})},Lte=Mi({title:kt().min(1,"Title is required"),description:kt().min(1,"Description is required"),location_name:kt().min(1,"Location is required"),price_per_night:Qn().min(0,"Price must be positive"),max_guests:Qn().min(1,"Must have at least 1 guest"),bedrooms:Qn().min(1,"Must have at least 1 bedroom"),beds:Qn().min(1,"Must have at least 1 bed"),bathrooms:Qn().min(1,"Must have at least 1 bathroom"),images:Pf(kt()),status:nT(["draft","published"]),amenities:Pf(kt()),availability:Pf(Mi({date:kt(),is_available:_m(),price_override:Qn().optional()})),address:kt().min(1,"Address is required"),zipcode:kt().min(1,"Zipcode is required"),city:kt().min(1,"City is required"),state:kt().min(1,"State is required"),latitude:Qn(),longitude:Qn(),property_type:kt().min(1,"Property type is required")}),Mte=[{id:"room",label:"Private Room",description:"A private room in a home"},{id:"apartment",label:"Apartment",description:"An entire apartment"},{id:"house",label:"House",description:"An entire house"},{id:"cabin",label:"Cabin",description:"A cozy cabin retreat"},{id:"cottage",label:"Cottage",description:"A charming cottage"},{id:"guesthouse",label:"Guesthouse",description:"A separate guesthouse"}],cv=()=>{var P;const{id:e}=Tu(),t=Mt(),{toast:r}=e0(),{getAuthHeader:n,refreshUser:s}=Dt(),[o,i]=d.useState(!1),[a,c]=d.useState([]),[u,f]=d.useState([]),[h,p]=d.useState([]),[m,g]=d.useState({address:"",zipcode:"",city:"",state:"",latitude:0,longitude:0,displayLocation:""}),[v,b]=d.useState(!1),x=Cl({resolver:jl(Lte),defaultValues:{title:"",description:"",location_name:"",price_per_night:0,max_guests:1,bedrooms:1,beds:1,bathrooms:1,images:[],status:"draft",amenities:[],availability:[],address:"",zipcode:"",city:"",state:"",latitude:0,longitude:0,property_type:"house"}}),y=k=>{if(!k)return"/default-stay.jpg";if(k.startsWith("http"))return k;if(k.startsWith("stay-images/")){const{data:M}=V.storage.from("stay-images").getPublicUrl(k.replace("stay-images/",""));return M.publicUrl}return`undefined/${k}`},w=d.useCallback(async()=>{if(!(!e||e==="new"))try{i(!0);const{data:k,error:M}=await V.from("stays").select(`
          *,
          images:stay_images(id, image_path, is_primary, display_order)
        `).eq("id",e).single();if(M)throw M;const D=k.images.map(L=>y(L.image_path)),{data:I,error:B}=await V.from("stay_availability").select("*").eq("stay_id",e);B&&console.error("Error fetching availability:",B);const $=I||[],F=Array.isArray(k.amenities)?k.amenities:[];if(F.length>0){const{data:L}=await V.from("amenities").select("*").in("id",F);L&&L.length>0&&p(L)}const O={address:k.address,zipcode:k.zipcode,city:k.city,state:k.state,latitude:parseFloat(k.latitude),longitude:parseFloat(k.longitude),displayLocation:k.location_name||k.location};c(D),g(O),x.reset({title:k.title,description:k.description,location_name:k.location_name||k.location,price_per_night:parseFloat(k.price_per_night),max_guests:parseInt(k.max_guests),bedrooms:parseInt(k.bedrooms),beds:parseInt(k.beds)||parseInt(k.bedrooms),bathrooms:parseInt(k.bathrooms)||1,images:D,status:k.status,amenities:F.map(L=>typeof L=="object"?L.id.toString():L.toString()),availability:$.map(L=>({date:L.date,is_available:L.is_available,price_override:L.price})),address:k.address,zipcode:k.zipcode,city:k.city,state:k.state,latitude:parseFloat(k.latitude),longitude:parseFloat(k.longitude),property_type:k.property_type||"house"})}catch(k){console.error("Error:",k),r({title:"Error",description:"Failed to fetch stay",variant:"destructive"})}finally{i(!1)}},[e]),S=Y.useRef(!1);d.useEffect(()=>{e&&e!=="new"&&!S.current&&(w(),S.current=!0)},[e,w]),d.useEffect(()=>{(async()=>{try{const{data:M,error:D}=await V.from("amenities").select("*").eq("type","stay");if(D)throw D;p(M)}catch(M){console.error("Error fetching amenities:",M),p([])}})()},[]);const _=d.useCallback(k=>{k.address&&(x.setValue("address",k.address),x.setValue("zipcode",k.zipcode),x.setValue("city",k.city),x.setValue("state",k.state),x.setValue("latitude",k.latitude),x.setValue("longitude",k.longitude),x.setValue("location_name",k.displayLocation))},[x]),C=d.useCallback(k=>{p(k),x.setValue("amenities",k.map(M=>M.id))},[x]),j=d.useCallback(k=>{console.log("Location selected:",k);const M={...k,displayLocation:k.displayLocation||`${k.city}, ${k.state}`};g(M),_(M)},[_]),N=d.useCallback(async k=>{if(!k||k.length===0||v)return;b(!0);const M=[],D=10,I=D*1024*1024;for(let B=0;B<k.length;B++){const $=k[B];if($.size>I){r({title:"Error",description:`File ${$.name} exceeds the ${D}MB size limit`,variant:"destructive"});continue}if(!$.type.startsWith("image/")){r({title:"Error",description:`File ${$.name} is not a valid image`,variant:"destructive"});continue}M.push($)}if(M.length===0){b(!1);return}try{const B=x.getValues("images")||[];if(e&&e!=="new"){i(!0);let $=0;for(let F=0;F<M.length;F++){const O=M[F],L=B.length===0&&F===0;try{const U=await Jg(e,O,L,F);if(U){const W=y(U.image_path);B.push(W),$++}}catch(U){console.error(`Error uploading image ${O.name}:`,U)}}$>0?(c(B),x.setValue("images",B),r({title:"Success",description:$===M.length?"All images uploaded successfully":`${$} of ${M.length} images uploaded successfully`})):r({title:"Error",description:"Failed to upload any images",variant:"destructive"}),i(!1)}else try{const $=await Promise.all(M.map(async O=>new Promise((L,U)=>{const W=new FileReader;W.onloadend=()=>{L(W.result)},W.onerror=()=>{U(new Error(`Failed to read file ${O.name}`))},W.readAsDataURL(O)}))),F=[...B,...$];c(F),x.setValue("images",F),r({title:"Success",description:"Images added successfully"})}catch($){console.error("Error converting images to base64:",$),r({title:"Error",description:"Failed to process images",variant:"destructive"})}}catch(B){console.error("Error uploading images:",B),r({title:"Error",description:"Failed to upload images",variant:"destructive"})}finally{b(!1);const B=document.getElementById("image-upload");B&&(B.value="")}},[x,e,r,y,v]),E=async k=>{var M;if(!m.address){r({title:"Error",description:"Please select a location",variant:"destructive"});return}i(!0);try{const D={...k,address:m.address,zipcode:m.zipcode,city:m.city,state:m.state,latitude:m.latitude,longitude:m.longitude,location_name:m.displayLocation||`${m.city}, ${m.state}`,amenities:Array.isArray(k.amenities)?k.amenities:[],status:k.status},I=((M=D.images)==null?void 0:M.filter($=>typeof $=="string"&&($.startsWith("http")||$.startsWith("/uploads/"))))||[];let B=e;if(e&&e!=="new"?(await YQ(e,D),r({title:"Success",description:"Stay updated successfully"})):(B=(await qQ(D)).id,r({title:"Success",description:"Stay created successfully"}),await s()),B&&k.images&&k.images.length>0)try{const $=k.images.filter(F=>!(typeof F=="string"&&(F.startsWith("http")||F.startsWith("/uploads/"))));for(let F=0;F<$.length;F++){const O=$[F];try{if(!O)continue;if(typeof O=="string"&&O.includes("base64")){const L=O.split(",")[1],U=O.split(",")[0].split(":")[1].split(";")[0],W=atob(L),T=[];for(let J=0;J<W.length;J++)T.push(W.charCodeAt(J));const H=new Uint8Array(T),K=new Blob([H],{type:U}),R=new File([K],`image_${F}.jpg`,{type:U});await Jg(B.toString(),R,F===0&&I.length===0,F)}else O&&typeof O=="object"&&"name"in O&&"type"in O&&await Jg(B.toString(),O,F===0&&I.length===0,F)}catch(L){console.error(`Error uploading image ${F}:`,L)}}$.length>0&&r({title:"Success",description:"Images uploaded successfully"})}catch($){console.error("Error handling image uploads:",$),r({title:"Warning",description:"Stay was saved but some images failed to upload",variant:"destructive"})}t("/host/dashboard")}catch(D){console.error("Error saving stay:",D),r({title:"Error",description:D instanceof Error?D.message:"Failed to save stay",variant:"destructive"})}finally{i(!1)}};return l.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8",children:e&&e!=="new"?"Edit Stay":"Create Stay"}),l.jsx(El,{...x,children:l.jsxs("form",{onSubmit:x.handleSubmit(E),className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx(it,{control:x.control,name:"title",render:({field:k})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Title"}),l.jsx(nt,{children:l.jsx(Re,{placeholder:"Cozy Beach House",...k})}),l.jsx(at,{})]})}),l.jsx(it,{control:x.control,name:"description",render:({field:k})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Description"}),l.jsx(nt,{children:l.jsx(du,{placeholder:"Describe your property...",className:"h-32",...k})}),l.jsx(at,{})]})}),l.jsx(it,{control:x.control,name:"location_name",render:({field:k})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Location Display Name"}),l.jsx(nt,{children:l.jsx(Re,{placeholder:"Will be auto-filled from map selection",...k,readOnly:!0,className:"bg-gray-50"})}),l.jsx(at,{})]})}),l.jsx(it,{control:x.control,name:"property_type",render:({field:k})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Property Type"}),l.jsxs(Eo,{onValueChange:k.onChange,defaultValue:k.value,children:[l.jsx(nt,{children:l.jsx(Is,{children:l.jsx(jo,{placeholder:"Select a property type"})})}),l.jsx(As,{children:Mte.map(M=>l.jsx($s,{value:M.id,children:M.label},M.id))})]}),l.jsx(at,{})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(it,{control:x.control,name:"price_per_night",render:({field:k})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Price per Night"}),l.jsx(nt,{children:l.jsx(Re,{type:"number",placeholder:"99.99",...k,onChange:M=>k.onChange(Number(M.target.value)),value:k.value})}),l.jsx(at,{})]})}),l.jsx(it,{control:x.control,name:"max_guests",render:({field:k})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Max Guests"}),l.jsx(nt,{children:l.jsx(Re,{type:"number",min:"1",...k,onChange:M=>k.onChange(Number(M.target.value)),value:k.value})}),l.jsx(at,{})]})}),l.jsx(it,{control:x.control,name:"bedrooms",render:({field:k})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Bedrooms"}),l.jsx(nt,{children:l.jsx(Re,{type:"number",min:"1",...k,onChange:M=>k.onChange(Number(M.target.value)),value:k.value})}),l.jsx(at,{})]})}),l.jsx(it,{control:x.control,name:"beds",render:({field:k})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Beds"}),l.jsx(nt,{children:l.jsx(Re,{type:"number",min:"1",...k,onChange:M=>k.onChange(Number(M.target.value)),value:k.value})}),l.jsx(at,{})]})}),l.jsx(it,{control:x.control,name:"bathrooms",render:({field:k})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Bathrooms"}),l.jsx(nt,{children:l.jsx(Re,{type:"number",min:"1",step:"0.5",...k,onChange:M=>k.onChange(Number(M.target.value)),value:k.value})}),l.jsx(at,{})]})})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(jt,{children:"Amenities"}),l.jsx(Pte,{selectedAmenities:h,type:"stay",onAmenitiesChange:C})]}),l.jsx(it,{control:x.control,name:"images",render:({field:k})=>{var M;return l.jsxs(rt,{children:[l.jsx(Ke,{children:"Images"}),l.jsx(nt,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 cursor-pointer hover:border-primary",children:[l.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",id:"image-upload",disabled:o,onChange:D=>N(D.target.files)}),l.jsx("label",{htmlFor:"image-upload",className:"flex flex-col items-center justify-center text-sm text-gray-600 cursor-pointer",children:o?l.jsx(Ze,{className:"h-10 w-10 animate-spin text-primary"}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"h-10 w-10 mb-2 text-gray-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),l.jsxs("p",{className:"text-center",children:["Drag & drop images here, or click to select",l.jsx("br",{}),l.jsx("span",{className:"text-xs text-gray-400",children:"PNG, JPG, GIF up to 10MB"})]})]})})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:(M=k.value)==null?void 0:M.map((D,I)=>l.jsxs("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200 bg-white aspect-video",children:[l.jsx("img",{src:typeof D=="string"?D:URL.createObjectURL(D),alt:`Stay image ${I+1}`,className:"w-full h-full object-cover",loading:"lazy"}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center",children:l.jsx("button",{onClick:()=>{const B=[...k.value];B.splice(I,1),k.onChange(B)},type:"button",className:"opacity-0 group-hover:opacity-100 bg-red-600 hover:bg-red-700 text-white rounded-full p-2",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},I))})]})}),l.jsx(at,{})]})}}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ke,{children:"Location"}),l.jsx(oT,{value:m,onChange:j,error:(P=x.formState.errors.address)==null?void 0:P.message}),!m.address&&l.jsx("p",{className:"text-sm text-red-500",children:"Please select a location to publish"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(jt,{children:"Availability"}),l.jsx("div",{className:"flex space-x-4",children:l.jsxs(Gw,{children:[l.jsx(qw,{asChild:!0,children:l.jsxs(ee,{variant:"outline",children:[l.jsx(xp,{className:"mr-2 h-4 w-4"}),"Select Dates"]})}),l.jsx(ym,{className:"w-auto p-0",children:l.jsx(Ww,{mode:"multiple",selected:u,onSelect:f,className:"rounded-md border"})})]})}),l.jsx("div",{className:"space-y-2",children:u.map(k=>l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{children:bt(k,"PPP")}),l.jsx(Re,{type:"number",placeholder:"Price override",className:"w-32",onChange:M=>{const I=[...x.getValues("availability")||[],{date:bt(k,"yyyy-MM-dd"),is_available:!0,price_override:Number(M.target.value)}];x.setValue("availability",I)}})]},k.toISOString()))})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx(ee,{type:"button",variant:"outline",onClick:()=>t("/host/dashboard"),disabled:o,children:"Cancel"}),e&&e!=="new"&&l.jsx(ee,{type:"button",variant:"secondary",onClick:()=>{x.setValue("status",x.getValues("status")==="published"?"draft":"published"),x.handleSubmit(E)()},disabled:o||!m.address,className:"bg-green-600 text-white hover:bg-green-700",children:o?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ze,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):x.getValues("status")==="published"?"Unpublish":"Publish"}),l.jsx(ee,{type:"submit",disabled:o||!m.address,className:"bg-primary hover:bg-primary/90",children:o?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ze,{className:"w-4 h-4 animate-spin"}),e&&e!=="new"?"Saving Changes...":"Creating Stay..."]}):e&&e!=="new"?"Save Changes":"Create Stay"})]})]})}),!1]})};var OT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pE=Y.createContext&&Y.createContext(OT),Dte=["attr","size","title"];function Ote(e,t){if(e==null)return{};var r=Tte(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xh.apply(this,arguments)}function mE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(r),!0).forEach(function(n){Rte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rte(e,t,r){return t=Ite(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ite(e){var t=Ate(e,"string");return typeof t=="symbol"?t:t+""}function Ate(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TT(e){return e&&e.map((t,r)=>Y.createElement(t.tag,Jh({key:r},t.attr),TT(t.child)))}function $te(e){return t=>Y.createElement(Fte,Xh({attr:Jh({},e.attr)},t),TT(e.child))}function Fte(e){var t=r=>{var{attr:n,size:s,title:o}=e,i=Ote(e,Dte),a=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),Y.createElement("svg",Xh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:Jh(Jh({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&Y.createElement("title",null,o),e.children)};return pE!==void 0?Y.createElement(pE.Consumer,null,r=>t(r)):t(OT)}function Bte(e){return $te({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}const RT=({redirectTo:e=`${window.location.origin}/auth/callback`,className:t=""})=>{const[r,n]=d.useState(!1),s=async()=>{try{n(!0);const{data:o,error:i}=await V.auth.signInWithOAuth({provider:"google",options:{redirectTo:e,queryParams:{access_type:"offline",prompt:"consent"}}});if(i)throw i;console.log("Redirecting to Google auth...",o)}catch(o){console.error("Error during Google sign-in:",o),be.error(o.message||"Failed to sign in with Google")}finally{n(!1)}};return l.jsxs(ee,{variant:"outline",type:"button",disabled:r,className:`w-full flex items-center justify-center gap-2 ${t}`,onClick:s,children:[r?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-current"}):l.jsx(Bte,{className:"h-5 w-5"}),l.jsx("span",{children:"Continue with Google"})]})},Ute=Mi({email:kt().email("Please enter a valid email address"),password:kt().min(6,"Password must be at least 6 characters")}),zte=()=>{const e=Mt(),{loginWithEmail:t}=Dt(),{toast:r}=e0(),[n,s]=d.useState(!1),o=Cl({resolver:jl(Ute),defaultValues:{email:"",password:""}}),i=async a=>{a.preventDefault(),s(!0);const c=new FormData(a.currentTarget),u=c.get("email"),f=c.get("password");try{await t(u,f),r({title:"Welcome back!",description:"You have successfully logged in."}),e("/")}catch(h){r({title:"Error",description:h instanceof Error?h.message:"Failed to login",variant:"destructive"})}finally{s(!1)}};return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-100 rounded-lg shadow-md",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx(tt,{to:"/",className:"flex items-center justify-center mb-8",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-terracotta-600 flex items-center justify-center text-white font-bold text-xl",children:"P25"})}),l.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"Welcome back"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",l.jsx(tt,{to:"/signup",className:"font-medium text-primary hover:text-primary/90",children:"Sign up"})]})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:l.jsx(RT,{})}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-gray-100 text-muted-foreground",children:"Or continue with email"})})]}),l.jsx(El,{...o,children:l.jsxs("form",{onSubmit:i,className:"space-y-4",children:[l.jsx(it,{control:o.control,name:"email",render:({field:a})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Email"}),l.jsx(nt,{children:l.jsx(Re,{type:"email",placeholder:"Enter your email",...a})}),l.jsx(at,{})]})}),l.jsx(it,{control:o.control,name:"password",render:({field:a})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Password"}),l.jsx(nt,{children:l.jsx(Re,{type:"password",placeholder:"Enter your password",...a})}),l.jsx(at,{})]})}),l.jsx("div",{className:"flex items-center justify-end",children:l.jsx(tt,{to:"/forgot-password",className:"text-sm font-medium text-primary hover:text-primary/90",children:"Forgot password?"})}),l.jsx(ee,{type:"submit",className:"w-full bg-gradient-to-r from-amber-500 to-terracotta-600 text-white",disabled:n,children:n?l.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}):"Sign in"})]})})]})})]})})};var s0="Checkbox",[Wte,zre]=Wn(s0),[Vte,Hte]=Wte(s0),IT=d.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:u,form:f,...h}=e,[p,m]=d.useState(null),g=Fe(t,S=>m(S)),v=d.useRef(!1),b=p?f||!!p.closest("form"):!0,[x=!1,y]=cs({prop:s,defaultProp:o,onChange:u}),w=d.useRef(x);return d.useEffect(()=>{const S=p==null?void 0:p.form;if(S){const _=()=>y(w.current);return S.addEventListener("reset",_),()=>S.removeEventListener("reset",_)}},[p,y]),l.jsxs(Vte,{scope:r,state:x,disabled:a,children:[l.jsx(_e.button,{type:"button",role:"checkbox","aria-checked":Lo(x)?"mixed":x,"aria-required":i,"data-state":FT(x),"data-disabled":a?"":void 0,disabled:a,value:c,...h,ref:g,onKeyDown:ue(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ue(e.onClick,S=>{y(_=>Lo(_)?!0:!_),b&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),b&&l.jsx(Gte,{control:p,bubbles:!v.current,name:n,value:c,checked:x,required:i,disabled:a,form:f,style:{transform:"translateX(-100%)"},defaultChecked:Lo(o)?!1:o})]})});IT.displayName=s0;var AT="CheckboxIndicator",$T=d.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=Hte(AT,r);return l.jsx(sr,{present:n||Lo(o.state)||o.state===!0,children:l.jsx(_e.span,{"data-state":FT(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});$T.displayName=AT;var Gte=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...o}=e,i=d.useRef(null),a=Xb(r),c=Eb(t);d.useEffect(()=>{const f=i.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==r&&m){const g=new Event("click",{bubbles:n});f.indeterminate=Lo(r),m.call(f,Lo(r)?!1:r),f.dispatchEvent(g)}},[a,r,n]);const u=d.useRef(Lo(r)?!1:r);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Lo(e){return e==="indeterminate"}function FT(e){return Lo(e)?"indeterminate":e?"checked":"unchecked"}var BT=IT,qte=$T;const UT=d.forwardRef(({className:e,...t},r)=>l.jsx(BT,{ref:r,className:pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(qte,{className:pe("flex items-center justify-center text-current"),children:l.jsx(bp,{className:"h-4 w-4"})})}));UT.displayName=BT.displayName;const Yte=Mi({firstName:kt().min(2,"First name must be at least 2 characters"),lastName:kt().min(2,"Last name must be at least 2 characters"),email:kt().email("Please enter a valid email address"),password:kt().min(8,"Password must be at least 8 characters"),acceptTerms:_m().refine(e=>e===!0,{message:"You must accept the terms and conditions"})}),Kte=()=>{const e=Mt(),{register:t}=Dt(),{toast:r}=e0(),[n,s]=d.useState(!1),o=Cl({resolver:jl(Yte),defaultValues:{firstName:"",lastName:"",email:"",password:"",acceptTerms:!1}}),i=async a=>{s(!0);try{const c=`${a.firstName} ${a.lastName}`.trim();await t(c,a.email,a.password),r({title:"Welcome!",description:"Your account has been created successfully."}),e("/")}catch(c){r({title:"Error",description:c instanceof Error?c.message:"Failed to register",variant:"destructive"})}finally{s(!1)}};return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-100 rounded-lg shadow-md",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx(tt,{to:"/",className:"flex items-center justify-center mb-8",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-terracotta-600 flex items-center justify-center text-white font-bold text-xl",children:"25"})}),l.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",l.jsx(tt,{to:"/login",className:"font-medium text-primary hover:text-primary/90",children:"Sign in"})]})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:l.jsx(RT,{})}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-gray-100 text-muted-foreground",children:"Or sign up with email"})})]}),l.jsx(El,{...o,children:l.jsxs("form",{onSubmit:o.handleSubmit(i),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(it,{control:o.control,name:"firstName",render:({field:a})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"First name"}),l.jsx(nt,{children:l.jsx(Re,{placeholder:"John",...a})}),l.jsx(at,{})]})}),l.jsx(it,{control:o.control,name:"lastName",render:({field:a})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Last name"}),l.jsx(nt,{children:l.jsx(Re,{placeholder:"Doe",...a})}),l.jsx(at,{})]})})]}),l.jsx(it,{control:o.control,name:"email",render:({field:a})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Email"}),l.jsx(nt,{children:l.jsx(Re,{type:"email",placeholder:"john.doe@example.com",...a})}),l.jsx(at,{})]})}),l.jsx(it,{control:o.control,name:"password",render:({field:a})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Password"}),l.jsx(nt,{children:l.jsx(Re,{type:"password",placeholder:"Create a password",...a})}),l.jsx(at,{})]})}),l.jsx(it,{control:o.control,name:"acceptTerms",render:({field:a})=>l.jsxs(rt,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l.jsx(nt,{children:l.jsx(UT,{checked:a.value,onCheckedChange:a.onChange})}),l.jsx("div",{className:"space-y-1 leading-none",children:l.jsxs(Ke,{children:["I accept the"," ",l.jsx(tt,{to:"/terms",className:"text-primary hover:text-primary/90",children:"terms and conditions"})]})})]})}),l.jsxs(ee,{type:"submit",className:"w-full bg-gradient-to-r from-amber-500 to-terracotta-600 text-white",disabled:n,children:[n&&l.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Account"]})]})})]})})]})})},Zte=Mi({email:kt().email("Please enter a valid email address")}),Xte=()=>{const{resetPassword:e}=Dt(),[t,r]=d.useState(!1),[n,s]=d.useState(!1),[o,i]=d.useState(null),a=Cl({resolver:jl(Zte),defaultValues:{email:""}}),c=async u=>{r(!0),i(null);try{await e(u.email),s(!0)}catch(f){i(f.message||"Something went wrong. Please try again later.")}finally{r(!1)}};return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-100 rounded-lg shadow-md",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx(tt,{to:"/",className:"flex items-center justify-center mb-8",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-terracotta-600 flex items-center justify-center text-white font-bold text-xl",children:"P25"})}),l.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"Forgot Password"}),l.jsx("p",{className:"mt-2 text-center text-sm text-muted-foreground",children:"Enter your email and we'll send you a link to reset your password"})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n?l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ms,{className:"bg-green-50 border-green-500",children:[l.jsx(Zk,{className:"h-4 w-4 text-green-600"}),l.jsx(fu,{children:"Email Sent"}),l.jsx(gs,{children:"If an account exists with this email, you will receive a password reset link shortly."})]}),l.jsx("div",{className:"flex flex-col space-y-4",children:l.jsx(tt,{to:"/login",children:l.jsxs(ee,{variant:"outline",className:"w-full flex items-center justify-center",children:[l.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})})]}):l.jsxs("div",{className:"space-y-6",children:[o&&l.jsxs(ms,{variant:"destructive",children:[l.jsx(ub,{className:"h-4 w-4"}),l.jsx(fu,{children:"Error"}),l.jsx(gs,{children:o})]}),l.jsx(El,{...a,children:l.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-4",children:[l.jsx(it,{control:a.control,name:"email",render:({field:u})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Email"}),l.jsx(nt,{children:l.jsx(Re,{type:"email",placeholder:"Enter your email",...u})}),l.jsx(at,{})]})}),l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsx(ee,{type:"submit",className:"w-full bg-gradient-to-r from-amber-500 to-terracotta-600 text-white",disabled:t,children:t?l.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}):"Send Reset Link"}),l.jsx(tt,{to:"/login",children:l.jsxs(ee,{variant:"outline",className:"w-full flex items-center justify-center",type:"button",children:[l.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})]})})]})})]})})},Jte=Mi({password:kt().min(8,"Password must be at least 8 characters"),confirmPassword:kt()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),Qte=()=>{const{updatePassword:e}=Dt(),t=Mt(),[r,n]=d.useState(!1),[s,o]=d.useState(!1),[i,a]=d.useState(null),[c,u]=d.useState(!1),f=Cl({resolver:jl(Jte),defaultValues:{password:"",confirmPassword:""}});d.useEffect(()=>{(async()=>{try{const{data:m,error:g}=await V.auth.getSession();if(g)throw g;m!=null&&m.session?u(!0):a("Invalid or expired password reset link. Please try again.")}catch(m){console.error("Error checking session:",m),a("Something went wrong. Please try requesting a new password reset link.")}})()},[]);const h=async p=>{n(!0),a(null);try{await e(p.password),o(!0),setTimeout(()=>{t("/login")},3e3)}catch(m){a(m.message||"Something went wrong. Please try again later.")}finally{n(!1)}};return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-100 rounded-lg shadow-md",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx(tt,{to:"/",className:"flex items-center justify-center mb-8",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-terracotta-600 flex items-center justify-center text-white font-bold text-xl",children:"P25"})}),l.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"Reset Password"}),l.jsx("p",{className:"mt-2 text-center text-sm text-muted-foreground",children:"Enter your new password below"})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s?l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ms,{className:"bg-green-50 border-green-500",children:[l.jsx(Zk,{className:"h-4 w-4 text-green-600"}),l.jsx(fu,{children:"Password updated!"}),l.jsx(gs,{children:"Your password has been successfully updated. You will be redirected to the login page shortly."})]}),l.jsx("div",{className:"flex flex-col space-y-4",children:l.jsx(tt,{to:"/login",children:l.jsxs(ee,{variant:"outline",className:"w-full flex items-center justify-center",children:[l.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Go to Login"]})})})]}):l.jsxs("div",{className:"space-y-6",children:[i&&l.jsxs(ms,{variant:"destructive",children:[l.jsx(ub,{className:"h-4 w-4"}),l.jsx(fu,{children:"Error"}),l.jsx(gs,{children:i})]}),c?l.jsx(El,{...f,children:l.jsxs("form",{onSubmit:f.handleSubmit(h),className:"space-y-4",children:[l.jsx(it,{control:f.control,name:"password",render:({field:p})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"New Password"}),l.jsx(nt,{children:l.jsx(Re,{type:"password",placeholder:"Enter your new password",...p})}),l.jsx(at,{})]})}),l.jsx(it,{control:f.control,name:"confirmPassword",render:({field:p})=>l.jsxs(rt,{children:[l.jsx(Ke,{children:"Confirm Password"}),l.jsx(nt,{children:l.jsx(Re,{type:"password",placeholder:"Confirm your new password",...p})}),l.jsx(at,{})]})}),l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsx(ee,{type:"submit",className:"w-full bg-gradient-to-r from-amber-500 to-terracotta-600 text-white",disabled:r,children:r?l.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}):"Reset Password"}),l.jsx(tt,{to:"/login",children:l.jsxs(ee,{variant:"outline",className:"w-full flex items-center justify-center",type:"button",children:[l.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})]})}):l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"The password reset link is invalid or has expired. Please request a new one."}),l.jsx(tt,{to:"/forgot-password",children:l.jsx(ee,{className:"w-full bg-gradient-to-r from-amber-500 to-terracotta-600 text-white",children:"Request New Link"})})]})]})})]})})},ere=()=>{const e=Mt(),[t,r]=d.useState(null);return d.useEffect(()=>{(async()=>{let o=new URLSearchParams(window.location.search).get("error_description");if(o){r(o),be.error(o);return}try{const{data:i,error:a}=await V.auth.getSession();if(a)throw a;i!=null&&i.session?(be.success("Successfully signed in!"),e("/")):e("/login")}catch(i){console.error("Authentication error:",i),r(i.message||"An error occurred during authentication"),be.error(i.message||"Authentication failed"),setTimeout(()=>{e("/login")},2e3)}})()},[e]),t?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200 max-w-md",children:[l.jsx("h1",{className:"text-xl font-semibold text-red-600 mb-2",children:"Authentication Error"}),l.jsx("p",{className:"text-red-700",children:t}),l.jsx("button",{className:"mt-4 px-4 py-2 bg-red-100 text-red-800 rounded hover:bg-red-200 transition-colors",onClick:()=>e("/login"),children:"Back to Login"})]})}):l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Completing authentication..."})]})},tre=()=>l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-16",children:[l.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms and Conditions"}),l.jsxs("div",{className:"prose max-w-none",children:[l.jsxs("p",{children:["Last updated: ",new Date().toLocaleDateString()]}),l.jsx("h2",{children:"1. Introduction"}),l.jsx("p",{children:"Welcome to Platform 2025. By using our service, you agree to these terms..."})]})]})}),rre=()=>l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-16",children:[l.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Privacy Policy"}),l.jsxs("div",{className:"prose max-w-none",children:[l.jsxs("p",{children:["Last updated: ",new Date().toLocaleDateString()]}),l.jsx("h2",{children:"1. Information We Collect"}),l.jsx("p",{children:"We collect information that you provide directly to us..."}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Information Collection"}),l.jsx("p",{className:"text-muted-foreground",children:"We collect information to provide and improve our services."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Data Usage"}),l.jsx("p",{className:"text-muted-foreground",children:"Your data is used to enhance your experience and our services."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Rights"}),l.jsx("p",{className:"text-muted-foreground",children:"You have control over your personal information."})]})]})]})]})}),nre=()=>l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-16",children:[l.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Help Center"}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8"})]})}),sre=()=>l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-16",children:[l.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Safety Center"}),l.jsxs("div",{className:"prose max-w-none",children:[l.jsx("h2",{children:"Our Commitment to Safety"}),l.jsx("p",{children:"Your safety is our top priority..."})]})]})});function ore(){const{user:e}=Dt(),[t,r]=d.useState([]),[n,s]=d.useState(!0),[o,i]=d.useState(null),[a,c]=d.useState(null),[u,f]=d.useState("");d.useEffect(()=>{const v=async()=>{if(e!=null&&e.id)try{s(!0);const x=await FK(e.id);r(x)}catch(x){console.error("Error fetching conversations:",x),i("Failed to load conversations")}finally{s(!1)}};v();const b=setInterval(v,6e4);return()=>clearInterval(b)},[e==null?void 0:e.id]);const h=u.trim()?t.filter(v=>{var b,x,y;return((x=(b=v.otherParticipant)==null?void 0:b.name)==null?void 0:x.toLowerCase().includes(u.toLowerCase()))||((y=v.title)==null?void 0:y.toLowerCase().includes(u.toLowerCase()))}):t,p=v=>v?v.split(" ").map(b=>b[0]).join("").toUpperCase().substring(0,2):"?",m=v=>{if(!v)return"";try{return F2(new Date(v),{addSuffix:!0})}catch{return""}},g=v=>{if(!v)return null;const b=v==="stay";return l.jsx(yn,{variant:"outline",className:`${b?"bg-blue-50 text-blue-700 border-blue-200":"bg-amber-50 text-amber-700 border-amber-200"}`,children:b?"Stay":"Food"})};return l.jsxs("div",{className:"flex flex-col h-full border rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"border-b p-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Messages"}),l.jsxs("div",{className:"relative",children:[l.jsx(ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Re,{placeholder:"Search conversations...",className:"pl-9",value:u,onChange:v=>f(v.target.value)}),u&&l.jsx(ee,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6",onClick:()=>f(""),children:l.jsx(Ua,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[l.jsx("div",{className:`border-r ${a?"hidden md:block md:w-1/3":"w-full"}`,children:n?l.jsxs("div",{className:"flex items-center justify-center h-full p-4",children:[l.jsx(Ze,{className:"h-6 w-6 animate-spin text-primary mr-2"}),l.jsx("span",{children:"Loading conversations..."})]}):o?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:[l.jsx("p",{className:"text-red-500 mb-2",children:o}),l.jsx(ee,{onClick:()=>window.location.reload(),children:"Retry"})]}):h.length===0?l.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:u?l.jsxs("p",{className:"text-muted-foreground",children:['No conversations matching "',u,'"']}):l.jsxs(l.Fragment,{children:[l.jsx(Zc,{className:"h-12 w-12 text-muted-foreground mb-4"}),l.jsx("p",{className:"text-lg",children:"No conversations yet"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Messages from users will appear here"})]})}):l.jsx(Rw,{className:"h-full",children:l.jsx("div",{className:"divide-y",children:h.map(v=>{var b,x,y,w,S;return l.jsx("div",{className:`p-4 hover:bg-muted cursor-pointer ${a===v.id?"bg-muted":""}`,onClick:()=>c(v.id),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs(ds,{children:[l.jsx(fs,{src:((b=v.otherParticipant)==null?void 0:b.avatar_url)||"",alt:((x=v.otherParticipant)==null?void 0:x.name)||"User"}),l.jsx(hs,{children:p((y=v.otherParticipant)==null?void 0:y.name)})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h3",{className:"font-medium truncate",children:((w=v.otherParticipant)==null?void 0:w.name)||"User"}),l.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap ml-2",children:m(v.last_message_at)})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[g(v.listing_type),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:v.title||"No title"})]}),l.jsx("p",{className:"text-sm truncate mt-1",children:((S=v.lastMessage)==null?void 0:S.content)||"No messages yet"})]})]})},v.id)})})})}),l.jsx("div",{className:`${a?"flex flex-col flex-1":"hidden"}`,children:a?l.jsx(tO,{conversationId:a,onClose:()=>c(null),isHost:!0}):l.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center text-muted-foreground",children:l.jsx("p",{children:"Select a conversation to view messages"})})})]})]})}const ire=()=>{const e=Mt(),[t,r]=d.useState([]),[n,s]=d.useState([]),[o,i]=d.useState(!0),[a,c]=d.useState(null),[u,f]=d.useState("listings");d.useEffect(()=>{h(),p()},[]);const h=async()=>{try{i(!0),c(null);const D=await FQ();r(D)}catch(D){console.error("Error fetching food experiences:",D),c("Failed to load your food experiences. Please try again later.")}finally{i(!1)}},p=async()=>{try{i(!0),c(null);const D=await GQ();s(D)}catch(D){console.error("Error fetching stays:",D),c("Failed to load your stays. Please try again later.")}finally{i(!1)}},m=async(D,I)=>{try{await zQ(D.toString(),I),r(B=>B.map($=>$.id===D?{...$,status:I}:$))}catch(B){console.error("Error changing status:",B),c("Failed to update status. Please try again.")}},g=async(D,I)=>{try{await KQ(D.toString(),I),s(B=>B.map($=>$.id===D?{...$,status:I}:$))}catch(B){console.error("Error changing stay status:",B),c("Failed to update status. Please try again.")}},v=async D=>{if(window.confirm("Are you sure you want to delete this food experience? This action cannot be undone."))try{await WQ(D.toString()),r(I=>I.filter(B=>B.id!==D))}catch(I){console.error("Error deleting food experience:",I),c("Failed to delete food experience. Please try again.")}},b=async D=>{if(window.confirm("Are you sure you want to delete this stay? This action cannot be undone."))try{await ZQ(D.toString()),s(I=>I.filter(B=>B.id!==D))}catch(I){console.error("Error deleting stay:",I),c("Failed to delete stay. Please try again.")}},x=D=>{switch(D.toLowerCase()){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}},y=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});if(o)return l.jsx("div",{className:"flex justify-center items-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const w=t.filter(D=>D.status==="published").length,S=t.filter(D=>D.status==="draft").length,_=t.filter(D=>D.status==="archived").length,C=n.filter(D=>D.status==="published").length,j=n.filter(D=>D.status==="draft").length,N=n.filter(D=>D.status==="archived").length,E=w+C,P=S+j,k=_+N,M=t.length+n.length;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sage-50 to-terracotta-50 p-6",children:[l.jsx("div",{className:"max-w-7xl mx-auto mb-8",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Host Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Manage your food experiences, stays, and messages"})]}),l.jsxs("div",{className:"space-x-4",children:[l.jsxs(ee,{variant:"outline",onClick:()=>e("/"),className:"flex items-center gap-2",children:[l.jsx(Oo,{className:"w-4 h-4"}),"Back to Home"]}),l.jsxs(ee,{onClick:()=>e("/host/food/new"),className:"flex items-center gap-2",children:[l.jsx(_f,{className:"w-4 h-4"}),"New Experience"]})]})]})}),a&&l.jsx(ms,{variant:"destructive",className:"mb-8 max-w-7xl mx-auto",children:l.jsx(gs,{children:a})}),l.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[l.jsx(Ve,{children:l.jsx(Ut,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(h4,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Active Listings"}),l.jsx("p",{className:"text-2xl font-bold",children:E})]})]})})}),l.jsx(Ve,{children:l.jsx(Ut,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(Ru,{className:"w-6 h-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Draft Listings"}),l.jsx("p",{className:"text-2xl font-bold",children:P})]})]})})}),l.jsx(Ve,{children:l.jsx(Ut,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(xp,{className:"w-6 h-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Listings"}),l.jsx("p",{className:"text-2xl font-bold",children:M})]})]})})}),l.jsx(Ve,{children:l.jsx(Ut,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:l.jsx(ls,{className:"w-6 h-6 text-yellow-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Archived"}),l.jsx("p",{className:"text-2xl font-bold",children:k})]})]})})})]}),l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs(ld,{defaultValue:"listings",onValueChange:f,className:"w-full",children:[l.jsxs(_l,{className:"mb-6",children:[l.jsxs(zt,{value:"listings",className:"flex items-center gap-2",children:[l.jsx(tg,{className:"w-4 h-4"}),"Listings"]}),l.jsxs(zt,{value:"messages",className:"flex items-center gap-2",children:[l.jsx(Zc,{className:"w-4 h-4"}),"Messages"]})]}),l.jsxs(Wt,{value:"listings",children:[l.jsx("div",{className:"mb-8",children:l.jsxs(Ve,{children:[l.jsx(ss,{children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs(os,{className:"flex items-center gap-2",children:[l.jsx(Xc,{className:"w-5 h-5"}),"Food Experiences"]}),l.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>e("/host/food/new"),className:"flex items-center gap-2",children:["Add New ",l.jsx(_f,{className:"w-4 h-4"})]})]})}),l.jsx(Ut,{children:l.jsx("div",{className:"divide-y",children:t.length>0?t.map(D=>l.jsxs("div",{className:"py-4 flex flex-wrap md:flex-nowrap items-center justify-between hover:bg-gray-50 rounded-lg transition-colors",children:[l.jsxs("div",{className:"flex-1 mb-2 md:mb-0",onClick:()=>e(`/host/food/edit/${D.id}`),children:[l.jsx("h3",{className:"font-medium cursor-pointer",children:D.title}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[l.jsxs("span",{children:["$",D.price_per_person," per person"]}),l.jsx(yn,{className:x(D.status),children:D.status.charAt(0).toUpperCase()+D.status.slice(1)}),D.created_at&&l.jsxs("span",{children:["Created: ",y(D.created_at)]})]})]}),l.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[l.jsx(ee,{variant:"outline",size:"sm",onClick:()=>e(`/food/${D.id}`),children:"Preview"}),l.jsx(ee,{variant:"outline",size:"sm",onClick:()=>e(`/host/food/edit/${D.id}`),children:"Edit"}),D.status==="draft"&&l.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>m(D.id,"published"),className:"text-green-600",children:[l.jsx(Gi,{className:"h-4 w-4 mr-1"}),"Publish"]}),D.status==="published"&&l.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>m(D.id,"archived"),className:"text-gray-600",children:[l.jsx(Gi,{className:"h-4 w-4 mr-1"}),"Archive"]}),D.status==="archived"&&l.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>m(D.id,"published"),className:"text-green-600",children:[l.jsx(Gi,{className:"h-4 w-4 mr-1"}),"Republish"]}),l.jsx(ee,{variant:"outline",size:"sm",onClick:()=>v(D.id),className:"text-red-600",children:"Delete"})]})]},D.id)):l.jsxs("div",{className:"py-8 text-center",children:[l.jsx(Xc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-lg font-medium text-gray-900 mb-1",children:"No food experiences yet"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first food experience to get started"}),l.jsx(ee,{onClick:()=>e("/host/food/new"),children:"Create Food Experience"})]})})})]})}),l.jsx("div",{children:l.jsxs(Ve,{children:[l.jsx(ss,{children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs(os,{className:"flex items-center gap-2",children:[l.jsx(tg,{className:"w-5 h-5"}),"Stays"]}),l.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>e("/host/stay/new"),className:"flex items-center gap-2",children:["Add New ",l.jsx(_f,{className:"w-4 h-4"})]})]})}),l.jsx(Ut,{children:l.jsx("div",{className:"divide-y",children:n.length>0?n.map(D=>l.jsxs("div",{className:"py-4 flex flex-wrap md:flex-nowrap items-center justify-between hover:bg-gray-50 rounded-lg transition-colors",children:[l.jsxs("div",{className:"flex-1 mb-2 md:mb-0",onClick:()=>e(`/host/stay/${D.id}`),children:[l.jsx("h3",{className:"font-medium cursor-pointer",children:D.title}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[l.jsxs("span",{children:["$",D.price_per_night," per night"]}),l.jsx(yn,{className:x(D.status),children:D.status.charAt(0).toUpperCase()+D.status.slice(1)}),D.created_at&&l.jsxs("span",{children:["Created: ",y(D.created_at)]})]})]}),l.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[l.jsx(ee,{variant:"outline",size:"sm",onClick:()=>e(`/stay/${D.id}`),children:"Preview"}),l.jsx(ee,{variant:"outline",size:"sm",onClick:()=>e(`/host/stay/${D.id}`),children:"Edit"}),D.status==="draft"&&l.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>g(D.id,"published"),className:"text-green-600",children:[l.jsx(Gi,{className:"h-4 w-4 mr-1"}),"Publish"]}),D.status==="published"&&l.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>g(D.id,"archived"),className:"text-gray-600",children:[l.jsx(Gi,{className:"h-4 w-4 mr-1"}),"Archive"]}),D.status==="archived"&&l.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>g(D.id,"published"),className:"text-green-600",children:[l.jsx(Gi,{className:"h-4 w-4 mr-1"}),"Republish"]}),l.jsx(ee,{variant:"outline",size:"sm",onClick:()=>b(D.id),className:"text-red-600",children:"Delete"})]})]},D.id)):l.jsxs("div",{className:"py-8 text-center",children:[l.jsx(tg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-lg font-medium text-gray-900 mb-1",children:"No stays yet"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first stay to get started"}),l.jsx(ee,{onClick:()=>e("/host/stay/new"),children:"Create Stay"})]})})})]})})]}),l.jsx(Wt,{value:"messages",children:l.jsxs(Ve,{children:[l.jsx(ss,{children:l.jsxs(os,{className:"flex items-center gap-2",children:[l.jsx(Zc,{className:"w-5 h-5"}),"Messages"]})}),l.jsx(Ut,{className:"p-0",children:l.jsx("div",{className:"h-[600px]",children:l.jsx(ore,{})})})]})})]})})]})},Cn=({children:e})=>{const{user:t,loading:r}=Dt(),n=Ai();return r?l.jsx("div",{children:"Loading..."}):t?l.jsx(l.Fragment,{children:e}):l.jsx(a$,{to:"/login",state:{from:n},replace:!0})};var o0="Switch",[are,Wre]=Wn(o0),[lre,cre]=are(o0),zT=d.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:u,form:f,...h}=e,[p,m]=d.useState(null),g=Fe(t,w=>m(w)),v=d.useRef(!1),b=p?f||!!p.closest("form"):!0,[x=!1,y]=cs({prop:s,defaultProp:o,onChange:u});return l.jsxs(lre,{scope:r,checked:x,disabled:a,children:[l.jsx(_e.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":HT(x),"data-disabled":a?"":void 0,disabled:a,value:c,...h,ref:g,onClick:ue(e.onClick,w=>{y(S=>!S),b&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),b&&l.jsx(ure,{control:p,bubbles:!v.current,name:n,value:c,checked:x,required:i,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});zT.displayName=o0;var WT="SwitchThumb",VT=d.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=cre(WT,r);return l.jsx(_e.span,{"data-state":HT(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});VT.displayName=WT;var ure=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,o=d.useRef(null),i=Xb(r),a=Eb(t);return d.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&h){const p=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(p)}},[i,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function HT(e){return e?"checked":"unchecked"}var GT=zT,dre=VT;const Df=d.forwardRef(({className:e,...t},r)=>l.jsx(GT,{className:pe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:l.jsx(dre,{className:pe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Df.displayName=GT.displayName;const uf=(e,t="stay")=>e?e.startsWith("http")?e:t==="stay"&&e.startsWith("stay-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${e}`:t==="food"&&e.startsWith("food-experience-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${e}`:t==="profile"&&e.startsWith("user-profiles/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${e}`:e:t==="food"?"/images/jollof.jpg":t==="profile"?"/images/kenji.jpg":"/images/mountain.jpg",fre=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M8 12 h8"}),l.jsx("path",{d:"M12 8 v8"})]}),hre=()=>{var O;const{user:e,refreshUser:t}=Dt(),r=Mt(),[n,s]=d.useState(!1),[o,i]=d.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:"+1234567890",language:"English",currency:"USD",timezone:"UTC-5"}),[a,c]=d.useState(!1),[u,f]=d.useState(!1),[h,p]=d.useState({currentPassword:"",newPassword:"",confirmPassword:""}),m=d.useRef(null),[g,v]=d.useState({emailNotifications:!1,marketingEmails:!1,twoFactorAuth:!1}),[b,x]=d.useState([]),[y,w]=d.useState([]),[S,_]=d.useState(!1),[C,j]=d.useState(!1),N=async()=>{if(e!=null&&e.id)try{_(!0);const L=[],{data:U,error:W}=await V.from("favorites").select("*").eq("user_id",e.id).eq("listing_type","food_experience");if(W)throw W;const{data:T,error:H}=await V.from("user_favorites").select("*").eq("user_id",e.id);if(H)throw H;if(U&&U.length>0)for(const K of U){const{data:R,error:J}=await V.from("food_experiences").select("id, title, price_per_person, host_id").eq("id",K.listing_id).single();if(J||!R)continue;const{data:Z,error:Q}=await V.from("food_experience_images").select("image_path").eq("experience_id",K.listing_id).eq("is_primary",!0).single(),le=(Z==null?void 0:Z.image_path)||"";L.push({id:K.id,item_type:"food_experience",listing_id:K.listing_id,title:R.title,price:`$${R.price_per_person}/person`,image:uf(le,"food"),created_at:K.created_at})}if(T&&T.length>0)for(const K of T){const{data:R,error:J}=await V.from("stays").select("id, title, price_per_night, host_id").eq("id",K.stay_id).single();if(J||!R)continue;const{data:Z,error:Q}=await V.from("stay_images").select("image_path").eq("stay_id",K.stay_id).eq("is_primary",!0).single(),le=(Z==null?void 0:Z.image_path)||"";L.push({id:K.id,item_type:"stay",listing_id:K.stay_id,title:R.title,price:`$${R.price_per_night}/night`,image:uf(le,"stay"),created_at:K.created_at})}L.sort((K,R)=>new Date(R.created_at).getTime()-new Date(K.created_at).getTime()),x(L)}catch(L){console.error("Error fetching favorites:",L),be.error("Failed to load favorites")}finally{_(!1)}},E=async()=>{if(e!=null&&e.id)try{j(!0);const{data:L,error:U}=await V.from("stay_bookings").select("id, stay_id, check_in_date, status, created_at").eq("user_id",e.id).order("check_in_date",{ascending:!0});if(U)throw U;const{data:W,error:T}=await V.from("food_experience_bookings").select(`
          id, 
          experience_id, 
          status, 
          created_at,
          food_experience_availability!inner(date)
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(T)throw T;const H=[];if(L&&L.length>0)for(const K of L){const{data:R,error:J}=await V.from("stays").select("title").eq("id",K.stay_id).single();if(J||!R)continue;const{data:Z,error:Q}=await V.from("stay_images").select("image_path").eq("stay_id",K.stay_id).eq("is_primary",!0).single(),le=(Z==null?void 0:Z.image_path)||"";H.push({id:K.id,type:"stay",title:R.title,date:new Date(K.check_in_date).toLocaleDateString(),status:K.status,image:uf(le,"stay"),listing_id:K.stay_id})}if(W&&W.length>0)for(const K of W){const{data:R,error:J}=await V.from("food_experiences").select("title").eq("id",K.experience_id).single();if(J||!R)continue;const{data:Z,error:Q}=await V.from("food_experience_images").select("image_path").eq("experience_id",K.experience_id).eq("is_primary",!0).single(),le=(Z==null?void 0:Z.image_path)||"",te=K.food_experience_availability,G=(te==null?void 0:te.date)||new Date(K.created_at).toLocaleDateString();H.push({id:K.id,type:"food_experience",title:R.title,date:new Date(G).toLocaleDateString(),status:K.status,image:uf(le,"food"),listing_id:K.experience_id})}H.sort((K,R)=>{const J=new Date(K.date),Z=new Date(R.date),Q=new Date;return J>=Q&&Z>=Q?J.getTime()-Z.getTime():J>=Q&&Z<Q?-1:J<Q&&Z>=Q?1:Z.getTime()-J.getTime()}),w(H)}catch(L){console.error("Error fetching bookings:",L),be.error("Failed to load bookings")}finally{j(!1)}};d.useEffect(()=>{e!=null&&e.id&&(N(),E())},[e==null?void 0:e.id]);const P=async L=>{var W,T,H,K;const U=(W=L.target.files)==null?void 0:W[0];if(!(!U||!(e!=null&&e.id)))try{c(!0);const R=U.name.split(".").pop(),J=`${Math.random().toString(36).substring(2)}`,Z=`${e.id}/${J}.${R}`,{data:Q}=await V.storage.listBuckets();if(!(Q==null?void 0:Q.some(Ce=>Ce.name==="user-profiles")))try{await V.storage.createBucket("user-profiles",{public:!0,fileSizeLimit:5242880})}catch(Ce){console.log("Bucket may already exist, continuing:",Ce)}const{data:te,error:G}=await V.storage.from("user-profiles").upload(Z,U,{cacheControl:"3600",upsert:!0});if(G)throw console.error("Upload error:",G),new Error(`Upload failed: ${G.message}`);const{data:de}=V.storage.from("user-profiles").getPublicUrl(Z);if(de!=null&&de.publicUrl){const Ce=de.publicUrl,{error:Ae}=await V.from("profiles").update({avatar_url:Ce,updated_at:new Date().toISOString()}).eq("id",e.id);if(Ae)throw console.error("Profile update error:",Ae),new Error(`Profile update failed: ${Ae.message}`);const{error:ve}=await V.auth.updateUser({data:{avatar_url:Ce,picture:Ce}});ve&&console.error("Auth update error:",ve),await new Promise(Xe=>setTimeout(Xe,500)),await t(),be.success("Profile picture updated successfully")}}catch(R){console.error("Error uploading image:",R),(T=R.message)!=null&&T.includes("row-level security policy")||(H=R.message)!=null&&H.includes("Unauthorized")?be.error("Permission denied. Please log out and log back in to update your profile."):(K=R.message)!=null&&K.includes("duplicate")?be.error("Image already exists. Please try with a different image."):be.error("Failed to update profile picture. Please try again later.")}finally{c(!1)}},k=async()=>{var L,U;if(e!=null&&e.id)try{c(!0);const{error:W}=await V.from("profiles").update({name:o.name,updated_at:new Date().toISOString()}).eq("id",e.id);if(W)throw console.error("Profile update error:",W),new Error(`Profile update failed: ${W.message}`);const{error:T}=await V.auth.updateUser({data:{name:o.name,full_name:o.name}});T&&console.error("Auth update error:",T),await new Promise(H=>setTimeout(H,500)),await t(),s(!1),be.success("Profile updated successfully")}catch(W){console.error("Error updating profile:",W),(L=W.message)!=null&&L.includes("row-level security policy")||(U=W.message)!=null&&U.includes("Unauthorized")?be.error("Permission denied. Please log out and log back in to update your profile."):be.error("Failed to update profile. Please try again later.")}finally{c(!1)}},M=async()=>{if(h.newPassword!==h.confirmPassword){be.error("New passwords do not match");return}try{c(!0);const{error:L}=await V.auth.updateUser({password:h.newPassword});if(L)throw L;f(!1),p({currentPassword:"",newPassword:"",confirmPassword:""}),be.success("Password updated successfully")}catch(L){be.error(L.message||"Failed to update password"),console.error("Error updating password:",L)}finally{c(!1)}},D=async(L,U)=>{if(e!=null&&e.id)try{if(c(!0),U==="food_experience"){const{error:W}=await V.from("favorites").delete().eq("id",L).eq("user_id",e.id);if(W)throw W}else{const{error:W}=await V.from("user_favorites").delete().eq("id",L).eq("user_id",e.id);if(W)throw W}x(W=>W.filter(T=>T.id!==L)),be.success("Removed from favorites")}catch(W){be.error(W.message||"Failed to remove favorite"),console.error("Error removing favorite:",W)}finally{c(!1)}},I=(L,U)=>{r(L==="stay"?`/stays/${U}`:`/food/${U}`)},B=async()=>{try{const{data:L,error:U}=await V.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/profile`}});if(U)throw U}catch(L){be.error(L.message||"Failed to connect Google account"),console.error("Error connecting Google account:",L)}},$=async()=>{be.info("Facebook connection is not implemented yet")},F=(L,U)=>{v({...g,[L]:U}),be.success(`${L} ${U?"enabled":"disabled"}`)};return l.jsxs(Lt,{children:[l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx(Ve,{className:"mb-8",children:l.jsx(Ut,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[l.jsxs("div",{className:"relative",children:[l.jsxs(ds,{className:"w-24 h-24",children:[l.jsx(fs,{src:(e==null?void 0:e.picture)||(e==null?void 0:e.image)||"/images/kenji.jpg"}),l.jsx(hs,{children:((O=e==null?void 0:e.name)==null?void 0:O.charAt(0))||"U"})]}),l.jsx("input",{type:"file",ref:m,className:"hidden",accept:"image/*",onChange:P}),l.jsx(ee,{size:"icon",variant:"secondary",className:"absolute bottom-0 right-0 rounded-full",onClick:()=>{var L;return(L=m.current)==null?void 0:L.click()},disabled:a,children:a?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):l.jsx(a4,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex-1 text-center md:text-left",children:[l.jsx("h1",{className:"text-2xl font-bold",children:(e==null?void 0:e.name)||"User"}),l.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.email)||"No email provided"}),(e==null?void 0:e.is_host)&&l.jsx("div",{className:"mt-2",children:l.jsx("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm",children:"Host"})})]}),l.jsxs(ee,{variant:"outline",onClick:()=>s(!n),className:"md:self-start",children:[l.jsx(E4,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]})})}),n&&l.jsxs(Ve,{className:"mb-8 border-primary/50",children:[l.jsx(ss,{children:l.jsx(os,{children:"Edit Profile"})}),l.jsxs(Ut,{className:"space-y-4",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{children:"Full Name"}),l.jsx(Re,{value:o.name,onChange:L=>i({...o,name:L.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{children:"Email"}),l.jsx(Re,{value:o.email,disabled:!0,className:"opacity-70"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{children:"Phone"}),l.jsx(Re,{value:o.phone,onChange:L=>i({...o,phone:L.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{children:"Language"}),l.jsx(Re,{value:o.language,onChange:L=>i({...o,language:L.target.value})})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx(ee,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),l.jsxs(ee,{onClick:k,disabled:a,children:[a?l.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Save Changes"]})]})]})]}),l.jsxs(ld,{defaultValue:"bookings",className:"space-y-4",children:[l.jsxs(_l,{className:"grid grid-cols-4 md:w-[400px]",children:[l.jsx(zt,{value:"bookings",children:"Bookings"}),l.jsx(zt,{value:"favorites",children:"Favorites"}),l.jsx(zt,{value:"settings",children:"Settings"}),l.jsx(zt,{value:"security",children:"Security"})]}),l.jsxs(Wt,{value:"bookings",className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Bookings"}),C?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(Ze,{className:"w-8 h-8 animate-spin text-primary"})}):l.jsx("div",{className:"grid gap-4",children:y.length>0?y.map(L=>l.jsx(Ve,{className:"hover:border-primary/50 transition-colors",children:l.jsx(Ut,{className:"p-4",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx("img",{src:L.image,alt:L.title,className:"w-24 h-24 object-cover rounded-lg"}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:L.type==="stay"?"Stay":"Food Experience"}),l.jsx("h3",{className:"font-semibold",children:L.title}),l.jsxs("p",{className:"text-sm",children:[l.jsx(xp,{className:"w-4 h-4 inline mr-1"}),L.date]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[l.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${L.status==="confirmed"?"bg-green-100 text-green-800":L.status==="pending"?"bg-yellow-100 text-yellow-800":L.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:L.status.charAt(0).toUpperCase()+L.status.slice(1)}),l.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>I(L.type,L.listing_id),children:[l.jsx(p4,{className:"w-3 h-3 mr-1"}),"View"]})]})]})})]})})},L.id)):l.jsx("p",{className:"text-muted-foreground",children:"You have no bookings yet."})})]}),l.jsxs(Wt,{value:"favorites",className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Favorites"}),S?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(Ze,{className:"w-8 h-8 animate-spin text-primary"})}):l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:b.length>0?b.map(L=>l.jsx(Ve,{className:"hover:border-primary/50 transition-colors",children:l.jsx(Ut,{className:"p-4",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx("img",{src:L.image,alt:L.title,className:"w-24 h-24 object-cover rounded-lg cursor-pointer",onClick:()=>I(L.item_type,L.listing_id)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:L.item_type==="stay"?"Stay":"Food Experience"}),l.jsx("h3",{className:"font-semibold hover:text-primary cursor-pointer",onClick:()=>I(L.item_type,L.listing_id),children:L.title}),l.jsx("p",{className:"text-sm font-medium",children:L.price})]}),l.jsx(ee,{size:"icon",variant:"ghost",onClick:()=>D(L.id,L.item_type),disabled:a,children:a?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):l.jsx(db,{className:"w-4 h-4 text-red-500",fill:"currentColor"})})]})})},L.id)):l.jsx("p",{className:"text-muted-foreground md:col-span-2",children:"You have no favorites yet."})})]}),l.jsx(Wt,{value:"settings",className:"space-y-6",children:l.jsxs(Ve,{children:[l.jsx(ss,{children:l.jsx(os,{children:"Profile Settings"})}),l.jsxs(Ut,{className:"space-y-4",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{children:"Full Name"}),l.jsx(Re,{value:o.name,onChange:L=>i({...o,name:L.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{children:"Email"}),l.jsx(Re,{value:o.email,disabled:!0,className:"opacity-70"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{children:"Phone"}),l.jsx(Re,{value:o.phone,onChange:L=>i({...o,phone:L.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{children:"Language"}),l.jsx(Re,{value:o.language,onChange:L=>i({...o,language:L.target.value})})]})]}),l.jsx(Tr,{className:"my-6"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Preferences"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(jt,{children:"Email Notifications"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email about your bookings and account"})]}),l.jsx(Df,{checked:g.emailNotifications,onCheckedChange:L=>F("emailNotifications",L)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(jt,{children:"Marketing Communications"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates about new experiences and offers"})]}),l.jsx(Df,{checked:g.marketingEmails,onCheckedChange:L=>F("marketingEmails",L)})]})]}),l.jsx("div",{className:"flex justify-end pt-4",children:l.jsxs(ee,{onClick:k,disabled:a,children:[a?l.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Save Changes"]})})]})]})}),l.jsx(Wt,{value:"security",className:"space-y-4",children:l.jsxs(Ve,{children:[l.jsx(ss,{children:l.jsx(os,{children:"Security Settings"})}),l.jsxs(Ut,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Password"}),l.jsx(ee,{variant:"outline",onClick:()=>f(!0),children:"Change Password"})]}),l.jsx(Tr,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Two-Factor Authentication"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(jt,{children:"Enable 2FA"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),l.jsx(Df,{checked:g.twoFactorAuth,onCheckedChange:L=>F("twoFactorAuth",L)})]})]}),l.jsx(Tr,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Connected Accounts"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(ee,{variant:"outline",className:"w-full justify-start",onClick:B,children:[l.jsx(fre,{}),l.jsx("span",{className:"ml-2",children:"Connect Google Account"})]}),l.jsxs(ee,{variant:"outline",className:"w-full justify-start",onClick:$,children:[l.jsx(Xk,{className:"w-4 h-4"}),l.jsx("span",{className:"ml-2",children:"Connect Facebook Account"})]})]})]})]})]})})]})]})}),l.jsx(Up,{open:u,onOpenChange:f,children:l.jsxs(Yu,{children:[l.jsxs(dL,{children:[l.jsx(zp,{children:"Change Password"}),l.jsx(hL,{children:"Enter your current password and new password below."})]}),l.jsx("div",{className:"grid gap-4 py-4",children:(e==null?void 0:e.provider)==="google"?l.jsx("p",{className:"text-sm text-muted-foreground",children:"You are signed in with Google. Please use Google to manage your password."}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"currentPassword",children:"Current Password"}),l.jsx(Re,{id:"currentPassword",type:"password",value:h.currentPassword,onChange:L=>p({...h,currentPassword:L.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"newPassword",children:"New Password"}),l.jsx(Re,{id:"newPassword",type:"password",value:h.newPassword,onChange:L=>p({...h,newPassword:L.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"confirmPassword",children:"Confirm New Password"}),l.jsx(Re,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:L=>p({...h,confirmPassword:L.target.value})})]})]})}),l.jsxs(fL,{children:[l.jsx(ee,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),(e==null?void 0:e.provider)!=="google"&&l.jsxs(ee,{onClick:M,disabled:a||!h.currentPassword||!h.newPassword||!h.confirmPassword,children:[a?l.jsx(Ze,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Change Password"]})]})]})})]})},pre=()=>{const{bookingId:e}=Tu(),[t,r]=d.useState(null),[n,s]=d.useState(!0),[o,i]=d.useState("");d.useEffect(()=>{(async()=>{if(e)try{s(!0);const S=await Ec.getBookingById(e);r(S)}catch(S){console.error("Error fetching booking:",S),i("Unable to load booking details. Please try again later.")}finally{s(!1)}})()},[e]);const a=async()=>{if(!(!e||!window.confirm("Are you sure you want to cancel this booking?")))try{await Ec.cancelBooking(e);const w=await Ec.getBookingById(e);r(w)}catch(w){console.error("Error cancelling booking:",w),i("Failed to cancel booking. Please try again later.")}};if(n)return l.jsx(Lt,{children:l.jsx("div",{className:"container max-w-3xl mx-auto px-4 py-12",children:l.jsx(Ve,{className:"p-8",children:l.jsxs("div",{className:"flex items-center justify-center h-60 flex-col gap-4",children:[l.jsx(Ze,{className:"h-12 w-12 animate-spin text-primary"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading booking details..."})]})})})});if(o||!t)return l.jsx(Lt,{children:l.jsx("div",{className:"container max-w-3xl mx-auto px-4 py-12",children:l.jsxs(Ve,{className:"p-8",children:[l.jsxs(ms,{variant:"destructive",className:"mb-6",children:[l.jsx(ub,{className:"h-4 w-4"}),l.jsx(gs,{children:o||"Booking not found"})]}),l.jsx(ee,{asChild:!0,children:l.jsx(tt,{to:"/bookings",children:"View All Bookings"})})]})})});const{stay:c}=t,u=new Date(t.check_in_date),f=new Date(t.check_out_date),h=bt(u,"EEE, MMM d, yyyy"),p=bt(f,"EEE, MMM d, yyyy"),m=Math.round((f.getTime()-u.getTime())/(1e3*60*60*24)),g=c.stay_images||[],v=g.find(w=>w.is_primary)||g[0],b=(v==null?void 0:v.image_path)||"/images/placeholder-stay.jpg",y=(w=>w.startsWith("http")?w:w.startsWith("stay-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${w}`:w)(b);return l.jsx(Lt,{children:l.jsx("div",{className:"container max-w-3xl mx-auto px-4 py-12",children:l.jsxs(Ve,{className:"p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Booking Confirmation"}),l.jsx(yn,{variant:t.status==="confirmed"?"default":"destructive",children:t.status==="confirmed"?"Confirmed":"Cancelled"})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-1",children:c.title}),l.jsxs("p",{className:"text-muted-foreground",children:[c.location_name," • ",c.property_type]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[l.jsx("div",{children:l.jsx("img",{src:y,alt:c.title,className:"w-full h-48 object-cover rounded-md"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:"Your stay details"}),l.jsxs("p",{children:[m," ",m===1?"night":"nights"," • ",t.guest_count," ",t.guest_count===1?"guest":"guests"]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm text-muted-foreground",children:"Check-in"}),l.jsx("p",{children:h})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm text-muted-foreground",children:"Check-out"}),l.jsx("p",{children:p})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm text-muted-foreground",children:"Booked on"}),l.jsx("p",{children:bt(new Date(t.created_at),"MMM d, yyyy")})]})]})]}),l.jsx(Tr,{className:"my-6"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Price Breakdown"}),l.jsxs("div",{className:"flex justify-between mb-4",children:[l.jsxs("p",{children:["$",c.price_per_night," × ",m," nights"]}),l.jsxs("p",{children:["$",c.price_per_night*m]})]}),l.jsx(Tr,{className:"my-4"}),l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("p",{children:"Total"}),l.jsxs("p",{children:["$",t.total_price]})]})]}),l.jsxs("div",{className:"flex gap-4 justify-end mt-8",children:[l.jsx(ee,{variant:"outline",asChild:!0,children:l.jsx(tt,{to:"/bookings",children:"View All Bookings"})}),t.status==="confirmed"&&l.jsx(ee,{variant:"destructive",onClick:a,children:"Cancel Booking"})]})]})})})},mre=()=>{const{isAuthenticated:e}=Dt(),[t,r]=d.useState([]),[n,s]=d.useState(!0),[o,i]=d.useState("");d.useEffect(()=>{(async()=>{if(e)try{s(!0);const h=await Ec.getUserBookings();r(h)}catch(h){console.error("Error fetching bookings:",h),i("Unable to load your bookings. Please try again later.")}finally{s(!1)}})()},[e]);const a=f=>{if(!f||!f.stay_images||f.stay_images.length===0)return"/images/placeholder-stay.jpg";const p=(f.stay_images.find(m=>m.is_primary)||f.stay_images[0]).image_path||"/images/placeholder-stay.jpg";return p.startsWith("http")?p:p.startsWith("stay-images/")?`https://bbrgntyiwuniovyoryta.supabase.co/storage/v1/object/public/${p}`:p},c=f=>bt(new Date(f),"MMM d, yyyy"),u=f=>{switch(f){case"confirmed":return"default";case"cancelled":return"destructive";default:return"secondary"}};return n?l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-12",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Your Bookings"}),l.jsx("div",{className:"space-y-6",children:[1,2,3].map((f,h)=>l.jsx(Ve,{className:"w-full h-48 flex items-center justify-center",children:l.jsx(Ze,{className:"h-8 w-8 animate-spin text-primary"})},h))})]})}):o?l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-12",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Your Bookings"}),l.jsx(ms,{variant:"destructive",children:l.jsx(gs,{children:o})})]})}):t.length===0?l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-12",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Your Bookings"}),l.jsxs(Ve,{className:"p-12 text-center",children:[l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"You don't have any bookings yet"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"When you book a stay, it will appear here."}),l.jsx(ee,{asChild:!0,children:l.jsx(tt,{to:"/",children:"Explore Stays"})})]})]})}):l.jsx(Lt,{children:l.jsxs("div",{className:"container mx-auto px-4 py-12",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Your Bookings"}),l.jsx("div",{className:"space-y-6",children:t.map(f=>{const{stay:h}=f,p=new Date(f.check_in_date),m=new Date(f.check_out_date),g=Math.round((m.getTime()-p.getTime())/(1e3*60*60*24));return l.jsx(Ve,{className:"p-0 overflow-hidden",children:l.jsxs("div",{className:"flex flex-col md:flex-row",children:[l.jsx("div",{className:"md:w-1/3 h-48 md:h-auto",children:l.jsx("img",{src:a(h),alt:h.title,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold",children:h.title}),l.jsxs("p",{className:"text-muted-foreground text-sm",children:[h.property_type," in ",h.location_name]})]}),l.jsx(yn,{variant:u(f.status),children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})]}),l.jsx(Tr,{className:"my-4"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(P1,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Check-in"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:c(f.check_in_date)})]})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(P1,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Check-out"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:c(f.check_out_date)})]})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Ru,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Guests"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:f.guest_count})]})]})]}),l.jsxs("div",{className:"mt-auto flex justify-between items-center",children:[l.jsx("div",{children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:[g," ",g===1?"night":"nights"," • $",f.total_price]})}),l.jsx(ee,{variant:"outline",size:"sm",asChild:!0,children:l.jsx(tt,{to:`/bookings/${f.id}`,children:"View Details"})})]})]})]})},f.id)})})]})})},gre=({children:e})=>{const{user:t,loading:r}=Dt(),n=Mt();return d.useEffect(()=>{!r&&(!t||!t.is_host)&&n("/")},[t,r,n]),r?l.jsx("div",{children:"Loading..."}):t&&t.is_host?l.jsx(l.Fragment,{children:e}):null},vre=()=>{const{refreshUser:e,user:t,isAuthenticated:r}=Dt();return d.useEffect(()=>{const n=(t==null?void 0:t.lastProfileCheck)||0,s=Date.now(),o=5*60*1e3;!r||!t||s-n>o?(console.log("Refreshing user data on app startup"),setTimeout(()=>{e()},500)):console.log("Using cached user data on app startup")},[e,t,r]),null},yre=()=>l.jsx(g5,{children:l.jsxs(tZ,{children:[l.jsxs(v$,{children:[l.jsx(vre,{}),l.jsxs(c$,{children:[l.jsx(ut,{path:"/",element:l.jsx(KV,{})}),l.jsx(ut,{path:"/food",element:l.jsx(P9,{})}),l.jsx(ut,{path:"/foods/:id",element:l.jsx(TC,{})}),l.jsx(ut,{path:"/food/:id",element:l.jsx(TC,{})}),l.jsx(ut,{path:"/stays",element:l.jsx(nJ,{})}),l.jsx(ut,{path:"/stays/:id",element:l.jsx(hJ,{})}),l.jsx(ut,{path:"/become-host",element:l.jsx(pJ,{})}),l.jsx(ut,{path:"/login",element:l.jsx(zte,{})}),l.jsx(ut,{path:"/signup",element:l.jsx(Kte,{})}),l.jsx(ut,{path:"/forgot-password",element:l.jsx(Xte,{})}),l.jsx(ut,{path:"/reset-password",element:l.jsx(Qte,{})}),l.jsx(ut,{path:"/auth/callback",element:l.jsx(ere,{})}),l.jsx(ut,{path:"/terms",element:l.jsx(tre,{})}),l.jsx(ut,{path:"/privacy",element:l.jsx(rre,{})}),l.jsx(ut,{path:"/help",element:l.jsx(nre,{})}),l.jsx(ut,{path:"/safety",element:l.jsx(sre,{})}),l.jsx(ut,{path:"/bookings",element:l.jsx(Cn,{children:l.jsx(mre,{})})}),l.jsx(ut,{path:"/bookings/:bookingId",element:l.jsx(Cn,{children:l.jsx(pre,{})})}),l.jsx(ut,{path:"/host/dashboard",element:l.jsx(Cn,{children:l.jsx(gre,{children:l.jsx(ire,{})})})}),l.jsx(ut,{path:"/host/food",element:l.jsx(Cn,{children:l.jsx(of,{})})}),l.jsx(ut,{path:"/host/food/:id",element:l.jsx(Cn,{children:l.jsx(of,{})})}),l.jsx(ut,{path:"/host/food/new",element:l.jsx(Cn,{children:l.jsx(of,{})})}),l.jsx(ut,{path:"/host/food/edit/:id",element:l.jsx(Cn,{children:l.jsx(of,{})})}),l.jsx(ut,{path:"/host/stay",element:l.jsx(Cn,{children:l.jsx(cv,{})})}),l.jsx(ut,{path:"/host/stay/:id",element:l.jsx(Cn,{children:l.jsx(cv,{})})}),l.jsx(ut,{path:"/host/stay/new",element:l.jsx(Cn,{children:l.jsx(cv,{})})}),l.jsx(ut,{path:"/profile",element:l.jsx(Cn,{children:l.jsx(hre,{})})})]})]}),l.jsx(p5,{position:"top-center"})]})});Nk(document.getElementById("root")).render(l.jsx(yre,{}));export{cx as g};
